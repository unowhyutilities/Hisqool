var lq=Object.defineProperty,cq=Object.defineProperties,uq=Object.getOwnPropertyDescriptors,X3=Object.getOwnPropertySymbols,dq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,J3=(te,O,g)=>O in te?lq(te,O,{enumerable:!0,configurable:!0,writable:!0,value:g}):te[O]=g,Ey=(te,O)=>{for(var g in O||(O={}))dq.call(O,g)&&J3(te,g,O[g]);if(X3)for(var g of X3(O))fq.call(O,g)&&J3(te,g,O[g]);return te},EE=(te,O)=>cq(te,uq(O));(self.webpackChunkhisqool=self.webpackChunkhisqool||[]).push([[179],{8113:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0})},1271:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0})},4779:(te,O,g)=>{"use strict";var i=g(7526).Buffer,F=g(3170).default;Object.defineProperty(O,"__esModule",{value:!0}),O.HiSqoolMqttClient=void 0;const B=g(3520),T=g(6182),E=g(1277),w=g(2829);class b{constructor(R,P){this.topic=R,this.subscriber=P,this.regex=function m(k){return new RegExp("^"+k.replace(/#/g,"[^/]+").replace(/\+$/,".*")+"$")}(R)}}O.HiSqoolMqttClient=class S{constructor(R="info"){this.subscribedTopics=new Map,this.subscribers=new Set,this.connectionSubject=new T.BehaviorSubject(!1),this.logger=new w.Logger("HiSqoolMqttClient",R)}get connectionObservable(){return this.connectionSubject.asObservable()}get subscribedTopicNames(){const R=this.subscribedTopics.keys();return Array.from(R)}connect(R,P){return this.logger.debug(`Connecting to ${R}`),this.client=(0,B.connect)(R,P),this.client?((0,T.fromEvent)(this.client,"connect",()=>this.client.connected).subscribe(this.connectionSubject),(0,T.fromEvent)(this.client,"disconnect",()=>this.client.connected).subscribe(this.connectionSubject),(0,T.fromEvent)(this.client,"end",()=>!1).subscribe(this.connectionSubject),this.client.on("message",(I,C)=>{const U=new E.MqttMessage(I,C);this.logger.debug(`received message on topic ${I}...`),this.subscribers.forEach($=>{$.regex.test(I)&&(this.logger.debug(`delivering message for subscription on topic ${$.topic}...`),$.subscriber.next(U))})}),this.client.on("offline",()=>{this.logger.debug("Offline")}),this.client.on("error",()=>{this.logger.debug("error")})):this.logger.warn("No client returned!"),this.connectionObservable}stop(){var R=this;return F(function*(){R.subscribedTopics.clear(),R.client&&(yield R.client.end(!0),R.client=void 0,R.connectionSubject.next(!1))})()}subscribeToTopic(R){var P=this;return new T.Observable(C=>{this.logger.debug(`Subscribing to topic ${R}...`);const U=new b(R,C);this.subscribers.add(U);const $=this.subscribedTopics.get(R)||0;0===$?(this.logger.debug(`First subscriber on topic ${R}...`),(0,T.defer)(()=>this.client.subscribe(R,{qos:0})).subscribe()):this.logger.debug(`Already ${$} subscribers on topic ${R}. No need to register...`),this.subscribedTopics.set(R,$+1),C.add(F(function*(){if(P.logger.debug(`unsubscribing to topic ${R}...`),P.subscribers.delete(U),(P.subscribedTopics.get(R)||0)-1<=0&&(P.logger.debug(`last subscriber on topic ${R}. Unsubscribing...`),P.subscribedTopics.delete(R),P.client))try{yield P.client.unsubscribe(R)}catch(z){P.logger.warn(`Error while unsubscring from ${R}: ${z}`)}}))})}publishToTopic(R,P,I){var C=this;return F(function*(){return yield C.client.publish(R,P,I)})()}publish(R,P){var I=this;return F(function*(){return yield I.client.publish(R,i.from([P]),{qos:1,retain:!0})})()}}},5167:function(te,O,g){"use strict";var i=this&&this.__createBinding||(Object.create?function(B,T,E,w){void 0===w&&(w=E);var m=Object.getOwnPropertyDescriptor(T,E);(!m||("get"in m?!T.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return T[E]}}),Object.defineProperty(B,w,m)}:function(B,T,E,w){void 0===w&&(w=E),B[w]=T[E]}),F=this&&this.__exportStar||function(B,T){for(var E in B)"default"!==E&&!Object.prototype.hasOwnProperty.call(T,E)&&i(T,B,E)};Object.defineProperty(O,"__esModule",{value:!0}),F(g(8113),O),F(g(1271),O),F(g(87),O),F(g(1277),O),F(g(2928),O)},87:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0})},1277:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.MqttMessage=void 0,O.MqttMessage=class g{constructor(F,B){this.topic=F,this.buffer=B}getRawValue(){return this.buffer}getValue(F="utf8"){return this.buffer.toString(F)}get stringValue(){return this.getValue()}get byteValue(){return this.buffer[0]}}},2910:(te,O)=>{"use strict";var i;Object.defineProperty(O,"__esModule",{value:!0}),O.MqttWillPayload=void 0,(i=O.MqttWillPayload||(O.MqttWillPayload={}))[i.DISCONNECTED=0]="DISCONNECTED",i[i.CONNECTED=1]="CONNECTED"},2928:(te,O,g)=>{"use strict";var i=g(7526).Buffer,F=g(3170).default;Object.defineProperty(O,"__esModule",{value:!0}),O.MqttService=void 0;const B=g(6182),T=g(272),E=g(4779),w=g(2910),m=g(2829);O.MqttService=class b{constructor(k){this.configurationProvider=k,this.mqttServiceKey="mqtt",this.logger=new m.Logger("MqttService"),this.isConnectedToMqtt=!1;const R=k.getLogLevel()||"info";this.mqttClient=new E.HiSqoolMqttClient(R),this.logger=new m.Logger("MqttService",R),this.mqttConnectionSubject=new B.BehaviorSubject(!1),this.connectionSubscription=this.mqttClient.connectionObservable.subscribe(this.handleConnectionChange.bind(this))}get subscribedTopics(){return this.mqttClient.subscribedTopicNames}get mqttConnectionObservable(){return this.mqttConnectionSubject.asObservable()}get connectionTopic(){return`${this.mqttConfiguration.topic}connected/${this.deviceId}`}get deviceId(){return this.configurationProvider.getClientId()}get mqttOptions(){return{clientId:this.deviceId,username:this.mqttConfiguration.username,password:this.mqttConfiguration.password,keepalive:this.mqttConfiguration.keepAlive,resubscribe:!0,clean:!0,will:{qos:0,retain:!0,payload:i.from([w.MqttWillPayload.DISCONNECTED]).toString("utf8"),topic:this.connectionTopic}}}get mqttConfiguration(){return this.configurationProvider.getConfiguration()}onDestroy(){var k=this;return F(function*(){yield k.stop(),k.connectionSubscription&&(k.connectionSubscription.unsubscribe(),k.connectionSubscription=null)})()}publishToTopic(k,R,P){var I=this;return F(function*(){I.logger.debug(`sending [${R}] -> ${k}`);const C=(yield I.mqttClient.publishToTopic(k,R,P))||!0;return I.logger.debug(`result of sending [${R}] -> ${k} = ${C}`),C})()}topicObservable(k){return this.mqttClient.subscribeToTopic(k).pipe((0,T.filter)(Boolean),(0,T.tap)(R=>this.logger.debug(`relaying message ${R}`)))}handleConnectionChange(k){this.isConnectedToMqtt=k,this.logger.debug(`Connected to mqtt = ${k}`),(k?this.mqttClient.publish(this.connectionTopic,w.MqttWillPayload.CONNECTED):Promise.resolve(!1)).then(()=>this.mqttConnectionSubject.next(k)).catch(P=>{this.logger.warn("Connected but connected message sending failed"),this.mqttConnectionSubject.next(k)})}start(){return this.mqttClient.connect(this.mqttConfiguration.endPoint,this.mqttOptions)}stop(){var k=this;return F(function*(){k.logger.debug("Disconnecting from MQTT..."),yield k.mqttClient.stop()})()}}},2829:function(te,O,g){"use strict";var i=this&&this.__createBinding||(Object.create?function(w,m,b,S){void 0===S&&(S=b);var k=Object.getOwnPropertyDescriptor(m,b);(!k||("get"in k?!m.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(w,S,k)}:function(w,m,b,S){void 0===S&&(S=b),w[S]=m[b]}),F=this&&this.__setModuleDefault||(Object.create?function(w,m){Object.defineProperty(w,"default",{enumerable:!0,value:m})}:function(w,m){w.default=m}),B=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var m={};if(null!=w)for(var b in w)"default"!==b&&Object.prototype.hasOwnProperty.call(w,b)&&i(m,w,b);return F(m,w),m};Object.defineProperty(O,"__esModule",{value:!0}),O.Logger=void 0;const T=B(g(3730));O.Logger=class E{constructor(m,b="info",S){this._logger=this.createLogger(m,b,S)}log(m,...b){this._logger.log("info",m,b)}debug(m,...b){this._logger.debug(m,b)}info(m,...b){this._logger.info(m,b)}warn(m,...b){this._logger.warn(m,b)}error(m,...b){this._logger.error(m,b)}createLogger(m,b,S){const k=T.format.printf(({level:P,message:I,label:C,timestamp:U})=>`${U} [${C}] ${P}: ${I}`),R={level:b,format:T.format.combine(T.format.label({label:m}),T.format.timestamp(),k),transports:S||[new T.transports.Console]};return T.createLogger(R)}}},2431:(te,O,g)=>{"use strict";var i=g(3198);let F=null;function B(){return F}const m=new i.OlP("DocumentToken");let b=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return function S(){return(0,i.LFG)(R)}()},providedIn:"platform"}),n})();const k=new i.OlP("Location Initialized");let R=(()=>{class n extends b{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){P()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){P()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function I(){return new R((0,i.LFG)(m))}()},providedIn:"platform"}),n})();function P(){return!!window.history.pushState}function C(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function U(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function $(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(ae)},providedIn:"root"}),n})();const z=new i.OlP("appBaseHref");let ae=(()=>{class n extends K{constructor(e,r){var o,s,a;super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=null!==(a=null!==(o=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==o?o:null===(s=(0,i.f3M)(m).location)||void 0===s?void 0:s.origin)&&void 0!==a?a:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return C(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+$(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,s){const a=this.prepareExternalUrl(o+$(s));this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,s){const a=this.prepareExternalUrl(o+$(s));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(b),i.LFG(z,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pe=(()=>{class n extends K{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=C(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,s){let a=this.prepareExternalUrl(o+$(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,s){let a=this.prepareExternalUrl(o+$(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(b),i.LFG(z,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ue=(()=>{class n{constructor(e){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=U(De(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+$(r))}normalize(e){return n.stripTrailingSlash(function Y(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,De(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(o=(r=this._locationStrategy).historyGo)||void 0===o||o.call(r,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=$,n.joinWithSlash=C,n.stripTrailingSlash=U,n.\u0275fac=function(e){return new(e||n)(i.LFG(K))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function fe(){return new ue((0,i.LFG)(K))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}var et=(()=>((et=et||{})[et.Format=0]="Format",et[et.Standalone=1]="Standalone",et))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),ne=(()=>((ne=ne||{})[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne))(),ve=(()=>((ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Group=1]="Group",ve[ve.List=2]="List",ve[ve.PercentSign=3]="PercentSign",ve[ve.PlusSign=4]="PlusSign",ve[ve.MinusSign=5]="MinusSign",ve[ve.Exponential=6]="Exponential",ve[ve.SuperscriptingExponent=7]="SuperscriptingExponent",ve[ve.PerMille=8]="PerMille",ve[ve.Infinity=9]="Infinity",ve[ve.NaN=10]="NaN",ve[ve.TimeSeparator=11]="TimeSeparator",ve[ve.CurrencyDecimal=12]="CurrencyDecimal",ve[ve.CurrencyGroup=13]="CurrencyGroup",ve))();function tt(n,t){return re((0,i.cg1)(n)[i.wAp.DateFormat],t)}function qe(n,t){return re((0,i.cg1)(n)[i.wAp.TimeFormat],t)}function Qe(n,t){return re((0,i.cg1)(n)[i.wAp.DateTimeFormat],t)}function We(n,t){const e=(0,i.cg1)(n),r=e[i.wAp.NumberSymbols][t];if(void 0===r){if(t===ve.CurrencyDecimal)return e[i.wAp.NumberSymbols][ve.Decimal];if(t===ve.CurrencyGroup)return e[i.wAp.NumberSymbols][ve.Group]}return r}function Fe(n){if(!n[i.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[i.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function re(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function xe(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const xn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ct={},It=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),Gt=(()=>((Gt=Gt||{})[Gt.FullYear=0]="FullYear",Gt[Gt.Month=1]="Month",Gt[Gt.Date=2]="Date",Gt[Gt.Hours=3]="Hours",Gt[Gt.Minutes=4]="Minutes",Gt[Gt.Seconds=5]="Seconds",Gt[Gt.FractionalSeconds=6]="FractionalSeconds",Gt[Gt.Day=7]="Day",Gt))(),Wt=(()=>((Wt=Wt||{})[Wt.DayPeriods=0]="DayPeriods",Wt[Wt.Days=1]="Days",Wt[Wt.Months=2]="Months",Wt[Wt.Eras=3]="Eras",Wt))();function un(n,t,e,r){let o=function Wn(n){if(rr(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,s=1,a=1]=n.split("-").map(u=>+u);return Cn(o,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(xn))return function $n(n){const t=new Date(0);let e=0,r=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-r,h=Number(n[6]||0),x=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,u,h,x),t}(r)}const t=new Date(n);if(!rr(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Fn(e,t)||t;let u,a=[];for(;t;){if(u=It.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const M=a.pop();if(!M)break;t=M}}let h=o.getTimezoneOffset();r&&(h=Jt(r,h),o=function pn(n,t,e){const r=e?-1:1,o=n.getTimezoneOffset();return function hn(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(Jt(t,o)-o))}(o,r,!0));let x="";return a.forEach(M=>{const L=function vn(n){if(Dt[n])return Dt[n];let t;switch(n){case"G":case"GG":case"GGG":t=Bt(Wt.Eras,de.Abbreviated);break;case"GGGG":t=Bt(Wt.Eras,de.Wide);break;case"GGGGG":t=Bt(Wt.Eras,de.Narrow);break;case"y":t=cn(Gt.FullYear,1,0,!1,!0);break;case"yy":t=cn(Gt.FullYear,2,0,!0,!0);break;case"yyy":t=cn(Gt.FullYear,3,0,!1,!0);break;case"yyyy":t=cn(Gt.FullYear,4,0,!1,!0);break;case"Y":t=ct(1);break;case"YY":t=ct(2,!0);break;case"YYY":t=ct(3);break;case"YYYY":t=ct(4);break;case"M":case"L":t=cn(Gt.Month,1,1);break;case"MM":case"LL":t=cn(Gt.Month,2,1);break;case"MMM":t=Bt(Wt.Months,de.Abbreviated);break;case"MMMM":t=Bt(Wt.Months,de.Wide);break;case"MMMMM":t=Bt(Wt.Months,de.Narrow);break;case"LLL":t=Bt(Wt.Months,de.Abbreviated,et.Standalone);break;case"LLLL":t=Bt(Wt.Months,de.Wide,et.Standalone);break;case"LLLLL":t=Bt(Wt.Months,de.Narrow,et.Standalone);break;case"w":t=Pe(1);break;case"ww":t=Pe(2);break;case"W":t=Pe(1,!0);break;case"d":t=cn(Gt.Date,1);break;case"dd":t=cn(Gt.Date,2);break;case"c":case"cc":t=cn(Gt.Day,1);break;case"ccc":t=Bt(Wt.Days,de.Abbreviated,et.Standalone);break;case"cccc":t=Bt(Wt.Days,de.Wide,et.Standalone);break;case"ccccc":t=Bt(Wt.Days,de.Narrow,et.Standalone);break;case"cccccc":t=Bt(Wt.Days,de.Short,et.Standalone);break;case"E":case"EE":case"EEE":t=Bt(Wt.Days,de.Abbreviated);break;case"EEEE":t=Bt(Wt.Days,de.Wide);break;case"EEEEE":t=Bt(Wt.Days,de.Narrow);break;case"EEEEEE":t=Bt(Wt.Days,de.Short);break;case"a":case"aa":case"aaa":t=Bt(Wt.DayPeriods,de.Abbreviated);break;case"aaaa":t=Bt(Wt.DayPeriods,de.Wide);break;case"aaaaa":t=Bt(Wt.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":t=Bt(Wt.DayPeriods,de.Abbreviated,et.Standalone,!0);break;case"bbbb":t=Bt(Wt.DayPeriods,de.Wide,et.Standalone,!0);break;case"bbbbb":t=Bt(Wt.DayPeriods,de.Narrow,et.Standalone,!0);break;case"B":case"BB":case"BBB":t=Bt(Wt.DayPeriods,de.Abbreviated,et.Format,!0);break;case"BBBB":t=Bt(Wt.DayPeriods,de.Wide,et.Format,!0);break;case"BBBBB":t=Bt(Wt.DayPeriods,de.Narrow,et.Format,!0);break;case"h":t=cn(Gt.Hours,1,-12);break;case"hh":t=cn(Gt.Hours,2,-12);break;case"H":t=cn(Gt.Hours,1);break;case"HH":t=cn(Gt.Hours,2);break;case"m":t=cn(Gt.Minutes,1);break;case"mm":t=cn(Gt.Minutes,2);break;case"s":t=cn(Gt.Seconds,1);break;case"ss":t=cn(Gt.Seconds,2);break;case"S":t=cn(Gt.FractionalSeconds,1);break;case"SS":t=cn(Gt.FractionalSeconds,2);break;case"SSS":t=cn(Gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=nn(qt.Short);break;case"ZZZZZ":t=nn(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=nn(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=nn(qt.Long);break;default:return null}return Dt[n]=t,t}(M);x+=L?L(o,e,h):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function Cn(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Fn(n,t){const e=function ke(n){return(0,i.cg1)(n)[i.wAp.LocaleId]}(n);if(Ct[e]=Ct[e]||{},Ct[e][t])return Ct[e][t];let r="";switch(t){case"shortDate":r=tt(n,ne.Short);break;case"mediumDate":r=tt(n,ne.Medium);break;case"longDate":r=tt(n,ne.Long);break;case"fullDate":r=tt(n,ne.Full);break;case"shortTime":r=qe(n,ne.Short);break;case"mediumTime":r=qe(n,ne.Medium);break;case"longTime":r=qe(n,ne.Long);break;case"fullTime":r=qe(n,ne.Full);break;case"short":const o=Fn(n,"shortTime"),s=Fn(n,"shortDate");r=Ye(Qe(n,ne.Short),[o,s]);break;case"medium":const a=Fn(n,"mediumTime"),u=Fn(n,"mediumDate");r=Ye(Qe(n,ne.Medium),[a,u]);break;case"long":const h=Fn(n,"longTime"),x=Fn(n,"longDate");r=Ye(Qe(n,ne.Long),[h,x]);break;case"full":const M=Fn(n,"fullTime"),L=Fn(n,"fullDate");r=Ye(Qe(n,ne.Full),[M,L])}return r&&(Ct[e][t]=r),r}function Ye(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Nt(n,t,e="-",r,o){let s="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),s+a}function cn(n,t,e=0,r=!1,o=!1){return function(s,a){let u=function Tt(n,t){switch(n){case Gt.FullYear:return t.getFullYear();case Gt.Month:return t.getMonth();case Gt.Date:return t.getDate();case Gt.Hours:return t.getHours();case Gt.Minutes:return t.getMinutes();case Gt.Seconds:return t.getSeconds();case Gt.FractionalSeconds:return t.getMilliseconds();case Gt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||u>-e)&&(u+=e),n===Gt.Hours)0===u&&-12===e&&(u=12);else if(n===Gt.FractionalSeconds)return function on(n,t){return Nt(n,3).substring(0,t)}(u,t);const h=We(a,ve.MinusSign);return Nt(u,t,h,r,o)}}function Bt(n,t,e=et.Format,r=!1){return function(o,s){return function He(n,t,e,r,o,s){switch(e){case Wt.Months:return function Te(n,t,e){const r=(0,i.cg1)(n),s=re([r[i.wAp.MonthsFormat],r[i.wAp.MonthsStandalone]],t);return re(s,e)}(t,o,r)[n.getMonth()];case Wt.Days:return function Ne(n,t,e){const r=(0,i.cg1)(n),s=re([r[i.wAp.DaysFormat],r[i.wAp.DaysStandalone]],t);return re(s,e)}(t,o,r)[n.getDay()];case Wt.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(s){const x=function Ge(n){const t=(0,i.cg1)(n);return Fe(t),(t[i.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?xe(r):[xe(r[0]),xe(r[1])])}(t),M=function be(n,t,e){const r=(0,i.cg1)(n);Fe(r);const s=re([r[i.wAp.ExtraData][0],r[i.wAp.ExtraData][1]],t)||[];return re(s,e)||[]}(t,o,r),L=x.findIndex(W=>{if(Array.isArray(W)){const[q,ye]=W,Le=a>=q.hours&&u>=q.minutes,rt=a<ye.hours||a===ye.hours&&u<ye.minutes;if(q.hours<ye.hours){if(Le&&rt)return!0}else if(Le||rt)return!0}else if(W.hours===a&&W.minutes===u)return!0;return!1});if(-1!==L)return M[L]}return function Ie(n,t,e){const r=(0,i.cg1)(n),s=re([r[i.wAp.DayPeriodsFormat],r[i.wAp.DayPeriodsStandalone]],t);return re(s,e)}(t,o,r)[a<12?0:1];case Wt.Eras:return function ze(n,t){return re((0,i.cg1)(n)[i.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,s,n,t,e,r)}}function nn(n){return function(t,e,r){const o=-1*r,s=We(e,ve.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case qt.Short:return(o>=0?"+":"")+Nt(a,2,s)+Nt(Math.abs(o%60),2,s);case qt.ShortGMT:return"GMT"+(o>=0?"+":"")+Nt(a,1,s);case qt.Long:return"GMT"+(o>=0?"+":"")+Nt(a,2,s)+":"+Nt(Math.abs(o%60),2,s);case qt.Extended:return 0===r?"Z":(o>=0?"+":"")+Nt(a,2,s)+":"+Nt(Math.abs(o%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function wt(n){return Cn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Pe(n,t=!1){return function(e,r){let o;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();o=1+Math.floor((a+s)/7)}else{const s=wt(e),a=function yt(n){const t=Cn(n,0,1).getDay();return Cn(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),u=s.getTime()-a.getTime();o=1+Math.round(u/6048e5)}return Nt(o,n,We(r,ve.MinusSign))}}function ct(n,t=!1){return function(e,r){return Nt(wt(e).getFullYear(),n,We(r,ve.MinusSign),t)}}const Dt={};function Jt(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function rr(n){return n instanceof Date&&!isNaN(n.valueOf())}function rl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}let Jr=(()=>{class n{constructor(e,r,o,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class _o{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,s,a)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new _o(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const u=r.get(s);r.move(u,a),ro(u,o)}});for(let o=0,s=r.length;o<s;o++){const u=r.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{ro(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ro(n,t){n.context.$implicit=t.item}let Rr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new yc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ar("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ar("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yc{constructor(){this.$implicit=null,this.ngIf=null}}function Ar(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(t)}'.`)}class Zi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Fo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),cs=(()=>{class n{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new Zi(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(Fo,9))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ws=(()=>{class n{constructor(e,r,o){o._addDefault(new Zi(e,r))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(Fo,9))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Rt=(()=>{class n{constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[o,s]=e.split("."),a=-1===o.indexOf("-")?void 0:i.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function ln(n,t){return new i.vHH(2100,!1)}class yr{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class di{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const Dr=new di,yo=new yr;let br=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,i.QGY)(e))return Dr;if((0,i.F4k)(e))return yo;throw ln()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.sBO,16))},n.\u0275pipe=i.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Eo=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ln();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const io=new i.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Pd=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",o,s){var a;if(null==e||""===e||e!=e)return null;try{return un(e,r,s||this.locale,null!==(a=null!=o?o:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(u){throw ln()}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.soG,16),i.Y36(io,24))},n.\u0275pipe=i.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const Fl="browser";function da(n){return n===Fl}function Gs(n){return"server"===n}let Nd=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new lu((0,i.LFG)(m),window)}),n})();class lu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Xn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const s=o.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fa(this.window.history)||fa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kl{}class pa extends class sl extends class w{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function E(n){F||(F=n)}(new pa)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hu(){return ga=ga||document.querySelector("base"),ga?ga.getAttribute("href"):null}();return null==e?null:function Ws(n){Pi=Pi||document.createElement("a"),Pi.setAttribute("href",n);const t=Pi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rl(document.cookie,t)}}let Pi,ga=null;const ti=new i.OlP("TRANSITION_ID"),Gh=[{provide:i.ip1,useFactory:function Sc(n,t,e){return()=>{e.get(i.CZH).donePromise.then(()=>{const r=B(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<o.length;s++)r.remove(o[s])})}},deps:[ti,m,i.zs3],multi:!0}];let zh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Nl=new i.OlP("EventManagerPlugins");let al=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let s=0;s<o.length;s++){const a=o[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Nl),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ac{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=B().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let Dc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ma=(()=>{class n extends Dc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,o.push(r.appendChild(a))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Bl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Bl))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Bl(n){B().remove(n)}const Ul={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gd=/%COMP%/g;function Tc(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Tc(n,o,e):(o=o.replace(Gd,n),e.push(o))}return e}function Zh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Kt=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new fr(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new zd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case i.ifc.ShadowDom:return new qh(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Tc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(al),i.LFG(ma),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class fr{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ul[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Hl(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Hl(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const s=Ul[o];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Ul[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,r,o&i.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zh(r)):this.eventManager.addEventListener(t,e,Zh(r))}}function Hl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zd extends fr{constructor(t,e,r,o){super(t),this.component=r;const s=Tc(o+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function jl(n){return"_ngcontent-%COMP%".replace(Gd,n)}(o+"-"+r.id),this.hostAttr=function vu(n){return"_nghost-%COMP%".replace(Gd,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class qh extends fr{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Tc(o.id,o.styles,[]);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Mc=(()=>{class n extends Ac{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Zd=["alt","control","meta","shift"],Hn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let f=(()=>{class n extends Ac{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=n._normalizeKey(r.pop());let a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),Zd.forEach(x=>{const M=r.indexOf(x);M>-1&&(r.splice(M,1),a+=x+".")}),a+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=o,h.fullKey=a,h}static matchEventFullKeyCode(e,r){let o=Hn[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Zd.forEach(a=>{a!==o&&(0,Wd[a])(e)&&(s+=a+".")}),s+=o,s===r)}static eventCallback(e,r,o){return s=>{n.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Se=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:Fl},{provide:i.g9A,useValue:function G(){pa.makeCurrent()},multi:!0},{provide:m,useFactory:function ie(){return(0,i.RDi)(document),document},deps:[]}]),Ce=new i.OlP(""),J=[{provide:i.rWj,useClass:class pu{addToWindow(t){i.dqk.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new Error("Could not find testability for element.");return s},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const o=i.dqk.getAllAngularTestabilities();let s=o.length,a=!1;const u=function(h){a=a||h,s--,0==s&&r(a)};o.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],X=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function Z(){return new i.qLn},deps:[]},{provide:Nl,useClass:Mc,multi:!0,deps:[m,i.R0b,i.Lbi]},{provide:Nl,useClass:f,multi:!0,deps:[m]},{provide:Kt,useClass:Kt,deps:[al,ma,i.AFp]},{provide:i.FYo,useExisting:Kt},{provide:Dc,useExisting:ma},{provide:ma,useClass:ma,deps:[m]},{provide:al,useClass:al,deps:[Nl,i.R0b]},{provide:kl,useClass:zh,deps:[]},[]];let _e=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:i.AFp,useValue:e.appId},{provide:ti,useExisting:i.AFp},Gh]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ce,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...X,...J],imports:[Yr,i.hGG]}),n})(),Je=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Be(){return new Je((0,i.LFG)(m))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let lr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):i.LFG(fi),r},providedIn:"root"}),n})(),fi=(()=>{class n extends lr{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case i.q3G.NONE:return r;case i.q3G.HTML:return(0,i.qzn)(r,"HTML")?(0,i.z3N)(r):(0,i.EiD)(this._doc,String(r)).toString();case i.q3G.STYLE:return(0,i.qzn)(r,"Style")?(0,i.z3N)(r):r;case i.q3G.SCRIPT:if((0,i.qzn)(r,"Script"))return(0,i.z3N)(r);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.qzn)(r,"URL")?(0,i.z3N)(r):(0,i.mCW)(String(r));case i.q3G.RESOURCE_URL:if((0,i.qzn)(r,"ResourceURL"))return(0,i.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function qi(n){return new fi(n.get(m))}(i.LFG(i.zs3)),r},providedIn:"root"}),n})();var Qt=g(8774),cr=g(7205),Fi=g(8201),Tn=g(1763),en=g(9745);class $s{}class hs{}class Fr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),s=o.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $d{encodeKey(t){return Ma(t)}encodeValue(t){return Ma(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const qs=/%(\d[a-f0-9])/gi,Br={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ma(n){return encodeURIComponent(n).replace(qs,(t,e)=>{var r;return null!==(r=Br[e])&&void 0!==r?r:t})}function qd(n){return`${n}`}class _i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $d,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function si(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[a,u]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],o=Array.isArray(r)?r.map(qd):[qd(r)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(qd(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class yu{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Lm(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Sy(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Ay(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Oc{constructor(t,e,r,o){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dT(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Fr),this.context||(this.context=new yu),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new _i,this.urlWithParams=e}serializeBody(){return null===this.body?null:Lm(this.body)||Sy(this.body)||Ay(this.body)||function CE(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _i?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ay(this.body)?null:Sy(this.body)?this.body.type||null:Lm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _i?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,o=t.url||this.url,s=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let x=t.headers||this.headers,M=t.params||this.params;const L=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(x=Object.keys(t.setHeaders).reduce((W,q)=>W.set(q,t.setHeaders[q]),x)),t.setParams&&(M=Object.keys(t.setParams).reduce((W,q)=>W.set(q,t.setParams[q]),M)),new Oc(r,o,a,{params:M,headers:x,context:L,reportProgress:h,responseType:s,withCredentials:u})}}var kr=(()=>((kr=kr||{})[kr.Sent=0]="Sent",kr[kr.UploadProgress=1]="UploadProgress",kr[kr.ResponseHeader=2]="ResponseHeader",kr[kr.DownloadProgress=3]="DownloadProgress",kr[kr.Response=4]="Response",kr[kr.User=5]="User",kr))();class Nm{constructor(t,e=200,r="OK"){this.headers=t.headers||new Fr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Yd extends Nm{constructor(t={}){super(t),this.type=kr.ResponseHeader}clone(t={}){return new Yd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ic extends Nm{constructor(t={}){super(t),this.type=kr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ic({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class SE extends Nm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Rc(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ss=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let s;if(e instanceof Oc)s=e;else{let h,x;h=o.headers instanceof Fr?o.headers:new Fr(o.headers),o.params&&(x=o.params instanceof _i?o.params:new _i({fromObject:o.params})),s=new Oc(e,r,void 0!==o.body?o.body:null,{headers:h,context:o.context,params:x,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=(0,Qt.of)(s).pipe((0,Fi.b)(h=>this.handler.handle(h)));if(e instanceof Oc||"events"===o.observe)return a;const u=a.pipe((0,Tn.h)(h=>h instanceof Ic));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,en.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,en.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,en.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,en.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new _i).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Rc(o,r))}post(e,r,o={}){return this.request("POST",e,Rc(o,r))}put(e,r,o={}){return this.request("PUT",e,Rc(o,r))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG($s))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Kd{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Yh=new i.OlP("HTTP_INTERCEPTORS");let AE=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Xd=/^\)\]\}',?\n/;let Ty=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new cr.y(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((q,ye)=>o.setRequestHeader(q,ye.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const q=e.detectContentTypeHeader();null!==q&&o.setRequestHeader("Content-Type",q)}if(e.responseType){const q=e.responseType.toLowerCase();o.responseType="json"!==q?q:"text"}const s=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const q=o.statusText||"OK",ye=new Fr(o.getAllResponseHeaders()),Le=function OE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return a=new Yd({headers:ye,status:o.status,statusText:q,url:Le}),a},h=()=>{let{headers:q,status:ye,statusText:Le,url:rt}=u(),it=null;204!==ye&&(it=void 0===o.response?o.responseText:o.response),0===ye&&(ye=it?200:0);let lt=ye>=200&&ye<300;if("json"===e.responseType&&"string"==typeof it){const Ot=it;it=it.replace(Xd,"");try{it=""!==it?JSON.parse(it):null}catch(Pt){it=Ot,lt&&(lt=!1,it={error:Pt,text:it})}}lt?(r.next(new Ic({body:it,headers:q,status:ye,statusText:Le,url:rt||void 0})),r.complete()):r.error(new SE({error:it,headers:q,status:ye,statusText:Le,url:rt||void 0}))},x=q=>{const{url:ye}=u(),Le=new SE({error:q,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ye||void 0});r.error(Le)};let M=!1;const L=q=>{M||(r.next(u()),M=!0);let ye={type:kr.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(ye.total=q.total),"text"===e.responseType&&!!o.responseText&&(ye.partialText=o.responseText),r.next(ye)},W=q=>{let ye={type:kr.UploadProgress,loaded:q.loaded};q.lengthComputable&&(ye.total=q.total),r.next(ye)};return o.addEventListener("load",h),o.addEventListener("error",x),o.addEventListener("timeout",x),o.addEventListener("abort",x),e.reportProgress&&(o.addEventListener("progress",L),null!==s&&o.upload&&o.upload.addEventListener("progress",W)),o.send(s),r.next({type:kr.Sent}),()=>{o.removeEventListener("error",x),o.removeEventListener("abort",x),o.removeEventListener("load",h),o.removeEventListener("timeout",x),e.reportProgress&&(o.removeEventListener("progress",L),null!==s&&o.upload&&o.upload.removeEventListener("progress",W)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(kl))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Bm=new i.OlP("XSRF_COOKIE_NAME"),bu=new i.OlP("XSRF_HEADER_NAME");class wu{}let Um=(()=>{class n{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m),i.LFG(i.Lbi),i.LFG(Bm))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Pc=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(wu),i.LFG(bu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),IE=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Yh,[]);this.chain=r.reduceRight((o,s)=>new Kd(o,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(hs),i.LFG(i.zs3))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Xh=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Pc,useClass:AE}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Bm,useValue:e.cookieName}:[],e.headerName?{provide:bu,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Pc,{provide:Yh,useExisting:Pc,multi:!0},{provide:wu,useClass:Um},{provide:Bm,useValue:"XSRF-TOKEN"},{provide:bu,useValue:"X-XSRF-TOKEN"}]}),n})(),Jh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Ss,{provide:$s,useClass:IE},Ty,{provide:hs,useExisting:Ty}],imports:[Xh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const hi=void 0,PE=["fr",[["AM","PM"],hi,hi],hi,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],hi,[["av. J.-C.","ap. J.-C."],hi,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",hi],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[hi,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[hi,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[hi,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[hi,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[hi,"\xa5"],KMF:[hi,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[hi,"$C"],NZD:["$NZ","$"],PHP:[hi,"\u20b1"],RHD:["$RH"],RON:[hi,"L"],RWF:[hi,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[hi,"$T"],TTD:["$TT","$"],TWD:[hi,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[hi,"$"],XPF:["FCFP"],ZMW:[hi,"Kw"]},"ltr",function Jd(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===e||1===e?1:0===o&&0!==e&&e%1e6==0&&0===r||!(o>=0&&o<=5)?4:5}];var ao=g(7070),ep=g(2481);let My=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),xu=(()=>{class n extends My{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const Ys=new i.OlP("NgValueAccessor"),tp={provide:Ys,useExisting:(0,i.Gpc)(()=>Oa),multi:!0},kE=new i.OlP("CompositionEventMode");let Oa=(()=>{class n extends My{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Iy(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(kE,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[i._Bn([tp]),i.qOj]}),n})();function cl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function LE(n){return null!=n&&"number"==typeof n.length}const Co=new i.OlP("NgValidators"),Vl=new i.OlP("NgAsyncValidators"),jm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class So{static min(t){return function NE(n){return t=>{if(cl(t.value)||cl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function np(n){return t=>{if(cl(t.value)||cl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function BE(n){return cl(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function UE(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function jE(n){return cl(n.value)||jm.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function HE(n){return t=>cl(t.value)||!LE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function VE(n){return t=>LE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return Ry(t)}static nullValidator(t){return null}static compose(t){return Fy(t)}static composeAsync(t){return Zm(t)}}function Ry(n){if(!n)return ef;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(cl(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function ef(n){return null}function rp(n){return null!=n}function Hm(n){return(0,i.QGY)(n)?(0,ao.D)(n):n}function Vm(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Gm(n,t){return t.map(e=>e(n))}function Py(n){return n.map(t=>function Ia(n){return!n.validate}(t)?t:e=>t.validate(e))}function Fy(n){if(!n)return null;const t=n.filter(rp);return 0==t.length?null:function(e){return Vm(Gm(e,t))}}function zm(n){return null!=n?Fy(Py(n)):null}function Zm(n){if(!n)return null;const t=n.filter(rp);return 0==t.length?null:function(e){const r=Gm(e,t).map(Hm);return(0,ep.D)(r).pipe((0,en.U)(Vm))}}function tf(n){return null!=n?Zm(Py(n)):null}function ky(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ly(n){return n._rawValidators}function Ny(n){return n._rawAsyncValidators}function ip(n){return n?Array.isArray(n)?n:[n]:[]}function op(n,t){return Array.isArray(n)?n.includes(t):n===t}function By(n,t){const e=ip(t);return ip(n).forEach(o=>{op(e,o)||e.push(o)}),e}function Bo(n,t){return ip(t).filter(e=>!op(n,e))}class sp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=tf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class _a extends sp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ao extends sp{get formDirective(){return null}get path(){return null}}class Do{constructor(t){this._cd=t}get isTouched(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.touched)}get isUntouched(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.untouched)}get isPristine(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.pristine)}get isDirty(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.dirty)}get isValid(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.valid)}get isInvalid(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.invalid)}get isPending(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.pending)}get isSubmitted(){var t;return!(null===(t=this._cd)||void 0===t||!t.submitted)}}let Fc=(()=>{class n extends Do{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(_a,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})(),nf=(()=>{class n extends Do{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ao,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[i.qOj]}),n})();const dp="VALID",ul="INVALID",Gl="PENDING",Eu="DISABLED";function Ym(n){return(hp(n)?n.validators:n)||null}function fp(n){return Array.isArray(n)?zm(n):n||null}function Km(n,t){return(hp(t)?t.asyncValidators:n)||null}function zy(n){return Array.isArray(n)?tf(n):n||null}function hp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Zy(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[e])throw new i.vHH(1001,"")}function Wy(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new i.vHH(1002,"")})}class pp{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=fp(this._rawValidators),this._composedAsyncValidatorFn=zy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===dp}get invalid(){return this.status===ul}get pending(){return this.status==Gl}get disabled(){return this.status===Eu}get enabled(){return this.status!==Eu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=fp(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=zy(t)}addValidators(t){this.setValidators(By(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(By(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Bo(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Bo(t,this._rawAsyncValidators))}hasValidator(t){return op(this._rawValidators,t)}hasAsyncValidator(t){return op(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Gl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Eu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dp,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dp||this.status===Gl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eu:dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Gl,this._hasOwnPendingAsyncValidator=!0;const e=Hm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?Eu:this.errors?ul:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gl)?Gl:this._anyControlsHaveStatus(ul)?ul:dp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Cu extends pp{constructor(t,e,r){super(Ym(e),Km(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Wy(this,0,t),Object.keys(t).forEach(r=>{Zy(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,s)=>{r=e(r,o,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class gp extends Cu{}function mp(n,t){return[...t.path,n]}function Su(n,t){var e,r;vp(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(e=t.valueAccessor).setDisabledState)||void 0===r||r.call(e,!0)),function xT(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Yy(n,t)})}(n,t),function Ky(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function yp(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Yy(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function qy(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function sf(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),_p(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ra(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function vp(n,t){const e=Ly(n);null!==t.validator?n.setValidators(ky(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Ny(n);null!==t.asyncValidator?n.setAsyncValidators(ky(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Ra(t._rawValidators,o),Ra(t._rawAsyncValidators,o)}function _p(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=Ly(n);if(Array.isArray(o)&&o.length>0){const s=o.filter(a=>a!==t.validator);s.length!==o.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const o=Ny(n);if(Array.isArray(o)&&o.length>0){const s=o.filter(a=>a!==t.asyncValidator);s.length!==o.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Ra(t._rawValidators,r),Ra(t._rawAsyncValidators,r),e}function Yy(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qm(n,t){vp(n,t)}function bp(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function wp(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lf(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===Oa?e=s:function Jm(n){return Object.getPrototypeOf(n.constructor)===xu}(s)?r=s:o=s}),o||r||e||null}const e1={provide:Ao,useExisting:(0,i.Gpc)(()=>df)},uf=(()=>Promise.resolve())();let df=(()=>{class n extends Ao{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.vpe,this.form=new Cu({},zm(e),tf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){uf.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Su(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){uf.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){uf.then(()=>{const r=this._findContainer(e.path),o=new Cu({});Qm(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){uf.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){uf.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){var r;return this.submitted=!0,wp(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===(null===(r=null==e?void 0:e.target)||void 0===r?void 0:r.method)}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Co,10),i.Y36(Vl,10))},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([e1]),i.qOj]}),n})();function e0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function xp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dl=class extends pp{constructor(t=null,e,r){super(Ym(e),Km(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=xp(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){e0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){e0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){xp(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Uo=dl,Ep={provide:_a,useExisting:(0,i.Gpc)(()=>ff)},Cp=(()=>Promise.resolve())();let ff=(()=>{class n extends _a{constructor(e,r,o,s,a){super(),this._changeDetectorRef=a,this.control=new dl,this._registered=!1,this.update=new i.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=lf(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),bp(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Su(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Cp.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,i.D6c)(r);Cp.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?mp(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ao,9),i.Y36(Co,10),i.Y36(Vl,10),i.Y36(Ys,10),i.Y36(i.sBO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([Ep]),i.qOj,i.TTD]}),n})(),Au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),o1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const n0=new i.OlP("NgModelWithFormControlWarning"),KE={provide:_a,useExisting:(0,i.Gpc)(()=>Sp)};let Sp=(()=>{class n extends _a{constructor(e,r,o,s){super(),this._ngModelWarningConfig=s,this.update=new i.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=lf(0,o)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const r=e.form.previousValue;r&&sf(r,this,!1),Su(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}bp(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&sf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(i.Y36(Co,10),i.Y36(Vl,10),i.Y36(Ys,10),i.Y36(n0,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i._Bn([KE]),i.qOj,i.TTD]}),n})();const QE={provide:Ao,useExisting:(0,i.Gpc)(()=>hl)};let hl=(()=>{class n extends Ao{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Su(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){sf(e.control||null,e,!1),function cf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){var r;return this.submitted=!0,wp(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===(null===(r=null==e?void 0:e.target)||void 0===r?void 0:r.method)}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(sf(r||null,e),(n=>n instanceof dl)(o)&&(Su(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);Qm(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Qy(n,t){return _p(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vp(this.form,this),this._oldForm&&_p(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Co,10),i.Y36(Vl,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([QE]),i.qOj,i.TTD]}),n})();const eC={provide:_a,useExisting:(0,i.Gpc)(()=>Zl)};let Zl=(()=>{class n extends _a{constructor(e,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=lf(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),bp(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(i.Y36(Ao,13),i.Y36(Co,10),i.Y36(Vl,10),i.Y36(Ys,10),i.Y36(n0,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([eC]),i.qOj,i.TTD]}),n})(),Nc=(()=>{class n{constructor(){this._validator=ef}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ef,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const sC={provide:Co,useExisting:(0,i.Gpc)(()=>u0),multi:!0};let u0=(()=>{class n extends Nc{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>Ry(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[i._Bn([sC]),i.qOj]}),n})(),aC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[o1]}),n})(),Wl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[aC]}),n})(),Bc=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:n0,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[aC]}),n})();class d0 extends pp{constructor(t,e,r){super(Ym(e),Km(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Wy(this,0,t),t.forEach((r,o)=>{Zy(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){var e;return null!==(e=this.at(t))&&void 0!==e?e:null}}function p1(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let g1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let s={};return p1(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Cu(o,s)}record(e,r=null){const o=this._reduceControls(e);return new gp(o,r)}control(e,r,o){let s={};return this.useNonNullable?(p1(r)?s=r:(s.validators=r,s.asyncValidators=o),new dl(e,Object.assign(Object.assign({},s),{nonNullable:!0}))):new dl(e,r,o)}array(e,r,o){const s=e.map(a=>this._createControl(a));return new d0(s,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof dl||e instanceof pp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:Bc}),n})(),Tu=(()=>{class n extends g1{group(e,r=null){return super.group(e,r)}control(e,r,o){return super.control(e,r,o)}array(e,r,o){return super.array(e,r,o)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:Bc}),n})();class m1{}const Pa="*";function ts(n,t){return{type:7,name:n,definitions:t,options:{}}}function pi(n,t=null){return{type:4,styles:t,timings:n}}function v1(n,t=null){return{type:3,steps:n,options:t}}function Op(n,t=null){return{type:2,steps:n,options:t}}function gr(n){return{type:6,styles:n,offset:null}}function lo(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ip(n){return{type:5,steps:n}}function xi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Rp(n=null){return{type:9,options:n}}function h0(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function p0(n){Promise.resolve().then(n)}class Fa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){p0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class y1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const s=this.players.length;0==s?p0(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}var b1=g(1986);function Pp(n){return new i.vHH(3e3,!1)}function S1(){return"undefined"!=typeof window&&void 0!==window.document}function A1(){return void 0!==b1&&"[object process]"==={}.toString.call(b1)}function ml(n){switch(n.length){case 0:return new Fa;case 1:return n[0];default:return new y1(n)}}function TC(n,t,e,r,o=new Map,s=new Map){const a=[],u=[];let h=-1,x=null;if(r.forEach(M=>{const L=M.get("offset"),W=L==h,q=W&&x||new Map;M.forEach((ye,Le)=>{let rt=Le,it=ye;if("offset"!==Le)switch(rt=t.normalizePropertyName(rt,a),it){case"!":it=o.get(Le);break;case Pa:it=s.get(Le);break;default:it=t.normalizeStyleValue(Le,rt,it,a)}q.set(rt,it)}),W||u.push(q),x=q,h=L}),a.length)throw function bC(n){return new i.vHH(3502,!1)}();return u}function Fp(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&y0(e,"start",n)));break;case"done":n.onDone(()=>r(e&&y0(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&y0(e,"destroy",n)))}}function y0(n,t,e){const r=e.totalTime,s=kp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function kp(n,t,e,r,o="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:s,disabled:!!a}}function As(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function D1(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Ds=(n,t)=>!1,T1=(n,t,e)=>[],b0=null;function w0(n){const t=n.parentNode||n.host;return t===b0?null:t}(A1()||"undefined"!=typeof Element)&&(S1()?(b0=(()=>document.documentElement)(),Ds=(n,t)=>{for(;t;){if(t===n)return!0;t=w0(t)}return!1}):Ds=(n,t)=>n.contains(t),T1=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Uc=null,x0=!1;const ir=Ds,E0=T1;let C0=(()=>{class n{validateStyleProperty(e){return function OC(n){Uc||(Uc=function IC(){return"undefined"!=typeof document?document.body:null}()||{},x0=!!Uc.style&&"WebkitAppearance"in Uc.style);let t=!0;return Uc.style&&!function MC(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Uc.style,!t&&x0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Uc.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return ir(e,r)}getParentElement(e){return w0(e)}query(e,r,o){return E0(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,s,a,u=[],h){return new Fa(o,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),S0=(()=>{class n{}return n.NOOP=new C0,n})();const Lp="ng-enter",Np="ng-leave",Bp="ng-trigger",D0=".ng-trigger",T0="ng-animating",Up=".ng-animating";function ns(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:M0(parseFloat(t[1]),t[2])}function M0(n,t){return"s"===t?1e3*n:n}function Ru(n,t,e){return n.hasOwnProperty("duration")?n:function O0(n,t,e){let o,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(Pp()),{duration:0,delay:0,easing:""};o=M0(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(s=M0(parseFloat(h),u[4]));const x=u[5];x&&(a=x)}else o=n;if(!e){let u=!1,h=t.length;o<0&&(t.push(function dC(){return new i.vHH(3100,!1)}()),u=!0),s<0&&(t.push(function w1(){return new i.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,Pp())}return{duration:o,delay:s,easing:a}}(n,t,e)}function _f(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function kC(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function $l(n,t=new Map,e){if(e)for(let[r,o]of e)t.set(r,o);for(let[r,o]of n)t.set(r,o);return t}function I0(n,t,e){return e?t+":"+e+";":""}function NC(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=I0(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=I0(0,UC(e),n.style[e]));n.setAttribute("style",t)}function ka(n,t,e){n.style&&(t.forEach((r,o)=>{const s=R0(o);e&&!e.has(o)&&e.set(o,n.style[s]),n.style[s]=r}),A1()&&NC(n))}function Ks(n,t){n.style&&(t.forEach((e,r)=>{const o=R0(r);n.style[o]=""}),A1()&&NC(n))}function yf(n){return Array.isArray(n)?1==n.length?n[0]:Op(n):n}const Pu=new RegExp("{{\\s*(.+?)\\s*}}","g");function O1(n){let t=[];if("string"==typeof n){let e;for(;e=Pu.exec(n);)t.push(e[1]);Pu.lastIndex=0}return t}function Fu(n,t,e){const r=n.toString(),o=r.replace(Pu,(s,a)=>{let u=t[a];return null==u&&(e.push(function x1(n){return new i.vHH(3003,!1)}()),u=""),u.toString()});return o==r?n:o}function jp(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const BC=/-+([a-z0-9])/g;function R0(n){return n.replace(BC,(...t)=>t[1].toUpperCase())}function UC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ts(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function FT(n){return new i.vHH(3004,!1)}()}}function P0(n,t){return window.getComputedStyle(n)[t]}function R1(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Hp(n,t,e){if(":"==n[0]){const h=function ya(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function v0(n){return new i.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function m0(n){return new i.vHH(3015,!1)}()),t;const o=r[1],s=r[2],a=r[3];t.push(Gp(o,a));"<"==s[0]&&!("*"==o&&"*"==a)&&t.push(Gp(a,o))}(r,e,t)):e.push(n),e}const Ef=new Set(["true","1"]),Vp=new Set(["false","0"]);function Gp(n,t){const e=Ef.has(n)||Vp.has(n),r=Ef.has(t)||Vp.has(t);return(o,s)=>{let a="*"==n||n==o,u="*"==t||t==s;return!a&&e&&"boolean"==typeof o&&(a=o?Ef.has(n):Vp.has(n)),!u&&r&&"boolean"==typeof s&&(u=s?Ef.has(t):Vp.has(t)),a&&u}}const k0=new RegExp("s*:selfs*,?","g");function zp(n,t,e,r){return new zT(n).build(t,e,r)}class zT{constructor(t){this._driver=t}build(t,e,r){const o=new Wp(e);return this._resetContextStyleTimingState(o),Ts(this,yf(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function gf(){return new i.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,x=h.name;x.toString().split(/\s*,\s*/).forEach(M=>{h.name=M,s.push(this.visitState(h,e))}),h.name=x}else if(1==u.type){const h=this.visitTransition(u,e);r+=h.queryCount,o+=h.depCount,a.push(h)}else e.errors.push(function pC(){return new i.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=o||{};r.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{O1(h).forEach(x=>{a.hasOwnProperty(x)||s.add(x)})})}),s.size&&(jp(s.values()),e.errors.push(function Ou(n,t){return new i.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Ts(this,yf(t.animation),e);return{type:1,matchers:R1(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:vl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Ts(this,r,e)),options:vl(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const s=t.steps.map(a=>{e.currentTime=r;const u=Ts(this,a,e);return o=Math.max(o,e.currentTime),u});return e.currentTime=o,{type:3,steps:s,options:vl(t.options)}}visitAnimate(t,e){const r=function L0(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Cf(Ru(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Cf(0,0,"");return s.dynamic=!0,s.strValue=e,s}const o=Ru(e,t);return Cf(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,s=t.styles?t.styles:gr({});if(5==s.type)o=this.visitKeyframes(s,e);else{let a=t.styles,u=!1;if(!a){u=!0;const x={};r.easing&&(x.easing=r.easing),a=gr(x)}e.currentTime+=r.duration+r.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,o=h}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of o)"string"==typeof u?u===Pa?r.push(u):e.errors.push(new i.vHH(3002,!1)):r.push(kC(u));let s=!1,a=null;return r.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!s))for(let h of u.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const x=e.collectedStyles.get(e.currentQuerySelector),M=x.get(h);let L=!0;M&&(s!=o&&s>=M.startTime&&o<=M.endTime&&(e.errors.push(function LT(n,t,e,r,o){return new i.vHH(3010,!1)}()),L=!1),s=M.startTime),L&&x.set(h,{startTime:s,endTime:o}),e.options&&function M1(n,t,e){const r=t.params||{},o=O1(n);o.length&&o.forEach(s=>{r.hasOwnProperty(s)||e.push(function fC(n){return new i.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function E1(){return new i.vHH(3011,!1)}()),r;let s=0;const a=[];let u=!1,h=!1,x=0;const M=t.steps.map(it=>{const lt=this._makeStyleAst(it,e);let Ot=null!=lt.offset?lt.offset:function $p(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(lt.styles),Pt=0;return null!=Ot&&(s++,Pt=lt.offset=Ot),h=h||Pt<0||Pt>1,u=u||Pt<x,x=Pt,a.push(Pt),lt});h&&e.errors.push(function gC(){return new i.vHH(3012,!1)}()),u&&e.errors.push(function mC(){return new i.vHH(3200,!1)}());const L=t.steps.length;let W=0;s>0&&s<L?e.errors.push(function vC(){return new i.vHH(3202,!1)}()):0==s&&(W=1/(L-1));const q=L-1,ye=e.currentTime,Le=e.currentAnimateTimings,rt=Le.duration;return M.forEach((it,lt)=>{const Ot=W>0?lt==q?1:W*lt:a[lt],Pt=Ot*rt;e.currentTime=ye+Le.delay+Pt,Le.duration=Pt,this._validateStyleAst(it,e),it.offset=Ot,r.styles.push(it)}),r}visitReference(t,e){return{type:8,animation:Ts(this,yf(t.animation),e),options:vl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vl(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function P1(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(k0,"")),n=n.replace(/@\*/g,D0).replace(/@\w+/g,e=>D0+"-"+e.slice(1)).replace(/:animating/g,Up),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,As(e.collectedStyles,e.currentQuerySelector,new Map);const u=Ts(this,yf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:vl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function C1(){return new i.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ru(t.timings,e.errors,!0);return{type:12,animation:Ts(this,yf(t.animation),e),timings:r,options:null}}}class Wp{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vl(n){return n?(n=_f(n)).params&&(n.params=function ZT(n){return n?_f(n):null}(n.params)):n={},n}function Cf(n,t,e){return{duration:n,delay:t,easing:e}}function F1(n,t,e,r,o,s,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:s,totalTime:o+s,easing:a,subTimeline:u}}class qp{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zC=new RegExp(":enter","g"),WT=new RegExp(":leave","g");function N0(n,t,e,r,o,s=new Map,a=new Map,u,h,x=[]){return(new $T).buildKeyframes(n,t,e,r,o,s,a,u,h,x)}class $T{buildKeyframes(t,e,r,o,s,a,u,h,x,M=[]){x=x||new qp;const L=new Yp(t,e,x,o,s,M,[]);L.options=h;const W=h.delay?ns(h.delay):0;L.currentTimeline.delayNextStep(W),L.currentTimeline.setStyles([a],null,L.errors,h),Ts(this,r,L);const q=L.timelines.filter(ye=>ye.containsAnimation());if(q.length&&u.size){let ye;for(let Le=q.length-1;Le>=0;Le--){const rt=q[Le];if(rt.element===e){ye=rt;break}}ye&&!ye.allowOnlyTimelineStyles()&&ye.setStyles([u],null,L.errors,h)}return q.length?q.map(ye=>ye.buildKeyframes()):[F1(e,[],[],[],0,W,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(r,o,o.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){var o;for(const s of t){const a=null==s?void 0:s.delay;if(a){const u="number"==typeof a?a:ns(Fu(a,null!==(o=null==s?void 0:s.params)&&void 0!==o?o:{},e.errors));r.delayNextStep(u)}}}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const a=null!=r.duration?ns(r.duration):null,u=null!=r.delay?ns(r.delay):null;return 0!==a&&t.forEach(h=>{const x=e.appendInstructionToTimeline(h,a,u);s=Math.max(s,x.duration+x.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ts(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const s=t.options;if(s&&(s.params||s.delay)&&(o=e.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Sf);const a=ns(s.delay);o.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Ts(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?ns(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),Ts(this,a,u),o=Math.max(o,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Ru(e.params?Fu(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,s=r.duration,u=e.createSubContext().currentTimeline;u.easing=r.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*s),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(o+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},s=o.delay?ns(o.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Sf);let a=r;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((x,M)=>{e.currentQueryIndex=M;const L=e.createSubContext(t.options,x);s&&L.delayNextStep(s),x===e.element&&(h=L.currentTimeline),Ts(this,t.animation,L),L.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,L.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=u-h;break;case"full":h=r.currentStaggerTime}const M=e.currentTimeline;h&&M.delayNextStep(h);const L=M.currentTime;Ts(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-L+(o.startTime-r.currentTimeline.startTime)}}const Sf={};class Yp{constructor(t,e,r,o,s,a,u,h){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new Kp(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=ns(r.duration)),null!=r.delay&&(o.delay=ns(r.delay));const s=r.params;if(s){let a=o.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=Fu(s[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,s=new Yp(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Sf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new B0(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,s,a){let u=[];if(o&&u.push(this.element),t.length>0){t=(t=t.replace(zC,"."+this._enterClassName)).replace(WT,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=r);0!==r&&(x=r<0?x.slice(x.length+r,x.length):x.slice(0,r)),u.push(...x)}return!s&&0==u.length&&a.push(function _C(n){return new i.vHH(3014,!1)}()),u}}class Kp{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Kp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Pa),this._currentKeyframe.set(e,Pa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){var s;e&&this._previousKeyframe.set("easing",e);const a=o&&o.params||{},u=function qT(n,t){const e=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||t.keys();for(let s of r)e.set(s,Pa)}else $l(o,e)}),e}(t,this._globalTimelineStyles);for(let[h,x]of u){const M=Fu(x,a,r);this._pendingStyles.set(h,M),this._localTimelineStyles.has(h)||this._backFill.set(h,null!==(s=this._globalTimelineStyles.get(h))&&void 0!==s?s:Pa),this._updateStyle(h,M)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((u,h)=>{const x=$l(u,new Map,this._backFill);x.forEach((M,L)=>{"!"===M?t.add(L):M===Pa&&e.add(L)}),r||x.set("offset",h/this.duration),o.push(x)});const s=t.size?jp(t.values()):[],a=e.size?jp(e.values()):[];if(r){const u=o[0],h=new Map(u);u.set("offset",0),h.set("offset",1),o=[u,h]}return F1(this.element,o,s,a,this.duration,this.startTime,this.easing,!1)}}class B0 extends Kp{constructor(t,e,r,o,s,a,u=!1){super(t,e,a.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=r+e,u=e/a,h=$l(t[0]);h.set("offset",0),s.push(h);const x=$l(t[0]);x.set("offset",ZC(u)),s.push(x);const M=t.length-1;for(let L=1;L<=M;L++){let W=$l(t[L]);const q=W.get("offset");W.set("offset",ZC((e+q*r)/a)),s.push(W)}r=a,e=0,o="",t=s}return F1(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function ZC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class L1{}const YT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KT extends L1{normalizePropertyName(t,e){return R0(t)}normalizeStyleValue(t,e,r,o){let s="";const a=r.toString().trim();if(YT.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&o.push(function hC(n,t){return new i.vHH(3005,!1)}())}return a+s}}function WC(n,t,e,r,o,s,a,u,h,x,M,L,W){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:s,toState:r,toStyles:a,timelines:u,queriedElements:h,preStyleProps:x,postStyleProps:M,totalTime:L,errors:W}}const N1={};class $C{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function U0(n,t,e,r,o){return n.some(s=>s(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(null==t?void 0:t.toString())||o),o?o.buildStyles(e,r):new Map}build(t,e,r,o,s,a,u,h,x,M){var L;const W=[],q=this.ast.options&&this.ast.options.params||N1,Le=this.buildStyles(r,u&&u.params||N1,W),rt=h&&h.params||N1,it=this.buildStyles(o,rt,W),lt=new Set,Ot=new Map,Pt=new Map,rn="void"===o,gn={params:qC(rt,q),delay:null===(L=this.ast.options)||void 0===L?void 0:L.delay},mn=M?[]:N0(t,e,this.ast.animation,s,a,Le,it,gn,x,W);let An=0;if(mn.forEach(Ln=>{An=Math.max(Ln.duration+Ln.delay,An)}),W.length)return WC(e,this._triggerName,r,o,rn,Le,it,[],[],Ot,Pt,An,W);mn.forEach(Ln=>{const wi=Ln.element,Sr=As(Ot,wi,new Set);Ln.preStyleProps.forEach(Po=>Sr.add(Po));const ci=As(Pt,wi,new Set);Ln.postStyleProps.forEach(Po=>ci.add(Po)),wi!==e&&lt.add(wi)});const or=jp(lt.values());return WC(e,this._triggerName,r,o,rn,Le,it,mn,or,Ot,Pt,An)}}function qC(n,t){const e=_f(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class B1{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,o=_f(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(o[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{a&&(a=Fu(a,o,e));const h=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,h,a,e),r.set(h,a)})}),r}}class U1{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new B1(o.style,o.options&&o.options.params||{},r))}),j1(this.states,"true","1"),j1(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new $C(t,o,this.states))}),this.fallbackTransition=function H0(n,t,e){return new $C(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(a=>a.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function j1(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const ql=new qp;class H1{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],s=zp(this._driver,e,r,[]);if(r.length)throw function wC(n){return new i.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,r){const o=t.element,s=TC(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],s=this._animations.get(t);let a;const u=new Map;if(s?(a=N0(this._driver,e,s,Lp,Np,new Map,new Map,r,ql,o),a.forEach(M=>{const L=As(u,M.element,new Map);M.postStyleProps.forEach(W=>L.set(W,null))})):(o.push(function xC(){return new i.vHH(3300,!1)}()),a=[]),o.length)throw function EC(n){return new i.vHH(3504,!1)}();u.forEach((M,L)=>{M.forEach((W,q)=>{M.set(q,this._driver.computeStyle(L,q,Pa))})});const x=ml(a.map(M=>{const L=u.get(M.element);return this._buildPlayer(M,new Map,L)}));return this._playersById.set(t,x),x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function CC(n){return new i.vHH(3301,!1)}();return e}listen(t,e,r,o){const s=kp(e,"","","");return Fp(this._getPlayer(t),r,s,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const V1="ng-animate-queued",Qp="ng-animate-disabled",Lu=[],Jp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ps="__ng_removed";class Bu{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function XC(n){return null!=n?n:null}(r?t.value:t),r){const s=_f(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const Uu="void",eg=new Bu(Uu);class V0{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ms(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.has(e))throw function SC(n,t){return new i.vHH(3302,!1)}();if(null==r||0==r.length)throw function AC(n){return new i.vHH(3303,!1)}();if(!function JC(n){return"start"==n||"done"==n}(r))throw function Iu(n,t){return new i.vHH(3400,!1)}();const s=As(this._elementListeners,t,[]),a={name:e,phase:r,callback:o};s.push(a);const u=As(this._engine.statesByElement,t,new Map);return u.has(e)||(Ms(t,Bp),Ms(t,Bp+"-"+e),u.set(e,eg)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function gl(n){return new i.vHH(3401,!1)}();return e}trigger(t,e,r,o=!0){const s=this._getTrigger(e),a=new tg(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Ms(t,Bp),Ms(t,Bp+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const x=new Bu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&x.absorbOptions(h.options),u.set(e,x),h||(h=eg),x.value!==Uu&&h.value===x.value){if(!function QT(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const s=e[o];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,x.params)){const Le=[],rt=s.matchStyles(h.value,h.params,Le),it=s.matchStyles(x.value,x.params,Le);Le.length?this._engine.reportError(Le):this._engine.afterFlush(()=>{Ks(t,rt),ka(t,it)})}return}const W=As(this._engine.playersByElement,t,[]);W.forEach(Le=>{Le.namespaceId==this.id&&Le.triggerName==e&&Le.queued&&Le.destroy()});let q=s.matchTransition(h.value,x.value,t,x.params),ye=!1;if(!q){if(!o)return;q=s.fallbackTransition,ye=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:q,fromState:h,toState:x,player:a,isFallbackTransition:ye}),ye||(Ms(t,V1),a.onStart(()=>{ju(t,V1)})),a.onDone(()=>{let Le=this.players.indexOf(a);Le>=0&&this.players.splice(Le,1);const rt=this._engine.playersByElement.get(t);if(rt){let it=rt.indexOf(a);it>=0&&rt.splice(it,1)}}),this.players.push(a),W.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,D0,!0);r.forEach(o=>{if(o[ps])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(a=>a.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const u=[];if(s.forEach((h,x)=>{if(a.set(x,h.value),this._triggers.has(x)){const M=this.trigger(t,x,Uu,o);M&&u.push(M)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),r&&ml(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(s=>{const a=s.name;if(o.has(a))return;o.add(a);const h=this._triggers.get(a).fallbackTransition,x=r.get(a)||eg,M=new Bu(Uu),L=new tg(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:x,toState:M,player:L,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)o=!0;else{let a=t;for(;a=a.parentNode;)if(r.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ps];(!s||s===Jp)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ms(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==r.triggerName){const h=kp(s,r.triggerName,r.fromState.value,r.toState.value);h._data=t,Fp(r.player,u.phase,h,u.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const s=r.transition.ast.depCount,a=o.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class G0{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new V0(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const h=o.get(u);if(h){const x=r.indexOf(h);r.splice(x+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&e.add(s)}return e}trigger(t,e,r,o){if(Z0(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!Z0(e))return;const s=e[ps];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ms(t,Qp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ju(t,Qp))}removeNode(t,e,r,o){if(Z0(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,s){this.collectedLeaveElements.push(e),e[ps]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,o,s){return Z0(e)?this._fetchNamespace(t).listen(e,r,o,s):()=>{}}_buildInstruction(t,e,r,o,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,D0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Up,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ml(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[ps];if(r&&r.setForRemoval){if(t[ps]=Jp,r.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}!(null===(e=t.classList)||void 0===e)&&e.contains(Qp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ms(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ml(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function DC(n){return new i.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new qp,o=[],s=new Map,a=[],u=new Map,h=new Map,x=new Map,M=new Set;this.disabledNodes.forEach(In=>{M.add(In);const Un=this.driver.query(In,".ng-animate-queued",!0);for(let Zn=0;Zn<Un.length;Zn++)M.add(Un[Zn])});const L=this.bodyNode,W=Array.from(this.statesByElement.keys()),q=$0(W,this.collectedEnterElements),ye=new Map;let Le=0;q.forEach((In,Un)=>{const Zn=Lp+Le++;ye.set(Un,Zn),In.forEach(Tr=>Ms(Tr,Zn))});const rt=[],it=new Set,lt=new Set;for(let In=0;In<this.collectedLeaveElements.length;In++){const Un=this.collectedLeaveElements[In],Zn=Un[ps];Zn&&Zn.setForRemoval&&(rt.push(Un),it.add(Un),Zn.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(Tr=>it.add(Tr)):lt.add(Un))}const Ot=new Map,Pt=$0(W,Array.from(it));Pt.forEach((In,Un)=>{const Zn=Np+Le++;Ot.set(Un,Zn),In.forEach(Tr=>Ms(Tr,Zn))}),t.push(()=>{q.forEach((In,Un)=>{const Zn=ye.get(Un);In.forEach(Tr=>ju(Tr,Zn))}),Pt.forEach((In,Un)=>{const Zn=Ot.get(Un);In.forEach(Tr=>ju(Tr,Zn))}),rt.forEach(In=>{this.processLeaveNode(In)})});const rn=[],gn=[];for(let In=this._namespaceList.length-1;In>=0;In--)this._namespaceList[In].drainQueuedTransitions(e).forEach(Zn=>{const Tr=Zn.player,no=Zn.element;if(rn.push(Tr),this.collectedEnterElements.length){const ys=no[ps];if(ys&&ys.setForMove){if(ys.previousTriggersValues&&ys.previousTriggersValues.has(Zn.triggerName)){const Ph=ys.previousTriggersValues.get(Zn.triggerName),nl=this.statesByElement.get(Zn.element);if(nl&&nl.has(Zn.triggerName)){const xE=nl.get(Zn.triggerName);xE.value=Ph,nl.set(Zn.triggerName,xE)}}return void Tr.destroy()}}const _c=!L||!this.driver.containsElement(L,no),Da=Ot.get(no),Rd=ye.get(no),Ki=this._buildInstruction(Zn,r,Rd,Da,_c);if(Ki.errors&&Ki.errors.length)return void gn.push(Ki);if(_c)return Tr.onStart(()=>Ks(no,Ki.fromStyles)),Tr.onDestroy(()=>ka(no,Ki.toStyles)),void o.push(Tr);if(Zn.isFallbackTransition)return Tr.onStart(()=>Ks(no,Ki.fromStyles)),Tr.onDestroy(()=>ka(no,Ki.toStyles)),void o.push(Tr);const Q3=[];Ki.timelines.forEach(ys=>{ys.stretchStartingKeyframe=!0,this.disabledNodes.has(ys.element)||Q3.push(ys)}),Ki.timelines=Q3,r.append(no,Ki.timelines),a.push({instruction:Ki,player:Tr,element:no}),Ki.queriedElements.forEach(ys=>As(u,ys,[]).push(Tr)),Ki.preStyleProps.forEach((ys,Ph)=>{if(ys.size){let nl=h.get(Ph);nl||h.set(Ph,nl=new Set),ys.forEach((xE,uT)=>nl.add(uT))}}),Ki.postStyleProps.forEach((ys,Ph)=>{let nl=x.get(Ph);nl||x.set(Ph,nl=new Set),ys.forEach((xE,uT)=>nl.add(uT))})});if(gn.length){const In=[];gn.forEach(Un=>{In.push(function BT(n,t){return new i.vHH(3505,!1)}())}),rn.forEach(Un=>Un.destroy()),this.reportError(In)}const mn=new Map,An=new Map;a.forEach(In=>{const Un=In.element;r.has(Un)&&(An.set(Un,Un),this._beforeAnimationBuild(In.player.namespaceId,In.instruction,mn))}),o.forEach(In=>{const Un=In.element;this._getPreviousPlayers(Un,!1,In.namespaceId,In.triggerName,null).forEach(Tr=>{As(mn,Un,[]).push(Tr),Tr.destroy()})});const or=rt.filter(In=>W1(In,h,x)),Ln=new Map;G1(Ln,this.driver,lt,x,Pa).forEach(In=>{W1(In,h,x)&&or.push(In)});const Sr=new Map;q.forEach((In,Un)=>{G1(Sr,this.driver,new Set(In),h,"!")}),or.forEach(In=>{var Un,Zn;const Tr=Ln.get(In),no=Sr.get(In);Ln.set(In,new Map([...Array.from(null!==(Un=null==Tr?void 0:Tr.entries())&&void 0!==Un?Un:[]),...Array.from(null!==(Zn=null==no?void 0:no.entries())&&void 0!==Zn?Zn:[])]))});const ci=[],Po=[],Il={};a.forEach(In=>{const{element:Un,player:Zn,instruction:Tr}=In;if(r.has(Un)){if(M.has(Un))return Zn.onDestroy(()=>ka(Un,Tr.toStyles)),Zn.disabled=!0,Zn.overrideTotalTime(Tr.totalTime),void o.push(Zn);let no=Il;if(An.size>1){let Da=Un;const Rd=[];for(;Da=Da.parentNode;){const Ki=An.get(Da);if(Ki){no=Ki;break}Rd.push(Da)}Rd.forEach(Ki=>An.set(Ki,no))}const _c=this._buildAnimation(Zn.namespaceId,Tr,mn,s,Sr,Ln);if(Zn.setRealPlayer(_c),no===Il)ci.push(Zn);else{const Da=this.playersByElement.get(no);Da&&Da.length&&(Zn.parentPlayer=ml(Da)),o.push(Zn)}}else Ks(Un,Tr.fromStyles),Zn.onDestroy(()=>ka(Un,Tr.toStyles)),Po.push(Zn),M.has(Un)&&o.push(Zn)}),Po.forEach(In=>{const Un=s.get(In.element);if(Un&&Un.length){const Zn=ml(Un);In.setRealPlayer(Zn)}}),o.forEach(In=>{In.parentPlayer?In.syncPlayerEvents(In.parentPlayer):In.destroy()});for(let In=0;In<rt.length;In++){const Un=rt[In],Zn=Un[ps];if(ju(Un,Np),Zn&&Zn.hasAnimation)continue;let Tr=[];if(u.size){let _c=u.get(Un);_c&&_c.length&&Tr.push(..._c);let Da=this.driver.query(Un,Up,!0);for(let Rd=0;Rd<Da.length;Rd++){let Ki=u.get(Da[Rd]);Ki&&Ki.length&&Tr.push(...Ki)}}const no=Tr.filter(_c=>!_c.destroyed);no.length?Os(this,Un,no):this.processLeaveNode(Un)}return rt.length=0,ci.forEach(In=>{this.players.push(In),In.onDone(()=>{In.destroy();const Un=this.players.indexOf(In);this.players.splice(Un,1)}),In.play()}),ci}elementContainsData(t,e){let r=!1;const o=e[ps];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,s){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!s||s==Uu;u.forEach(x=>{x.queued||!h&&x.triggerName!=o||a.push(x)})}}return(r||o)&&(a=a.filter(u=>!(r&&r!=u.namespaceId||o&&o!=u.triggerName))),a}_beforeAnimationBuild(t,e,r){const s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const x=h.element,M=x!==s,L=As(r,x,[]);this._getPreviousPlayers(x,M,a,u,e.toState).forEach(q=>{const ye=q.getRealPlayer();ye.beforeDestroy&&ye.beforeDestroy(),q.destroy(),L.push(q)})}Ks(s,e.fromStyles)}_buildAnimation(t,e,r,o,s,a){const u=e.triggerName,h=e.element,x=[],M=new Set,L=new Set,W=e.timelines.map(ye=>{const Le=ye.element;M.add(Le);const rt=Le[ps];if(rt&&rt.removedBeforeQueried)return new Fa(ye.duration,ye.delay);const it=Le!==h,lt=function z1(n){const t=[];return Z1(n,t),t}((r.get(Le)||Lu).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===Le),Ot=s.get(Le),Pt=a.get(Le),rn=TC(0,this._normalizer,0,ye.keyframes,Ot,Pt),gn=this._buildPlayer(ye,rn,lt);if(ye.subTimeline&&o&&L.add(Le),it){const mn=new tg(t,u,Le);mn.setRealPlayer(gn),x.push(mn)}return gn});x.forEach(ye=>{As(this.playersByQueriedElement,ye.element,[]).push(ye),ye.onDone(()=>function z0(n,t,e){let r=n.get(t);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,ye.element,ye))}),M.forEach(ye=>Ms(ye,T0));const q=ml(W);return q.onDestroy(()=>{M.forEach(ye=>ju(ye,T0)),ka(h,e.toStyles)}),L.forEach(ye=>{As(o,ye,[]).push(q)}),q}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Fa(t.duration,t.delay)}}class tg{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Fa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>Fp(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){As(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Z0(n){return n&&1===n.nodeType}function W0(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function G1(n,t,e,r,o){const s=[];e.forEach(h=>s.push(W0(h)));const a=[];r.forEach((h,x)=>{const M=new Map;h.forEach(L=>{const W=t.computeStyle(x,L,o);M.set(L,W),(!W||0==W.length)&&(x[ps]=Nu,a.push(x))}),n.set(x,M)});let u=0;return e.forEach(h=>W0(h,s[u++])),a}function $0(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const o=new Set(t),s=new Map;function a(u){if(!u)return 1;let h=s.get(u);if(h)return h;const x=u.parentNode;return h=e.has(x)?x:o.has(x)?1:a(x),s.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Ms(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ju(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Os(n,t,e){ml(e).onDone(()=>n.processLeaveNode(t))}function Z1(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof y1?Z1(r.players,t):t.push(r)}}function W1(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(s=>o.add(s)):t.set(n,r),e.delete(n),!0}class Hu{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new G0(t,e,r),this._timelineEngine=new H1(t,e,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(t,e,r,o,s){const a=t+"-"+o;let u=this._triggerCache[a];if(!u){const h=[],M=zp(this._driver,s,h,[]);if(h.length)throw function vf(n,t){return new i.vHH(3404,!1)}();u=function j0(n,t,e){return new U1(n,t,e)}(o,M,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,o,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[s,a]=D1(r);this._timelineEngine.command(s,e,a,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,s){if("@"==r.charAt(0)){const[a,u]=D1(r);return this._timelineEngine.listen(a,e,u,s)}return this._transitionEngine.listen(t,e,r,o,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eS=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ka(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ka(this._element,this._initialStyles),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ks(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ks(this._element,this._endStyles),this._endStyles=null),ka(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function q0(n){let t=null;return n.forEach((e,r)=>{(function tS(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class Y0{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:P0(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class nS{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return ir(t,e)}getParentElement(t){return w0(t)}query(t,e,r){return E0(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,s,a=[]){const h={duration:r,delay:o,fill:0==o?"both":"forwards"};s&&(h.easing=s);const x=new Map,M=a.filter(q=>q instanceof Y0);(function jC(n,t){return 0===n||0===t})(r,o)&&M.forEach(q=>{q.currentSnapshot.forEach((ye,Le)=>x.set(Le,ye))});let L=function VT(n){return n.length?n[0]instanceof Map?n:n.map(t=>kC(t)):[]}(e).map(q=>$l(q));L=function I1(n,t,e){if(e.size&&t.length){let r=t[0],o=[];if(e.forEach((s,a)=>{r.has(a)||o.push(a),r.set(a,s)}),o.length)for(let s=1;s<t.length;s++){let a=t[s];o.forEach(u=>a.set(u,P0(n,u)))}}return t}(t,L,x);const W=function $1(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=q0(t[0]),t.length>1&&(r=q0(t[t.length-1]))):t instanceof Map&&(e=q0(t)),e||r?new eS(n,e,r):null}(t,L);return new Y0(t,L,h,W)}}let q1=(()=>{class n extends m1{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?Op(e):e;return K0(this._renderer,null,r,"register",[o]),new rS(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.FYo),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class rS extends class f0{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new iS(this._id,t,e||{},this._renderer)}}class iS{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return K0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function K0(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const Y1="@.disabled";let Na=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,a)=>{const u=null==a?void 0:a.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(s);return M||(M=new ng("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,M)),M}const a=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=M=>{Array.isArray(M)?M.forEach(h):this.engine.registerTrigger(a,u,e,M.name,M)};return r.data.animation.forEach(h),new oS(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.FYo),i.LFG(Hu),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class ng{constructor(t,e,r,o){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){var t;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(t=this._onDestroy)||void 0===t||t.call(this)}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==Y1?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class oS extends ng{constructor(t,e,r,o,s){super(e,r,o,s),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Y1?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function sS(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function XT(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(t,e,r)}}let K1=(()=>{class n extends Hu{constructor(e,r,o,s){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m),i.LFG(S0),i.LFG(L1),i.LFG(i.z2F))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Q1=[{provide:m1,useClass:q1},{provide:L1,useFactory:function aS(){return new KT}},{provide:Hu,useClass:K1},{provide:i.FYo,useFactory:function lS(n,t,e){return new Na(n,t,e)},deps:[Kt,Hu,i.R0b]}],Df=[{provide:S0,useFactory:()=>new nS},{provide:i.QbO,useValue:"BrowserAnimations"},...Q1],X1=[{provide:S0,useClass:C0},{provide:i.QbO,useValue:"NoopAnimations"},...Q1];let cS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?X1:Df}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:Df,imports:[_e]}),n})();var Ui=g(9088),J0=g(7028),Vu=g(3434),Tf=g(5967),Yl=g(3589),eb=g(244),Qs=g(8286),jo=g(5417),ba=g(9097),yn=g(4248),ai=g(724),Cr=g(7250),co=g(2195),wr=g(6015),ji=g(8927),Hr=g(9899),Vr=g(6837),Gu=g(6741),tb=g(9442),uS=g(4551),nb=g(1329),dS=g(6111),Mf=g(2453),rg=g(6226),rb=g(2667),Of=g(8690);const ur="primary",If=Symbol("RouteTitle");class ev{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zu(n){return new ev(n)}function fS(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let s=0;s<r.length;s++){const a=r[s],u=n[s];if(a.startsWith(":"))o[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ba(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!ib(n[o],t[o]))return!1;return!0}function ib(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,s)=>r[s]===o)}return n===t}function ob(n){return Array.prototype.concat.apply([],n)}function Rf(n){return n.length>0?n[n.length-1]:null}function Ho(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Xs(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,ao.D)(Promise.resolve(n)):(0,Qt.of)(n)}const nv={exact:function To(n,t,e){if(!ea(n.segments,t.segments)||!Wu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!To(n.children[r],t.children[r],e))return!1;return!0},subset:Ff},sb={exact:function Pf(n,t){return Ba(n,t)},subset:function Hc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ib(n[e],t[e]))},ignored:()=>!0};function wa(n,t,e){return nv[e.paths](n.root,t.root,e.matrixParams)&&sb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ff(n,t,e){return Is(n,t,t.segments,e)}function Is(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!ea(o,e)||t.hasChildren()||!Wu(o,e,r))}if(n.segments.length===e.length){if(!ea(n.segments,e)||!Wu(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!Ff(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(ea(n.segments,o)&&Wu(n.segments,o,r)&&n.children[ur])&&Is(n.children[ur],t,s,r)}}function Wu(n,t,e){return t.every((r,o)=>sb[e](n[o].parameters,r.parameters))}class Js{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return Yu.serialize(this)}}class sr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ho(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kf(this)}}class Ua{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zu(this.parameters)),this._parameterMap}toString(){return ov(this)}}function ea(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Vc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new Kl},providedIn:"root"}),n})();class Kl{parse(t){const e=new sg(t);return new Js(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ku(t.root,!0)}`,r=function mS(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Lf(e)}=${Lf(o)}`).join("&"):`${Lf(e)}=${Lf(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function ab(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Yu=new Kl;function kf(n){return n.segments.map(t=>ov(t)).join("/")}function Ku(n,t){if(!n.hasChildren())return kf(n);if(t){const e=n.children[ur]?Ku(n.children[ur],!1):"",r=[];return Ho(n.children,(o,s)=>{s!==ur&&r.push(`${s}:${Ku(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function qu(n,t){let e=[];return Ho(n.children,(r,o)=>{o===ur&&(e=e.concat(t(r,o)))}),Ho(n.children,(r,o)=>{o!==ur&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===ur?[Ku(n.children[ur],!1)]:[`${o}:${Ku(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ur]?`${kf(n)}/${e[0]}`:`${kf(n)}/(${e.join("//")})`}}function rv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lf(n){return rv(n).replace(/%3B/gi,";")}function ig(n){return rv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nf(n){return decodeURIComponent(n)}function iv(n){return Nf(n.replace(/\+/g,"%20"))}function ov(n){return`${ig(n.path)}${function gS(n){return Object.keys(n).map(t=>`;${ig(t)}=${ig(n[t])}`).join("")}(n.parameters)}`}const lb=/^[^\/()?;=#]+/;function og(n){const t=n.match(lb);return t?t[0]:""}const cb=/^[^=?&#]+/,av=/^[^&#]+/;class sg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ur]=new sr(t,e)),r}parseSegment(){const t=og(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(t),new Ua(Nf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=og(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=og(this.remaining);o&&(r=o,this.capture(r))}t[Nf(e)]=Nf(r)}parseQueryParam(t){const e=function sv(n){const t=n.match(cb);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=function vS(n){const t=n.match(av);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const o=iv(e),s=iv(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(s)}else t[o]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=og(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new i.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ur);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[ur]:new sr([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new i.vHH(4011,!1)}}function Qu(n){return n.segments.length>0?new sr([],{[ur]:n}):n}function Xu(n){const t={};for(const r of Object.keys(n.children)){const s=Xu(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function _S(n){if(1===n.numberOfChildren&&n.children[ur]){const t=n.children[ur];return new sr(n.segments.concat(t.segments),t.children)}return n}(new sr(n.segments,t))}function ja(n){return n instanceof Js}function fb(n,t,e,r,o){var s;if(0===e.length)return Ql(t.root,t.root,t.root,r,o);const u=function uv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cv(!0,0,n);let t=0,e=!1;const r=n.reduce((o,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Ho(s.outlets,(h,x)=>{u[x]="string"==typeof h?h.split("/"):h}),[...o,{outlets:u}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===a?(s.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&o.push(u))}),o):[...o,s]},[]);return new cv(e,t,r)}(e);return u.toRoot()?Ql(t.root,t.root,new sr([],{}),r,o):function h(M){var L;const W=function yS(n,t,e,r){if(n.isAbsolute)return new zc(t.root,!0,0);if(-1===r)return new zc(e,e===t.root,0);return function dv(n,t,e){let r=n,o=t,s=e;for(;s>o;){if(s-=o,r=r.parent,!r)throw new i.vHH(4005,!1);o=r.segments.length}return new zc(r,!1,o-s)}(e,r+(ed(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,t,null===(L=n.snapshot)||void 0===L?void 0:L._urlSegment,M),q=W.processChildren?Xl(W.segmentGroup,W.index,u.commands):Bf(W.segmentGroup,W.index,u.commands);return Ql(t.root,W.segmentGroup,q,r,o)}(null===(s=n.snapshot)||void 0===s?void 0:s._lastPathIndex)}function ed(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ql(n,t,e,r,o){let a,s={};r&&Ho(r,(h,x)=>{s[x]=Array.isArray(h)?h.map(M=>`${M}`):`${h}`}),a=n===t?e:hb(n,t,e);const u=Qu(Xu(a));return new Js(u,s,o)}function hb(n,t,e){const r={};return Ho(n.children,(o,s)=>{r[s]=o===t?e:hb(o,t,e)}),new sr(n.segments,r)}class cv{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ed(r[0]))throw new i.vHH(4003,!1);const o=r.find(Gc);if(o&&o!==Rf(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zc{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Bf(n,t,e){if(n||(n=new sr([],{})),0===n.segments.length&&n.hasChildren())return Xl(n,t,e);const r=function fv(n,t,e){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return s;const a=n.segments[o],u=e[r];if(Gc(u))break;const h=`${u}`,x=r<e.length-1?e[r+1]:null;if(o>0&&void 0===h)break;if(h&&x&&"object"==typeof x&&void 0===x.outlets){if(!pv(h,x,a))return s;r+=2}else{if(!pv(h,{},a))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new sr(n.segments.slice(0,r.pathIndex),{});return s.children[ur]=new sr(n.segments.slice(r.pathIndex),n.children),Xl(s,0,o)}return r.match&&0===o.length?new sr(n.segments,{}):r.match&&!n.hasChildren()?ag(n,t,e):r.match?Xl(n,0,o):ag(n,t,e)}function Xl(n,t,e){if(0===e.length)return new sr(n.segments,{});{const r=function gb(n){return Gc(n[0])?n[0].outlets:{[ur]:n}}(e),o={};return Ho(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[a]=Bf(n.children[a],t,s))}),Ho(n.children,(s,a)=>{void 0===r[a]&&(o[a]=s)}),new sr(n.segments,o)}}function ag(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const s=e[o];if(Gc(s)){const h=mb(s.outlets);return new sr(r,h)}if(0===o&&ed(e[0])){r.push(new Ua(n.segments[t].path,hv(e[0]))),o++;continue}const a=Gc(s)?s.outlets[ur]:`${s}`,u=o<e.length-1?e[o+1]:null;a&&u&&ed(u)?(r.push(new Ua(a,hv(u))),o+=2):(r.push(new Ua(a,{})),o++)}return new sr(r,{})}function mb(n){const t={};return Ho(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=ag(new sr([],{}),0,e))}),t}function hv(n){const t={};return Ho(n,(e,r)=>t[r]=`${e}`),t}function pv(n,t,e){return n==e.path&&Ba(t,e.parameters)}class Ha{constructor(t,e){this.id=t,this.url=e}}class lg extends Ha{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _l extends Ha{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gv extends Ha{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vb extends Ha{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bS extends Ha{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _b extends Ha{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wS extends Ha{constructor(t,e,r,o,s){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uo extends Ha{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yb extends Ha{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xS{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ES{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bb{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CS{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wb{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xb{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zc{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Eb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=cg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=mv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return mv(t,this._root).map(e=>e.value)}}function cg(n,t){if(n===t.value)return t;for(const e of t.children){const r=cg(n,e);if(r)return r}return null}function mv(n,t){if(n===t.value)return[t];for(const e of t.children){const r=mv(n,e);if(r.length)return r.unshift(t),r}return[]}class Va{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Uf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ug extends Eb{constructor(t,e){super(t),this.snapshot=e,fg(this,t)}toString(){return this.snapshot.toString()}}function dg(n,t){const e=function xa(n,t){const a=new gs([],{},{},"",{},ur,t,null,n.root,-1,{});return new ta("",new Va(a,[]))}(n,t),r=new Ui.X([new Ua("",{})]),o=new Ui.X({}),s=new Ui.X({}),a=new Ui.X({}),u=new Ui.X(""),h=new Jl(r,o,a,u,s,ur,t,e.root);return h.snapshot=e.root,new ug(new Va(h,[]),e)}class Jl{constructor(t,e,r,o,s,a,u,h){var x,M;this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=u,this.title=null!==(M=null===(x=this.data)||void 0===x?void 0:x.pipe((0,en.U)(L=>L[If])))&&void 0!==M?M:(0,Qt.of)(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,en.U)(t=>zu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,en.U)(t=>zu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vv(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],s=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function Ga(n){return n.reduce((t,e)=>{var r;return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},e.data),t.resolve),null===(r=e.routeConfig)||void 0===r?void 0:r.data),e._resolvedData)}},{params:{},data:{},resolve:{}})}(e.slice(r))}class gs{constructor(t,e,r,o,s,a,u,h,x,M,L,W){var q;this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=u,this.title=null===(q=this.data)||void 0===q?void 0:q[If],this.routeConfig=h,this._urlSegment=x,this._lastPathIndex=M,this._correctedLastPathIndex=null!=W?W:M,this._resolve=L}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ta extends Eb{constructor(t,e){super(e),this.url=t,fg(this,e)}toString(){return _v(this._root)}}function fg(n,t){t.value._routerState=n,t.children.forEach(e=>fg(n,e))}function _v(n){const t=n.children.length>0?` { ${n.children.map(_v).join(", ")} } `:"";return`${n.value}${t}`}function yv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ba(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ba(t.params,e.params)||n.params.next(e.params),function hS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ba(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ba(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bv(n,t){const e=Ba(n.params,t.params)&&function $u(n,t){return ea(n,t)&&n.every((e,r)=>Ba(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||bv(n.parent,t.parent))}function jf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function wv(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return jf(n,r,o);return jf(n,r)})}(n,t,e);return new Va(r,o)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>jf(n,u)),a}}const r=function Hf(n){return new Jl(new Ui.X(n.url),new Ui.X(n.params),new Ui.X(n.queryParams),new Ui.X(n.fragment),new Ui.X(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(s=>jf(n,s));return new Va(r,o)}}const xv="ngNavigationCancelingError";function Ev(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ja(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Cb(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function Cb(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[xv]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Cv(n){return Sv(n)&&ja(n.url)}function Sv(n){return n&&n[xv]}class hg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vf,this.attachRef=null}}let Vf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new hg,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gf=!1;let zf=(()=>{class n{constructor(e,r,o,s,a){this.parentContexts=e,this.location=r,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=o||ur,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,Gf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,Gf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,Gf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new i.vHH(4013,Gf);this._activatedRoute=e;const o=this.location,a=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new Av(e,u,o.injector);if(r&&function pg(n){return!!n.resolveComponentFactory}(r)){const x=r.resolveComponentFactory(a);this.activated=o.createComponent(x,o.length,h)}else this.activated=o.createComponent(a,{index:o.length,injector:h,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Vf),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Av{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Jl?this.route:t===Vf?this.childContexts:this.parent.get(t,e)}}let Zf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},dependencies:[zf],encapsulation:2}),n})();function Dv(n,t){var e;return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,t,`Route: ${n.path}`)),null!==(e=n._injector)&&void 0!==e?e:t}function Tv(n){const t=n.children&&n.children.map(Tv),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ur&&(e.component=Zf),e}function na(n){return n.outlet||ur}function Db(n,t){const e=n.filter(r=>na(r)===t);return e.push(...n.filter(r=>na(r)!==t)),e}function Wf(n){var t;if(!n)return null;if(null!==(t=n.routeConfig)&&void 0!==t&&t._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class PS{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),yv(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Uf(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,o[a],r),delete o[a]}),Ho(o,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const o=t.value,s=e?e.value:null;if(o===s)if(o.component){const a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,s=Uf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);if(r&&r.outlet){const a=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,s=Uf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Uf(e);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new xb(s.value.snapshot))}),t.children.length&&this.forwardEvent(new CS(t.value.snapshot))}activateRoutes(t,e,r){var o;const s=t.value,a=e?e.value:null;if(yv(s),s===a)if(s.component){const u=r.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(s.component){const u=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const h=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),yv(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Wf(s.snapshot),x=null!==(o=null==h?void 0:h.get(i._Vd))&&void 0!==o?o:null;u.attachRef=null,u.route=s,u.resolver=x,u.injector=h,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class Tb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mg{constructor(t,e){this.component=t,this.route=e}}function FS(n,t,e){const r=n._root;return $f(r,t?t._root:null,e,[r.value])}function td(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,i.Z0I)(n)?t.get(n):n:r}function $f(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uf(t);return n.children.forEach(a=>{(function LS(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function NS(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ea(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ea(n.url,t.url)||!Ba(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bv(n,t)||!Ba(n.queryParams,t.queryParams);default:return!bv(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?o.canActivateChecks.push(new Tb(r)):(s.data=a.data,s._resolvedData=a._resolvedData),$f(n,t,s.component?u?u.children:null:e,r,o),h&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new mg(u.outlet.component,a))}else a&&qf(t,u,o),o.canActivateChecks.push(new Tb(r)),$f(n,null,s.component?u?u.children:null:e,r,o)})(a,s[a.value.outlet],e,r.concat([a.value]),o),delete s[a.value.outlet]}),Ho(s,(a,u)=>qf(a,e.getContext(u),o)),o}function qf(n,t,e){const r=Uf(n),o=n.value;Ho(r,(s,a)=>{qf(s,o.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new mg(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Yf(n){return"function"==typeof n}function vg(n){return n instanceof J0.K||"EmptyError"===(null==n?void 0:n.name)}const nd=Symbol("INITIAL_VALUE");function ec(){return(0,ai.w)(n=>(0,Vu.aj)(n.map(t=>t.pipe((0,Cr.q)(1),(0,co.O)(nd)))).pipe((0,en.U)(t=>{for(const e of t)if(!0!==e){if(e===nd)return nd;if(!1===e||e instanceof Js)return e}return!0}),(0,Tn.h)(t=>t!==nd),(0,Cr.q)(1)))}function VS(n){return(0,eb.z)((0,Hr.b)(t=>{if(ja(t))throw Ev(0,t)}),(0,en.U)(t=>!0===t))}const Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bb(n,t,e,r,o){const s=Iv(n,t,e);return s.matched?function qn(n,t,e,r){const o=t.canMatch;if(!o||0===o.length)return(0,Qt.of)(!0);const s=o.map(a=>{const u=td(a,n);return Xs(function Fb(n){return n&&Yf(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))});return(0,Qt.of)(s).pipe(ec(),VS())}(r=Dv(t,r),t,e).pipe((0,en.U)(a=>!0===a?s:Object.assign({},Ov))):(0,Qt.of)(s)}function Iv(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ov):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||fS)(e,n,t);if(!s)return Object.assign({},Ov);const a={};Ho(s.posParams,(h,x)=>{a[x]=h.path});const u=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:u,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function yl(n,t,e,r,o="corrected"){if(e.length>0&&function yg(n,t,e){return e.some(r=>Rv(n,t,r)&&na(r)!==ur)}(n,e,r)){const a=new sr(t,function _g(n,t,e,r){const o={};o[ur]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&na(s)!==ur){const a=new sr([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,o[na(s)]=a}return o}(n,t,r,new sr(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function Hi(n,t,e){return e.some(r=>Rv(n,t,r))}(n,e,r)){const a=new sr(n.segments,function GS(n,t,e,r,o,s){const a={};for(const u of r)if(Rv(n,e,u)&&!o[na(u)]){const h=new sr([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[na(u)]=h}return Object.assign(Object.assign({},o),a)}(n,t,e,r,n.children,o));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new sr(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Rv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Pv(n,t,e,r){return!!(na(n)===r||r!==ur&&Rv(t,e,n))&&("**"===n.path||Iv(t,n,e).matched)}function Fv(n,t,e){return 0===t.length&&!n.children[e]}const bg=!1;class Kf{constructor(t){this.segmentGroup=t||null}}class kv{constructor(t){this.urlTree=t}}function id(n){return(0,Qs._)(new Kf(n))}function Lv(n){return(0,Qs._)(new kv(n))}class Qf{constructor(t,e,r,o,s){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=s,this.allowRedirects=!0}apply(){const t=yl(this.urlTree.root,[],[],this.config).segmentGroup,e=new sr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ur).pipe((0,en.U)(s=>this.createUrlTree(Xu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Vr.K)(s=>{if(s instanceof kv)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Kf?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ur).pipe((0,en.U)(o=>this.createUrlTree(Xu(o),t.queryParams,t.fragment))).pipe((0,Vr.K)(o=>{throw o instanceof Kf?this.noMatchError(o):o}))}noMatchError(t){return new i.vHH(4002,bg)}createUrlTree(t,e,r){const o=Qu(t);return new Js(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,en.U)(s=>new sr([],s))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return(0,ao.D)(o).pipe((0,Fi.b)(s=>{const a=r.children[s],u=Db(e,s);return this.expandSegmentGroup(t,u,a,s).pipe((0,en.U)(h=>({segment:h,outlet:s})))}),(0,Gu.R)((s,a)=>(s[a.outlet]=a.segment,s),{}),(0,tb.Z)())}expandSegment(t,e,r,o,s,a){return(0,ao.D)(r).pipe((0,Fi.b)(u=>this.expandSegmentAgainstRoute(t,e,r,u,o,s,a).pipe((0,Vr.K)(x=>{if(x instanceof Kf)return(0,Qt.of)(null);throw x}))),(0,ji.P)(u=>!!u),(0,Vr.K)((u,h)=>{if(vg(u))return Fv(e,o,s)?(0,Qt.of)(new sr([],{})):id(e);throw u}))}expandSegmentAgainstRoute(t,e,r,o,s,a,u){return Pv(o,e,s,a)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,s,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a):id(e):id(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Lv(s):this.lineralizeSegments(r,s).pipe((0,wr.zg)(a=>{const u=new sr(a,{});return this.expandSegment(t,u,e,a,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a){const{matched:u,consumedSegments:h,remainingSegments:x,positionalParamSegments:M}=Iv(e,o,s);if(!u)return id(e);const L=this.applyRedirectCommands(h,o.redirectTo,M);return o.redirectTo.startsWith("/")?Lv(L):this.lineralizeSegments(o,L).pipe((0,wr.zg)(W=>this.expandSegment(t,e,r,W.concat(x),a,!1)))}matchSegmentAgainstRoute(t,e,r,o,s){return"**"===r.path?(t=Dv(r,t),r.loadChildren?(r._loadedRoutes?(0,Qt.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,en.U)(u=>(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,new sr(o,{})))):(0,Qt.of)(new sr(o,{}))):Bb(e,r,o,t).pipe((0,ai.w)(({matched:a,consumedSegments:u,remainingSegments:h})=>{var x;return a?(t=null!==(x=r._injector)&&void 0!==x?x:t,this.getChildConfig(t,r,o).pipe((0,wr.zg)(L=>{var W;const q=null!==(W=L.injector)&&void 0!==W?W:t,ye=L.routes,{segmentGroup:Le,slicedSegments:rt}=yl(e,u,h,ye),it=new sr(Le.segments,Le.children);if(0===rt.length&&it.hasChildren())return this.expandChildren(q,ye,it).pipe((0,en.U)(rn=>new sr(u,rn)));if(0===ye.length&&0===rt.length)return(0,Qt.of)(new sr(u,{}));const lt=na(r)===s;return this.expandSegment(q,it,ye,rt,lt?ur:s,!0).pipe((0,en.U)(Pt=>new sr(u.concat(Pt.segments),Pt.children)))}))):id(e)}))}getChildConfig(t,e,r){return e.children?(0,Qt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Qt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Nb(n,t,e,r){const o=t.canLoad;if(void 0===o||0===o.length)return(0,Qt.of)(!0);const s=o.map(a=>{const u=td(a,n);return Xs(function Ob(n){return n&&Yf(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))});return(0,Qt.of)(s).pipe(ec(),VS())}(t,e,r).pipe((0,wr.zg)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,Hr.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function ZS(n){return(0,Qs._)(Cb(bg,3))}())):(0,Qt.of)({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Qt.of)(r);if(o.numberOfChildren>1||!o.children[ur])return(0,Qs._)(new i.vHH(4e3,bg));o=o.children[ur]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const s=this.createSegmentGroup(t,e.root,r,o);return new Js(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Ho(t,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const u=o.substring(1);r[s]=e[u]}else r[s]=o}),r}createSegmentGroup(t,e,r,o){const s=this.createSegments(t,e.segments,r,o);let a={};return Ho(e.children,(u,h)=>{a[h]=this.createSegmentGroup(t,u,r,o)}),new sr(s,a)}createSegments(t,e,r,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new i.vHH(4001,bg);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class qS{}class jb{constructor(t,e,r,o,s,a,u,h){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u,this.urlSerializer=h}recognize(){const t=yl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ur).pipe((0,en.U)(e=>{if(null===e)return null;const r=new gs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ur,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Va(r,e),s=new ta(this.url,o);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,r=vv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return(0,ao.D)(Object.keys(r.children)).pipe((0,Fi.b)(o=>{const s=r.children[o],a=Db(e,o);return this.processSegmentGroup(t,a,s,o)}),(0,Gu.R)((o,s)=>o&&s?(o.push(...s),o):null),(0,uS.o)(o=>null!==o),(0,nb.d)(null),(0,tb.Z)(),(0,en.U)(o=>{if(null===o)return null;const s=od(o);return function Hb(n){n.sort((t,e)=>t.value.outlet===ur?-1:e.value.outlet===ur?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,r,o,s){return(0,ao.D)(e).pipe((0,Fi.b)(a=>{var u;return this.processSegmentAgainstRoute(null!==(u=a._injector)&&void 0!==u?u:t,a,r,o,s)}),(0,ji.P)(a=>!!a),(0,Vr.K)(a=>{if(vg(a))return Fv(r,o,s)?(0,Qt.of)([]):(0,Qt.of)(null);throw a}))}processSegmentAgainstRoute(t,e,r,o,s){var a,u;if(e.redirectTo||!Pv(e,r,o,s))return(0,Qt.of)(null);let h;if("**"===e.path){const x=o.length>0?Rf(o).parameters:{},M=Gb(r)+o.length,L=new gs(o,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bv(e),na(e),null!==(u=null!==(a=e.component)&&void 0!==a?a:e._loadedComponent)&&void 0!==u?u:null,e,Vb(r),M,Uv(e),M);h=(0,Qt.of)({snapshot:L,consumedSegments:[],remainingSegments:[]})}else h=Bb(r,e,o,t).pipe((0,en.U)(({matched:x,consumedSegments:M,remainingSegments:L,parameters:W})=>{var q,ye;if(!x)return null;const Le=Gb(r)+M.length;return{snapshot:new gs(M,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bv(e),na(e),null!==(ye=null!==(q=e.component)&&void 0!==q?q:e._loadedComponent)&&void 0!==ye?ye:null,e,Vb(r),Le,Uv(e),Le),consumedSegments:M,remainingSegments:L}}));return h.pipe((0,ai.w)(x=>{var M,L;if(null===x)return(0,Qt.of)(null);const{snapshot:W,consumedSegments:q,remainingSegments:ye}=x;t=null!==(M=e._injector)&&void 0!==M?M:t;const Le=null!==(L=e._loadedInjector)&&void 0!==L?L:t,rt=function YS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:it,slicedSegments:lt}=yl(r,q,ye,rt.filter(Pt=>void 0===Pt.redirectTo),this.relativeLinkResolution);if(0===lt.length&&it.hasChildren())return this.processChildren(Le,rt,it).pipe((0,en.U)(Pt=>null===Pt?null:[new Va(W,Pt)]));if(0===rt.length&&0===lt.length)return(0,Qt.of)([new Va(W,[])]);const Ot=na(e)===s;return this.processSegment(Le,rt,it,lt,Ot?ur:s).pipe((0,en.U)(Pt=>null===Pt?null:[new Va(W,Pt)]))}))}}function Xf(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function od(n){const t=[],e=new Set;for(const r of n){if(!Xf(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=od(r.children);t.push(new Va(r.value,o))}return t.filter(r=>!e.has(r))}function Vb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Gb(n){var t,e;let r=n,o=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;for(;r._sourceSegment;)r=r._sourceSegment,o+=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;return o-1}function Bv(n){return n.data||{}}function Uv(n){return n.resolve||{}}function e2(n){return"string"==typeof n.title||null===n.title}function Zb(n){return(0,ai.w)(t=>{const e=n(t);return e?(0,ao.D)(e).pipe((0,en.U)(()=>t)):(0,Qt.of)(t)})}let jv=(()=>{class n{buildTitle(e){var r;let o,s=e.root;for(;void 0!==s;)o=null!==(r=this.getResolvedTitleForRoute(s))&&void 0!==r?r:o,s=s.children.find(a=>a.outlet===ur);return o}getResolvedTitleForRoute(e){return e.data[If]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(Jf)},providedIn:"root"}),n})(),Jf=(()=>{class n extends jv{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Je))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Hv{}class eh extends class Wb{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Eg=new i.OlP("",{providedIn:"root",factory:()=>({})}),Vv=new i.OlP("ROUTES");let Gv=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Qt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Xs(e.loadComponent()).pipe((0,Hr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),(0,rg.x)(()=>{this.componentLoaders.delete(e)})),o=new ba.c(r,()=>new yn.xQ).pipe((0,rb.x)());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Qt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,en.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);let h,x,M=!1;Array.isArray(u)?x=u:(h=u.create(e).injector,x=ob(h.get(Vv,[],i.XFs.Self|i.XFs.Optional)));return{routes:x.map(Tv),injector:h}}),(0,rg.x)(()=>{this.childrenLoaders.delete(r)})),a=new ba.c(s,()=>new yn.xQ).pipe((0,rb.x)());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(e){return Xs(e()).pipe((0,wr.zg)(r=>r instanceof i.YKP||Array.isArray(r)?(0,Qt.of)(r):(0,ao.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.zs3),i.LFG(i.Sil))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qb{}class n2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function th(n){throw n}function r2(n,t,e){return t.parse("/")}const Yb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qb(){var n,t;const e=(0,i.f3M)(Vc),r=(0,i.f3M)(Vf),o=(0,i.f3M)(ue),s=(0,i.f3M)(i.zs3),a=(0,i.f3M)(i.Sil),u=null!==(n=(0,i.f3M)(Vv,{optional:!0}))&&void 0!==n?n:[],h=null!==(t=(0,i.f3M)(Eg,{optional:!0}))&&void 0!==t?t:{},x=(0,i.f3M)(Jf),M=(0,i.f3M)(jv,{optional:!0}),L=(0,i.f3M)(qb,{optional:!0}),W=(0,i.f3M)(Hv,{optional:!0}),q=new Vi(null,e,r,o,s,a,ob(u));return L&&(q.urlHandlingStrategy=L),W&&(q.routeReuseStrategy=W),q.titleStrategy=null!=M?M:x,function Kb(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,q),q}let Vi=(()=>{class n{constructor(e,r,o,s,a,u,h){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yn.xQ,this.errorHandler=th,this.malformedUriErrorHandler=r2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Qt.of)(void 0),this.urlHandlingStrategy=new n2,this.routeReuseStrategy=new eh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(Gv),this.configLoader.onLoadEndListener=W=>this.triggerEvent(new ES(W)),this.configLoader.onLoadStartListener=W=>this.triggerEvent(new xS(W)),this.ngModule=a.get(i.h0i),this.console=a.get(i.c2e);const L=a.get(i.R0b);this.isNgZoneEnabled=L instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function pS(){return new Js(new sr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dg(this.currentUrlTree,this.rootComponentType),this.transitions=new Ui.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe((0,Tn.h)(o=>0!==o.id),(0,en.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),(0,ai.w)(o=>{let s=!1,a=!1;return(0,Qt.of)(o).pipe((0,Hr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ai.w)(u=>{const h=this.browserUrlTree.toString(),x=!this.navigated||u.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Sg(u.source)&&(this.browserUrlTree=u.extractedUrl),(0,Qt.of)(u).pipe((0,ai.w)(L=>{const W=this.transitions.getValue();return r.next(new lg(L.id,this.serializeUrl(L.extractedUrl),L.source,L.restoredState)),W!==this.transitions.getValue()?jo.E:Promise.resolve(L)}),function $S(n,t,e,r){return(0,ai.w)(o=>function WS(n,t,e,r,o){return new Qf(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,en.U)(s=>Object.assign(Object.assign({},o),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Hr.b)(L=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:L.urlAfterRedirects}),o.urlAfterRedirects=L.urlAfterRedirects}),function QS(n,t,e,r,o,s){return(0,wr.zg)(a=>function Ub(n,t,e,r,o,s,a="emptyOnly",u="legacy"){return new jb(n,t,e,r,o,a,u,s).recognize().pipe((0,ai.w)(h=>null===h?function xg(n){return new cr.y(t=>t.error(n))}(new qS):(0,Qt.of)(h)))}(n,t,e,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,o,s).pipe((0,en.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Hr.b)(L=>{if(o.targetSnapshot=L.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(q,L)}this.browserUrlTree=L.urlAfterRedirects}const W=new bS(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);r.next(W)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:q,source:ye,restoredState:Le,extras:rt}=u,it=new lg(W,this.serializeUrl(q),ye,Le);r.next(it);const lt=dg(q,this.rootComponentType).snapshot;return o=Object.assign(Object.assign({},u),{targetSnapshot:lt,urlAfterRedirects:q,extras:Object.assign(Object.assign({},rt),{skipLocationChange:!1,replaceUrl:!1})}),(0,Qt.of)(o)}return this.rawUrlTree=u.rawUrl,u.resolve(null),jo.E}),(0,Hr.b)(u=>{const h=new _b(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,en.U)(u=>o=Object.assign(Object.assign({},u),{guards:FS(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function Wc(n,t){return(0,wr.zg)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?(0,Qt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function US(n,t,e,r){return(0,ao.D)(n).pipe((0,wr.zg)(o=>function Lb(n,t,e,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Qt.of)(!0);const a=s.map(u=>{var h;const x=null!==(h=Wf(t))&&void 0!==h?h:o,M=td(u,x);return Xs(function Pb(n){return n&&Yf(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,r):x.runInContext(()=>M(n,t,e,r))).pipe((0,ji.P)())});return(0,Qt.of)(a).pipe(ec())}(o.component,o.route,e,t,r)),(0,ji.P)(o=>!0!==o,!0))}(a,r,o,n).pipe((0,wr.zg)(u=>u&&function Mb(n){return"boolean"==typeof n}(u)?function jS(n,t,e,r){return(0,ao.D)(t).pipe((0,Fi.b)(o=>(0,Tf.z)(function HS(n,t){return null!==n&&t&&t(new bb(n)),(0,Qt.of)(!0)}(o.route.parent,r),function rd(n,t){return null!==n&&t&&t(new wb(n)),(0,Qt.of)(!0)}(o.route,r),function JT(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function kS(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>(0,Yl.P)(()=>{const u=a.guards.map(h=>{var x;const M=null!==(x=Wf(a.node))&&void 0!==x?x:e,L=td(h,M);return Xs(function Rb(n){return n&&Yf(n.canActivateChild)}(L)?L.canActivateChild(r,n):M.runInContext(()=>L(r,n))).pipe((0,ji.P)())});return(0,Qt.of)(u).pipe(ec())}));return(0,Qt.of)(s).pipe(ec())}(n,o.path,e),function Mv(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Qt.of)(!0);const o=r.map(s=>(0,Yl.P)(()=>{var a;const u=null!==(a=Wf(t))&&void 0!==a?a:e,h=td(s,u);return Xs(function Ib(n){return n&&Yf(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe((0,ji.P)())}));return(0,Qt.of)(o).pipe(ec())}(n,o.route,e))),(0,ji.P)(o=>!0!==o,!0))}(r,s,n,t):(0,Qt.of)(u)),(0,en.U)(u=>Object.assign(Object.assign({},e),{guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Hr.b)(u=>{if(o.guardsResult=u.guardsResult,ja(u.guardsResult))throw Ev(0,u.guardsResult);const h=new wS(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(h)}),(0,Tn.h)(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Zb(u=>{if(u.guards.canActivateChecks.length)return(0,Qt.of)(u).pipe((0,Hr.b)(h=>{const x=new uo(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(x)}),(0,ai.w)(h=>{let x=!1;return(0,Qt.of)(h).pipe(function zb(n,t){return(0,wr.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Qt.of)(e);let s=0;return(0,ao.D)(o).pipe((0,Fi.b)(a=>function XS(n,t,e,r){const o=n.routeConfig,s=n._resolve;return void 0!==(null==o?void 0:o.title)&&!e2(o)&&(s[If]=o.title),function JS(n,t,e,r){const o=function eM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Qt.of)({});const s={};return(0,ao.D)(o).pipe((0,wr.zg)(a=>function tM(n,t,e,r){var o;const s=null!==(o=Wf(t))&&void 0!==o?o:r,a=td(n,s);return Xs(a.resolve?a.resolve(t,e):s.runInContext(()=>a(t,e)))}(n[a],t,e,r).pipe((0,ji.P)(),(0,Hr.b)(u=>{s[a]=u}))),(0,dS.h)(1),(0,Mf.h)(s),(0,Vr.K)(a=>vg(a)?jo.E:(0,Qs._)(a)))}(s,n,t,r).pipe((0,en.U)(a=>(n._resolvedData=a,n.data=vv(n,e).resolve,o&&e2(o)&&(n.data[If]=o.title),null)))}(a.route,r,n,t)),(0,Hr.b)(()=>s++),(0,dS.h)(1),(0,wr.zg)(a=>s===o.length?(0,Qt.of)(e):jo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Hr.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Hr.b)(h=>{const x=new yb(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(x)}))}),Zb(u=>{const h=x=>{var M;const L=[];(null===(M=x.routeConfig)||void 0===M?void 0:M.loadComponent)&&!x.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(x.routeConfig).pipe((0,Hr.b)(W=>{x.component=W}),(0,en.U)(()=>{})));for(const W of x.children)L.push(...h(W));return L};return(0,Vu.aj)(h(u.targetSnapshot.root)).pipe((0,nb.d)(),(0,Cr.q)(1))}),Zb(()=>this.afterPreactivation()),(0,en.U)(u=>{const h=function AS(n,t,e){const r=jf(n,t._root,e?e._root:void 0);return new ug(r,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return o=Object.assign(Object.assign({},u),{targetRouterState:h})}),(0,Hr.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,en.U)(r=>(new PS(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Hr.b)({next(){s=!0},complete(){s=!0}}),(0,rg.x)(()=>{var u;s||a||this.cancelNavigationTransition(o,"",1),(null===(u=this.currentNavigation)||void 0===u?void 0:u.id)===o.id&&(this.currentNavigation=null)}),(0,Vr.K)(u=>{var h;if(a=!0,Sv(u)){Cv(u)||(this.navigated=!0,this.restoreHistory(o,!0));const x=new gv(o.id,this.serializeUrl(o.extractedUrl),u.message,u.cancellationCode);if(r.next(x),Cv(u)){const M=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),L={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sg(o.source)};this.scheduleNavigation(M,"imperative",null,L,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const x=new vb(o.id,this.serializeUrl(o.extractedUrl),u,null!==(h=o.targetSnapshot)&&void 0!==h?h:void 0);r.next(x);try{o.resolve(this.errorHandler(u))}catch(M){o.reject(M)}}return jo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const s={replaceUrl:!0},a=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(a){const h=Object.assign({},a);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,r,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Tv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:h}=r,x=o||this.routerState.root,M=h?this.currentUrlTree.fragment:a;let L=null;switch(u){case"merge":L=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":L=this.currentUrlTree.queryParams;break;default:L=s||null}return null!==L&&(L=this.removeEmptyProps(L)),fb(x,this.currentUrlTree,e,L,null!=M?M:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=ja(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function s2(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new i.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?Object.assign({},Yb):!1===r?Object.assign({},o2):r,ja(e))return wa(this.currentUrlTree,e,o);const s=this.parseUrl(e);return wa(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const s=e[o];return null!=s&&(r[o]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _l(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,s,a){var u,h;if(this.disposed)return Promise.resolve(!1);let x,M,L;a?(x=a.resolve,M=a.reject,L=a.promise):L=new Promise((ye,Le)=>{x=ye,M=Le});const W=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),q=o&&o.\u0275routerPageId?o.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):q=0,this.setTransition({id:W,targetPageId:q,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:x,reject:M,promise:L,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),L.catch(ye=>Promise.reject(ye))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",s):this.location.go(o,"",s)}restoreHistory(e,r=!1){var o,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const s=new gv(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:function(){return Qb()},providedIn:"root"}),n})();function Sg(n){return"imperative"!==n}let zv=(()=>{class n{constructor(e,r,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new yn.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,i.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,i.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,i.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Vi),i.Y36(Jl),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})(),nh=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new yn.xQ,this.subscription=e.events.subscribe(s=>{s instanceof _l&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,i.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,i.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,i.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,s,a){return!!(0!==e||r||o||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Vi),i.Y36(Jl),i.Y36(K))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&i.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})(),Zv=(()=>{class n{constructor(e,r,o,s,a,u){this.router=e,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof _l&&this.update()})}ngAfterContentInit(){(0,Qt.of)(this.links.changes,this.linksWithHrefs.changes,(0,Qt.of)(null)).pipe((0,Of.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,ao.D)(r).pipe((0,Of.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function a2(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Vi),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(zv,8),i.Y36(nh,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,zv,5),i.Suo(o,nh,5)),2&e){let s;i.iGM(s=i.CRH())&&(r.links=s),i.iGM(s=i.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.TTD]}),n})();class Xb{}let l2=(()=>{class n{constructor(e,r,o,s,a){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tn.h)(e=>e instanceof _l),(0,Fi.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){var o,s,a;const u=[];for(const h of r){h.providers&&!h._injector&&(h._injector=(0,i.MMx)(h.providers,e,`Route: ${h.path}`));const x=null!==(o=h._injector)&&void 0!==o?o:e,M=null!==(s=h._loadedInjector)&&void 0!==s?s:x;h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent?u.push(this.preloadConfig(x,h)):(h.children||h._loadedRoutes)&&u.push(this.processRoutes(M,null!==(a=h.children)&&void 0!==a?a:h._loadedRoutes))}return(0,ao.D)(u).pipe((0,Of.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):(0,Qt.of)(null);const s=o.pipe((0,wr.zg)(a=>{var u;return null===a?(0,Qt.of)(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(null!==(u=a.injector)&&void 0!==u?u:e,a.routes))}));if(r.loadComponent&&!r._loadedComponent){const a=this.loader.loadComponent(r);return(0,ao.D)([s,a]).pipe((0,Of.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vi),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(Xb),i.LFG(Gv))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ag=new i.OlP("");let ew=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof lg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _l&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Zc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function sd(n,t){return{\u0275kind:n,\u0275providers:t}}function Wv(n){return[{provide:Vv,multi:!0,useValue:n}]}function nw(){const n=(0,i.f3M)(i.zs3);return t=>{var e,r;const o=n.get(i.z2F);if(t!==o.components[0])return;const s=n.get(Vi),a=n.get($v);1===n.get(Tg)&&s.initialNavigation(),null===(e=n.get(iw,null,i.XFs.Optional))||void 0===e||e.setUpPreloading(),null===(r=n.get(Ag,null,i.XFs.Optional))||void 0===r||r.init(),s.resetRootComponentType(o.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const $v=new i.OlP("",{factory:()=>new yn.xQ}),Tg=new i.OlP("",{providedIn:"root",factory:()=>1});const iw=new i.OlP("");function d2(n){return sd(0,[{provide:iw,useExisting:l2},{provide:Xb,useExisting:n}])}const qv=new i.OlP("ROUTER_FORROOT_GUARD"),Yv=[ue,{provide:Vc,useClass:Kl},{provide:Vi,useFactory:Qb},Vf,{provide:Jl,useFactory:function tw(n){return n.routerState.root},deps:[Vi]},Gv];function f2(){return new i.PXZ("Router",Vi)}let Xi=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Yv,[],Wv(e),{provide:qv,useFactory:ld,deps:[[Vi,new i.FiY,new i.tp0]]},{provide:Eg,useValue:r||{}},null!=r&&r.useHash?{provide:K,useClass:pe}:{provide:K,useClass:ae},{provide:Ag,useFactory:()=>{const n=(0,i.f3M)(Vi),t=(0,i.f3M)(Nd),e=(0,i.f3M)(Eg);return e.scrollOffset&&t.setOffset(e.scrollOffset),new ew(n,t,e)}},null!=r&&r.preloadingStrategy?d2(r.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:f2},null!=r&&r.initialNavigation?aw(r):[],[{provide:lw,useFactory:nw},{provide:i.tb,multi:!0,useExisting:lw}]]}}static forChild(e){return{ngModule:n,providers:[Wv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(qv,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Zf]}),n})();function ld(n){return"guarded"}function aw(n){return["disabled"===n.initialNavigation?sd(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const t=(0,i.f3M)(Vi);return()=>{t.setUpLocationChangeListener()}}},{provide:Tg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sd(2,[{provide:Tg,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:t=>{const e=t.get(k,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(Vi),u=t.get($v);(function o(s){t.get(Vi).events.pipe((0,Tn.h)(u=>u instanceof _l||u instanceof gv||u instanceof vb),(0,en.U)(u=>u instanceof _l||u instanceof gv&&(0===u.code||1===u.code)&&null),(0,Tn.h)(u=>null!==u),(0,Cr.q)(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),a.afterPreactivation=()=>(s(!0),r||u.closed?(0,Qt.of)(void 0):u),a.initialNavigation()}))}}]).\u0275providers:[]]}const lw=new i.OlP("");var Ei=g(8869),Mg=g(5674);function Og(n){var t;for(let e in n){let r=null!==(t=n[e])&&void 0!==t?t:"";switch(e){case"display":n.display="flex"===r?["-webkit-flex","flex"]:"inline-flex"===r?["-webkit-inline-flex","inline-flex"]:r;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=r;break;case"flex-direction":n["-webkit-flex-direction"]=r,n["flex-direction"]=r;break;case"order":n.order=n["-webkit-"+e]=isNaN(+r)?"0":r}}return n}const Qv="inline",rh=["row","column","row-reverse","column-reverse"];function Ig(n){let[t,e,r]=Xv(n);return function uw(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,r)}function Xv(n){var t;n=null!==(t=null==n?void 0:n.toLowerCase())&&void 0!==t?t:"";let[e,r,o]=n.split(" ");return rh.find(s=>s===e)||(e=rh[0]),r===Qv&&(r=o!==Qv?o:"",o=Qv),[e,cw(r),!!o]}function cd(n){let[t]=Xv(n);return t.indexOf("row")>-1}function cw(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function bl(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var tc=g(7065),za=g(3971),zn=g(9954);const lM={provide:i.tb,useFactory:function dw(n,t){return()=>{if(da(t)){const e=Array.from(n.querySelectorAll(`[class*=${Jv}]`)),r=/\bflex-layout-.+?\b/g;e.forEach(o=>{o.classList.contains(`${Jv}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(r,"")})}}},deps:[m,i.Lbi],multi:!0},Jv="flex-layout-";let e_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[lM]}),n})();class nc{constructor(t=!1,e="all",r="",o="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=r,this.suffix=o,this.priority=s,this.property=""}clone(){return new nc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let cM=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,r,o){const s=this.stylesheet.get(e);s?s.set(r,o):this.stylesheet.set(e,new Map([[r,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,r){const o=this.stylesheet.get(e);let s="";if(o){const a=o.get(r);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fw={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ea=new i.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>fw}),ud=new i.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Rg=new i.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Pg(n,t){var e;return n=null!==(e=null==n?void 0:n.clone())&&void 0!==e?e:new nc,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class ki{constructor(){this.shouldCache=!0}sideEffect(t,e,r){}}let yi=(()=>{class n{constructor(e,r,o,s){this._serverStylesheet=e,this._serverModuleLoaded=r,this._platformId=o,this.layoutConfig=s}applyStyleToElement(e,r,o=null){let s={};"string"==typeof r&&(s[r]=o,r=s),s=this.layoutConfig.disableVendorPrefixes?r:Og(r),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,r=[]){const o=this.layoutConfig.disableVendorPrefixes?e:Og(e);r.forEach(s=>{this._applyMultiValueStyleToElement(o,s)})}getFlowDirection(e){const r="flex-direction";let o=this.lookupStyle(e,r);return[o||"row",this.lookupInlineStyle(e,r)||Gs(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,r){var o;return null!==(o=e.getAttribute(r))&&void 0!==o?o:""}lookupInlineStyle(e,r){return da(this._platformId)?e.style.getPropertyValue(r):function hw(n,t){var e;return null!==(e=pw(n)[t])&&void 0!==e?e:""}(e,r)}lookupStyle(e,r,o=!1){let s="";return e&&((s=this.lookupInlineStyle(e,r))||(da(this._platformId)?o||(s=getComputedStyle(e).getPropertyValue(r)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,r)))),s?s.trim():""}_applyMultiValueStyleToElement(e,r){Object.keys(e).sort().forEach(o=>{const s=e[o],a=Array.isArray(s)?s:[s];a.sort();for(let u of a)u=u?u+"":"",da(this._platformId)||!this._serverModuleLoaded?da(this._platformId)?r.style.setProperty(o,u):g2(r,o,u):this._serverStylesheet.addStyleToElement(r,o,u)})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(cM),i.LFG(ud),i.LFG(i.Lbi),i.LFG(Ea))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g2(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=pw(n);r[t]=null!=e?e:"",function m2(n,t){let e="";for(const r in t)t[r]&&(e+=`${r}:${t[r]};`);n.setAttribute("style",e)}(n,r)}function pw(n){const t={},e=n.getAttribute("style");if(e){const r=e.split(/;+/g);for(let o=0;o<r.length;o++){const s=r[o].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function dd(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function v2(n,t){return(n.priority||0)-(t.priority||0)}let rc=(()=>{class n{constructor(e,r,o){this._zone=e,this._platformId=r,this._document=o,this.source=new Ui.X(new nc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((r,o)=>{r.matches&&e.push(o)}),e}isActive(e){var r;const o=this.registry.get(e);return null!==(r=null==o?void 0:o.matches)&&void 0!==r?r:this.registerQuery(e).some(s=>s.matches)}observe(e,r=!1){if(e&&e.length){const o=this._observable$.pipe((0,Tn.h)(a=>!r||e.indexOf(a.mediaQuery)>-1)),s=new cr.y(a=>{const u=this.registerQuery(e);if(u.length){const h=u.pop();u.forEach(x=>{a.next(x)}),this.source.next(h)}a.complete()});return(0,Ei.T)(s,o)}return this._observable$}registerQuery(e){const r=Array.isArray(e)?e:[e],o=[];return function gw(n,t){const e=n.filter(r=>!t_[r]);if(e.length>0){const r=e.join(", ");try{const o=t.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),t.head.appendChild(o),e.forEach(s=>t_[s]=o)}catch(o){console.error(o)}}}(r,this._document),r.forEach(s=>{const a=h=>{this._zone.run(()=>this.source.next(new nc(h.matches,s)))};let u=this.registry.get(s);u||(u=this.buildMQL(s),u.addListener(a),this.pendingRemoveListenerFns.push(()=>u.removeListener(a)),this.registry.set(s,u)),u.matches&&o.push(new nc(!0,s))}),o}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function vw(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function mw(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,da(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.R0b),i.LFG(i.Lbi),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t_={},_w=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],n_="(orientation: portrait) and (max-width: 599.98px)",yw="(orientation: landscape) and (max-width: 959.98px)",_2="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",r_="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",i_="(orientation: portrait) and (min-width: 840px)",bw="(orientation: landscape) and (min-width: 1280px)",wl={HANDSET:`${n_}, ${yw}`,TABLET:`${_2} , ${r_}`,WEB:`${i_}, ${bw} `,HANDSET_PORTRAIT:`${n_}`,TABLET_PORTRAIT:`${_2} `,WEB_PORTRAIT:`${i_}`,HANDSET_LANDSCAPE:`${yw}`,TABLET_LANDSCAPE:`${r_}`,WEB_LANDSCAPE:`${bw}`},y2=[{alias:"handset",priority:2e3,mediaQuery:wl.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:wl.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:wl.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:wl.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:wl.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:wl.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:wl.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:wl.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:wl.WEB_PORTRAIT,overlapping:!0}],ih=/(\.|-|_)/g;function b2(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Fg=new i.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,i.f3M)(Rg),t=(0,i.f3M)(Ea),e=[].concat.apply([],(n||[]).map(o=>Array.isArray(o)?o:[o]));return function w2(n,t=[]){const e={};return n.forEach(r=>{e[r.alias]=r}),t.forEach(r=>{e[r.alias]?bl(e[r.alias],r):e[r.alias]=r}),function Za(n){return n.forEach(t=>{t.suffix||(t.suffix=function o_(n){return n.replace(ih,"|").split("|").map(b2).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(r=>e[r]))}((t.disableDefaultBps?[]:_w).concat(t.addOrientationBps?y2:[]),e)}});let ic=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(v2)}findByAlias(e){return e?this.findWithPredicate(e,r=>r.alias===e):null}findByQuery(e){return this.findWithPredicate(e,r=>r.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>{var r;return null!==(r=null==e?void 0:e.suffix)&&void 0!==r?r:""})}findWithPredicate(e,r){var o;let s=this.findByMap.get(e);return s||(s=null!==(o=this.items.find(r))&&void 0!==o?o:null,this.findByMap.set(e,s)),null!=s?s:null}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Fg))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fd="print",x2={alias:fd,mediaQuery:fd,priority:1e3};let ww=(()=>{class n{constructor(e,r,o){this.breakpoints=e,this.layoutConfig=r,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new kg,this.deactivations=[]}withPrintQuery(e){return[...e,fd]}isPrintEvent(e){return e.mediaQuery.startsWith(fd)}get printAlias(){var e;return[...null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const r=this.breakpoints.findByQuery(e);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(dd)}updateEvent(e){var r;let o=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(o=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(r=null==o?void 0:o.mediaQuery)&&void 0!==r?r:""),Pg(e,o)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new nc(!0,fd))),e.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(o)}interceptEvents(e){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(r)),e.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,r)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,r){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const o=this.breakpoints.findByQuery(r.mediaQuery);if(o){const s=this.formerActivations&&this.formerActivations.includes(o),a=!this.formerActivations&&e.activatedBreakpoints.includes(o);(s||a)&&(this.deactivations.push(o),this.deactivations.sort(dd))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ic),i.LFG(Ea),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kg{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(x2),t.sort(dd),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Lg(n){var t;return null!==(t=null==n?void 0:n.mediaQuery.startsWith(fd))&&void 0!==t&&t}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Ci=(()=>{class n{constructor(e,r,o){this.matchMedia=e,this.breakpoints=r,this.hook=o,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new yn.xQ,this.observeActivations()}get activatedAlias(){var e,r;return null!==(r=null===(e=this.activatedBreakpoints[0])||void 0===e?void 0:e.alias)&&void 0!==r?r:""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const r=this.findByQuery(e.mediaQuery);if(r){e=Pg(e,r);const o=this.activatedBreakpoints.indexOf(r);e.matches&&-1===o?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(dd),this.updateStyles()):!e.matches&&-1!==o&&(this._activatedBreakpoints.splice(o,1),this._activatedBreakpoints.sort(dd),this.updateStyles())}}init(e,r,o,s,a=[]){xw(this.updateMap,e,r,o),xw(this.clearMap,e,r,s),this.buildElementKeyMap(e,r),this.watchExtraTriggers(e,r,a)}getValue(e,r,o){const s=this.elementMap.get(e);if(s){const a=void 0!==o?s.get(o):this.getActivatedValues(s,r);if(a)return a.get(r)}}hasValue(e,r){const o=this.elementMap.get(e);if(o){const s=this.getActivatedValues(o,r);if(s)return void 0!==s.get(r)||!1}return!1}setValue(e,r,o,s){var a;let u=this.elementMap.get(e);if(u){const x=(null!==(a=u.get(s))&&void 0!==a?a:new Map).set(r,o);u.set(s,x),this.elementMap.set(e,u)}else u=(new Map).set(s,(new Map).set(r,o)),this.elementMap.set(e,u);const h=this.getValue(e,r);void 0!==h&&this.updateElement(e,r,h)}trackValue(e,r){return this.subject.asObservable().pipe((0,Tn.h)(o=>o.element===e&&o.key===r))}updateStyles(){this.elementMap.forEach((e,r)=>{const o=new Set(this.elementKeyMap.get(r));let s=this.getActivatedValues(e);s&&s.forEach((a,u)=>{this.updateElement(r,u,a),o.delete(u)}),o.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const u=s.get(a);this.updateElement(r,a,u)}else this.clearElement(r,a)})})}clearElement(e,r){const o=this.clearMap.get(e);if(o){const s=o.get(r);s&&(s(),this.subject.next({element:e,key:r,value:""}))}}updateElement(e,r,o){const s=this.updateMap.get(e);if(s){const a=s.get(r);a&&(a(o),this.subject.next({element:e,key:r,value:o}))}}releaseElement(e){const r=this.watcherMap.get(e);r&&(r.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const o=this.elementMap.get(e);o&&(o.forEach((s,a)=>o.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,r){const o=this.elementMap.get(e);if(o){const s=this.getActivatedValues(o,r);s&&(r?this.updateElement(e,r,s.get(r)):s.forEach((a,u)=>this.updateElement(e,u,a)))}}buildElementKeyMap(e,r){let o=this.elementKeyMap.get(e);o||(o=new Set,this.elementKeyMap.set(e,o)),o.add(r)}watchExtraTriggers(e,r,o){if(o&&o.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(r)){const u=(0,Ei.T)(...o).subscribe(()=>{const h=this.getValue(e,r);this.updateElement(e,r,h)});s.set(r,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,r){for(let s=0;s<this.activatedBreakpoints.length;s++){const u=e.get(this.activatedBreakpoints[s].alias);if(u&&(void 0===r||u.has(r)&&null!=u.get(r)))return u}if(!this._useFallbacks)return;const o=e.get("");return void 0===r||o&&o.has(r)?o:void 0}observeActivations(){const e=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Hr.b)(this.hook.interceptEvents(this)),(0,Tn.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(rc),i.LFG(ic),i.LFG(ww))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xw(n,t,e,r){var o;if(void 0!==r){const s=null!==(o=n.get(t))&&void 0!==o?o:new Map;s.set(e,r),n.set(t,s)}}let Si=(()=>{class n{constructor(e,r,o,s){this.elementRef=e,this.styleBuilder=r,this.styler=o,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new yn.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const o=r.split(".").slice(1).join(".");this.setValue(e[r].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,r){const o=this.styleBuilder,s=o.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=o.buildStyles(e,r),s&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),o.sideEffect(e,a,r)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,r=!1){if(e){const[o,s]=this.styler.getFlowDirection(e);if(!s&&r){const a=Ig(o);this.styler.applyStyleToElements(a,[e])}return o.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,r,o=this.nativeElement){this.styler.applyStyleToElement(o,e,r)}setValue(e,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,r)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(ki),i.Y36(yi),i.Y36(Ci))},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();EventTarget;let S2=(()=>{class n{constructor(e,r,o){this.breakpoints=e,this.matchMedia=r,this.hook=o,this.filterOverlaps=!1,this.destroyed$=new yn.xQ,this._media$=this.watchActivations()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}asObservable(){return this._media$}isActive(e){return function a_(n){return n.flatMap(t=>t.split(",")).map(t=>t.trim())}(function C2(n){return Array.isArray(n)?n:[n]}(e)).some(o=>{const s=function uM(n,t){var e,r;const o=null!==(e=t.findByAlias(n))&&void 0!==e?e:t.findByQuery(n);return null!==(r=null==o?void 0:o.mediaQuery)&&void 0!==r?r:null}(o,this.breakpoints);return null!==s&&this.matchMedia.isActive(s)})}watchActivations(){const e=this.breakpoints.items.map(r=>r.mediaQuery);return this.buildObservable(e)}buildObservable(e){return this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Tn.h)(a=>a.matches),(0,tc.b)(0,Mg.E),(0,ai.w)(a=>(0,Qt.of)(this.findAllActivations())),(0,en.U)(a=>this.filterOverlaps?a.filter(u=>{var h;const x=this.breakpoints.findByQuery(u.mediaQuery);return null===(h=null==x?void 0:x.overlapping)||void 0===h||h}):a),(0,Tn.h)(a=>a.filter(h=>h.mediaQuery.length>0).length>0),(0,za.x)((a,u)=>{if(a.length!==u.length)return!1;const h=a.map(L=>L.mediaQuery),x=new Set(u.map(L=>L.mediaQuery));return 0===new Set(h.filter(L=>!x.has(L))).size}),(0,zn.R)(this.destroyed$))}findAllActivations(){return this.matchMedia.activations.map(o=>new nc(!0,o)).map(o=>this.hook.isPrintEvent(o)?this.hook.updateEvent(o):o).map(o=>Pg(o,this.breakpoints.findByQuery(o.mediaQuery))).sort(dd)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ic),i.LFG(rc),i.LFG(ww))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l_(n,t="1",e="1"){let r=[t,e,n],o=n.indexOf("calc");if(o>0){r[2]=Ng(n.substring(o).trim());let s=n.substr(0,o).trim().split(" ");2==s.length&&(r[0]=s[0],r[1]=s[1])}else if(0==o)r[2]=Ng(n.trim());else{let s=n.split(" ");r=3===s.length?s:[t,e,n]}return r}function Ng(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Ug(n,t){if(void 0===t)return n;const e=r=>{const o=+r.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(o)?`${o*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}let $c=(()=>{class n{constructor(e){this.mediaObserver=e}setSideNav(e){this.sidenav=e}toggleSidenav(){this.sidenav&&this.sidenav.toggle()}get isMobile(){return this.mediaObserver.isActive("xs")||this.mediaObserver.isActive("sm")}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(S2))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var xl=g(4557),Sw=g(3255);class oh{}let jg=(()=>{class n extends oh{getTranslation(e){return(0,Qt.of)({})}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Hg{}let c_=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function hd(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let o,s,a,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(s in a=Object.create(null),n){if(!hd(n[s],t[s]))return!1;a[s]=!0}for(s in t)if(!(s in a)&&void 0!==t[s])return!1;return!0}if(!Array.isArray(t))return!1;if((o=n.length)==t.length){for(s=0;s<o;s++)if(!hd(n[s],t[s]))return!1;return!0}}return!1}function ms(n){return null!=n}function u_(n){return n&&"object"==typeof n&&!Array.isArray(n)}function d_(n,t){let e=Object.assign({},n);return u_(n)&&u_(t)&&Object.keys(t).forEach(r=>{u_(t[r])?r in n?e[r]=d_(n[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e}class sh{}let Aw=(()=>{class n extends sh{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,r){let o;return o="string"==typeof e?this.interpolateString(e,r):"function"==typeof e?this.interpolateFunction(e,r):e,o}getValue(e,r){let o="string"==typeof r?r.split("."):[r];r="";do{r+=o.shift(),!ms(e)||!ms(e[r])||"object"!=typeof e[r]&&o.length?o.length?r+=".":e=void 0:(e=e[r],r="")}while(o.length);return e}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(o,s)=>{let a=this.getValue(r,s);return ms(a)?a:o}):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class ah{}let f_=(()=>{class n extends ah{compile(e,r){return e}compileTranslations(e,r){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Vo{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.vpe,this.onLangChange=new i.vpe,this.onDefaultLangChange=new i.vpe}}const oc=new i.OlP("USE_STORE"),h_=new i.OlP("USE_DEFAULT_LANG"),p_=new i.OlP("DEFAULT_LANGUAGE"),Dw=new i.OlP("USE_EXTEND");let sc=(()=>{class n{constructor(e,r,o,s,a,u=!0,h=!1,x=!1,M){this.store=e,this.currentLoader=r,this.compiler=o,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=u,this.isolate=h,this.extend=x,this.pending=!1,this._onTranslationChange=new i.vpe,this._onLangChange=new i.vpe,this._onDefaultLangChange=new i.vpe,this._langs=[],this._translations={},this._translationRequests={},M&&this.setDefaultLang(M)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let r=this.retrieveTranslations(e);void 0!==r?(null==this.defaultLang&&(this.defaultLang=e),r.pipe((0,Cr.q)(1)).subscribe(o=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,Qt.of)(this.translations[e]);let r=this.retrieveTranslations(e);return void 0!==r?(this.currentLang||(this.currentLang=e),r.pipe((0,Cr.q)(1)).subscribe(o=>{this.changeLang(e)}),r):(this.changeLang(e),(0,Qt.of)(this.translations[e]))}retrieveTranslations(e){let r;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),r=this._translationRequests[e]),r}getTranslation(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe((0,Sw.d)(1),(0,Cr.q)(1));return this.loadingTranslations=r.pipe((0,en.U)(o=>this.compiler.compileTranslations(o,e)),(0,Sw.d)(1),(0,Cr.q)(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},o),this.translations[e]):o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),r}setTranslation(e,r,o=!1){r=this.compiler.compileTranslations(r,e),this.translations[e]=(o||this.extend)&&this.translations[e]?d_(this.translations[e],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,r,o){let s;if(r instanceof Array){let a={},u=!1;for(let h of r)a[h]=this.getParsedResult(e,h,o),(0,xl.b)(a[h])&&(u=!0);if(u){const h=r.map(x=>(0,xl.b)(a[x])?a[x]:(0,Qt.of)(a[x]));return(0,ep.D)(h).pipe((0,en.U)(x=>{let M={};return x.forEach((L,W)=>{M[r[W]]=L}),M}))}return a}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,r),o)),void 0===s&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),o)),void 0===s){let a={key:r,translateService:this};void 0!==o&&(a.interpolateParams=o),s=this.missingTranslationHandler.handle(a)}return void 0!==s?s:r}get(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Fi.b)(o=>(o=this.getParsedResult(o,e,r),(0,xl.b)(o)?o:(0,Qt.of)(o))));{let o=this.getParsedResult(this.translations[this.currentLang],e,r);return(0,xl.b)(o)?o:(0,Qt.of)(o)}}getStreamOnTranslationChange(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');return(0,Tf.z)((0,Yl.P)(()=>this.get(e,r)),this.onTranslationChange.pipe((0,ai.w)(o=>{const s=this.getParsedResult(o.translations,e,r);return"function"==typeof s.subscribe?s:(0,Qt.of)(s)})))}stream(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');return(0,Tf.z)((0,Yl.P)(()=>this.get(e,r)),this.onLangChange.pipe((0,ai.w)(o=>{const s=this.getParsedResult(o.translations,e,r);return(0,xl.b)(s)?s:(0,Qt.of)(s)})))}instant(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');let o=this.getParsedResult(this.translations[this.currentLang],e,r);if((0,xl.b)(o)){if(e instanceof Array){let s={};return e.forEach((a,u)=>{s[e[u]]=e[u]}),s}return e}return o}set(e,r,o=this.currentLang){this.translations[o][e]=this.compiler.compile(r,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vo),i.LFG(oh),i.LFG(ah),i.LFG(sh),i.LFG(Hg),i.LFG(h_),i.LFG(oc),i.LFG(Dw),i.LFG(p_))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ra=(()=>{class n{constructor(e,r,o){this.translateService=e,this.element=r,this._ref=o,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(s=>{s.lang===this.translateService.currentLang&&this.checkNodes(!0,s.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(s=>{this.checkNodes(!0,s.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(s=>{this.checkNodes(!0)}))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){hd(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,r){let o=this.element.nativeElement.childNodes;o.length||(this.setContent(this.element.nativeElement,this.key),o=this.element.nativeElement.childNodes);for(let s=0;s<o.length;++s){let a=o[s];if(3===a.nodeType){let u;if(e&&(a.lastKey=null),ms(a.lookupKey))u=a.lookupKey;else if(this.key)u=this.key;else{let h=this.getContent(a),x=h.trim();x.length&&(a.lookupKey=x,h!==a.currentValue?(u=x,a.originalContent=h||a.originalContent):a.originalContent?u=a.originalContent.trim():h!==a.currentValue&&(u=x,a.originalContent=h||a.originalContent))}this.updateValue(u,a,r)}}}updateValue(e,r,o){if(e){if(r.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let s=a=>{a!==e&&(r.lastKey=e),r.originalContent||(r.originalContent=this.getContent(r)),r.currentValue=ms(a)?a:r.originalContent||e,this.setContent(r,this.key?r.currentValue:r.originalContent.replace(e,r.currentValue)),this._ref.markForCheck()};if(ms(o)){let a=this.translateService.getParsedResult(o,e,this.currentParams);(0,xl.b)(a)?a.subscribe({next:s}):s(a)}else this.translateService.get(e,this.currentParams).subscribe(s)}}getContent(e){return ms(e.textContent)?e.textContent:e.data}setContent(e,r){ms(e.textContent)?e.textContent=r:e.data=r}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(sc),i.Y36(i.SBq),i.Y36(i.sBO))},n.\u0275dir=i.lG2({type:n,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),n})(),fo=(()=>{class n{constructor(e,r){this.translate=e,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,r,o){let s=a=>{this.value=void 0!==a?a:e,this.lastKey=e,this._ref.markForCheck()};if(o){let a=this.translate.getParsedResult(o,e,r);(0,xl.b)(a.subscribe)?a.subscribe(s):s(a)}this.translate.get(e,r).subscribe(s)}transform(e,...r){if(!e||!e.length)return e;if(hd(e,this.lastKey)&&hd(r,this.lastParams))return this.value;let o;if(ms(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{o=JSON.parse(s)}catch(a){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(o=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,o,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(sc,16),i.Y36(i.sBO,16))},n.\u0275pipe=i.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Go=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:oh,useClass:jg},e.compiler||{provide:ah,useClass:f_},e.parser||{provide:sh,useClass:Aw},e.missingTranslationHandler||{provide:Hg,useClass:c_},Vo,{provide:oc,useValue:e.isolate},{provide:h_,useValue:e.useDefaultLang},{provide:Dw,useValue:e.extend},{provide:p_,useValue:e.defaultLanguage},sc]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:oh,useClass:jg},e.compiler||{provide:ah,useClass:f_},e.parser||{provide:sh,useClass:Aw},e.missingTranslationHandler||{provide:Hg,useClass:c_},{provide:oc,useValue:e.isolate},{provide:h_,useValue:e.useDefaultLang},{provide:Dw,useValue:e.extend},{provide:p_,useValue:e.defaultLanguage},sc]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function zo(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})}var Iw=g(228),pd=g(1049),Rw=g(6597);class __{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}}class y_{}class Gg{}let P2=(()=>{class n extends Gg{now(){return Date.now()}new(){return new Date}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class b_{}class ac{}let Pw=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,r){this.data.set(e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class w_{constructor(t){this.type=t}}class ia extends w_{constructor(t,e=null){super(t),this.info=e}}class Wa extends w_{constructor(t,e=null){super(t),this.info=e}}class Ji extends w_{constructor(t,e,r=null){super(t),this.reason=e,this.params=r}}function k2(n){const t=n.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Fw(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class zg{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}}class Zg{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}class kw{}let L2=(()=>{class n{getHashFragmentParams(e){let r=e||window.location.hash;if(r=decodeURIComponent(r),0!==r.indexOf("#"))return{};const o=r.indexOf("?");return r=r.substr(o>-1?o+1:1),this.parseQueryString(r)}parseQueryString(e){const r={};let o,s,a,u,h,x,M;if(null===e)return r;o=e.split("&");for(let L=0;L<o.length;L++)s=o[L],a=s.indexOf("="),-1===a?(u=s,h=null):(u=s.substr(0,a),h=s.substr(a+1)),x=decodeURIComponent(u),M=decodeURIComponent(h),"/"===x.substr(0,1)&&(x=x.substr(1)),r[x]=M;return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Lw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function gd(n,t,e,r,o){let s,a,u,h,x,M,L,W,q,ye,Le,rt,it;for(;o>=64;){for(s=t[0],a=t[1],u=t[2],h=t[3],x=t[4],M=t[5],L=t[6],W=t[7],ye=0;ye<16;ye++)Le=r+4*ye,n[ye]=(255&e[Le])<<24|(255&e[Le+1])<<16|(255&e[Le+2])<<8|255&e[Le+3];for(ye=16;ye<64;ye++)q=n[ye-2],rt=(q>>>17|q<<15)^(q>>>19|q<<13)^q>>>10,q=n[ye-15],it=(q>>>7|q<<25)^(q>>>18|q<<14)^q>>>3,n[ye]=(rt+n[ye-7]|0)+(it+n[ye-16]|0);for(ye=0;ye<64;ye++)rt=(((x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7))+(x&M^~x&L)|0)+(W+(Lw[ye]+n[ye]|0)|0)|0,it=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&a^s&u^a&u)|0,W=L,L=M,M=x,x=h+rt|0,h=u,u=a,a=s,s=rt+it|0;t[0]+=s,t[1]+=a,t[2]+=u,t[3]+=h,t[4]+=x,t[5]+=M,t[6]+=L,t[7]+=W,r+=64,o-=64}return r}class ch{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let r=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[r++],e--;64===this.bufferLength&&(gd(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(r=gd(this.temp,this.state,t,r,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[r++],e--;return this}finish(t){if(!this.finished){const e=this.bytesHashed,r=this.bufferLength,o=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[r]=128;for(let u=r+1;u<a-8;u++)this.buffer[u]=0;this.buffer[a-8]=o>>>24&255,this.buffer[a-7]=o>>>16&255,this.buffer[a-6]=o>>>8&255,this.buffer[a-5]=o>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,gd(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let e=0;e<8;e++)t[4*e+0]=this.state[e]>>>24&255,t[4*e+1]=this.state[e]>>>16&255,t[4*e+2]=this.state[e]>>>8&255,t[4*e+3]=this.state[e]>>>0&255;return this}digest(){const t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class Bw{}let $g=(()=>{class n{calcHash(e,r){return zo(this,void 0,void 0,function*(){return function j2(n){var t,e=[];for(t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}(function CM(n){const t=(new ch).update(n),e=t.digest();return t.clean(),e}(function U2(n){if("string"!=typeof n)throw new TypeError("expected string");var t,e=n,r=new Uint8Array(e.length);for(t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}(e)))})}toHashString2(e){let r="";for(let o of e)r+=String.fromCharCode(o);return r}toHashString(e){const r=new Uint8Array(e);let o="";for(let s of r)o+=String.fromCharCode(s);return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),E_=(()=>{class n extends zg{constructor(e,r,o,s,a,u,h,x,M,L){var W;super(),this.ngZone=e,this.http=r,this.config=a,this.urlHelper=u,this.logger=h,this.crypto=x,this.dateTimeService=L,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new yn.xQ,this.discoveryDocumentLoadedSubject=new yn.xQ,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=M,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),s&&(this.tokenValidationHandler=s),a&&this.configure(a);try{o?this.setStorage(o):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(q){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",q)}if(this.checkLocalStorageAccessable()){const q=null===(W=null==window?void 0:window.navigator)||void 0===W?void 0:W.userAgent;((null==q?void 0:q.includes("MSIE "))||(null==q?void 0:q.includes("Trident")))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if("undefined"==typeof window)return!1;const e="test";try{return void 0!==window.localStorage&&(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch(r){return!1}}configure(e){Object.assign(this,new zg,e),this.config=Object.assign({},new zg,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,Tn.h)(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},r,o=!0){let s=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,Hr.b)(a=>{"token_received"===a.type?s=!0:"logout"===a.type&&(s=!1)}),(0,Tn.h)(a=>"token_expires"===a.type&&(null==r||"any"===r||a.info===r)),(0,tc.b)(1e3)).subscribe(a=>{s&&this.refreshInternal(e,o).catch(u=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,r){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(e,r):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(r=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e=e||{}).then(r=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof e.state?e.state:""),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(this.logger,e)}validateUrlFromDiscoveryDocument(e){const r=[],o=this.validateUrlForHttps(e),s=this.validateUrlAgainstIssuer(e);return o||r.push("https for all urls required. Also for urls received by discovery."),s||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(e){if(!e)return!0;const r=e.toLowerCase();return!(!1!==this.requireHttps&&(!r.match(/^http:\/\/localhost($|[:\/])/)&&!r.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,r){if(!e)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,Tn.h)(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),o=this.calcTimeout(r,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,Qt.of)(new Wa("token_expires","access_token")).pipe((0,pd.g)(o)).subscribe(s=>{this.ngZone.run(()=>{this.eventsSubject.next(s)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),o=this.calcTimeout(r,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,Qt.of)(new Wa("token_expires","id_token")).pipe((0,pd.g)(o)).subscribe(s=>{this.ngZone.run(()=>{this.eventsSubject.next(s)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,r){const o=this.dateTimeService.now(),a=Math.max(0,(r-e)*this.timeoutFactor-(o-e)),u=2147483647;return a>u?u:a}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((r,o)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(s=>{if(!this.validateDiscoveryDocument(s))return this.eventsSubject.next(new Ji("discovery_document_validation_error",null)),void o("discovery_document_validation_error");this.loginUrl=s.authorization_endpoint,this.logoutUrl=s.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=s.grant_types_supported,this.issuer=s.issuer,this.tokenEndpoint=s.token_endpoint,this.userinfoEndpoint=s.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=s.jwks_uri,this.sessionCheckIFrameUrl=s.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(s),this.revocationEndpoint=s.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{const h=new ia("discovery_document_loaded",{discoveryDocument:s,jwks:a});this.eventsSubject.next(h),r(h)}).catch(a=>{this.eventsSubject.next(new Ji("discovery_document_load_error",a)),o(a)})},s=>{this.logger.error("error loading discovery document",s),this.eventsSubject.next(new Ji("discovery_document_load_error",s)),o(s)}):o("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((e,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(o=>{this.jwks=o,e(o)},o=>{this.logger.error("error loading jwks",o),this.eventsSubject.next(new Ji("jwks_load_error",o)),r(o)}):e(null)})}validateDiscoveryDocument(e){let r;return this.skipIssuerCheck||e.issuer===this.issuer?(r=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(e.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(e.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,r,o=new Fr){return this.fetchTokenUsingPasswordFlow(e,r,o).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,r)=>{const o=(new Fr).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:o,observe:"response",responseType:"text"}).subscribe(s=>{if(this.debug("userinfo received",JSON.stringify(s)),s.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(s.body);const u=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!u.sub||a.sub!==u.sub))return void r("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");a=Object.assign({},u,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new ia("user_profile_loaded")),e({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new ia("user_profile_loaded")),e(JSON.parse(s.body))},s=>{this.logger.error("error loading user info",s),this.eventsSubject.next(new Ji("user_profile_load_error",s)),r(s)})})}fetchTokenUsingPasswordFlow(e,r,o=new Fr){return this.fetchTokenUsingGrant("password",{username:e,password:r},o)}fetchTokenUsingGrant(e,r,o=new Fr){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new _i({encoder:new Zg}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);for(const a of Object.keys(r))s=s.set(a,r[a]);return o=o.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,u)=>{this.http.post(this.tokenEndpoint,s,{headers:o}).subscribe(h=>{this.debug("tokenResponse",h),this.storeAccessTokenResponse(h.access_token,h.refresh_token,h.expires_in||this.fallbackAccessTokenExpirationTimeInSec,h.scope,this.extractRecognizedCustomParameters(h)),this.oidc&&h.id_token&&this.processIdToken(h.id_token,h.access_token).then(x=>{this.storeIdToken(x),a(h)}),this.eventsSubject.next(new ia("token_received")),a(h)},h=>{this.logger.error("Error performing ${grantType} flow",h),this.eventsSubject.next(new Ji("token_error",h)),u(h)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,r)=>{let o=new _i({encoder:new Zg}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),s=(new Fr).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,o,{headers:s}).pipe((0,ai.w)(a=>this.oidc&&a.id_token?(0,ao.D)(this.processIdToken(a.id_token,a.access_token,!0)).pipe((0,Hr.b)(u=>this.storeIdToken(u)),(0,en.U)(u=>a)):(0,Qt.of)(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new ia("token_received")),this.eventsSubject.next(new ia("token_refreshed")),e(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new Ji("token_refresh_error",a)),r(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const r=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(o=>this.debug("tryLogin during silent refresh failed",o))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},r=!0){const o=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(void 0===this.document)throw new Error("silent refresh is not supported on this platform");const s=this.document.getElementById(this.silentRefreshIFrameName);s&&this.document.body.removeChild(s),this.silentRefreshSubject=o.sub;const a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,r,e).then(L=>{a.setAttribute("src",L),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});const h=this.events.pipe((0,Tn.h)(L=>L instanceof Ji),(0,ji.P)()),x=this.events.pipe((0,Tn.h)(L=>"token_received"===L.type),(0,ji.P)()),M=(0,Qt.of)(new Ji("silent_refresh_timeout",null)).pipe((0,pd.g)(this.silentRefreshTimeout));return(0,Iw.S3)([h,x,M]).pipe((0,en.U)(L=>{if(L instanceof Ji)throw"silent_refresh_timeout"===L.type||(L=new Ji("silent_refresh_error",L)),this.eventsSubject.next(L),L;return"token_received"===L.type&&(L=new ia("silently_refreshed"),this.eventsSubject.next(L)),L})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((o,s)=>{let h,u=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(u=e.windowRef,u.location.href=r):u=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));const x=ye=>{this.tryLogin({customHashFragment:ye,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{L(),o(!0)},Le=>{L(),s(Le)})};u?h=window.setInterval(()=>{(!u||u.closed)&&(L(),s(new Ji("popup_closed",{})))},500):s(new Ji("popup_blocked",{}));const L=()=>{window.clearInterval(h),window.removeEventListener("storage",q),window.removeEventListener("message",W),null!==u&&u.close(),u=null},W=ye=>{const Le=this.processMessageEventMessage(ye);Le&&null!==Le?(window.removeEventListener("storage",q),x(Le)):console.log("false event firing")},q=ye=>{"auth_hash"===ye.key&&(window.removeEventListener("message",W),x(ye.newValue))};window.addEventListener("message",W),window.addEventListener("storage",q)}))}calculatePopupFeatures(e){const r=e.height||470,o=e.width||500,s=window.screenLeft+(window.outerWidth-o)/2;return`location=no,toolbar=no,width=${o},height=${r},top=${window.screenTop+(window.outerHeight-r)/2},left=${s}`}processMessageEventMessage(e){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const o=e.data;return o.startsWith(r)?"#"+o.substr(r.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?void 0!==this.document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const r=e.origin.toLowerCase(),o=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),o.startsWith(r)){switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)}else this.debug("sessionCheckEventListener","wrong origin",r,"expected",o,"event",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Wa("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Wa("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Wa("session_terminated")),this.logOut(!0)):this.refreshToken().then(e=>{this.debug("token refresh after session change worked")}).catch(e=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Wa("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,Tn.h)(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),(0,ji.P)()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Wa("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Wa("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);const r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),r.setAttribute("src",this.sessionCheckIFrameUrl),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const r=this.getSessionState();r||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+r,this.issuer)}createLoginUrl(e="",r="",o="",s=!1,a={}){return zo(this,void 0,void 0,function*(){const u=this;let h;h=o||this.redirectUri;const x=yield this.createAndSaveNonce();if(e=e?x+this.config.nonceStateSeparator+encodeURIComponent(e):x,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const M=u.loginUrl.indexOf("?")>-1?"&":"?";let L=u.scope;this.oidc&&!L.match(/(^|\s)openid($|\s)/)&&(L="openid "+L);let W=u.loginUrl+M+"response_type="+encodeURIComponent(u.responseType)+"&client_id="+encodeURIComponent(u.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(h)+"&scope="+encodeURIComponent(L);if(this.responseType.includes("code")&&!this.disablePKCE){const[q,ye]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("PKCE_verifier",ye):this._storage.setItem("PKCE_verifier",ye),W+="&code_challenge="+q,W+="&code_challenge_method=S256"}r&&(W+="&login_hint="+encodeURIComponent(r)),u.resource&&(W+="&resource="+encodeURIComponent(u.resource)),u.oidc&&(W+="&nonce="+encodeURIComponent(x)),s&&(W+="&prompt=none");for(const q of Object.keys(a))W+="&"+encodeURIComponent(q)+"="+encodeURIComponent(a[q]);if(this.customQueryParams)for(const q of Object.getOwnPropertyNames(this.customQueryParams))W+="&"+q+"="+encodeURIComponent(this.customQueryParams[q]);return W})}initImplicitFlowInternal(e="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let o={},s=null;"string"==typeof r?s=r:"object"==typeof r&&(o=r),this.createLoginUrl(e,s,null,!1,o).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(e="",r=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,r):this.events.pipe((0,Tn.h)(o=>"discovery_document_loaded"===o.type)).subscribe(o=>this.initImplicitFlowInternal(e,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const r=this;if(e.onTokenReceived){const o={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};e.onTokenReceived(o)}}storeAccessTokenResponse(e,r,o,s,a){if(this._storage.setItem("access_token",e),s&&!Array.isArray(s)?this._storage.setItem("granted_scopes",JSON.stringify(s.split(" "))):s&&Array.isArray(s)&&this._storage.setItem("granted_scopes",JSON.stringify(s)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),o){const u=1e3*o,x=this.dateTimeService.new().getTime()+u;this._storage.setItem("expires_at",""+x)}r&&this._storage.setItem("refresh_token",r),a&&a.forEach((u,h)=>{this._storage.setItem(h,u)})}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(e).then(r=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(e=null){return zo(this,void 0,void 0,function*(){const r=(e=e||{}).customHashFragment?e.customHashFragment.substring(1):window.location.search,o=this.getCodePartsFromUrl(r),s=o.code,a=o.state,u=o.session_state;if(!e.preventClearHashAfterLogin){const M=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,M)}let[h,x]=this.parseState(a);if(this.state=x,o.error){this.debug("error trying to login"),this.handleLoginError(e,o);const M=new Ji("code_error",{},o);return this.eventsSubject.next(M),Promise.reject(M)}if(!e.disableNonceCheck){if(!h)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(h)){const L=new Ji("invalid_nonce_in_state",null);return this.eventsSubject.next(L),Promise.reject(L)}}return this.storeSessionState(u),s&&(yield this.getTokenFromCode(s,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(e,r){let o=new _i({encoder:new Zg}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let s;s=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),s?o=o.set("code_verifier",s):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(o,r)}fetchAndProcessToken(e,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=(new Fr).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const s=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+s)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((s,a)=>{if(this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(u,this.customQueryParams[u]);this.http.post(this.tokenEndpoint,e,{headers:o}).subscribe(u=>{this.debug("refresh tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token?this.processIdToken(u.id_token,u.access_token,r.disableNonceCheck).then(h=>{this.storeIdToken(h),this.eventsSubject.next(new ia("token_received")),this.eventsSubject.next(new ia("token_refreshed")),s(u)}).catch(h=>{this.eventsSubject.next(new Ji("token_validation_error",h)),console.error("Error validating tokens"),console.error(h),a(h)}):(this.eventsSubject.next(new ia("token_received")),this.eventsSubject.next(new ia("token_refreshed")),s(u))},u=>{console.error("Error getting token",u),this.eventsSubject.next(new Ji("token_refresh_error",u)),a(u)})})}tryLoginImplicitFlow(e=null){let r;r=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);const o=r.state;let[s,a]=this.parseState(o);if(this.state=a,r.error){this.debug("error trying to login"),this.handleLoginError(e,r);const L=new Ji("token_error",{},r);return this.eventsSubject.next(L),Promise.reject(L)}const u=r.access_token,h=r.id_token,x=r.session_state,M=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!o||this.oidc&&!h)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!x&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(s)){const W=new Ji("invalid_nonce_in_state",null);return this.eventsSubject.next(W),Promise.reject(W)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,M),this.oidc?this.processIdToken(h,u,e.disableNonceCheck).then(L=>e.validationHandler?e.validationHandler({accessToken:u,idClaims:L.idTokenClaims,idToken:L.idToken,state:o}).then(W=>L):L).then(L=>(this.storeIdToken(L),this.storeSessionState(x),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new ia("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(L=>(this.eventsSubject.next(new Ji("token_validation_error",L)),this.logger.error("Error validating tokens"),this.logger.error(L),Promise.reject(L))):(this.eventsSubject.next(new ia("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let r=e,o="";if(e){const s=e.indexOf(this.config.nonceStateSeparator);s>-1&&(r=e.substr(0,s),o=e.substr(s+this.config.nonceStateSeparator.length))}return[r,o]}validateNonce(e){let r;return r=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),r===e||(console.error("Validating access_token failed, wrong state/nonce.",r,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,r){e.onLoginError&&e.onLoginError(r),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:e}processIdToken(e,r,o=!1){const s=e.split("."),u=k2(this.padBase64(s[0])),h=JSON.parse(u),M=k2(this.padBase64(s[1])),L=JSON.parse(M);let W;if(W=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(L.aud)){if(L.aud.every(lt=>lt!==this.clientId)){const lt="Wrong audience: "+L.aud.join(",");return this.logger.warn(lt),Promise.reject(lt)}}else if(L.aud!==this.clientId){const lt="Wrong audience: "+L.aud;return this.logger.warn(lt),Promise.reject(lt)}if(!L.sub){const lt="No sub claim in id_token";return this.logger.warn(lt),Promise.reject(lt)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==L.sub){const lt=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${L.sub}`;return this.logger.warn(lt),Promise.reject(lt)}if(!L.iat){const lt="No iat claim in id_token";return this.logger.warn(lt),Promise.reject(lt)}if(!this.skipIssuerCheck&&L.iss!==this.issuer){const lt="Wrong issuer: "+L.iss;return this.logger.warn(lt),Promise.reject(lt)}if(!o&&L.nonce!==W){const lt="Wrong nonce: "+L.nonce;return this.logger.warn(lt),Promise.reject(lt)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!L.at_hash){const lt="An at_hash is needed!";return this.logger.warn(lt),Promise.reject(lt)}const q=this.dateTimeService.now(),ye=1e3*L.iat,Le=1e3*L.exp,rt=this.getClockSkewInMsec();if(ye-rt>=q||Le+rt-this.decreaseExpirationBySec<=q){const lt="Token has expired";return console.error(lt),console.error({now:q,issuedAtMSec:ye,expiresAtMSec:Le}),Promise.reject(lt)}const it={accessToken:r,idToken:e,jwks:this.jwks,idTokenClaims:L,idTokenHeader:h,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(it).then(lt=>({idToken:e,idTokenClaims:L,idTokenClaimsJson:M,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:Le})):this.checkAtHash(it).then(lt=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!lt){const Ot="Wrong at_hash";return this.logger.warn(Ot),Promise.reject(Ot)}return this.checkSignature(it).then(Ot=>{const rn={idToken:e,idTokenClaims:L,idTokenClaimsJson:M,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:Le};return this.disableAtHashCheck?rn:this.checkAtHash(it).then(gn=>{if(this.requestAccessToken&&!gn){const mn="Wrong at_hash";return this.logger.warn(mn),Promise.reject(mn)}return rn})})})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&null!==this._storage.getItem(e)?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},r=""){let o=!1;"boolean"==typeof e&&(o=e,e={});const s=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(u=>this._storage.removeItem(u)),this.silentRefreshSubject=null,this.eventsSubject.next(new Wa("logout")),!this.logoutUrl||o)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(s)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let u=new _i({encoder:new Zg});s&&(u=u.set("id_token_hint",s));const h=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";h&&(u=u.set("post_logout_redirect_uri",h),r&&(u=u.set("state",r)));for(let x in e)u=u.set(x,e[x]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+u.toString()}this.config.openUri(a)}createAndSaveNonce(){const e=this;return this.createNonce().then(function(r){return e.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("nonce",r):e._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let o=45,s="";const a="undefined"==typeof self?null:self.crypto||self.msCrypto;if(a){let u=new Uint8Array(o);a.getRandomValues(u),u.map||(u.map=Array.prototype.map),u=u.map(h=>r.charCodeAt(h%r.length)),s=String.fromCharCode.apply(null,u)}else for(;0<o--;)s+=r[Math.random()*r.length|0];e(Fw(s))})}checkAtHash(e){return zo(this,void 0,void 0,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",r={}){return"code"===this.responseType?this.initCodeFlow(e,r):this.initImplicitFlow(e,r)}initCodeFlow(e="",r={}){""!==this.loginUrl?this.initCodeFlowInternal(e,r):this.events.pipe((0,Tn.h)(o=>"discovery_document_loaded"===o.type)).subscribe(o=>this.initCodeFlowInternal(e,r))}initCodeFlowInternal(e="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let o={},s=null;"string"==typeof r?s=r:"object"==typeof r&&(o=r),this.createLoginUrl(e,s,null,!1,o).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return zo(this,void 0,void 0,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const e=yield this.createNonce();return[Fw(yield this.crypto.calcHash(e,"sha-256")),e]})}extractRecognizedCustomParameters(e){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(o=>{e[o]&&r.set(o,JSON.stringify(e[o]))}),r}revokeTokenAndLogout(e={},r=!1){let o=this.revocationEndpoint,s=this.getAccessToken(),a=this.getRefreshToken();if(!s)return Promise.resolve();let u=new _i({encoder:new Zg}),h=(new Fr).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const x=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+x)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const x of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(x,this.customQueryParams[x]);return new Promise((x,M)=>{let L,W;if(s){let q=u.set("token",s).set("token_type_hint","access_token");L=this.http.post(o,q,{headers:h})}else L=(0,Qt.of)(null);if(a){let q=u.set("token",a).set("token_type_hint","refresh_token");W=this.http.post(o,q,{headers:h})}else W=(0,Qt.of)(null);r&&(L=L.pipe((0,Vr.K)(q=>0===q.status?(0,Qt.of)(null):(0,Qs._)(q))),W=W.pipe((0,Vr.K)(q=>0===q.status?(0,Qt.of)(null):(0,Qs._)(q)))),(0,Vu.aj)([L,W]).subscribe(q=>{this.logOut(e),x(q),this.logger.info("Token successfully revoked")},q=>{this.logger.error("Error revoking token",q),this.eventsSubject.next(new Ji("token_revoke_error",q)),M(q)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.R0b),i.LFG(Ss),i.LFG(ac,8),i.LFG(kw,8),i.LFG(zg,8),i.LFG(L2),i.LFG(b_),i.LFG(Bw,8),i.LFG(m),i.LFG(Gg))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class H2{}class SM{handleError(t){return(0,Qs._)(t)}}let AM=(()=>{class n{constructor(e,r,o){this.oAuthService=e,this.errorHandler=r,this.moduleConfig=o}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(r=>e.toLowerCase().startsWith(r.toLowerCase()))}intercept(e,r){const o=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(o)?this.moduleConfig.resourceServer.sendAccessToken?(0,Ei.T)((0,Qt.of)(this.oAuthService.getAccessToken()).pipe((0,Tn.h)(a=>!!a)),this.oAuthService.events.pipe((0,Tn.h)(a=>"token_received"===a.type),(0,Rw.V)(this.oAuthService.waitForTokenInMsec||0),(0,Vr.K)(a=>(0,Qt.of)(null)),(0,en.U)(a=>this.oAuthService.getAccessToken()))).pipe((0,Cr.q)(1),(0,wr.zg)(a=>{if(a){const h=e.headers.set("Authorization","Bearer "+a);e=e.clone({headers:h})}return r.handle(e).pipe((0,Vr.K)(u=>this.errorHandler.handleError(u)))})):r.handle(e).pipe((0,Vr.K)(a=>this.errorHandler.handleError(a))):r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(E_),i.LFG(H2),i.LFG(y_,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function V2(){return console}function G2(){return"undefined"!=typeof sessionStorage?sessionStorage:new Pw}function z2(n=null,t=__){return[E_,L2,{provide:b_,useFactory:V2},{provide:ac,useFactory:G2},{provide:kw,useClass:t},{provide:Bw,useClass:$g},{provide:H2,useClass:SM},{provide:y_,useValue:n},{provide:Yh,useClass:AM,multi:!0},{provide:Gg,useClass:P2}]}let DM=(()=>{class n{static forRoot(e=null,r=__){return{ngModule:n,providers:[z2(e,r)]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr]}),n})();new i.OlP("AUTH_CONFIG");var Uw=g(1612);class oa extends class xM{validateAtHash(t){return zo(this,void 0,void 0,function*(){let e=this.inferHashAlgorithm(t.idTokenHeader),r=yield this.calcHash(t.accessToken,e),s=Fw(r.substr(0,r.length/2)),a=t.idTokenClaims.at_hash.replace(/=/g,"");return s!==a&&(console.error("exptected at_hash: "+s),console.error("actual at_hash: "+a)),s===a})}inferHashAlgorithm(t){let e=t.alg;if(!e.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+e);return"sha-"+e.substr(2)}}{constructor(){super(...arguments),this.allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.gracePeriodInSec=600}validateSignature(t,e=!1){if(!t.idToken)throw new Error("Parameter idToken expected!");if(!t.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!t.jwks)throw new Error("Parameter jwks expected!");if(!t.jwks.keys||!Array.isArray(t.jwks.keys)||0===t.jwks.keys.length)throw new Error("Array keys in jwks missing!");let s,r=t.idTokenHeader.kid,o=t.jwks.keys,a=t.idTokenHeader.alg;if(r)s=o.find(M=>M.kid===r);else{let M=this.alg2kty(a),L=o.filter(W=>W.kty===M&&"sig"===W.use);if(L.length>1){let W="More than one matching key found. Please specify a kid in the id_token header.";return console.error(W),Promise.reject(W)}1===L.length&&(s=L[0])}if(!s&&!e&&t.loadKeys)return t.loadKeys().then(M=>t.jwks=M).then(M=>this.validateSignature(t,!0));if(!s&&e&&!r){let M="No matching key found.";return console.error(M),Promise.reject(M)}if(!s&&e&&r){let M="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+r;return console.error(M),Promise.reject(M)}let u=Uw.KZ.getKey(s);return Uw.fs.jws.JWS.verifyJWT(t.idToken,u,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}alg2kty(t){switch(t.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+t)}}calcHash(t,e){let o=new Uw.fs.crypto.MessageDigest({alg:e}).digestString(t),s=this.toByteArrayAsString(o);return Promise.resolve(s)}toByteArrayAsString(t){let e="";for(let r=0;r<t.length;r+=2){let o=t.charAt(r)+t.charAt(r+1),s=parseInt(o,16);e+=String.fromCharCode(s)}return e}}const jw=n=>null!=n&&""!==n,Ca="idf.hisqool.com",vs=`${Ca}/qobalt`,dr={production:!0,currentVersion:"23091444",version:"1.2.0",versionGitlab:"1.2.0 / 8edf5afb",versionCode:"1.2.0 / 23091444",defaultLanguage:"fr-FR",displaySelectorLanguage:!1,supportedLanguages:["en-US","fr-FR"],HISQOOL_BASE:Ca,URL_BASE:`https://${Ca}`,URL_TEXTBOOKS:`https://${vs}/manuals/`,URL_PHOENIX_SOCKET:`wss://${Ca}/phoenix/socket`,URL_CLOUD:`https://${vs}/`,URL_FORGOTTEN_PASSWORD:"https://ent.iledefrance.fr/auth/forgot#/password",URL_INSTITUTIONS_API:`https://${vs}/institutions/`,URL_IDENTITY_PROVIDER:`https://${Ca}/dex`,URL_PROFILE:`https://${Ca}/profile/api`,URL_MULTIROOM:`https://${Ca}/multiroom/rooms`,URL_EULA:"http://www.sqool.fr/index.php/cgu/",URL_ONBOARDING:`https://${Ca}/qauldron/devices/me`,URL_MQTT:`wss://${Ca}/mqttoidc`,URL_GRAPHQL:`https://${Ca}/graphql/v1/graphql`,URL_SELFPOWER:`https://${Ca}/powerbank`},uh={issuer:dr.URL_IDENTITY_PROVIDER,redirectUri:window.location.origin+"/index.html",silentRefreshRedirectUri:window.location.origin+"/index.html",clientId:"hisqool",dummyClientSecret:"ZXhhbXBsZS1hcHAtc2VjcmV0",scope:"openid profile email offline_access groups",silentRefreshTimeout:0,timeoutFactor:.25,sessionChecksEnabled:!1,showDebugInformation:!0,clearHashAfterLogin:!1,requireHttps:!0};var Cl=(()=>{return(n=Cl||(Cl={}))[n.Off=0]="Off",n[n.Error=1]="Error",n[n.Warning=2]="Warning",n[n.Info=3]="Info",n[n.Debug=4]="Debug",Cl;var n})();class rs{constructor(t){this.source=t}static enableProductionMode(){rs.level=Cl.Warning}debug(...t){this.log(console.log,Cl.Debug,t)}info(...t){this.log(console.info,Cl.Info,t)}warn(...t){this.log(console.warn,Cl.Warning,t)}error(...t){this.log(console.error,Cl.Error,t)}log(t,e,r){if(e<=rs.level){const o=this.source?["["+this.source+"]"].concat(r):r;t.apply(console,o),rs.outputs.forEach(s=>s.apply(s,[this.source,e].concat(r)))}}}function dh(n){this.message=n}rs.level=Cl.Debug,rs.outputs=[],(dh.prototype=new Error).name="InvalidCharacterError";var C_="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new dh("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,r,o=0,s=0,a="";r=t.charAt(s++);~r&&(e=o%4?64*e+r:r,o++%4)?a+=String.fromCharCode(255&e>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function qg(n){this.message=n}(qg.prototype=new Error).name="InvalidTokenError";const S_="object"==typeof document&&!!document;class Zo{static get(t,e){if(null==t)return null;const r=Zo.parse(t.getItem(e)||"null")||null;return null===r?null:"object"==typeof r&&void 0!==r._expired&&0!==r._expired&&+new Date>r._expired?(Zo.remove(t,e),null):r._value||null}static set(t,e,r,o=0,s="t"){null!=t&&t.setItem(e,Zo.stringify({_expired:Zo.getExpired(o,s),_value:r}))}static remove(t,e){null!=t&&t.removeItem(e)}static key(t,e){return null==t?null:t.key(e)}static getExpired(t,e){if(t<=0)return 0;const r=+new Date;switch(e){case"s":return r+1e3*t;case"m":return r+6e4*t;case"h":return r+36e5*t;case"d":return r+864e5*t;case"w":return r+6048e5*t;case"y":return r+31536e6*t;case"t":return r+t}return 0}static stringify(t){return JSON.stringify(t)}static parse(t){try{return JSON.parse(t)||null}catch(e){return t}}}let A_=(()=>{class n{constructor(e){this.storage=e}get(e){return Zo.get(this.storage,e)}set(e,r,o=0,s="d"){return Zo.set(this.storage,e,r,o,s)}remove(e){if("string"==typeof e)return void Zo.remove(this.storage,e);let r=0,o=Zo.key(this.storage,r);const s=[];for(;o;)e.test(o)&&s.push(o),o=Zo.key(this.storage,++r);s.forEach(a=>Zo.remove(this.storage,a))}clear(){var e;null===(e=this.storage)||void 0===e||e.clear()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Storage))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Y2=(()=>{class n extends A_{constructor(){super(S_?sessionStorage:null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q2=new rs("CredentialService");let Wo=(()=>{class n{constructor(e,r,o){this.oAuthStorage=e,this.httpClient=r,this.session=o,this.getSimpleValue=s=>"1"===this.oAuthStorage.getItem(s),this.userProfileSubject=new Ui.X(this.userProfile),this.nextUser=this.userProfileSubject.asObservable()}static compareClasses(e,r){return e=e.toUpperCase(),r=r.toUpperCase(),e.startsWith("S")>r.startsWith("P")||e.startsWith("S")>r.startsWith("T")||e.startsWith("P")>r.startsWith("T")?-1:e.startsWith("P")<r.startsWith("S")||e.startsWith("T")<r.startsWith("S")||e.startsWith("T")<r.startsWith("P")?1:0}get userName(){const e=this.userInfos;return e?e.name:void 0}get userDisplayName(){const e=this.userInfos;return e?e.display_name:void 0}get idToken(){return this.oAuthStorage.getItem(n.ID_TOKEN_KEY)}set idToken(e){const r=this.getUserInfosFromToken(e),o=Math.floor(12*Math.random())+1;this.isUserInfosValide(r)?(this.oAuthStorage.setItem(n.ID_TOKEN_KEY,e),this.oAuthStorage.setItem(n.ID_AVATAR,o.toString()),this.oAuthStorage.setItem(n.USER_INFOS_KEY,JSON.stringify(r)),this.userSubscription&&this.userSubscription.unsubscribe(),this.userSubscription=this.getUser().pipe((0,ji.P)()).subscribe(s=>{r.display_name=s.givenname+" "+s.name,this.oAuthStorage.setItem(n.USER_PROFILE_KEY,JSON.stringify(s)),this.oAuthStorage.setItem(n.USER_INFOS_KEY,JSON.stringify(r)),this.userProfileSubject.next(s)},s=>{console.error("userInfos error",s)})):(this.oAuthStorage.removeItem(n.USER_PROFILE_KEY),this.oAuthStorage.removeItem(n.USER_INFOS_KEY),this.oAuthStorage.removeItem(n.ID_TOKEN_KEY),this.oAuthStorage.removeItem(n.ID_AVATAR),this.userSubscription&&this.userSubscription.unsubscribe(),this.oAuthStorage.removeItem(n.EXPIRES_IN_KEY))}setExpiresIn(e,r){const o=this.getUserInfosFromToken(r);this.isUserInfosValide(o)?this.oAuthStorage.setItem(n.EXPIRES_IN_KEY,e):this.oAuthStorage.removeItem(n.EXPIRES_IN_KEY)}get expiresIn(){return this.oAuthStorage.getItem(n.EXPIRES_IN_KEY)}get isExistRefreshToken(){return!!this.oAuthStorage.getItem(n.REFRESH_TOKEN)}get authorizationHeader(){return{[n.AUTHORIZATION_HEADER_NAME]:`${n.TOKEN_TYPE} ${this.idToken}`}}getUser(){const r=`${dr.URL_PROFILE}/me`,o={headers:new Fr({"Content-Type":"application/json",Authorization:`Bearer ${this.idToken}`})};return this.httpClient.get(r,o)}getDecodedAccessToken(e){if(!e)return null;try{return function Vw(n,t){if("string"!=typeof n)throw new qg("Invalid token specified");var e=!0===(t=t||{}).header?0:1;try{return JSON.parse(function Hw(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(C_(t).replace(/(.)/g,function(r,o){var s=o.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(e){return C_(t)}}(n.split(".")[e]))}catch(r){throw new qg("Invalid token specified: "+r.message)}}(e)}catch(r){return Q2.error(r),null}}get userInfos(){const e=this.oAuthStorage.getItem(n.USER_INFOS_KEY);return JSON.parse(e)}getUserInfosFromToken(e){const r=this.getDecodedAccessToken(e);if(r){const o=atob(r.sub),s=/uid=(.+?),/.exec(o)[1];return{email:r.email,name:r.name,display_name:r.display_name,uid:s}}return null}isUserInfosValide(e){return!!e&&this.isMailValide(e.email)&&this.isNameValide(e.name)&&this.isDateExpValide(this.expireDateFromStore)}isMailValide(e){return!!e}isNameValide(e){return!!e}isDateExpValide(e){return e>=Math.floor(Date.now()/1e3)}get expireDateFromStore(){return+this.oAuthStorage.getItem(n.EXPIRE_DATE_KEY)}get institutionInfos(){const e=this.oAuthStorage.getItem(n.INSTITUTION_KEY);return e?JSON.parse(e):void 0}set institutionInfos(e){e?this.oAuthStorage.setItem(n.INSTITUTION_KEY,JSON.stringify(e)):this.oAuthStorage.removeItem(n.INSTITUTION_KEY)}get userLogin(){return this.oAuthStorage.getItem(n.USER_LOGIN_KEY)||""}set userLogin(e){e?this.oAuthStorage.setItem(n.USER_LOGIN_KEY,e):this.oAuthStorage.removeItem(n.USER_LOGIN_KEY)}get isProfessor(){return!!this.userProfile&&"professor"===this.userProfile.kind}get profileClasses(){const e=[];return this.userProfile&&null!==this.userProfile.classes&&this.userProfile.classes.length>0&&this.userProfile.classes.forEach(function(r){r&&e.push(r.display_name)}),e.length>0&&(e.sort(),e.sort(n.compareClasses)),e}get profileClass(){var e;return(null===(e=this.profileClasses)||void 0===e?void 0:e.length)>0?this.profileClasses[0]:""}get profileInstitutions(){const e=[];return this.userProfile&&null!==this.userProfile.struct_institutions&&this.userProfile.struct_institutions.length>0&&this.userProfile.struct_institutions.forEach(function(r){r&&e.push(r.display_name)}),e}get profileInstitution(){var e;return(null===(e=this.profileInstitutions)||void 0===e?void 0:e.length)>0?this.profileInstitutions[0]:""}get userProfile(){const e=this.oAuthStorage.getItem(n.USER_PROFILE_KEY);return JSON.parse(e)}set userProfile(e){if(e){const o=e.givenname+" "+e.name;this.oAuthStorage.setItem(n.USER_INFOS_KEY,JSON.stringify({display_name:o,email:this.userInfos.email,name:o,uid:e.uid})),this.oAuthStorage.setItem(n.USER_PROFILE_KEY,JSON.stringify(e)),this.userProfileSubject.next(e)}else this.oAuthStorage.removeItem(n.USER_INFOS_KEY),this.oAuthStorage.removeItem(n.USER_PROFILE_KEY)}get newUser(){return this.nextUser}get isUserProfile(){return"1"===this.oAuthStorage.getItem(n.IS_PROFILE_KEY)}set isUserProfile(e){e?this.oAuthStorage.setItem(n.IS_PROFILE_KEY,e?"1":"0"):this.oAuthStorage.removeItem(n.IS_PROFILE_KEY)}onboarding(e=!1){return function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const o={headers:new Fr(this.authorizationHeader)};return this.httpClient.request(e?"POST":"GET",dr.URL_ONBOARDING,o).pipe((0,en.U)(a=>this.isOnboardingDone=a.ok)).toPromise()})}get isOnboardingDone(){return this.getSimpleValue(n.IS_ONBOARDING_DONE)}set isOnboardingDone(e){this.saveOrRemoveSimpleValue(n.IS_ONBOARDING_DONE,e)}get avatarId(){return Number.parseInt(this.oAuthStorage.getItem(n.ID_AVATAR))}get isRememberMe(){return!!this.oAuthStorage.getItem(n.REMEMBER_ME_KEY)}set isRememberMe(e){e?this.oAuthStorage.setItem(n.REMEMBER_ME_KEY,e?"1":"0"):this.oAuthStorage.removeItem(n.REMEMBER_ME_KEY)}get isRememberMeSession(){return!!this.session.get(n.REMEMBER_ME_KEY)}set isRememberMeSession(e){e?this.session.set(n.REMEMBER_ME_KEY,e?"1":"0"):this.session.remove(n.REMEMBER_ME_KEY)}updateVersionCode(){const e=dr.versionCode;e?this.oAuthStorage.setItem(n.VERSION_CODE_KEY,e):this.oAuthStorage.removeItem(n.VERSION_CODE_KEY)}get versionCode(){return this.oAuthStorage.getItem(n.VERSION_CODE_KEY)}get isOnboardingSaved(){return this.getSimpleValue(n.IS_ONBOARDING_SAVED)}set isOnboardingSaved(e){this.saveOrRemoveSimpleValue(n.IS_ONBOARDING_SAVED,e)}get loginFinished(){return this.getSimpleValue(n.LOGIN_FINISHED)}set loginFinished(e){this.saveOrRemoveSimpleValue(n.LOGIN_FINISHED,e)}removeProfile(e){this.idToken=void 0,this.isRememberMe||(this.userLogin=void 0),this.isRememberMe=void 0,this.loginFinished=void 0,e&&(this.isOnboardingSaved=void 0),this.userProfileSubject.next(void 0)}saveOrRemoveSimpleValue(e,r){r?this.oAuthStorage.setItem(e,r?"1":"0"):this.oAuthStorage.removeItem(e)}}return n.ID_TOKEN_KEY="id_token",n.AUTHORIZATION_HEADER_NAME="Authorization",n.EXPIRES_IN_KEY="expires_in",n.USER_PROFILE_KEY="userProfile",n.USER_TYPE_PROFILE_KEY="userTypeProfile",n.IS_PROFILE_KEY="isProfile",n.IS_ONBOARDING_DONE="isOnboardingDone",n.IS_ONBOARDING_SAVED="isOnboardingSaved",n.LOGIN_FINISHED="loginFinished",n.TOKEN_TYPE="Bearer",n.USER_INFOS_KEY="userInfosKey",n.EXPIRE_DATE_KEY="expires_at",n.ID_AVATAR="id_avatar",n.INSTITUTION_KEY="institutionInfos",n.USER_LOGIN_KEY="userLogin",n.REFRESH_TOKEN="refresh_token",n.REMEMBER_ME_KEY="remember_me",n.VERSION_CODE_KEY="versionCode",n.\u0275fac=function(e){return new(e||n)(i.LFG(ac),i.LFG(Ss),i.LFG(Y2))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();var Gi=(()=>{return(n=Gi||(Gi={})).LOGIN="[Login Page] Login",n.LOGIN_COMPLETE="[Login Page] Login complete",n.LOGIN_FAILURE="[Login Page] Login failure",n.LOGIN_SUCCESS="[Login Page] Login success",n.CHECK_LOGIN="[Auth] Check login",n.LOGOUT="[Authentication] Logout",n.LOGOUT_CANCELLED="[Authentication] Logout cancelled",n.LOGOUT_CONFIRMED="[Authentication] Logout confirmed",Gi;var n})();class TM{constructor(t){this.loginContext=t,this.type=Gi.LOGIN}}class eA{constructor(t){this.error=t,this.type=Gi.LOGIN_FAILURE}}class Zw{constructor(t,e){this.userLogin=t,this.response=e,this.type=Gi.LOGIN_SUCCESS}}class fh{constructor(t=!1){this.isCleanOnboarding=t,this.type=Gi.LOGOUT}}class D_{constructor(){this.type=Gi.LOGOUT_CANCELLED}}class Ww{constructor(){this.type=Gi.LOGOUT_CONFIRMED}}var Jn=g(4572);let Rs=(()=>{class n{constructor(e,r,o,s){this.router=e,this.oauthService=r,this.credentialService=o,this.authStore=s}loginDirectly(e){return(0,ao.D)(this.oauthService.fetchTokenUsingPasswordFlow(e.userLogin,e.password))}logout(e){return this.credentialService.idToken=void 0,this.credentialService.isRememberMe||(this.credentialService.userLogin=void 0),this.credentialService.isRememberMe=void 0,this.credentialService.loginFinished=void 0,e&&(this.credentialService.isOnboardingSaved=void 0),this.oauthService.logOut(),this.subscriptionAuth&&this.subscriptionAuth.unsubscribe(),(0,Qt.of)(!0)}refreshAccessToken(){return function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const r=Math.round(this.credentialService.expireDateFromStore-1e3*this.expiresIn);if(r&&!(r<Date.now()))return(0,Qt.of)(this.tokenId).toPromise();if(!this.isAuthenticated)return jo.E.toPromise();try{const o=yield this.oauthService.refreshToken();return this.saveToken(o,!1),o.id_token}catch(o){return yield jo.E.toPromise()}})}saveUserInfosAndNavigateUrl(e,r){this.saveUserInfos(e,r),this.credentialService.userName&&this.navigateToHomePage()}navigateToLoginPage(){this.router.navigateByUrl(this.authFailureUrl)}navigateToHomePage(){this.router.navigateByUrl(this.authSuccessUrl)}configureWithNewConfigApi(){this.oauthService.configure(uh),this.oauthService.tokenValidationHandler=new oa,this.oauthService.loadDiscoveryDocumentAndTryLogin().then(e=>{this.oauthService.hasValidAccessToken()&&this.oauthService.refreshToken()}),this.checkVersion()}cleanUserLogin(){this.credentialService.userLogin=void 0}get userGivenName(){const e=this.credentialService.userProfile;return e?e.givenname:null}get userName(){const e=this.credentialService.userProfile;return e?e.name:null}get userDisplayName(){return this.credentialService.userDisplayName}get authSuccessUrl(){return"/home"}get authFailureUrl(){return"/login"}get institutionInfos(){return this.credentialService.institutionInfos}set institutionInfos(e){this.credentialService.institutionInfos=e}get userLogin(){return this.credentialService.userLogin}set userLogin(e){this.credentialService.userLogin=e}get avatarId(){return this.credentialService.avatarId}get tokenId(){return this.credentialService.idToken}get isRemember(){return this.credentialService.isRememberMe}set isRemember(e){this.credentialService.isRememberMe=e,this.credentialService.isRememberMeSession=e}get isRememberMeSession(){return this.credentialService.isRememberMeSession}callLogout(){this.authStore.dispatch(new fh)}get expiresIn(){return parseInt(this.credentialService.expiresIn,10)*uh.timeoutFactor}get isProfile(){return this.credentialService.isUserProfile}saveUserInfos(e,r){this.credentialService.userLogin=e,this.saveToken(r)}saveToken(e,r=!0){e?(this.credentialService.idToken=e[Wo.ID_TOKEN_KEY],r&&this.setExpiresIn(e)):this.credentialService.idToken=void 0}setExpiresIn(e){e?this.credentialService.setExpiresIn(`${e[Wo.EXPIRES_IN_KEY]}`,e[Wo.ID_TOKEN_KEY]):this.credentialService.setExpiresIn(null,null)}checkVersion(){dr.versionCode!==this.credentialService.versionCode&&(this.authStore.dispatch(new fh),this.credentialService.updateVersionCode())}get authorizationHttp(){return this.isAuthenticated?`Bearer ${this.tokenId}`:void 0}get isAuthenticated(){return jw(this.tokenId)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vi),i.LFG(E_),i.LFG(Wo),i.LFG(Jn.yh))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const T_=n=>(0,ao.D)(n.refreshAccessToken());let hh=(()=>{class n{constructor(e,r){this.store=e,this.authenticationService=r}canActivate(e,r){return T_(this.authenticationService).pipe((0,en.U)(o=>!!o||(this.store.dispatch(new fh),!1)))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Jn.yh),i.LFG(Rs))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ph=(()=>{class n{constructor(e){this.authenticationService=e}canActivate(e,r){return T_(this.authenticationService).pipe((0,en.U)(o=>!o||(this.authenticationService.navigateToHomePage(),!1)))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Rs))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const qw={resourceServer:{allowedUrls:["http://127.0.0.1:4200"],sendAccessToken:!0}};var Ps=g(1557),_s=(()=>{return(n=_s||(_s={})).Requested="[FLT] Requested",n.Started="[FLT] Started",n.Ongoing="[FLT] Ongoing",n.Done="[FLT] Done",n.Finished="[FLT] Finished",n.Error="[FLT] Error",n.Cancelled="[FLT] Cancelled",_s;var n})(),qc=(()=>{return(n=qc||(qc={})).Download="transfer-download",n.Upload="transfer-upload",n.Progress="transfer-progress",n.Cancel="transfer-cancel",qc;var n})(),$a=(()=>{return(n=$a||($a={}))[n.File=1]="File",n[n.Folder=2]="Folder",n[n.Both=3]="Both",$a;var n})();class Al{static castAs(t){return Object.setPrototypeOf(t,Al.prototype)}constructor(t){Object.assign(this,t)}get isRootFolder(){return void 0!==this.root_folder_endpoint}get isFile(){return void 0!==this.size}get type(){return this.isFile?$a.File:$a.Folder}get childId(){return{type:this.isFile?"file":"folder",id:this.id}}get file(){return this.isFile?this:void 0}get folder(){return this.isFile?void 0:this}get entities(){if(!this.isFile){const t=this.folder;return[].concat(t.subfolders?t.subfolders.map(Al.castAs):[]).concat(t.files?t.files.map(Al.castAs):[])}}get isRoot(){return!this.isFile&&"/"===this.absolute_path}get ownerName(){return this.owner&&null!=this.owner?`${this.owner.first_name} ${this.owner.last_name}`:"-"}get parent(){const t=this.absolute_path.slice(0,-1);if(""===t)return[];{const e={id:0,name:"..",owner:this.owner,path:(n=t,/.*\//.exec(n)[0]),absolute_path:this.path,created_at:"",modified_at:"",icons:{}};return[Al.castAs(e)]}var n}get downloadUrl(){if(!this.isFile)return;let t=this.file.url;return t.startsWith("/")&&(t=`${dr.URL_BASE}${t}`),t}filterActions(t){return t.filter(e=>0!=(e.for&this.type))}get _shares(){return this.shares}get isShared(){return this._shares&&null!=this._shares&&this._shares.length>0}get shareUserIds(){return this.isShared?this._shares.map(t=>t.user.uid):[]}innerCompare(t,e){return"string"==typeof t?t.localeCompare(e):t-e}compareTo(t,e){return this.isRootFolder&&!t.isRootFolder?-1:!this.isRootFolder&&t.isRootFolder?1:!this.isFile&&t.isFile?-1:this.isFile&&!t.isFile?1:"asc"===e.direction?this.innerCompare(this[e.active],t[e.active]):this.innerCompare(t[e.active],this[e.active])}}var qa=(()=>{return(n=qa||(qa={})).Indeterminate="indeterminate",n.Upload="upload",n.Download="download",qa;var n})();const Kw=n=>n instanceof File?n.name:n?n.absolute_path:"downloads";class Qw{constructor(t,e,r){this.direction=t,this.source=e,this.destination=r,this.date=new Date,this.key=`${this.direction}|${Kw(this.source)}|${Kw(this.destination)}|${this.date.toISOString()}`}get electronDownload(){return this.direction===qa.Download?{key:this.key,filename:this.source.name,url:this.source.downloadUrl,expectedSize:this.source.file.size}:void 0}}class OM{constructor(t){this.request=t,this.status=_s.Requested,this.progress=0,this.updateDate=new Date}clone(){const t=Object.assign({},this);return Object.setPrototypeOf(t,Object.getPrototypeOf(this))}get key(){return this.request.key}get direction(){return this.request.direction}get source(){return this.request.source}get destination(){return this.request.destination}get date(){return this.request.date}update(t){return this.status=t.status,this.progress=t.progress||this.progress,this.error=t.error,this.updateDate=new Date,this}cancel(){this.status=_s.Cancelled}get mode(){return this.progress&&this.progress>0?"determinate":"indeterminate"}get electronDownload(){return this.request.electronDownload}}function nA(n,t){n&&n.forEach(e=>t.push(Al.castAs(e)))}function rA(n){const t=[];return nA(n.subfolders,t),nA(n.files,t),t}var fn=(()=>{return(n=fn||(fn={})).Fetch="[Cloud] Fetch",n.TransferRequest="[Cloud] Transfer Request",n.TransferProgress="[Cloud] Transfer Progress",n.TransferCancel="[Cloud] Transfer Cancel",n.TransferFinished="[Cloud] Transfer Finished",n.TransferError="[Cloud] Transfer Error",n.Share="[Cloud] Share",n.Rename="[Cloud] Rename",n.RenameInSearch="[Cloud] RenameInSearch",n.Remove="[Cloud] Remove",n.RemoveInSearch="[Cloud] RemoveInSearch",n.Insert="[Cloud] Insert",n.CurrentEntity="[Cloud] CurrentEntity",n.FetchSuccess="[Cloud] Fetch.Success",n.ShareSuccess="[Cloud] Share.Success",n.ShareFailed="[Cloud] Share error",n.CloudError="[Cloud] Cloud error",n.SelectRootFolder="[Cloud] Select RootFolder",n.ShowLoading="[Cloud] Show loading",n.HideLoading="[Cloud] Hide loading",n.CreateDirectory="[Cloud] Create directory",n.SearchCloudEntities="[Cloud] SearchCloudEntities",n.SearchCloudEntitiesSuccess="[Cloud] SearchCloudEntities.Success",n.SearchCloudEntitiesError="[Cloud] SearchCloudEntities error",n.MoveTo="[Cloud] moveTo",n.MoveToSuccess="[Cloud] moveToSuccess",n.Unsubscribe="[Cloud] Unsubscribe",n.UnsubscribeInSearch="[Cloud] UnsubscribeInSearch",n.UnsubscribeSuccess="[Cloud] Unsubscribe.Success",n.UnsubscribeError="[Cloud] Unsubscribe error",fn;var n})();class Xw{constructor(t,e){this.path=t,this.updated=e,this.type=fn.Fetch}}class M_{constructor(t){this.item=t,this.type=fn.MoveTo}}class Yg{constructor(t,e){this.data=t,this.item=e,this.type=fn.MoveToSuccess}}class Jw{constructor(t){this.request=t,this.type=fn.TransferRequest}}class ex{constructor(t){this.progress=t,this.type=fn.TransferProgress}}class O_{constructor(t){this.key=t,this.type=fn.TransferCancel}}class uc{constructor(t,e){this.request=t,this.response=e,this.type=fn.TransferFinished}}class I_{constructor(t){this.request=t,this.type=fn.TransferError}}class R_{constructor(t,e){this.entity=t,this.recipients=e,this.type=fn.Share}}class P_{constructor(t,e){this.entity=t,this.name=e,this.type=fn.Rename}}class iA{constructor(t,e,r){this.entity=t,this.name=e,this.searchKey=r,this.type=fn.RenameInSearch}}class F_{constructor(t){this.entity=t,this.type=fn.Remove}}class k_{constructor(t,e){this.entity=t,this.searchKey=e,this.type=fn.RemoveInSearch}}class gh{constructor(t){this.entity=t,this.type=fn.CurrentEntity}}class Kg{constructor(t,e){this.folder=t,this.updated=e,this.type=fn.FetchSuccess}}class mh{constructor(t,e,r){this.action=t,this.error=e,this.entity=r,this.type=fn.CloudError}}class IM{constructor(t){this.rootFolder=t,this.type=fn.SelectRootFolder}}class RM{constructor(){this.type=fn.ShowLoading}}class tx{constructor(){this.type=fn.HideLoading}}class oA{constructor(t,e){this.parent=t,this.name=e,this.type=fn.CreateDirectory}}class sA{constructor(t){this.type=fn.ShareSuccess,this.file=Al.castAs(t)}}class aA{constructor(t,e){this.error=t,this.entity=e,this.type=fn.ShareFailed}}class Qg{constructor(t){this.searchKey=t,this.type=fn.SearchCloudEntities}}class nx{constructor(t){this.cloudResponse=t,this.type=fn.SearchCloudEntitiesSuccess}}class rx{constructor(t){this.error=t,this.type=fn.SearchCloudEntitiesError}}class ix{constructor(t,e){this.entity=t,this.currentFolder=e,this.type=fn.Unsubscribe}}class lA{constructor(t,e,r){this.entity=t,this.currentFolder=e,this.searchKey=r,this.type=fn.UnsubscribeInSearch}}class ox{constructor(t,e){this.error=t,this.entity=e,this.type=fn.UnsubscribeError}}const L_=[fn.SelectRootFolder,fn.Fetch,fn.Rename,fn.RenameInSearch,fn.Remove,fn.RemoveInSearch,fn.CreateDirectory,fn.SearchCloudEntities,fn.MoveTo,fn.Unsubscribe,fn.UnsubscribeInSearch],FM=[fn.FetchSuccess,fn.CloudError,fn.SearchCloudEntitiesError,fn.SearchCloudEntitiesSuccess,fn.MoveToSuccess,fn.UnsubscribeSuccess,fn.UnsubscribeError];let Dl=(()=>{class n{constructor(e,r){this.authService=e,this.cloudStore=r,this.UPLOAD_DONE_KEY="uploadFileDone",this.SET_UPLOAD_PATH_KEY="setUploadPath",this.QR_SCAN_RESULT_KEY="qrScanResult",this.qrScanResultSubject=new yn.xQ,this.webApp=new WebApp,this.showToast=o=>this.webApp.showToast(o),this.downloadFile=o=>this.webApp.downloadFile(this.authService.tokenId,o),this.openFilePicker=()=>this.webApp.openFilePicker(),this.setBaseUrl=()=>this.webApp.setBaseUrl(dr.URL_BASE),this.initQRScanner=()=>this.webApp.initQRScanner(),this.exitApp=()=>this.webApp.exitApp(),this.openExternalApp=(o,s,a)=>this.webApp.openExternalApp(a,o,s),this.isPresentExternalApp=o=>this.webApp.isPresentExternalApp(o),this.qrScanResultObservable=()=>this.qrScanResultSubject.asObservable()}get isAndroid(){return this.webApp.isAndroid()}setCurrentFolder(e){this.currentFolder=e}subscribeUploadFileDone(){this.uploadDone=(0,Ps.R)(window,this.UPLOAD_DONE_KEY).subscribe(()=>{this.cloudStore.dispatch(new gh(this.currentFolder)),this.setCurrentFolder(null)})}subscribeSetUploadPath(){this.setUploadPath=(0,Ps.R)(window,this.SET_UPLOAD_PATH_KEY).subscribe(e=>{const r=e.detail.absolutePath;this.webApp.uploadFile(this.authService.tokenId,r.substring(r.lastIndexOf("/")+1),r,this.currentFolder.absolute_path)})}subscribeCameraPermission(){this.qrScanResult&&this.qrScanResult.unsubscribe(),this.qrScanResult=(0,Ps.R)(window,this.QR_SCAN_RESULT_KEY).subscribe(e=>{console.log("subscribeCameraPermission qrScanResult event= ",e),this.qrScanResultSubject.next(e.detail.result)})}startUploadSubscribe(){this.stopAll(),this.subscribeUploadFileDone(),this.subscribeSetUploadPath()}stopAll(){this.uploadDone&&this.uploadDone.unsubscribe(),this.setUploadPath&&this.setUploadPath.unsubscribe(),this.stopQrScanResult()}stopQrScanResult(){this.qrScanResult&&this.qrScanResult.unsubscribe()}get deviceId(){try{return this.webApp.getDeviceId()}catch(e){return}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Rs),i.LFG(Jn.yh))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xg=(()=>{class n{constructor(){if(this._ipc=void 0,window.require)try{this._ipc=window.require("electron").ipcRenderer}catch(e){throw e}else console.warn("Electron's IPC was not loaded")}get hasIpc(){return void 0!==this._ipc}on(e,r){!this._ipc||this._ipc.on(e,r)}send(e,...r){!this._ipc||this._ipc.send(e,...r)}sendSync(e,...r){if(this._ipc)return this._ipc.sendSync(e,...r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cA=(()=>{class n{constructor(e,r,o,s){this.authStore=e,this.authService=r,this.androidService=o,this.ipcService=s,this.androidService.isAndroid?this.deviceId=o.deviceId:this.ipcService.hasIpc&&(this.deviceId=s.sendSync("device-id")),void 0===this.deviceId&&navigator.mediaDevices.enumerateDevices().then(a=>{for(const u of a)if("audiooutput"===u.kind){this.deviceId=u.deviceId;break}})}intercept(e,r){return r.handle(this.getRequestClone(e)).pipe((0,Vr.K)(o=>401===o.status&&!o.url.endsWith("dex/token")||400===o.status&&o.url&&o.url.endsWith("dex/token")?this.refreshToken(e,r):(0,Qs._)(o)))}getRequestClone(e){return e.url.endsWith(".well-known/openid-configuration")||e.url.endsWith("dex/keys")||e.url.endsWith("institutions/level.json")?e:e.clone(this.getHeaders(e.url))}getHeaders(e){return jw(this.authService.authorizationHttp)&&!e.endsWith("dex/token")?void 0!==this.deviceId?{setHeaders:{"X-Unowhy-Device-Id":this.deviceId,Authorization:this.authService.authorizationHttp}}:{setHeaders:{Authorization:this.authService.authorizationHttp}}:void 0!==this.deviceId?{setHeaders:{"X-Unowhy-Device-Id":this.deviceId}}:void 0}refreshToken(e,r){return(0,ao.D)(this.authService.refreshAccessToken()).pipe((0,wr.zg)(o=>r.handle(this.getRequestClone(e))),(0,Vr.K)(o=>(this.authStore.dispatch(new fh),(0,Qs._)(o))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Jn.yh),i.LFG(Rs),i.LFG(Dl),i.LFG(Xg))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const uA=JSON.parse('{"APP_NAME":"Hisqool","Welcome":"Welcome","Hello world !":"Hello world !","helpWidget":"Help","Home":"Home","Logged in as":"Logged in as","School Session":"School Sessions","waitingTextbook":"waiting for Textbook","helloWorld":"Hello world !","loggedInAs":"Logged in as","logout":"Logout","username":"Username","version":"Version","newVersion":"New version available. Load new version?","login":{"email":"Email","forgotPassword":"Forgot password","login":"Login","password":"ENT password","passwordIsRequired":"Password is required","rememberMe":"Remember me","username":"ENT login","usernameIsRequired":"Username is required","usernameOrPasswordIncorrect":"Username or password incorrect.","welcome":"Welcome","with":"With"},"titles":{"chat":"Chat","sessions":"Sessions","textbook":"Textbook","home":"Home","cloud":"Cloud","login":"HiSqool","profile":"Profile","ressources":"Ressources","monlycee":"Monlyc\xe9e.net","k9mail":"K9 Mail","powerbank":"Borrow an battery"},"home":{"title":"Bienvenue sur Hi SQOOL !","description":"The front door to your digital high school.","mainButton":"Access to my Documents area"},"textbooks":{"unavailable":"no textbook available","oneResult":"1 textbook available","manyResult":"textbooks availables"},"cloud":{"emptyFolder":"The current folder is empty","tabs":{"emptyFolder":"The current folder is empty","myDocuments":"My Documents","sharedDocuments":"Shared Documents"},"search":{"searchIn":"Search in","noResult":"No results were found for your search"},"headers":{"author":"Author","files":"Files","folders":"Folders","lastModified":"Last modification","name":"Name","owner":"Owner","shareDate":"Shared on","size":"Size"},"buttons":{"add":"Add file","backTo":"Back","cancel":"Cancel","addFile":"Add file","addFolder":"Add folder","refresh":"Refresh","update":"Update"},"actions":{"download":"Download","share":"Share","rename":"Rename","remove":"Delete","unsubscribe":"Delete"},"share":{"headerText":"Share with other users","searchBarPlaceholder":"Find a contact","success":{"message":"The file {{ file.name }} has successfully been shared.","title":"Share successful","messageUpdate":"The file share has been updated."},"failed":{"message":"Sharing the {{ error.entity.name }} file failed.","retry":"Please try again."}},"dialog":{"rename":{"title":"Change name","label":"New name","placeholder":"Enter new name","action":"Rename"},"removeFolder":{"title":"Remove","label":"Do you really want to delete this folder from {{ folderName }} space?","action":"Remove"},"removeFile":{"title":"Remove","label":"Do you really want to delete this file from {{ folderName }} space?","action":"Remove"},"unsubscribe":{"title":"Remove","label":"Do you really want to delete this file from {{ folderName }} space?","action":"Remove"},"removeSharedByMe":{"title":"Remove","label":"Do you really want to delete this file? The document won\'t be available to users who have accessed.","action":"Remove"},"createDirectory":{"title":"Create a new folder","default":"New Folder","label":"New folder name","placeholder":"Enter the name of the folder","action":"Create"},"upload":{"title":"Upload"},"download":{"title":"Download"},"indeterminate":{"title":"Transfer"}},"errors":{"files":{"tooheavy":"File is too heavy to be uploaded (75 mo maximum), please compress your file or select another one."},"invalidCharacter":"Invalid character.","actionDoNothing":"An error has occured. Check your connection and retry."},"upload":{"success":{"title":"Upload successful","message":"The file {{ source.name }} has been successfully added."},"failure":{"title":"Upload error","message":"Upload has failed, please try again."}},"download":{"success":{"title":"Download successful","message":"The file {{ source.name }} has been successfully downloaded."},"failure":{"title":"Download error","message":"An error has occurred while downloading the file, please try again."}},"selection":{"single":"single","multi":"multi"},"notifications":{"share":"The file ({{ displayname }}) has been shared","unshare":"You no longer have access to the file ({{ displayname }})"}},"powerbank":{"home":{"header":"Borrow an external battery","instructions":{"1":"Scan the QR code displayed on the battery dispenser with your device.","2":"Recover the battery from the dispenser.","3":"Replace the battery used in the dispenser.","title":"The 3 steps to borrow a battery"},"battery":{"battery":"Battery","loanDate":"Beginning of the loan at:","borrowed":"borrowed","slot":"Slot : "},"rescan":"In order to borrow a new battery, please scan again."},"scanner":{"header":"Scanner","description":"Scan the distributor\'s QR code to display the batteries available for borrowing."},"getBattery":{"header":"Get a battery","batteriesInDistributor":"Batteries in the distributor","inCharge":"In charge","available":"Available","minimumBattery":"Minimum battery charge : ","limitLoansReached":"You do not have the right to take another battery, you have exceeded the limit of borrowed batteries.","unavailable":"no battery available.","rescan":"Dispenser error, please rescan the QRcode."},"buttons":{"scanAndBorrow":"Scan and borrow","borrow":"Borrow","borrowBattery":"Borrow a battery","scanCancel":"Cancel","getBattery":"Get a battery"}},"loginComponent":{"schoolName":"School name","schoolNameIsRequired":"School name is required","institutionHint":"Zipcode, City or school name","selectSchool":"Select a school"},"search":{"noResult":"No result for your search."},"statusConnection":{"title":"Statut connexion","turnOff":"Vous \xeates en mode hors ligne. Veuillez v\xe9rifier votre connexion internet","turnOn":"Vous \xeates de nouveau en ligne."},"date":{"today":"Aujourd\'hui","yesterday":"Hier","just_now":"just now"},"errors":{"generic":"An error has occured. Check your connection and retry.","loadError":"an error occurred while loading","noResult":"No result for your search."},"inConstruction":"In development","refreshTokenError":"Your session has expired, please sign in again.","profile":{"title":"Complete your profile","title-edit":"My profile","subtitle":"You will find those information in your profile where you will be able to modify them.","givenname":"First name","name":"Last name","level":"Level","class":"Class","classes":"Classes","selectLevel":"Select your level","selectClass":"Select your class","send":"Send","institution":"School name","buttons":{"cancel":"Cancel","edit":"Edit","save":"Save"}},"onboarding":{"welcome":{"action":"Log in","messages":{"welcome":{"tablet":"Welcome to your new tablet, provided by Ile-de-France Region","desktop":"Welcome to your new personal computer, provided by Ile-de-France Region"},"register":"Register with your ENT Monlycee.net credentials","questions":{"title":"Why register?","item-1":"Access to more functionalities","item-2":"Simplified access to tools","item-3":"Performance improvement","item-4":"Receiving updates","item-5":"Higher level of security","item-6":"Assistance facilitated"},"support":"Chat directly with technical support"}},"finish":{"action":"Ok","messages":{"title":"Thank you, your tablet is registered!","titleDesktop":"Thank you, your computer is registered!","subtitle":"You can now","accessEducationalResources":"Access educational resources","receiveApp":"Receive the applications provided by your institution"}},"video":{"action":"Skip this step"},"confirmProfile":{"EULA":"End-User License Agreement","accept":"I accept the","identity":"Identity","title":"Confirm your profile information","title-edit":"My profile","subtitle":"Please check the accuracy of your information. If some information were not correct, please refer to a member of your institution.","firstName":"First name","lastName":"Last name","level":"Level","class":"Class","classes":"Classe(s)","selectLevel":"Select your level","selectClass":"Select your class","continue":"Continue","institution":"School name","buttons":{"cancel":"Cancel","edit":"Edit","save":"Save"}}}}'),kM=JSON.parse('{"APP_NAME":"HiSqool","Hello world !":"Bonjour le monde !","Home":"Accueil","Logged in as":"Connect\xe9 en tant que","Logout":"D\xe9connexion","School Session":"S\xe9ances","Welcome":"Bienvenue","cloud":{"actions":{"download":"T\xe9l\xe9charger","remove":"Supprimer","rename":"Renommer","share":"Partager","unsubscribe":"Supprimer"},"buttons":{"add":"Ajouter un fichier","addFile":"Ajouter un fichier","addFolder":"Cr\xe9er un dossier","backTo":"Retour","cancel":"Annuler","refresh":"Actualiser","update":"Mettre \xe0 jour"},"dialog":{"createDirectory":{"action":"Cr\xe9er","default":"Nouveau Dossier","label":"Nom du dossier","placeholder":"Entrez le nom du dossier","title":"Cr\xe9er un dossier"},"download":{"title":"T\xe9l\xe9chargement"},"indeterminate":{"title":"Transfert"},"removeFile":{"action":"Supprimer","label":"Voulez-vous vraiment supprimer ce fichier de l\u2019espace {{ folderName }} ?","title":"Supprimer"},"removeFolder":{"action":"Supprimer","label":"Voulez-vous vraiment supprimer ce dossier de l\u2019espace {{ folderName }} ?","title":"Supprimer"},"removeSharedByMe":{"action":"Supprimer","label":"Voulez-vous vraiment supprimer cet \xe9l\xe9ment de l\u2019espace Documents ? Le document ne sera plus disponible aux personnes qui y ont acc\xe8s.","title":"Supprimer"},"rename":{"action":"Renommer","label":"Nouveau nom","placeholder":"Entrez un nouveau nom","title":"Renommer"},"unsubscribe":{"action":"Supprimer","label":"Voulez-vous vraiment supprimer ce fichier de l\u2019espace {{ folderName }} ?","title":"Supprimer"},"upload":{"title":"T\xe9l\xe9versement"}},"download":{"failure":{"message":"Une erreur est survenue lors du t\xe9l\xe9chargement du fichier, veuillez r\xe9essayer.","title":"Erreur de t\xe9l\xe9chargement"},"success":{"message":"Le fichier {{ source.name }} a bien \xe9t\xe9 t\xe9l\xe9charg\xe9.","title":"T\xe9l\xe9chargement r\xe9ussi"}},"errors":{"actionDoNothing":"Une erreur s\'est produite. V\xe9rifiez votre connexion et r\xe9-essayer.","files":{"tooheavy":"Le fichier est trop lourd pour \xeatre ajout\xe9 (75 mo maximum). Veuillez compresser votre fichier ou en s\xe9lectionner un autre."},"invalidCharacter":"Caract\xe8re invalide."},"headers":{"author":"Auteur","files":"Fichiers","folders":"Dossiers","lastModified":"Derni\xe8re modification","name":"Nom","owner":"Propri\xe9taire","shareDate":"Partag\xe9 le","size":"Taille"},"notifications":{"share":"Le fichier ({{ displayname }}) vous a \xe9t\xe9 partag\xe9","unshare":"Vous n\u2019avez plus acc\xe8s au fichier ({{ displayname }})"},"search":{"noResult":"Aucun r\xe9sultat ne correspond \xe0 votre recherche","searchIn":"Rechercher dans"},"selection":{"multi":"\xe9l\xe9ments s\xe9lectionn\xe9s","single":"\xe9l\xe9ment s\xe9lectionn\xe9"},"share":{"failed":{"message":"Le partage du fichier {{ error.entity.name }} a \xe9chou\xe9.","retry":"Merci de r\xe9essayer."},"headerText":"Partager avec d\'autres utilisateurs","searchBarPlaceholder":"Rechercher un contact","success":{"message":"Le fichier {{ file.name }} a bien \xe9t\xe9 partag\xe9.","messageUpdate":"Le partage du fichier a \xe9t\xe9 mis \xe0 jour.","title":"Partage r\xe9ussi"}},"tabs":{"emptyFolder":"Le dossier actuel est vide","myDocuments":"Documents","sharedDocuments":"Partag\xe9s avec moi"},"upload":{"failure":{"message":"L\'ajout du fichier n\'a pas pu \xeatre effectu\xe9, veuillez r\xe9essayer.","title":"Erreur de t\xe9l\xe9versement"},"success":{"message":"Le fichier {{ source.name }} a bien \xe9t\xe9 ajout\xe9.","title":"T\xe9l\xe9versement r\xe9ussi"}}},"date":{"just_now":"A l\'instant","today":"Aujourd\'hui","yesterday":"Hier"},"errors":{"generic":"Une erreur s\'est produite. V\xe9rifiez votre connexion et r\xe9-essayer.","loadError":"une erreur est survenue lors du chargement","noResult":"Aucun r\xe9sultat pour votre recherche."},"helloWorld":"Bonjour le monde !","helpWidget":"Assistance","home":{"description":"La porte d\'entr\xe9e vers votre lyc\xe9e num\xe9rique.","mainButton":"Acc\xe9der \xe0 mon espace Documents","title":"Bienvenue sur Hi SQOOL !"},"inConstruction":"En cours de d\xe9veloppement","loggedInAs":"Connect\xe9 en tant que","login":{"email":"Email","forgotPassword":"Mot de passe oubli\xe9","login":"Se connecter","password":"Mot de passe ENT","passwordIsRequired":"Mot de passe requis","rememberMe":"Se souvenir de moi","username":"Identifiant ENT","usernameIsRequired":"Identifiant requis","usernameOrPasswordIncorrect":"L\u2019identifiant et le mot de passe ne correspondent pas. Merci de r\xe9essayer","welcome":"Bienvenue","with":"Avec"},"loginComponent":{"institutionHint":"Code postal, ville ou nom de l\'\xe9tablissement","schoolName":"Etablissement","schoolNameIsRequired":"Etablissement requis","selectSchool":"S\xe9lectionner un \xe9tablissement"},"logout":"D\xe9connexion","newVersion":"Nouvelle version disponible. Charger la nouvelle version ?","onboarding":{"confirmProfile":{"EULA":"Conditions G\xe9n\xe9rales d\u2019Utilisation","accept":"J\u2019accepte les","buttons":{"cancel":"Annuler","edit":"Editer","save":"Enregistrer"},"class":"Classe","classes":"Classe(s)","continue":"Continuer","firstName":"Pr\xe9nom","identity":"Identit\xe9","institution":"Etablissement","lastName":"Nom","level":"Niveau","selectClass":"S\xe9lectionner votre classe","selectLevel":"S\xe9lectionner votre niveau","subtitle":"Veuillez v\xe9rifier l\'exactitude des informations vous concernant. Si certaines informations n\u2019\xe9taient pas correctes, merci de vous r\xe9f\xe9rer \xe0 un membre de votre \xe9tablissement.","title":"Confirmez vos informations de profil","title-edit":"Mon profil"},"finish":{"action":"Ok","messages":{"accessEducationalResources":"Acc\xe9der \xe0 des ressources p\xe9dagogiques","receiveApp":"Recevoir les applications mises \xe0 disposition par votre \xe9tablissement","subtitle":"Vous pouvez d\xe9sormais","title":"Merci, votre tablette est enregistr\xe9e !","titleDesktop":"Merci, votre ordinateur est enregistr\xe9 !"}},"video":{"action":"Passer cette \xe9tape"},"welcome":{"action":"Se connecter","messages":{"questions":{"item-1":"Acc\xe8s \xe0 plus de fonctionnalit\xe9s","item-2":"Acc\xe8s aux outils simplifi\xe9","item-3":"Am\xe9lioration de performances","item-4":"R\xe9ception des mises \xe0 jour","item-5":"Niveau de s\xe9curit\xe9 plus \xe9lev\xe9","item-6":"Assistance facilit\xe9e","title":"Pourquoi se connecter ?"},"register":"Connectez-vous avec vos identifiants ENT Monlycee.net","support":"Conversez directement par chat avec le support technique","welcome":{"desktop":"Bienvenue sur votre nouvel ordinateur mis \xe0 disposition par la R\xe9gion \xcele-de-France","tablet":"Bienvenue sur votre nouvelle tablette mise \xe0 disposition par la R\xe9gion \xcele-de-France"}}}},"powerbank":{"buttons":{"borrow":"Emprunter","borrowBattery":"Emprunter une batterie","getBattery":"Obtenir une batterie","scanAndBorrow":"Scanner et emprunter","scanCancel":"Annuler"},"getBattery":{"available":"Disponible","batteriesInDistributor":"Batteries dans le distributeur","header":"Obtenir une batterie","inCharge":"En cours de charge","limitLoansReached":"Vous n\'avez pas le droit de prendre une autre batterie, vous avez d\xe9pass\xe9 la limite des batteries emprunt\xe9es.","minimumBattery":"Charge batterie minimale : ","rescan":"Erreur de distributeur, veuillez rescanner le QRcode.","unavailable":"Aucune batterie disponible."},"home":{"battery":{"battery":"Batterie","borrowed":"emprunt\xe9e","loanDate":"D\xe9but de l\u2019emprunt \xe0 :","slot":"Slot : "},"header":"Emprunter une batterie externe","instructions":{"1":"Scanner le QR code affich\xe9 sur le distributeur de batteries avec votre terminal.","2":"R\xe9cup\xe9rer la batterie sortie du distributeur.","3":"Une fois la batterie utilis\xe9e, la remplacer dans le distributeur.","title":"Les 3 \xe9tapes pour emprunter une batterie"},"rescan":"Afin de pouvoir emprunter une nouvelle batterie, veuillez scanner de nouveau."},"scanner":{"description":"Scanner le QR code du distributeur pour afficher les batteries disponibles \xe0 l\u2019emprunt.","header":"Scanner"}},"profile":{"buttons":{"cancel":"Annuler","edit":"Editer","save":"Enregistrer"},"class":"Classe","classes":"Classes","givenname":"Pr\xe9nom","institution":"Etablissement","level":"Niveau","name":"Nom","selectClass":"S\xe9lectionner votre classe","selectLevel":"S\xe9lectionner votre niveau","send":"Envoyer","subtitle":"Vous retrouverez ces informations dans votre profil o\xf9 vous pourrez les modifier.","title":"Compl\xe9tez votre profil","title-edit":"Mon profil"},"refreshTokenError":"Votre session a expir\xe9, merci de vous reconnecter. ","rememberMe":"Se souvenir de moi","search":{"noResult":"Aucun r\xe9sultat ne correspond \xe0 votre recherche"},"statusConnection":{"title":"Statut connexion","turnOff":"Vous \xeates en mode hors ligne. Veuillez v\xe9rifier votre connexion internet","turnOn":"Vous \xeates de nouveau en ligne."},"textbooks":{"manyResult":"manuels disponibles","oneResult":"1 manuel disponible","unavailable":"aucun manuel disponible"},"titles":{"chat":"Chat","cloud":"Documents","home":"Accueil","k9mail":"K9 Mail","login":"HiSqool","monlycee":"Monlyc\xe9e.net","powerbank":"Emprunter une batterie","profile":"Profile","ressources":"Ressources","sessions":"S\xe9ances","textbook":"Manuels"},"username":"Identifiant","version":"Version","waitingTextbook":"En attente des livres scolaires"}'),LM=new rs("I18nService"),sx="language";let Jg=(()=>{class n{constructor(e){this.translateService=e,e.setTranslation("en-US",uA),e.setTranslation("fr-FR",kM)}init(e,r){this.defaultLanguage=e,this.supportedLanguages=r,this.language="",this.translateService.onLangChange.subscribe(o=>{localStorage.setItem(sx,o.lang)})}set language(e){e=e||localStorage.getItem(sx)||this.translateService.getBrowserCultureLang();let r=this.supportedLanguages.includes(e);e&&!r&&(e=e.split("-")[0],e=this.supportedLanguages.find(o=>o.startsWith(e))||"",r=Boolean(e)),r||(e=this.defaultLanguage),LM.debug(`Language set to ${e}`),this.translateService.use(e)}get language(){return this.translateService.currentLang}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(sc))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),BM=(()=>{class n extends Hv{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){var o,s,a;return e.routeConfig===r.routeConfig||Boolean((null===(o=e.routeConfig)||void 0===o?void 0:o.component)&&(null===(s=e.routeConfig)||void 0===s?void 0:s.component)===(null===(a=r.routeConfig)||void 0===a?void 0:a.component))}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function UM(){return localStorage}let dA=(()=>{class n{constructor(e){if(e)throw new Error(`${e} has already been loaded. Import Core module in the AppModule only.`)}static forRoot(){return{ngModule:n,providers:[{provide:zg,useValue:uh},{provide:y_,useValue:qw},{provide:kw,useClass:oa},{provide:ac,useFactory:UM}]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(n,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Wo,Rs,hh,ph,Jg,{provide:Hv,useClass:BM},{provide:Yh,useClass:cA,multi:!0},$c],imports:[Yr,Jh,Go,DM.forRoot(),Xi]}),n})();function Yn(n){return null!=n&&"false"!=`${n}`}function Sa(n,t=0){return ax(n)?Number(n):t}function ax(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function N_(n){return Array.isArray(n)?n:[n]}function ho(n){return null==n?"":"string"==typeof n?n:`${n}px`}function dc(n){return n instanceof i.SBq?n.nativeElement:n}let y=(()=>{class n extends Si{constructor(e,r,o,s,a,u,h){super(e,null,r,o),this.ngClassInstance=h,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Jr(s,a,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(Ci),i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.Qsj),i.Y36(Jr,10))},n.\u0275dir=i.lG2({type:n,inputs:{klass:["class","klass"]},features:[i.qOj]}),n})();const D=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let Q=(()=>{class n extends y{constructor(){super(...arguments),this.inputs=D}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[i.qOj]}),n})(),ce=(()=>{class n extends ki{buildStyles(e,r){return{display:"true"===e?r.display||(r.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends Si{constructor(e,r,o,s,a,u,h){super(e,r,o,s),this.layoutConfig=a,this.platformId=u,this.serverModuleLoaded=h,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let o=0;o<e.length;o++)if(this.marshal.hasValue(e[o],"flex")){this.hasFlexChild=!0;break}Ze.has(this.nativeElement)?this.display=Ze.get(this.nativeElement):(this.display=this.getDisplayStyle(),Ze.set(this.nativeElement,this.display)),this.init();const r=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===r||""===r?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const o=r.split("."),s=o.slice(1).join("."),a=e[r].currentValue;let u=""===a||0!==a&&Yn(a);"fxHide"===o[0]&&(u=!u),this.setValue(u,s)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe((0,zn.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const r=Gs(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:r}),r&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(ce),i.Y36(yi),i.Y36(Ci),i.Y36(Ea),i.Y36(i.Lbi),i.Y36(ud))},n.\u0275dir=i.lG2({type:n,features:[i.qOj,i.TTD]}),n})();const Ze=new WeakMap,ot=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let Lt=(()=>{class n extends we{constructor(){super(...arguments),this.inputs=ot}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[i.qOj]}),n})();class Xt{constructor(t,e,r=!0){this.key=t,this.value=e,this.key=r?t.replace(/['"]/g,"").trim():t.trim(),this.value=r?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function _n(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function an(n){const[t,...e]=n.split(":");return new Xt(t,e.join(":"))}function er(n,t){return t.key&&(n[t.key]=t.value),n}let Mr=(()=>{class n extends Si{constructor(e,r,o,s,a,u,h,x,M){var L;super(e,null,r,o),this.sanitizer=s,this.ngStyleInstance=h,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new Rt(e,a,u)),this.init();const W=null!==(L=this.nativeElement.getAttribute("style"))&&void 0!==L?L:"";this.fallbackStyles=this.buildStyleMap(W),this.isServer=x&&Gs(M)}updateWithValue(e){const r=this.buildStyleMap(e);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),r),this.isServer&&this.applyStyleToElement(r),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const r=o=>{var s;return null!==(s=this.sanitizer.sanitize(i.q3G.STYLE,o))&&void 0!==s?s:""};if(e)switch(_n(e)){case"string":return em(function En(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),r);case"array":return em(e,r);default:return function Vn(n,t){let e=[];return"set"===_n(n)?n.forEach(r=>e.push(r)):Object.keys(n).forEach(r=>{e.push(`${r}:${n[r]}`)}),function On(n,t){return n.map(an).filter(r=>!!r).map(r=>(t&&(r.value=t(r.value)),r)).reduce(er,{})}(e,t)}(e,r)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(Ci),i.Y36(lr),i.Y36(i.aQg),i.Y36(i.Qsj),i.Y36(Rt,10),i.Y36(ud),i.Y36(i.Lbi))},n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const Ai=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let Yc=(()=>{class n extends Mr{constructor(){super(...arguments),this.inputs=Ai}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[i.qOj]}),n})();function em(n,t){return n.map(an).filter(r=>!!r).map(r=>(t&&(r.value=t(r.value)),r)).reduce(er,{})}let tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[e_]}),n})();const B_=new i.OlP("cdk-dir-doc",{providedIn:"root",factory:function U_(){return(0,i.f3M)(m)}}),j_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let is=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new i.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function H_(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?j_.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(B_,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),dP=(()=>{class n extends ki{buildStyles(e,{display:r}){const o=Ig(e);return Object.assign(Object.assign({},o),{display:"none"===r?r:o.display})}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fP=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let hP=(()=>{class n extends Si{constructor(e,r,o,s,a){super(e,o,r,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){var r;const s=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(r=VM.get(s))&&void 0!==r?r:new Map,VM.set(s,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:s}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(dP),i.Y36(Ci),i.Y36(Ea))},n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})(),$o=(()=>{class n extends hP{constructor(){super(...arguments),this.inputs=fP}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[i.qOj]}),n})();const VM=new Map,GM={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let pP=(()=>{class n extends ki{constructor(e,r){super(),this._styler=e,this._config=r}buildStyles(e,r){return e.endsWith(cx)?function xP(n,t){const[e,r]=n.split(" "),s=x=>`-${x}`;let a="0px",u=s(null!=r?r:e),h="0px";return"rtl"===t?h=s(e):a=s(e),{margin:`0px ${a} ${u} ${h}`}}(e=Ug(e=e.slice(0,e.indexOf(cx)),this._config.multiplier),r.directionality):{}}sideEffect(e,r,o){const s=o.items;if(e.endsWith(cx)){const a=function wP(n,t){const[e,r]=n.split(" ");let s="0px",u="0px";return"rtl"===t?u=e:s=e,{padding:`0px ${s} ${null!=r?r:e} ${u}`}}(e=Ug(e=e.slice(0,e.indexOf(cx)),this._config.multiplier),o.directionality);this._styler.applyStyleToElements(a,o.items)}else{e=Ug(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=s.pop(),u=function EP(n,t){const e=zM(t.directionality,t.layout),r=Object.assign({},GM);return r[e]=n,r}(e,o);this._styler.applyStyleToElements(u,s),this._styler.applyStyleToElements(GM,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(yi),i.LFG(Ea))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gP=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let mP=(()=>{class n extends Si{constructor(e,r,o,s,a,u){super(e,a,s,u),this.zone=r,this.directionality=o,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new yn.xQ;const h=[this.directionality.change,this.observerSubject.asObservable()];this.init(h),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,zn.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,r=[];for(let o=e.length;o--;)r[o]=e[o];return r}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const o=e.value.split(" ");this.layout=o[0],rh.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const r=this.childrenNodes.filter(o=>1===o.nodeType&&this.willDisplay(o)).sort((o,s)=>{const a=+this.styler.lookupStyle(o,"order"),u=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(u)||a===u?0:a>u?1:-1});if(r.length>0){const o=this.directionality.value,s=this.layout;"row"===s&&"rtl"===o?this.styleCache=vP:"row"===s&&"rtl"!==o?this.styleCache=yP:"column"===s&&"rtl"===o?this.styleCache=_P:"column"===s&&"rtl"!==o&&(this.styleCache=bP),this.addStyles(e,{directionality:o,items:r,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,r=e?"padding":zM(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[r]:""},this.childrenNodes)}willDisplay(e){const r=this.marshal.getValue(e,"show-hide");return!0===r||void 0===r&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(o=>o.addedNodes&&o.addedNodes.length>0||o.removedNodes&&o.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(is),i.Y36(yi),i.Y36(pP),i.Y36(Ci))},n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})(),fA=(()=>{class n extends mP{constructor(){super(...arguments),this.inputs=gP}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[i.qOj]}),n})();const vP=new Map,_P=new Map,yP=new Map,bP=new Map,cx=" grid";function zM(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let CP=(()=>{class n extends ki{constructor(e){super(),this.layoutConfig=e}buildStyles(e,r){let[o,s,...a]=e.split(" "),u=a.join(" ");const h=r.direction.indexOf("column")>-1?"column":"row",x=cd(h)?"max-width":"max-height",M=cd(h)?"min-width":"min-height",L=String(u).indexOf("calc")>-1,W=L||"auto"===u,q=String(u).indexOf("%")>-1&&!L,ye=String(u).indexOf("px")>-1||String(u).indexOf("rem")>-1||String(u).indexOf("em")>-1||String(u).indexOf("vw")>-1||String(u).indexOf("vh")>-1;let Le=L||ye;o="0"==o?0:o,s="0"==s?0:s;const rt=!o&&!s;let it={};const lt={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(u||""){case"":const Ot=!1!==this.layoutConfig.useColumnBasisZero;u="row"===h?"0%":Ot?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,u="auto";break;case"grow":u="100%";break;case"noshrink":s=0,u="auto";break;case"auto":break;case"none":o=0,s=0,u="auto";break;default:!Le&&!q&&!isNaN(u)&&(u+="%"),"0%"===u&&(Le=!0),"0px"===u&&(u="0%"),it=bl(lt,L?{"flex-grow":o,"flex-shrink":s,"flex-basis":Le?u:"100%"}:{flex:`${o} ${s} ${Le?u:"100%"}`})}return it.flex||it["flex-grow"]||(it=bl(lt,L?{"flex-grow":o,"flex-shrink":s,"flex-basis":u}:{flex:`${o} ${s} ${u}`})),"0%"!==u&&"0px"!==u&&"0.000000001px"!==u&&"auto"!==u&&(it[M]=rt||Le&&o?u:null,it[x]=rt||!W&&s?u:null),it[M]||it[x]?r.hasWrap&&(it[L?"flex-basis":"flex"]=it[x]?L?it[x]:`${o} ${s} ${it[x]}`:L?it[M]:`${o} ${s} ${it[M]}`):it=bl(lt,L?{"flex-grow":o,"flex-shrink":s,"flex-basis":u}:{flex:`${o} ${s} ${u}`}),bl(it,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ea))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SP=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let AP=(()=>{class n extends Si{constructor(e,r,o,s,a){super(e,s,r,a),this.layoutConfig=o,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,zn.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,zn.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const o=e.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,s=o.startsWith("row"),a=this.wrap;s&&a?this.styleCache=MP:s&&!a?this.styleCache=DP:!s&&a?this.styleCache=OP:!s&&!a&&(this.styleCache=TP);const h=l_(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:o,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const r=l_(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(Ea),i.Y36(CP),i.Y36(Ci))},n.\u0275dir=i.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[i.qOj]}),n})(),Fs=(()=>{class n extends AP{constructor(){super(...arguments),this.inputs=SP}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[i.qOj]}),n})();const DP=new Map,TP=new Map,MP=new Map,OP=new Map;let zP=(()=>{class n extends ki{buildStyles(e){const r={};switch(e=e||"stretch"){case"start":r["align-self"]="flex-start";break;case"end":r["align-self"]="flex-end";break;default:r["align-self"]=e}return r}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZP=["fxFlexAlign","fxFlexAlign.xs","fxFlexAlign.sm","fxFlexAlign.md","fxFlexAlign.lg","fxFlexAlign.xl","fxFlexAlign.lt-sm","fxFlexAlign.lt-md","fxFlexAlign.lt-lg","fxFlexAlign.lt-xl","fxFlexAlign.gt-xs","fxFlexAlign.gt-sm","fxFlexAlign.gt-md","fxFlexAlign.gt-lg"];let WP=(()=>{class n extends Si{constructor(e,r,o,s){super(e,o,r,s),this.DIRECTIVE_KEY="flex-align",this.styleCache=$P,this.init()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(zP),i.Y36(Ci))},n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const $P=new Map;let ZM=(()=>{class n extends WP{constructor(){super(...arguments),this.inputs=ZP}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","fxFlexAlign",""],["","fxFlexAlign.xs",""],["","fxFlexAlign.sm",""],["","fxFlexAlign.md",""],["","fxFlexAlign.lg",""],["","fxFlexAlign.xl",""],["","fxFlexAlign.lt-sm",""],["","fxFlexAlign.lt-md",""],["","fxFlexAlign.lt-lg",""],["","fxFlexAlign.lt-xl",""],["","fxFlexAlign.gt-xs",""],["","fxFlexAlign.gt-sm",""],["","fxFlexAlign.gt-md",""],["","fxFlexAlign.gt-lg",""]],inputs:{fxFlexAlign:"fxFlexAlign","fxFlexAlign.xs":"fxFlexAlign.xs","fxFlexAlign.sm":"fxFlexAlign.sm","fxFlexAlign.md":"fxFlexAlign.md","fxFlexAlign.lg":"fxFlexAlign.lg","fxFlexAlign.xl":"fxFlexAlign.xl","fxFlexAlign.lt-sm":"fxFlexAlign.lt-sm","fxFlexAlign.lt-md":"fxFlexAlign.lt-md","fxFlexAlign.lt-lg":"fxFlexAlign.lt-lg","fxFlexAlign.lt-xl":"fxFlexAlign.lt-xl","fxFlexAlign.gt-xs":"fxFlexAlign.gt-xs","fxFlexAlign.gt-sm":"fxFlexAlign.gt-sm","fxFlexAlign.gt-md":"fxFlexAlign.gt-md","fxFlexAlign.gt-lg":"fxFlexAlign.gt-lg"},features:[i.qOj]}),n})();const qP={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let YP=(()=>{class n extends ki{buildStyles(e){return qP}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ya=(()=>{class n extends Si{constructor(e,r,o,s){super(e,o,r,s),this.styleCache=KP,this.addStyles("")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(YP),i.Y36(Ci))},n.\u0275dir=i.lG2({type:n,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[i.qOj]}),n})();const KP=new Map;let QP=(()=>{class n extends ki{buildStyles(e,r){const o={},[s,a]=e.split(" ");switch(s){case"center":o["justify-content"]="center";break;case"space-around":o["justify-content"]="space-around";break;case"space-between":o["justify-content"]="space-between";break;case"space-evenly":o["justify-content"]="space-evenly";break;case"end":case"flex-end":o["justify-content"]="flex-end";break;default:o["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":o["align-items"]=o["align-content"]="flex-start";break;case"center":o["align-items"]=o["align-content"]="center";break;case"end":case"flex-end":o["align-items"]=o["align-content"]="flex-end";break;case"space-between":o["align-content"]="space-between",o["align-items"]="stretch";break;case"space-around":o["align-content"]="space-around",o["align-items"]="stretch";break;case"baseline":o["align-content"]="stretch",o["align-items"]="baseline";break;default:o["align-items"]=o["align-content"]="stretch"}return bl(o,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===a?cd(r.layout)?null:"100%":null,"max-height":"stretch"===a&&cd(r.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XP=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let JP=(()=>{class n extends Si{constructor(e,r,o,s){super(e,o,r,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,zn.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const r=this.layout||"row",o=this.inline;"row"===r&&o?this.styleCache=iF:"row"!==r||o?"row-reverse"===r&&o?this.styleCache=sF:"row-reverse"!==r||o?"column"===r&&o?this.styleCache=oF:"column"!==r||o?"column-reverse"===r&&o?this.styleCache=aF:"column-reverse"===r&&!o&&(this.styleCache=rF):this.styleCache=tF:this.styleCache=nF:this.styleCache=eF,this.addStyles(e,{layout:r,inline:o})}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],this.inline=e.value.includes("inline"),rh.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(yi),i.Y36(QP),i.Y36(Ci))},n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})(),po=(()=>{class n extends JP{constructor(){super(...arguments),this.inputs=XP}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[i.qOj]}),n})();const eF=new Map,tF=new Map,nF=new Map,rF=new Map,iF=new Map,oF=new Map,sF=new Map,aF=new Map;let pA,hA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[e_,nm]}),n})(),JM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[e_]}),n})(),_d=(()=>{class n{constructor(e,r){Gs(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Ea,useValue:Object.assign(Object.assign({},fw),e)},{provide:Rg,useValue:r,multi:!0},{provide:ud,useValue:!0}]:[{provide:Ea,useValue:Object.assign(Object.assign({},fw),e)},{provide:Rg,useValue:r,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ud),i.LFG(i.Lbi))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[hA,tm,JM,hA,tm,JM]}),n})();try{pA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){pA=!1}let rm,Mo=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?da(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.Lbi))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nO(){if(rm)return rm;if("object"!=typeof document||!document)return rm=new Set(tO),rm;let n=document.createElement("input");return rm=new Set(tO.filter(t=>(n.setAttribute("type",t),n.type===t))),rm}let V_,ux,vh,gA;function G_(n){return function M6(){if(null==V_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>V_=!0}))}finally{V_=V_||!1}return V_}()?n:!!n.capture}function rO(){if(null==vh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vh=!1,vh;if("scrollBehavior"in document.documentElement.style)vh=!0;else{const n=Element.prototype.scrollTo;vh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vh}function z_(){if("object"!=typeof document||!document)return 0;if(null==ux){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),ux=0,0===n.scrollLeft&&(n.scrollLeft=1,ux=0===n.scrollLeft?1:2),n.remove()}return ux}function iO(n){if(function O6(){if(null==gA){const n="undefined"!=typeof document?document.head:null;gA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gA}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function mA(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function _h(n){return n.composedPath?n.composedPath()[0]:n.target}function vA(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var qo=g(5241);function Ka(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var oO=g(3392);let sO=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=dc(e);return new cr.y(o=>{const a=this._observeElement(r).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new yn.xQ,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(sO))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aO=(()=>{class n{constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new i.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Yn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Sa(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,tc.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(V6),i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),yA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[sO]}),n})();const lO=new Set;let sm,G6=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Z6}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function z6(n){if(!lO.has(n))try{sm||(sm=document.createElement("style"),sm.setAttribute("type","text/css"),document.head.appendChild(sm)),sm.sheet&&(sm.sheet.insertRule(`@media ${n} {body{ }}`,0),lO.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Mo))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z6(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let bA=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new yn.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return cO(N_(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){const o=cO(N_(e)).map(a=>this._registerQuery(a).observable);let s=(0,Vu.aj)(o);return s=(0,Tf.z)(s.pipe((0,Cr.q)(1)),s.pipe((0,oO.T)(1),(0,tc.b)(0))),s.pipe((0,en.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:x})=>{u.matches=u.matches||h,u.breakpoints[x]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new cr.y(a=>{const u=h=>this._zone.run(()=>a.next(h));return r.addListener(u),()=>{r.removeListener(u)}}).pipe((0,co.O)(r),(0,en.U)(({matches:a})=>({query:e,matches:a})),(0,zn.R)(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(G6),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cO(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class fO{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new yn.xQ,this._typeaheadSubscription=qo.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new yn.xQ,this.change=new yn.xQ,t instanceof i.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Hr.b)(e=>this._pressedLetters.push(e)),(0,tc.b)(t),(0,Tn.h)(()=>this._pressedLetters.length>0),(0,en.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let o=1;o<r.length+1;o++){const s=(this._activeItemIndex+o)%r.length,a=r[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||Ka(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),o=e[r];this._activeItem=null==o?null:o,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const o=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.n_E?this._items.toArray():this._items}}class Y6 extends fO{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class wA extends fO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let q_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Q6(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function K6(n){try{return n.frameElement}catch(t){return null}}(function o4(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===pO(r)||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),s=pO(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function r4(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==s:"video"===o?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function i4(n){return!function J6(n){return function t4(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function X6(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function e4(n){return function n4(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||hO(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Mo))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function pO(n){if(!hO(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class s4{constructor(t,e,r,o,s=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Cr.q)(1)).subscribe(t)}}let hx=(()=>{class n{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new s4(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(q_),i.LFG(i.R0b),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function EA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const a4=new i.OlP("cdk-input-modality-detector-options"),l4={ignoreKeys:[18,17,224,91,16]},am=G_({passive:!0,capture:!0});let c4=(()=>{class n{constructor(e,r,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ui.X(null),this._lastTouchMs=0,this._onKeydown=a=>{var u,h;null!==(h=null===(u=this._options)||void 0===u?void 0:u.ignoreKeys)&&void 0!==h&&h.some(x=>x===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_h(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(xA(a)?"keyboard":"mouse"),this._mostRecentTarget=_h(a))},this._onTouchstart=a=>{EA(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_h(a))},this._options=Object.assign(Object.assign({},l4),s),this.modalityDetected=this._modality.pipe((0,oO.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,za.x)()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,am),o.addEventListener("mousedown",this._onMousedown,am),o.addEventListener("touchstart",this._onTouchstart,am)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,am),document.removeEventListener("mousedown",this._onMousedown,am),document.removeEventListener("touchstart",this._onTouchstart,am))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Mo),i.LFG(i.R0b),i.LFG(m),i.LFG(a4,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u4=new i.OlP("liveAnnouncerElement",{providedIn:"root",factory:function d4(){return null}}),f4=new i.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let CA=(()=>{class n{constructor(e,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){const o=this._defaultOptions;let s,a;return 1===r.length&&"number"==typeof r[0]?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),null==a&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,r;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(u4,8),i.LFG(i.R0b),i.LFG(m),i.LFG(f4,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h4=new i.OlP("cdk-focus-monitor-default-options"),px=G_({passive:!0,capture:!0});let fc=(()=>{class n{constructor(e,r,o,s,a){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yn.xQ,this._rootNodeFocusAndBlurListener=u=>{for(let x=_h(u);x;x=x.parentElement)"focus"===u.type?this._onFocus(u,x):this._onBlur(u,x)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,r=!1){const o=dc(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Qt.of)(null);const s=iO(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;const u={checkChildren:r,subject:new yn.xQ,rootNode:s};return this._elementInfo.set(o,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const r=dc(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const s=dc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,h])=>this._originChanged(u,r,h)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!(null==e||!e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),s=_h(e);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,px),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,px)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,zn.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,px),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,px),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.R0b),i.LFG(Mo),i.LFG(c4),i.LFG(m,8),i.LFG(h4,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mO="cdk-high-contrast-black-on-white",vO="cdk-high-contrast-white-on-black",SA="cdk-high-contrast-active";let _O=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,i.f3M)(bA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(SA,mO,vO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(SA,mO):2===r&&e.add(SA,vO)}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Mo),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p4=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(_O))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[yA]}),n})();function g4(n,t){if(1&n&&i._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=i.oxw();i.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function m4(n,t){if(1&n&&(i.TgZ(0,"span",5),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.hij("(",e.group.label,")")}}const v4=["*"],y4=new i.OlP("mat-sanity-checks",{providedIn:"root",factory:function _4(){return!0}});let mr=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!vA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(_O),i.LFG(y4,8),i.LFG(m))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[nm,nm]}),n})();function Y_(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Yn(t)}}}function yh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function yd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Yn(t)}}}function AA(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Sa(e):this.defaultTabIndex}}}function bO(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let DA=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Q_(n,t,e){n.nativeElement.classList.toggle(t,e)}let gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,mr]}),n})();class w4{constructor(t,e,r,o=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xO={enterDuration:225,exitDuration:150},TA=G_({passive:!0}),EO=["mousedown","touchstart"],CO=["mouseup","mouseleave","touchend","touchcancel"];class E4{constructor(t,e,r,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=dc(r))}fadeInRipple(t,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},xO),r.animation);r.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const a=r.radius||function C4(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+o*o)}(t,e,o),u=t-o.left,h=e-o.top,x=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=u-a+"px",M.style.top=h-a+"px",M.style.height=2*a+"px",M.style.width=2*a+"px",null!=r.color&&(M.style.backgroundColor=r.color),M.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(M);const L=window.getComputedStyle(M),q=L.transitionDuration,ye="none"===L.transitionProperty||"0s"===q||"0s, 0s"===q,Le=new w4(this,M,r,ye);M.style.transform="scale3d(1, 1, 1)",Le.state=0,r.persistent||(this._mostRecentTransientRipple=Le);let rt=null;return!ye&&(x||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const it=()=>this._finishRippleTransition(Le),lt=()=>this._destroyRipple(Le);M.addEventListener("transitionend",it),M.addEventListener("transitioncancel",lt),rt={onTransitionEnd:it,onTransitionCancel:lt}}),this._activeRipples.set(Le,rt),(ye||!x)&&this._finishRippleTransition(Le),Le}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r=Object.assign(Object.assign({},xO),t.config.animation);e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=dc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(EO))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(CO),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){var e;const r=null!==(e=this._activeRipples.get(t))&&void 0!==e?e:null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==r&&(t.element.removeEventListener("transitionend",r.onTransitionEnd),t.element.removeEventListener("transitioncancel",r.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=xA(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!EA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,TA)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(EO.forEach(t=>{this._triggerElement.removeEventListener(t,this,TA)}),this._pointerUpEventsRegistered&&CO.forEach(t=>{this._triggerElement.removeEventListener(t,this,TA)}))}}const S4=new i.OlP("mat-ripple-global-options");let Kc=(()=>{class n{constructor(e,r,o,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new E4(this,r,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(Mo),i.Y36(S4,8),i.Y36(i.QbO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,mr]}),n})(),SO=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.QbO,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,r){2&e&&i.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),MA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr]}),n})();const AO=new i.OlP("MAT_OPTION_PARENT_COMPONENT"),DO=new i.OlP("MatOptgroup");let A4=0;class D4{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let T4=(()=>{class n{constructor(e,r,o,s){this._element=e,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+A4++,this.onSelectionChange=new i.vpe,this._stateChanges=new yn.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Yn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,r){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ka(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new D4(this,e))}}return n.\u0275fac=function(e){i.$Z()},n.\u0275dir=i.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),TO=(()=>{class n extends T4{constructor(e,r,o,s){super(e,r,o,s)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(AO,8),i.Y36(DO,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&e&&(i.Ikx("id",r.id),i.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),i.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[i.qOj],ngContentSelectors:v4,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,r){1&e&&(i.F$t(),i.YNc(0,g4,1,2,"mat-pseudo-checkbox",0),i.TgZ(1,"span",1),i.Hsn(2),i.qZA(),i.YNc(3,m4,2,1,"span",2),i._UZ(4,"div",3)),2&e&&(i.Q6J("ngIf",r.multiple),i.xp6(3),i.Q6J("ngIf",r.group&&r.group._inert),i.xp6(1),i.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Kc,Rr,SO],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function MO(n,t,e){if(e.length){let r=t.toArray(),o=e.toArray(),s=0;for(let a=0;a<n+1;a++)r[a].group&&r[a].group===o[s]&&s++;return s}return 0}let OO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[lm,Yr,mr,MA]}),n})();const O4=["mat-button",""],I4=["*"],P4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],F4=yh(Y_(yd(class{constructor(n){this._elementRef=n}})));let go=(()=>{class n extends F4{constructor(e,r,o){super(e),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of P4)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(fc),i.Y36(i.QbO,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&i.Gf(Kc,5),2&e){let o;i.iGM(o=i.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(i.uIk("disabled",r.disabled||null),i.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.qOj],attrs:O4,ngContentSelectors:I4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(i.F$t(),i.TgZ(0,"span",0),i.Hsn(1),i.qZA(),i._UZ(2,"span",1)(3,"span",2)),2&e&&(i.xp6(2),i.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),i.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Kc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[lm,mr,mr]}),n})();const k4=["*",[["mat-card-footer"]]],L4=["*","mat-card-footer"],N4=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],B4=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),OA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),n})(),j4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),H4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),X_=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.QbO,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:L4,decls:2,vars:0,template:function(e,r){1&e&&(i.F$t(k4),i.Hsn(0),i.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),V4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:B4,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,r){1&e&&(i.F$t(N4),i.Hsn(0),i.TgZ(1,"div",0),i.Hsn(2,1),i.qZA(),i.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),J_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,mr]}),n})();class IA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ey extends IA{constructor(t,e,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=o}}class cm extends IA{constructor(t,e,r,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class G4 extends IA{constructor(t){super(),this.element=t instanceof i.SBq?t.nativeElement:t}}class vx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ey?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof cm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof G4?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class z4 extends vx{constructor(t,e,r,o,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(t.injector||this._defaultInjector||i.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(r);-1!==o&&e.remove(o)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let um=(()=>{class n extends vx{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new i.vpe,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=r.createComponent(s,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i._Vd),i.Y36(i.s_b),i.Y36(m))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.qOj]}),n})(),dm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();g(1888);var RO=g(1724);let _x=(()=>{class n{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new yn.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cr.y(r=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe((0,RO.e)(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Qt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe((0,Tn.h)(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=dc(r),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,Ps.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.R0b),i.LFG(Mo),i.LFG(m,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ty=(()=>{class n{constructor(e,r,o,s){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new yn.xQ,this._elementScrolled=new cr.y(a=>this.ngZone.runOutsideAngular(()=>(0,Ps.R)(this.elementRef.nativeElement,"scroll").pipe((0,zn.R)(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),o&&0!=z_()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==z_()?e.left=e.right:1==z_()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;rO()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",o="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?o:r:"end"==e&&(e=a?r:o),a&&2==z_()?e==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==z_()?e==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(_x),i.Y36(i.R0b),i.Y36(is,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),fm=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new yn.xQ,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe((0,RO.e)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Mo),i.LFG(i.R0b),i.LFG(m,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),RA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[nm,hm,nm,hm]}),n})();const PO=rO();class q4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ho(-this._previousScrollPosition.left),t.style.top=ho(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,o=this._document.body.style,s=r.scrollBehavior||"",a=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),PO&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PO&&(r.scrollBehavior=s,o.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class Y4{constructor(t,e,r,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FO{enable(){}disable(){}attach(){}}function PA(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function kO(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class K4{constructor(t,e,r,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();PA(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Q4=(()=>{class n{constructor(e,r,o,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new FO,this.close=a=>new Y4(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new q4(this._viewportRuler,this._document),this.reposition=a=>new K4(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(_x),i.LFG(fm),i.LFG(i.R0b),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ny{constructor(t){if(this.scrollStrategy=new FO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class X4{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class ry{constructor(t,e,r,o,s,a,u,h,x,M=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=o,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=x,this._animationsDisabled=M,this._backdropElement=null,this._backdropClick=new yn.xQ,this._attachments=new yn.xQ,this._detachments=new yn.xQ,this._locationChanges=qo.w.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new yn.xQ,this._outsidePointerEvents=new yn.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Cr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==e?void 0:e.onDestroy)&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ho(this._config.width),t.height=ho(this._config.height),t.minWidth=ho(this._config.minWidth),t.minHeight=ho(this._config.minHeight),t.maxWidth=ho(this._config.maxWidth),t.maxHeight=ho(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(t):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const o=N_(e||[]).filter(s=>!!s);o.length&&(r?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,zn.R)((0,Ei.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let yx=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vA()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const r=this._document.createElement("div");r.classList.add(e),vA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m),i.LFG(Mo))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LO="cdk-overlay-connected-position-bounding-box",J4=/([A-Za-z%]+)$/;class ek{constructor(t,e,r,o,s){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yn.xQ,this._resizeSubscription=qo.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(LO),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,o=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,o,u),x=this._getOverlayPoint(h,e,u),M=this._getOverlayFit(x,e,r,u);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(M,x,r)?s.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<M.visibleArea)&&(a={overlayFit:M,overlayPoint:x,originPoint:h,position:u,overlayRect:e})}if(s.length){let u=null,h=-1;for(const x of s){const M=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);M>h&&(h=M,u=x)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let o,s;if("center"==r.originX)o=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;o="start"==r.originX?a:u}return e.left<0&&(o-=e.left),s="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:o,y:s}}_getOverlayPoint(t,e,r){let o,s;return o="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+o,y:t.y+s}}_getOverlayFit(t,e,r,o){const s=BO(e);let{x:a,y:u}=t,h=this._getOffset(o,"x"),x=this._getOffset(o,"y");h&&(a+=h),x&&(u+=x);let W=0-u,q=u+s.height-r.height,ye=this._subtractOverflows(s.width,0-a,a+s.width-r.width),Le=this._subtractOverflows(s.height,W,q),rt=ye*Le;return{visibleArea:rt,isCompletelyWithinViewport:s.width*s.height===rt,fitsInViewportVertically:Le===s.height,fitsInViewportHorizontally:ye==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const o=r.bottom-e.y,s=r.right-e.x,a=NO(this._overlayRef.getConfig().minHeight),u=NO(this._overlayRef.getConfig().minWidth),x=t.fitsInViewportHorizontally||null!=u&&u<=s;return(t.fitsInViewportVertically||null!=a&&a<=o)&&x}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=BO(e),s=this._viewportRect,a=Math.max(t.x+o.width-s.width,0),u=Math.max(t.y+o.height-s.height,0),h=Math.max(s.top-r.top-t.y,0),x=Math.max(s.left-r.left-t.x,0);let M=0,L=0;return M=o.width<=s.width?x||-a:t.x<this._viewportMargin?s.left-r.left-t.x:0,L=o.height<=s.height?h||-u:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:M,y:L},{x:t.x+M,y:t.y+L}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new X4(t,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,o=this._isRtl();let s,a,u,M,L,W;if("top"===e.overlayY)a=t.y,s=r.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=r.height-t.y+2*this._viewportMargin,s=r.height-u+this._viewportMargin;else{const q=Math.min(r.bottom-t.y+r.top,t.y),ye=this._lastBoundingBoxSize.height;s=2*q,a=t.y-q,s>ye&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-ye/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)W=r.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)L=t.x,M=r.right-t.x;else{const q=Math.min(r.right-t.x+r.left,t.x),ye=this._lastBoundingBoxSize.width;M=2*q,L=t.x-q,M>ye&&!this._isInitialRender&&!this._growAfterOpen&&(L=t.x-ye/2)}return{top:a,left:L,bottom:u,right:W,width:M,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;o.height=ho(r.height),o.top=ho(r.top),o.bottom=ho(r.bottom),o.width=ho(r.width),o.left=ho(r.left),o.right=ho(r.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=ho(s)),a&&(o.maxWidth=ho(a))}this._lastBoundingBoxSize=r,bh(this._boundingBox.style,o)}_resetBoundingBoxStyles(){bh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(o){const M=this._viewportRuler.getViewportScrollPosition();bh(r,this._getExactOverlayY(e,t,M)),bh(r,this._getExactOverlayX(e,t,M))}else r.position="static";let u="",h=this._getOffset(e,"x"),x=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),x&&(u+=`translateY(${x}px)`),r.transform=u.trim(),a.maxHeight&&(o?r.maxHeight=ho(a.maxHeight):s&&(r.maxHeight="")),a.maxWidth&&(o?r.maxWidth=ho(a.maxWidth):s&&(r.maxWidth="")),bh(this._pane.style,r)}_getExactOverlayY(t,e,r){let o={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=ho(s.y),o}_getExactOverlayX(t,e,r){let a,o={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=ho(s.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kO(t,r),isOriginOutsideView:PA(t,r),isOverlayClipped:kO(e,r),isOverlayOutsideView:PA(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,o)=>r-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&N_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function bh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function NO(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(J4);return e&&"px"!==e?null:parseFloat(t)}return n||null}function BO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const UO="cdk-global-overlay-wrapper";class tk{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(UO),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:a,maxHeight:u}=r,h=!("100%"!==o&&"100vw"!==o||a&&"100%"!==a&&"100vw"!==a),x=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),M=this._xPosition,L=this._xOffset,W="rtl"===this._overlayRef.getConfig().direction;let q="",ye="",Le="";h?Le="flex-start":"center"===M?(Le="center",W?ye=L:q=L):W?"left"===M||"end"===M?(Le="flex-end",q=L):("right"===M||"start"===M)&&(Le="flex-start",ye=L):"left"===M||"start"===M?(Le="flex-start",q=L):("right"===M||"end"===M)&&(Le="flex-end",ye=L),t.position=this._cssPosition,t.marginLeft=h?"0":q,t.marginTop=x?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":ye,e.justifyContent=Le,e.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(UO),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let nk=(()=>{class n{constructor(e,r,o,s){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new tk}flexibleConnectedTo(e){return new ek(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fm),i.LFG(m),i.LFG(Mo),i.LFG(yx))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jO=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rk=(()=>{class n extends jO{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=o=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m),i.LFG(i.R0b,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ik=(()=>{class n extends jO{constructor(e,r,o){super(e),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_h(s)},this._clickListener=s=>{const a=_h(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let x=h.length-1;x>-1;x--){const M=h[x];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(a)||M.overlayElement.contains(u))break;const L=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(s)):L.next(s)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m),i.LFG(Mo),i.LFG(i.R0b,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ok=0,Qa=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M,L,W,q){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=x,this._directionality=M,this._location=L,this._outsideClickDispatcher=W,this._animationsModuleType=q}create(e){const r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new ny(e);return a.direction=a.direction||this._directionality.value,new ry(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ok++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new z4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Q4),i.LFG(yx),i.LFG(i._Vd),i.LFG(nk),i.LFG(rk),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(m),i.LFG(is),i.LFG(ue),i.LFG(ik),i.LFG(i.QbO,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const sk=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],HO=new i.OlP("cdk-connected-overlay-scroll-strategy");let VO=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),GO=(()=>{class n{constructor(e,r,o,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=qo.w.EMPTY,this._attachSubscription=qo.w.EMPTY,this._detachSubscription=qo.w.EMPTY,this._positionSubscription=qo.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.vpe,this.positionChange=new i.vpe,this.attach=new i.vpe,this.detach=new i.vpe,this.overlayKeydown=new i.vpe,this.overlayOutsideClick=new i.vpe,this._templatePortal=new cm(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Yn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Yn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Yn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Yn(e)}get push(){return this._push}set push(e){this._push=Yn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=sk);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Ka(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new ny({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof VO?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,uS.o)(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qa),i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(HO),i.Y36(is,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.TTD]}),n})();const lk={provide:HO,deps:[Qa],useFactory:function ak(n){return()=>n.scrollStrategies.reposition()}};let iy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Qa,lk],imports:[nm,dm,RA,RA]}),n})();function ck(n,t){}class bx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let zO=(()=>{class n extends vx{constructor(e,r,o,s,a,u,h,x){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=u,this._overlayRef=h,this._focusMonitor=x,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>{this._portalOutlet.hasAttached();const L=this._portalOutlet.attachDomPortal(M);return this._contentAttached(),L},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const o=mA(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=mA();return e===r||e.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mA())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(hx),i.Y36(m,8),i.Y36(bx),i.Y36(q_),i.Y36(i.R0b),i.Y36(ry),i.Y36(fc))},n.\u0275cmp=i.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,r){if(1&e&&i.Gf(um,7),2&e){let o;i.iGM(o=i.CRH())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,r){2&e&&i.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[i.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&i.YNc(0,ck,0,0,"ng-template",0)},dependencies:[um],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class FA{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new yn.xQ,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!Ka(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=(null==e?void 0:e.focusOrigin)||"program",this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const ZO=new i.OlP("DialogScrollStrategy"),uk=new i.OlP("DialogData"),dk=new i.OlP("DefaultDialogConfig"),hk={provide:ZO,deps:[Qa],useFactory:function fk(n){return()=>n.scrollStrategies.block()}};let pk=0,WO=(()=>{class n{constructor(e,r,o,s,a,u){this._overlay=e,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yn.xQ,this._afterOpenedAtThisLevel=new yn.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Yl.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,co.O)(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,r){const o=this._defaultOptions||new bx;(r=Object.assign(Object.assign({},o),r)).id=r.id||"cdk-dialog-"+pk++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),a=this._overlay.create(s),u=new FA(a,r),h=this._attachContainer(a,u,r);return u.containerInstance=h,this._attachDialogContent(e,u,h,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){kA(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){kA(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),kA(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new ny({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,o){var s;const a=o.injector||(null===(s=o.viewContainerRef)||void 0===s?void 0:s.injector),u=[{provide:bx,useValue:o},{provide:FA,useValue:r},{provide:ry,useValue:e}];let h;o.container?"function"==typeof o.container?h=o.container:(h=o.container.type,u.push(...o.container.providers(o))):h=zO;const x=new ey(h,o.viewContainerRef,i.zs3.create({parent:a||this._injector,providers:u}),o.componentFactoryResolver);return e.attach(x).instance}_attachDialogContent(e,r,o,s){if(e instanceof i.Rgc){const a=this._createInjector(s,r,o,void 0);let u={$implicit:s.data,dialogRef:r};s.templateContext&&(u=Object.assign(Object.assign({},u),"function"==typeof s.templateContext?s.templateContext():s.templateContext)),o.attachTemplatePortal(new cm(e,null,u,a))}else{const a=this._createInjector(s,r,o,this._injector),u=o.attachComponentPortal(new ey(e,s.viewContainerRef,a,s.componentFactoryResolver));r.componentInstance=u.instance}}_createInjector(e,r,o,s){var a;const u=e.injector||(null===(a=e.viewContainerRef)||void 0===a?void 0:a.injector),h=[{provide:uk,useValue:e.data},{provide:FA,useValue:r}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(r,e,o)):h.push(...e.providers)),e.direction&&(!u||!u.get(is,null,i.XFs.Optional))&&h.push({provide:is,useValue:{value:e.direction,change:(0,Qt.of)()}}),i.zs3.create({parent:u||s,providers:h})}_removeOpenDialog(e,r){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let o=r.length-1;o>-1;o--){const s=r[o];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Qa),i.LFG(i.zs3),i.LFG(dk,8),i.LFG(n,12),i.LFG(yx),i.LFG(ZO))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function kA(n,t){let e=n.length;for(;e--;)t(n[e])}let gk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[WO,hk],imports:[iy,dm,p4,dm]}),n})();function mk(n,t){}const pm={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},vk={dialogContainer:ts("dialogContainer",[lo("void, exit",gr({opacity:0,transform:"scale(0.7)"})),lo("enter",gr({transform:"none"})),xi("* => enter",v1([pi("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",gr({transform:"none",opacity:1})),h0("@*",Rp(),{optional:!0})]),pm),xi("* => void, * => exit",v1([pi("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",gr({opacity:0})),h0("@*",Rp(),{optional:!0})]),pm)])};class wd{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=pm.params.enterAnimationDuration,this.exitAnimationDuration=pm.params.exitAnimationDuration}}let _k=(()=>{class n extends zO{constructor(e,r,o,s,a,u,h,x){super(e,r,o,s,a,u,h,x),this._animationStateChanged=new i.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(hx),i.Y36(m,8),i.Y36(wd),i.Y36(q_),i.Y36(i.R0b),i.Y36(ry),i.Y36(fc))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],features:[i.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),yk=(()=>{class n extends _k{constructor(e,r,o,s,a,u,h,x,M){super(e,r,o,s,a,u,h,M),this._changeDetectorRef=x,this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?this._openAnimationDone(r):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||pm.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||pm.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(hx),i.Y36(m,8),i.Y36(wd),i.Y36(q_),i.Y36(i.R0b),i.Y36(ry),i.Y36(i.sBO),i.Y36(fc))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,r){1&e&&i.WFA("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&e&&(i.Ikx("id",r._config.id),i.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),i.d8E("@dialogContainer",r._getAnimationState()))},features:[i.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&i.YNc(0,mk,0,0,"ng-template",0)},dependencies:[um],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[vk.dialogContainer]}}),n})();class Xa{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new yn.xQ,this._beforeClosed=new yn.xQ,this._state=0,this.disableClose=e.disableClose,this.id=t.id,r._animationStateChanged.pipe((0,Tn.h)(o=>"opened"===o.state),(0,Cr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,Tn.h)(o=>"closed"===o.state),(0,Cr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ei.T)(this.backdropClick(),this.keydownEvents().pipe((0,Tn.h)(o=>27===o.keyCode&&!this.disableClose&&!Ka(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),$O(this,"keydown"===o.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,Tn.h)(e=>"closing"===e.state),(0,Cr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function $O(n,t,e){return n._closeInteractionType=t,n.close(e)}const xd=new i.OlP("MatDialogData"),bk=new i.OlP("mat-dialog-default-options"),qO=new i.OlP("mat-dialog-scroll-strategy"),xk={provide:qO,deps:[Qa],useFactory:function wk(n){return()=>n.scrollStrategies.block()}};let Ek=0,Ck=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M,L){this._overlay=e,this._defaultOptions=o,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=x,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yn.xQ,this._afterOpenedAtThisLevel=new yn.xQ,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Yl.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,co.O)(void 0))),this._scrollStrategy=u,this._dialog=r.get(WO)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){let o;(r=Object.assign(Object.assign({},this._defaultOptions||new wd),r)).id=r.id||`${this._idPrefix}${Ek++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,Object.assign(Object.assign({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:wd,useValue:r},{provide:bx,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(a,u,h)=>(o=new this._dialogRefConstructor(a,r,h),o.updatePosition(null==r?void 0:r.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Qc=(()=>{class n extends Ck{constructor(e,r,o,s,a,u,h,x){super(e,r,s,u,h,a,Xa,yk,xd,x)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Qa),i.LFG(i.zs3),i.LFG(ue,8),i.LFG(bk,8),i.LFG(qO),i.LFG(n,12),i.LFG(yx),i.LFG(i.QbO,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Sk=0,LA=(()=>{class n{constructor(e,r,o){this.dialogRef=e,this._elementRef=r,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=YO(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){$O(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa,8),i.Y36(i.SBq),i.Y36(Qc))},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,r){1&e&&i.NdJ("click",function(s){return r._onButtonClick(s)}),2&e&&i.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[i.TTD]}),n})(),oy=(()=>{class n{constructor(e,r,o){this._dialogRef=e,this._elementRef=r,this._dialog=o,this.id="mat-dialog-title-"+Sk++}ngOnInit(){this._dialogRef||(this._dialogRef=YO(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa,8),i.Y36(i.SBq),i.Y36(Qc))},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,r){2&e&&i.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),xx=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,r){2&e&&i.ekj("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function YO(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let KO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Qc,xk],imports:[gk,iy,dm,mr,mr]}),n})();var Ak=g(4835);const Dk=["*"];let Ex;function sy(n){var t;return(null===(t=function Tk(){if(void 0===Ex&&(Ex=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Ex=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ex}())||void 0===t?void 0:t.createHTML(n))||n}function QO(n){return Error(`Unable to find icon with the name "${n}"`)}function XO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function JO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class wh{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Cx=(()=>{class n{constructor(e,r,o,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,s){return this._addSvgIconConfig(e,r,new wh(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,s){const a=this._sanitizer.sanitize(i.q3G.HTML,o);if(!a)throw JO(o);const u=sy(a);return this._addSvgIconConfig(e,r,new wh("",u,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new wh(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const s=this._sanitizer.sanitize(i.q3G.HTML,r);if(!s)throw JO(r);const a=sy(s);return this._addSvgIconSetConfig(e,new wh("",a,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,e);if(!r)throw XO(e);const o=this._cachedIconsByUrl.get(r);return o?(0,Qt.of)(Sx(o)):this._loadSvgIconFromConfig(new wh(e,null)).pipe((0,Hr.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,en.U)(s=>Sx(s)))}getNamedSvgIcon(e,r=""){const o=eI(r,e);let s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(e,a):(0,Qs._)(QO(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Qt.of)(Sx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,en.U)(r=>Sx(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);if(o)return(0,Qt.of)(o);const s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,Vr.K)(u=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(i.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(x)),(0,Qt.of)(null)})));return(0,ep.D)(s).pipe((0,en.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,r);if(!a)throw QO(e);return a}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const s=r[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(a,e,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Hr.b)(r=>e.svgText=r),(0,en.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Qt.of)(null):this._fetchIcon(e).pipe((0,Hr.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,o);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),o);const u=this._svgElementFromString(sy("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(sy("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){const{name:a,value:u}=o[s];"id"!==a&&r.setAttribute(a,u)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:o,options:s}=e,a=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function Mk(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const u=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,o);if(!u)throw XO(o);const h=this._inProgressUrlFetches.get(u);if(h)return h;const x=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,en.U)(M=>sy(M)),(0,rg.x)(()=>this._inProgressUrlFetches.delete(u)),(0,Ak.B)());return this._inProgressUrlFetches.set(u,x),x}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(eI(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const s=this._resolvers[o](r,e);if(s)return Ik(s)?new wh(s.url,null,s.options):new wh(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ss,8),i.LFG(lr),i.LFG(m,8),i.LFG(i.qLn))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sx(n){return n.cloneNode(!0)}function eI(n,t){return n+":"+t}function Ik(n){return!(!n.url||!n.options)}const Rk=yh(class{constructor(n){this._elementRef=n}}),Pk=new i.OlP("MAT_ICON_DEFAULT_OPTIONS"),Fk=new i.OlP("mat-icon-location",{providedIn:"root",factory:function kk(){const n=(0,i.f3M)(m),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),tI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lk=tI.map(n=>`[${n}]`).join(", "),Nk=/^url\(['"]?#(.*?)['"]?\)$/;let ks=(()=>{class n extends Rk{constructor(e,r,o,s,a,u){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=qo.w.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Yn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(Lk),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)tI.forEach(a=>{const u=r[s],h=u.getAttribute(a),x=h?h.match(Nk):null;if(x){let M=o.get(u);M||(M=[],o.set(u,M)),M.push({name:a,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe((0,Cr.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(Cx),i.$8M("aria-hidden"),i.Y36(Fk),i.Y36(i.qLn),i.Y36(Pk,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(i.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),i.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.qOj],ngContentSelectors:Dk,decls:1,vars:0,template:function(e,r){1&e&&(i.F$t(),i.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,mr]}),n})();const Bk=["connectionContainer"],Uk=["inputContainer"],jk=["label"];function Hk(n,t){1&n&&(i.ynx(0),i.TgZ(1,"div",14),i._UZ(2,"div",15)(3,"div",16)(4,"div",17),i.qZA(),i.TgZ(5,"div",18),i._UZ(6,"div",15)(7,"div",16)(8,"div",17),i.qZA(),i.BQk())}function Vk(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",19),i.NdJ("cdkObserveContent",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.updateOutlineGap())}),i.Hsn(1,1),i.qZA()}if(2&n){const e=i.oxw();i.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Gk(n,t){if(1&n&&(i.ynx(0),i.Hsn(1,2),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.BQk()),2&n){const e=i.oxw(2);i.xp6(3),i.Oqu(e._control.placeholder)}}function zk(n,t){1&n&&i.Hsn(0,3,["*ngSwitchCase","true"])}function Zk(n,t){1&n&&(i.TgZ(0,"span",23),i._uU(1," *"),i.qZA())}function Wk(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"label",20,21),i.NdJ("cdkObserveContent",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.updateOutlineGap())}),i.YNc(2,Gk,4,1,"ng-container",12),i.YNc(3,zk,1,0,"ng-content",12),i.YNc(4,Zk,2,0,"span",22),i.qZA()}if(2&n){const e=i.oxw();i.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),i.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),i.uIk("for",e._control.id)("aria-owns",e._control.id),i.xp6(2),i.Q6J("ngSwitchCase",!1),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $k(n,t){1&n&&(i.TgZ(0,"div",24),i.Hsn(1,4),i.qZA())}function qk(n,t){if(1&n&&(i.TgZ(0,"div",25),i._UZ(1,"span",26),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Yk(n,t){if(1&n&&(i.TgZ(0,"div"),i.Hsn(1,5),i.qZA()),2&n){const e=i.oxw();i.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Kk(n,t){if(1&n&&(i.TgZ(0,"div",30),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.Q6J("id",e._hintLabelId),i.xp6(1),i.Oqu(e.hintLabel)}}function Qk(n,t){if(1&n&&(i.TgZ(0,"div",27),i.YNc(1,Kk,2,2,"div",28),i.Hsn(2,6),i._UZ(3,"div",29),i.Hsn(4,7),i.qZA()),2&n){const e=i.oxw();i.Q6J("@transitionMessages",e._subscriptAnimationState),i.xp6(1),i.Q6J("ngIf",e.hintLabel)}}const Xk=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Jk=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let e8=0;const nI=new i.OlP("MatError");let NA=(()=>{class n{constructor(e,r){this.id="mat-error-"+e8++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(i.$8M("aria-live"),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("id",r.id)},inputs:{id:"id"},features:[i._Bn([{provide:nI,useExisting:n}])]}),n})();const t8={transitionMessages:ts("transitionMessages",[lo("enter",gr({opacity:1,transform:"translateY(0%)"})),xi("void => enter",[gr({opacity:0,transform:"translateY(-5px)"}),pi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n}),n})(),n8=0;const rI=new i.OlP("MatHint");let iI=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+n8++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,r){2&e&&(i.uIk("id",r.id)("align",null),i.ekj("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[i._Bn([{provide:rI,useExisting:n}])]}),n})(),vm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-label"]]}),n})(),r8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const i8=new i.OlP("MatPrefix"),oI=new i.OlP("MatSuffix");let o8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","matSuffix",""]],features:[i._Bn([{provide:oI,useExisting:n}])]}),n})(),sI=0;const a8=yh(class{constructor(n){this._elementRef=n}},"primary"),l8=new i.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),BA=new i.OlP("MatFormField");let Dx=(()=>{class n extends a8{constructor(e,r,o,s,a,u,h){super(e),this._changeDetectorRef=r,this._dir=o,this._defaults=s,this._platform=a,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new yn.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+sI++,this._labelId="mat-form-field-label-"+sI++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=(null==s?void 0:s.appearance)||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){var r;const o=this._appearance;this._appearance=e||(null===(r=this._defaults)||void 0===r?void 0:r.appearance)||"legacy","outline"===this._appearance&&o!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Yn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,co.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,zn.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,zn.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ei.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,co.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,co.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,zn.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Ps.R)(this._label.nativeElement,"transitionend").pipe((0,Cr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,o=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=r.querySelectorAll(`${o}, ${s}`);for(let L=0;L<M.length;L++)M[L].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,u=0;const h=r.querySelectorAll(o),x=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const M=r.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const L=this._getStartEnd(M),W=e.children,q=this._getStartEnd(W[0].getBoundingClientRect());let ye=0;for(let Le=0;Le<W.length;Le++)ye+=W[Le].offsetWidth;a=Math.abs(q-L)-5,u=ye>0?.75*ye+10:0}for(let M=0;M<h.length;M++)h[M].style.width=`${a}px`;for(let M=0;M<x.length;M++)x[M].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(is,8),i.Y36(l8,8),i.Y36(Mo),i.Y36(i.R0b),i.Y36(i.QbO,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,Ax,5),i.Suo(o,Ax,7),i.Suo(o,vm,5),i.Suo(o,vm,7),i.Suo(o,r8,5),i.Suo(o,nI,5),i.Suo(o,rI,5),i.Suo(o,i8,5),i.Suo(o,oI,5)),2&e){let s;i.iGM(s=i.CRH())&&(r._controlNonStatic=s.first),i.iGM(s=i.CRH())&&(r._controlStatic=s.first),i.iGM(s=i.CRH())&&(r._labelChildNonStatic=s.first),i.iGM(s=i.CRH())&&(r._labelChildStatic=s.first),i.iGM(s=i.CRH())&&(r._placeholderChild=s.first),i.iGM(s=i.CRH())&&(r._errorChildren=s),i.iGM(s=i.CRH())&&(r._hintChildren=s),i.iGM(s=i.CRH())&&(r._prefixChildren=s),i.iGM(s=i.CRH())&&(r._suffixChildren=s)}},viewQuery:function(e,r){if(1&e&&(i.Gf(Bk,7),i.Gf(Uk,5),i.Gf(jk,5)),2&e){let o;i.iGM(o=i.CRH())&&(r._connectionContainerRef=o.first),i.iGM(o=i.CRH())&&(r._inputContainerRef=o.first),i.iGM(o=i.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&i.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[i._Bn([{provide:BA,useExisting:n}]),i.qOj],ngContentSelectors:Jk,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(i.F$t(Xk),i.TgZ(0,"div",0)(1,"div",1,2),i.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),i.YNc(3,Hk,9,0,"ng-container",3),i.YNc(4,Vk,2,1,"div",4),i.TgZ(5,"div",5,6),i.Hsn(7),i.TgZ(8,"span",7),i.YNc(9,Wk,5,16,"label",8),i.qZA()(),i.YNc(10,$k,2,0,"div",9),i.qZA(),i.YNc(11,qk,2,4,"div",10),i.TgZ(12,"div",11),i.YNc(13,Yk,2,1,"div",12),i.YNc(14,Qk,5,2,"div",13),i.qZA()()),2&e&&(i.xp6(3),i.Q6J("ngIf","outline"==r.appearance),i.xp6(1),i.Q6J("ngIf",r._prefixChildren.length),i.xp6(5),i.Q6J("ngIf",r._hasFloatingLabel()),i.xp6(1),i.Q6J("ngIf",r._suffixChildren.length),i.xp6(1),i.Q6J("ngIf","outline"!=r.appearance),i.xp6(1),i.Q6J("ngSwitch",r._getDisplayedMessages()),i.xp6(1),i.Q6J("ngSwitchCase","error"),i.xp6(1),i.Q6J("ngSwitchCase","hint"))},dependencies:[Rr,Fo,cs,aO],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[t8.transitionMessages]},changeDetection:0}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,mr,yA,mr]}),n})();const lI=G_({passive:!0});let c8=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return jo.E;const r=dc(e),o=this._monitoredElements.get(r);if(o)return o.subject;const s=new yn.xQ,a="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",u,lI),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",u,lI)}}),s}stopMonitoring(e){const r=dc(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Mo),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const u8=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),d8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let f8=0;const h8=bO(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new yn.xQ}});let xh=(()=>{class n extends h8{constructor(e,r,o,s,a,u,h,x,M,L){super(u,s,a,o),this._elementRef=e,this._platform=r,this._autofillMonitor=x,this._formField=L,this._uid="mat-input-"+f8++,this.focused=!1,this.stateChanges=new yn.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ye=>nO().has(ye)),this._iOSKeyupListener=ye=>{const Le=ye.target;!Le.value&&0===Le.selectionStart&&0===Le.selectionEnd&&(Le.setSelectionRange(1,1),Le.setSelectionRange(0,0))};const W=this._elementRef.nativeElement,q=W.nodeName.toLowerCase();this._inputValueAccessor=h||W,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===q,this._isTextarea="textarea"===q,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=W.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Yn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,r,o,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===o?void 0:o.hasValidator(So.required))&&void 0!==s&&s}set required(e){this._required=Yn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&nO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Yn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e;const r=this._formField,o=!r||"legacy"!==r.appearance||null!==(e=r._hasLabel)&&void 0!==e&&e.call(r)?this.placeholder:null;if(o!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=o,o?s.setAttribute("placeholder",o):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){d8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(Mo),i.Y36(_a,10),i.Y36(df,8),i.Y36(hl,8),i.Y36(DA),i.Y36(u8,10),i.Y36(c8),i.Y36(i.R0b),i.Y36(BA,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&i.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(i.Ikx("disabled",r.disabled)("required",r.required),i.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),i.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[i._Bn([{provide:Ax,useExisting:n}]),i.qOj,i.TTD]}),n})(),UA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[DA],imports:[cI,Tx,mr,cI,Tx]}),n})();function jA(n){return n&&"function"==typeof n.connect&&!(n instanceof ba.c)}class uI{applyChanges(t,e,r,o,s){t.forEachOperation((a,u,h)=>{let x,M;if(null==a.previousIndex){const L=r(a,u,h);x=e.createEmbeddedView(L.templateRef,L.context,L.index),M=1}else null==h?(e.remove(u),M=3):(x=e.get(u),e.move(x,h),M=2);s&&s({context:null==x?void 0:x.context,operation:M,record:a})})}detach(){}}class ay{constructor(t=!1,e,r=!0,o){this._multiple=t,this._emitChanges=r,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new yn.xQ,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let fI=(()=>{class n{constructor(){this._listeners=[]}notify(e,r){for(let o of this._listeners)o(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ly=new i.OlP("_ViewRepeater");let Ja=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Yn(e)}get inset(){return this._inset}set inset(e){this._inset=Yn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,r){2&e&&(i.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),i.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,mr]}),n})();const HA=["*"],g8=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],m8=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],pI=Y_(yd(class{})),w8=yd(class{}),gI=new i.OlP("MatList"),mI=new i.OlP("MatNavList");let vI=(()=>{class n extends pI{constructor(){super(...arguments),this._stateChanges=new yn.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[i._Bn([{provide:mI,useExisting:n}]),i.qOj,i.TTD],ngContentSelectors:HA,decls:1,vars:0,template:function(e,r){1&e&&(i.F$t(),i.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),x8=(()=>{class n extends pI{constructor(e){super(),this._elementRef=e,this._stateChanges=new yn.xQ,"action-list"===this._getListType()&&(e.nativeElement.classList.add("mat-action-list"),e.nativeElement.setAttribute("role","group"))}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[i._Bn([{provide:gI,useExisting:n}]),i.qOj,i.TTD],ngContentSelectors:HA,decls:1,vars:0,template:function(e,r){1&e&&(i.F$t(),i.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),_I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Mx=(()=>{class n extends w8{constructor(e,r,o,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new yn.xQ,this._disabled=!1,this._isInteractiveList=!!(o||s&&"action-list"===s._getListType()),this._list=o||s;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,zn.R)(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Yn(e)}ngAfterContentInit(){!function wO(n,t,e="mat"){n.changes.pipe((0,co.O)(n)).subscribe(({length:r})=>{Q_(t,`${e}-2-line`,!1),Q_(t,`${e}-3-line`,!1),Q_(t,`${e}-multi-line`,!1),2===r||3===r?Q_(t,`${e}-${r}-line`,!0):r>3&&Q_(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(mI,8),i.Y36(gI,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,_I,5),i.Suo(o,VA,5),i.Suo(o,K_,5)),2&e){let s;i.iGM(s=i.CRH())&&(r._avatar=s.first),i.iGM(s=i.CRH())&&(r._icon=s.first),i.iGM(s=i.CRH())&&(r._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,r){2&e&&i.ekj("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[i.qOj],ngContentSelectors:m8,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,r){1&e&&(i.F$t(g8),i.TgZ(0,"span",0),i._UZ(1,"span",1),i.Hsn(2),i.TgZ(3,"span",2),i.Hsn(4,1),i.qZA(),i.Hsn(5,2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},dependencies:[Kc],encapsulation:2,changeDetection:0}),n})(),GA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[gx,lm,mr,MA,Yr,gx,mr,MA,cy]}),n})();function T8(n,t){if(1&n&&(i.O4$(),i._UZ(0,"circle",4)),2&n){const e=i.oxw(),r=i.MAs(1);i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),i.uIk("r",e._getCircleRadius())}}function M8(n,t){if(1&n&&(i.O4$(),i._UZ(0,"circle",4)),2&n){const e=i.oxw(),r=i.MAs(1);i.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),i.uIk("r",e._getCircleRadius())}}const I8=yh(class{constructor(n){this._elementRef=n}},"primary"),R8=new i.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function P8(){return{diameter:100}}});class Tl extends I8{constructor(t,e,r,o,s,a,u,h){super(t),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=qo.w.EMPTY,this.mode="determinate";const x=Tl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),x.has(r.head)||x.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===o&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&u&&a&&h&&(this._resizeSubscription=u.change(150).subscribe(()=>{"indeterminate"===this.mode&&h.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Sa(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Sa(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Sa(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=iO(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const r=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${r}% ${r}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,r=Tl._diameters;let o=r.get(t);if(!o||!o.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),o||(o=new Set,r.set(t,o)),o.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Tl._diameters=new WeakMap,Tl.\u0275fac=function(t){return new(t||Tl)(i.Y36(i.SBq),i.Y36(Mo),i.Y36(m,8),i.Y36(i.QbO,8),i.Y36(R8),i.Y36(i.sBO),i.Y36(fm),i.Y36(i.R0b))},Tl.\u0275cmp=i.Xpm({type:Tl,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(i.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),i.Udp("width",e.diameter,"px")("height",e.diameter,"px"),i.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[i.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.O4$(),i.TgZ(0,"svg",0,1),i.YNc(2,T8,1,11,"circle",2),i.YNc(3,M8,1,9,"circle",3),i.qZA()),2&t&&(i.Udp("width",e.diameter,"px")("height",e.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===e.mode),i.uIk("viewBox",e._getViewBox()),i.xp6(2),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},dependencies:[Fo,cs],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let bI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,Yr,mr]}),n})();const k8=["trigger"],L8=["panel"];function N8(n,t){if(1&n&&(i.TgZ(0,"span",8),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.placeholder)}}function B8(n,t){if(1&n&&(i.TgZ(0,"span",12),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.triggerValue)}}function U8(n,t){1&n&&i.Hsn(0,0,["*ngSwitchCase","true"])}function j8(n,t){if(1&n&&(i.TgZ(0,"span",9),i.YNc(1,B8,2,1,"span",10),i.YNc(2,U8,1,0,"ng-content",11),i.qZA()),2&n){const e=i.oxw();i.Q6J("ngSwitch",!!e.customTrigger),i.xp6(2),i.Q6J("ngSwitchCase",!0)}}function H8(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",13)(1,"div",14,15),i.NdJ("@transformPanel.done",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s._handleKeydown(o))}),i.Hsn(3,1),i.qZA()()}if(2&n){const e=i.oxw();i.Q6J("@transformPanelWrap",void 0),i.xp6(1),i.Gre("mat-select-panel ",e._getPanelTheme(),""),i.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),i.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),i.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const V8=[[["mat-select-trigger"]],"*"],G8=["mat-select-trigger","*"],wI={transformPanelWrap:ts("transformPanelWrap",[xi("* => void",h0("@transformPanel",[Rp()],{optional:!0}))]),transformPanel:ts("transformPanel",[lo("void",gr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),lo("showing",gr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),lo("showing-multiple",gr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),xi("void => *",pi("120ms cubic-bezier(0, 0, 0.2, 1)")),xi("* => void",pi("100ms 25ms linear",gr({opacity:0})))])};let xI=0;const CI=new i.OlP("mat-select-scroll-strategy"),$8=new i.OlP("MAT_SELECT_CONFIG"),q8={provide:CI,deps:[Qa],useFactory:function W8(n){return()=>n.scrollStrategies.reposition()}};class Y8{constructor(t,e){this.source=t,this.value=e}}const K8=yd(AA(Y_(bO(class{constructor(n,t,e,r,o){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=o,this.stateChanges=new yn.xQ}})))),Q8=new i.OlP("MatSelectTrigger");let X8=(()=>{class n extends K8{constructor(e,r,o,s,a,u,h,x,M,L,W,q,ye,Le){var rt,it,lt;super(a,s,h,x,L),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=o,this._dir=u,this._parentFormField=M,this._liveAnnouncer=ye,this._defaultOptions=Le,this._panelOpen=!1,this._compareWith=(Ot,Pt)=>Ot===Pt,this._uid="mat-select-"+xI++,this._triggerAriaLabelledBy=null,this._destroy=new yn.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+xI++,this._panelDoneAnimatingStream=new yn.xQ,this._overlayPanelClass=(null===(rt=this._defaultOptions)||void 0===rt?void 0:rt.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(lt=null===(it=this._defaultOptions)||void 0===it?void 0:it.disableOptionCentering)&&void 0!==lt&&lt,this.ariaLabel="",this.optionSelectionChanges=(0,Yl.P)(()=>{const Ot=this.options;return Ot?Ot.changes.pipe((0,co.O)(Ot),(0,ai.w)(()=>(0,Ei.T)(...Ot.map(Pt=>Pt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Cr.q)(1),(0,ai.w)(()=>this.optionSelectionChanges))}),this.openedChange=new i.vpe,this._openedStream=this.openedChange.pipe((0,Tn.h)(Ot=>Ot),(0,en.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Tn.h)(Ot=>!Ot),(0,en.U)(()=>{})),this.selectionChange=new i.vpe,this.valueChange=new i.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Le?void 0:Le.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Le.typeaheadDebounceInterval),this._scrollStrategyFactory=q,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(W)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,r,o,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===o?void 0:o.hasValidator(So.required))&&void 0!==s&&s}set required(e){this._required=Yn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Yn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Yn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Sa(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ay(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,za.x)(),(0,zn.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,zn.R)(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,co.O)(null),(0,zn.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,r;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,o=40===r||38===r||37===r||39===r,s=13===r||32===r,a=this._keyManager;if(!a.isTyping()&&s&&!Ka(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const h=this.selected;h&&u!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,o=e.keyCode,s=40===o||38===o,a=r.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==o&&32!==o||!r.activeItem||Ka(e))if(!a&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const u=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(u?h.select():h.deselect())})}else{const u=r.activeItemIndex;r.onKeydown(e),this._multiple&&s&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==u&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Cr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch(s){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Y6(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,zn.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,zn.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ei.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,zn.R)(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ei.T)(...this.options.map(r=>r._stateChanges)).pipe((0,zn.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,r){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,e):e.indexOf(r)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const r=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const r=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let o=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(fm),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(DA),i.Y36(i.SBq),i.Y36(is,8),i.Y36(df,8),i.Y36(hl,8),i.Y36(BA,8),i.Y36(_a,10),i.$8M("tabindex"),i.Y36(CI),i.Y36(CA),i.Y36($8,8))},n.\u0275dir=i.lG2({type:n,viewQuery:function(e,r){if(1&e&&(i.Gf(k8,5),i.Gf(L8,5),i.Gf(GO,5)),2&e){let o;i.iGM(o=i.CRH())&&(r.trigger=o.first),i.iGM(o=i.CRH())&&(r.panel=o.first),i.iGM(o=i.CRH())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[i.qOj,i.TTD]}),n})(),J8=(()=>{class n extends X8{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,r,o){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-r+s/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,zn.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Cr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const r=MO(e,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===r?0:function M4(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}((e+r)*o,o,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Y8(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),o=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let x=this._selectionModel.selected[0]||this.options.first;a=x&&x.group?32:16}o||(a*=-1);const u=0-(e.left+a-(o?s:0)),h=e.right+a-r.width+(o?0:s);u>0?a+=u+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,r,o){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,u=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*s:this._scrollTop===o?(e-(this._getItemCount()-u))*s+(s-(this._getItemCount()*s-256)%s):r-s/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const r=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=o.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),x=Math.min(this._getItemCount()*r,256)-u-this._triggerRect.height;x>a?this._adjustPanelUp(x,a):u>s?this._adjustPanelDown(u,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,r){const o=Math.round(e-r);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,r,o){const s=Math.round(e-r);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),r=this._getItemCount(),o=Math.min(r*e,256),a=r*e-o;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=MO(u,this.options,this.optionGroups);const h=o/2;this._scrollTop=this._calculateOverlayScroll(u,h,a),this._offsetY=this._calculateOverlayOffsetY(u,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),r=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,Q8,5),i.Suo(o,TO,5),i.Suo(o,DO,5)),2&e){let s;i.iGM(s=i.CRH())&&(r.customTrigger=s.first),i.iGM(s=i.CRH())&&(r.options=s),i.iGM(s=i.CRH())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,r){1&e&&i.NdJ("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(i.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),i.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[i._Bn([{provide:Ax,useExisting:n},{provide:AO,useExisting:n}]),i.qOj],ngContentSelectors:G8,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(i.F$t(V8),i.TgZ(0,"div",0,1),i.NdJ("click",function(){return r.toggle()}),i.TgZ(3,"div",2),i.YNc(4,N8,2,1,"span",3),i.YNc(5,j8,3,2,"span",4),i.qZA(),i.TgZ(6,"div",5),i._UZ(7,"div",6),i.qZA()(),i.YNc(8,H8,4,14,"ng-template",7),i.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const o=i.MAs(1);i.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),i.xp6(3),i.Q6J("ngSwitch",r.empty),i.uIk("id",r._valueId),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1),i.xp6(3),i.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},dependencies:[Jr,Fo,cs,ws,GO,VO],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[wI.transformPanelWrap,wI.transformPanel]},changeDetection:0}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[q8],imports:[Yr,iy,OO,mr,hm,Tx,OO,mr]}),n})();const tL=["*",[["mat-toolbar-row"]]],nL=["*","mat-toolbar-row"],rL=yh(class{constructor(n){this._elementRef=n}});let iL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Ed=(()=>{class n extends rL{constructor(e,r,o){super(e),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(Mo),i.Y36(m))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,o){if(1&e&&i.Suo(o,iL,5),2&e){let s;i.iGM(s=i.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&i.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.qOj],ngContentSelectors:nL,decls:2,vars:0,template:function(e,r){1&e&&(i.F$t(tL),i.Hsn(0),i.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[mr,mr]}),n})(),SI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();var oL=g(7398);function sL(n,t,e,r){const o=window&&!!window.document&&window.document.documentElement;let s=o&&t?window:e;if(n&&(s=n&&o&&"string"==typeof n?function aL(n,t,e){return(e?window.document:t).querySelector(n)}(n,e.nativeElement,r):n,!s))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return s}function ZA(n){return n&&!n.firstChange}const cL={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},uL={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class dL{constructor(t=!0){this.vertical=t,this.propsMap=t?cL:uL}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function gL(n){return["Window","global"].some(e=>Object.prototype.toString.call(n).includes(e))}function WA(n,t){return n?t.document.documentElement:null}function AI(n,t){const e=function _L({container:n,isWindow:t,axis:e}){const{offsetHeightKey:r,clientHeightKey:o}=DI(e);return TI(n,t,r,o)}(t);return t.isWindow?function mL(n,t,e){const{axis:r,container:o,isWindow:s}=e,{offsetHeightKey:a,clientHeightKey:u}=DI(r),h=n+MI(WA(s,o),r,s),x=TI(t.nativeElement,s,a,u),M=function yL(n,t,e){const r=t.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[r]+MI(n,t,e)}(t.nativeElement,r,s)+x;return{height:n,scrolled:h,totalToScroll:M,isWindow:s}}(e,n,t):function vL(n,t,e){const{axis:r,container:o}=e;return{height:n,scrolled:o[r.scrollTopKey()],totalToScroll:o[r.scrollHeightKey()],isWindow:!1}}(e,0,t)}function DI(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function TI(n,t,e,r){if(isNaN(n[e])){const o=WA(t,n);return o?o[r]:0}return n[e]}function MI(n,t,e){const r=t.pageYOffsetKey(),o=t.scrollTopKey(),s=t.offsetTopKey();return isNaN(window.pageYOffset)?WA(e,n)[o]:n.ownerDocument?n.ownerDocument.defaultView[r]:n[s]}function bL(n,t={down:0,up:0},e){let r,o;if(n.totalToScroll<=0)return!1;const s=n.isWindow?n.scrolled:n.height+n.scrolled;return e?(r=(n.totalToScroll-s)/n.totalToScroll,o=(null!=t&&t.down?t.down:0)/10):(r=n.scrolled/(n.scrolled+(n.totalToScroll-s)),o=(null!=t&&t.up?t.up:0)/10),r<=o}class SL{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}function AL(n){const{scrollContainer:t,scrollWindow:e,element:r,fromRoot:o}=n,s=function hL({windowElement:n,axis:t}){return function pL(n,t){const e=n.isWindow||t&&!t.nativeElement?t:t.nativeElement;return Object.assign(Object.assign({},n),{container:e})}({axis:t,isWindow:gL(n)},n)}({axis:new dL(!n.horizontal),windowElement:sL(t,e,r,o)}),a=new SL({totalToScroll:AI(r,s)}),h={up:n.upDistance,down:n.downDistance};return function DL(n){let t=(0,Ps.R)(n.container,"scroll");return n.throttle&&(t=t.pipe((0,oL.p)(n.throttle,void 0,{leading:!0,trailing:!0}))),t}({container:s.container,throttle:n.throttle}).pipe((0,wr.zg)(()=>(0,Qt.of)(AI(r,s))),(0,en.U)(x=>function TL(n,t,e){const{scrollDown:r,fire:o}=function xL(n,t,e){const r=function wL(n,t){return n<t.scrolled}(n,t);return{fire:bL(t,e,r),scrollDown:r}}(n,t,e);return{scrollDown:r,fire:o,stats:t}}(a.lastScrollPosition,x,h)),(0,Hr.b)(({stats:x})=>a.updateScroll(x.scrolled,x.totalToScroll)),(0,Tn.h)(({fire:x,scrollDown:M,stats:{totalToScroll:L}})=>function fL(n,t,e){return!!(n&&t||!e&&t)}(n.alwaysCallback,x,a.isTriggeredScroll(L,M))),(0,Hr.b)(({scrollDown:x,stats:{totalToScroll:M}})=>{a.updateTriggeredFlag(M,x)}),(0,en.U)(ML))}function ML(n){const{scrollDown:t,stats:{scrolled:e}}=n;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:e}}}let OL=(()=>{class n{constructor(e,r){this.element=e,this.zone=r,this.scrolled=new i.vpe,this.scrolledUp=new i.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:r,infiniteScrollDistance:o}){const s=ZA(e),a=ZA(r),u=ZA(o),h=!a&&!this.infiniteScrollDisabled||a&&!r.currentValue||u;(s||a||u)&&(this.destroyScroller(),h&&this.setup())}setup(){(function lL(){return"undefined"!=typeof window})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=AL({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.handleOnScroll(e))})}handleOnScroll({type:e,payload:r}){const o="[NGX_ISE] DOWN"===e?this.scrolled:this.scrolledUp;(function IL(n){var t;return null!==(t=n.observed)&&void 0!==t?t:n.observers.length>0})(o)&&this.zone.run(()=>o.emit(r))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275dir=i.lG2({type:n,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.TTD]}),n})(),RL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),ym=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[_d,Yr,Wl,_e,RL,Go,Bc,SI,J_,bd,KO,mm,GA,bI,eL,dy,UA,Go]}),n})();var PL=g(7823),FL=g(1136),OI=g(6007),qA=g(7368),kL=g(4339);const II={dispatch:!0,useEffectsErrorHandler:!0},Ix="__@ngrx/effects_create__";function Di(n,t){const e=n(),r=Object.assign(Object.assign({},II),t);return Object.defineProperty(e,Ix,{value:r}),e}function LL(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(Ix))&&n[r][Ix].hasOwnProperty("dispatch")).map(r=>Object.assign({propertyName:r},n[r][Ix]))}function YA(n){return Object.getPrototypeOf(n)}const Rx="__@ngrx/effects__";function NL(n){return(0,Jn.qC)(UL,YA)(n)}function UL(n){return function RI(n){return n.constructor.hasOwnProperty(Rx)}(n)?n.constructor[Rx]:[]}function FI(n,t,e=10){return n.pipe((0,Vr.K)(r=>(t&&t.handleError(r),e<=1?n:FI(n,t,e-1))))}let bm=(()=>{class n extends cr.y{constructor(e){super(),e&&(this.source=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Jn.Y$))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gr(...n){return(0,Tn.h)(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const kI=new i.OlP("@ngrx/effects Internal Root Guard"),Px=new i.OlP("@ngrx/effects User Provided Effects"),KA=new i.OlP("@ngrx/effects Internal Root Effects"),LI=new i.OlP("@ngrx/effects Root Effects"),NI=new i.OlP("@ngrx/effects Internal Feature Effects"),BI=new i.OlP("@ngrx/effects Feature Effects"),VL=new i.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>FI}),UI="@ngrx/effects/init";function JL(n){return QA(n,"ngrxOnInitEffects")}function QA(n,t){return n&&t in n&&"function"==typeof n[t]}(0,Jn.PH)(UI);let XA=(()=>{class n extends yn.xQ{constructor(e,r){super(),this.errorHandler=e,this.effectsErrorHandler=r}addEffects(e){this.next(e)}toActions(){return this.pipe((0,OI.v)(YA),(0,wr.zg)(e=>e.pipe((0,OI.v)(eN))),(0,wr.zg)(e=>{const r=e.pipe((0,qA.z)(s=>function tN(n,t){return e=>{const r=function jL(n,t,e){const r=YA(n).constructor.name,o=function PI(n){return[NL,LL].reduce((e,r)=>e.concat(r(n)),[])}(n).map(({propertyName:s,dispatch:a,useEffectsErrorHandler:u})=>{const h="function"==typeof n[s]?n[s]():n[s],x=u?e(h,t):h;return!1===a?x.pipe((0,PL.l)()):x.pipe((0,FL.i)()).pipe((0,en.U)(L=>({effect:n[s],notification:L,propertyName:s,sourceName:r,sourceInstance:n})))});return(0,Ei.T)(...o)}(e,n,t);return function QL(n){return QA(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,en.U)(s=>(function zL(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function ZL(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function WL({propertyName:n,sourceInstance:t,sourceName:e}){const r="function"==typeof t[n];return`"${e}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function $L(n){try{return JSON.stringify(n)}catch(t){return n}}(e)}`))}}(s,this.errorHandler),s.notification)),(0,Tn.h)(s=>"N"===s.kind&&null!=s.value),(0,kL.D)()),o=e.pipe((0,Cr.q)(1),(0,Tn.h)(JL),(0,en.U)(s=>s.ngrxOnInitEffects()));return(0,Ei.T)(r,o)}))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.qLn),i.LFG(VL))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eN(n){return function YL(n){return QA(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let JA=(()=>{class n{constructor(e,r){this.effectSources=e,this.store=r,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(XA),i.LFG(Jn.yh))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jI=(()=>{class n{constructor(e,r,o,s,a,u,h){this.sources=e,r.start(),s.forEach(x=>e.addEffects(x)),o.dispatch({type:UI})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(XA),i.LFG(JA),i.LFG(Jn.yh),i.LFG(LI),i.LFG(Jn.cr,8),i.LFG(Jn.CK,8),i.LFG(kI,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),nN=(()=>{class n{constructor(e,r,o,s){r.forEach(a=>a.forEach(u=>e.addEffects(u)))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(jI),i.LFG(BI),i.LFG(Jn.cr,8),i.LFG(Jn.CK,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),Fx=(()=>{class n{static forFeature(e=[]){return{ngModule:nN,providers:[e,{provide:NI,multi:!0,useValue:e},{provide:Px,multi:!0,useValue:[]},{provide:BI,multi:!0,useFactory:HI,deps:[i.zs3,NI,Px]}]}}static forRoot(e=[]){return{ngModule:jI,providers:[e,{provide:KA,useValue:[e]},{provide:kI,useFactory:iN,deps:[[JA,new i.FiY,new i.tp0],[KA,new i.PiD]]},{provide:Px,multi:!0,useValue:[]},{provide:LI,useFactory:HI,deps:[i.zs3,KA,Px]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function HI(n,t,e){const r=[];for(const o of t)r.push(...o);for(const o of e)r.push(...o);return function rN(n,t){return t.map(e=>n.get(e))}(n,r)}function iN(n,t){if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var oN=g(2596),Eh=(()=>{return(n=Eh||(Eh={})).StartOnlineOfflineCheck="[Network] StartOnlineOfflineCheck",n.SetIsOnline="[Network] SetIsOnline",Eh;var n})();class sN{constructor(){this.type=Eh.StartOnlineOfflineCheck}}class aN{constructor(t){this.payload=t,this.type=Eh.SetIsOnline}}let lN=(()=>{class n{constructor(e){this.actions$=e,this.startOnlineOfflineCheck$=Di(()=>this.actions$.pipe(Gr(Eh.StartOnlineOfflineCheck),(0,ai.w)(()=>(0,Ei.T)((0,Qt.of)(navigator.onLine),(0,Ps.R)(window,"online").pipe((0,Mf.h)(!0)),(0,Ps.R)(window,"offline").pipe((0,Mf.h)(!1)))),(0,en.U)(r=>new aN(r))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(bm))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cN={isOnline:!0};class kx{}let eD=(()=>{class n{constructor(e){if(this.ngxZendeskWebwidgetConfig=e,this.initialized=!1,!this.ngxZendeskWebwidgetConfig.accountUrl)throw new Error("Missing accountUrl. Please set in app config via ZendeskWidgetProvider");this.window=function dN(){return window}(),this.ngxZendeskWebwidgetConfig.lazyLoad||this.initZendesk(this.ngxZendeskWebwidgetConfig)}initZendesk(e){const r=this.window;return r.zEmbed||function(){let o,s,a,u,h;const x=[],M=document.createElement("iframe");r.zEmbed=function(...L){x.push(L)},r.zE=r.zE||r.zEmbed,M.src="javascript:false",M.title="",M.style.cssText="display: none",a=document.getElementsByTagName(e.injectionTag||"head"),a=a[a.length-1],a.parentNode.insertBefore(M,a),u=M.contentWindow,h=u.document;try{s=h}catch(L){o=document.domain,M.src=`javascript:var d=document.open();d.domain="${o}";void(0);`,s=h}s.open()._l=function(){const L=this,W=L.createElement("script");o&&(L.domain=o),W.id="js-iframe-async",W.src="https://assets.zendesk.com/embeddable_framework/main.js",L.t=(new Date).getTime(),L.zendeskHost=e.accountUrl,L.zEQueue=x,L.body.appendChild(W)},s.write('<body onload="document._l();">'),s.close()}(),this.finishLoading()}finishLoading(){return new Promise((e,r)=>{const o=setTimeout(()=>{this.initialized=!1,r(Error("timeout"))},this.ngxZendeskWebwidgetConfig.timeOut||3e4);this.window.zE(()=>{this.ngxZendeskWebwidgetConfig.callback(this.window.zE),this.initialized=!0,this.zE=this.window.zE,clearTimeout(o),e(!0)})})}isInitialized(){return this.initialized}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(kx))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),fN=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:kx,useClass:e},{provide:eD,useClass:eD,deps:[kx]},,]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr]}),n})();const VI=["toast-component",""];function hN(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function pN(n,t){if(1&n&&(i.ynx(0),i._uU(1),i.BQk()),2&n){const e=i.oxw(2);i.xp6(1),i.hij("[",e.duplicatesCount+1,"]")}}function gN(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,pN,2,1,"ng-container",4),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.titleClass),i.uIk("aria-label",e.title),i.xp6(1),i.hij(" ",e.title," "),i.xp6(1),i.Q6J("ngIf",e.duplicatesCount)}}function mN(n,t){if(1&n&&i._UZ(0,"div",7),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.Q6J("innerHTML",e.message,i.oJD)}}function vN(n,t){if(1&n&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.uIk("aria-label",e.message),i.xp6(1),i.hij(" ",e.message," ")}}function _N(n,t){if(1&n&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Udp("width",e.width+"%")}}function yN(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function bN(n,t){if(1&n&&(i.ynx(0),i._uU(1),i.BQk()),2&n){const e=i.oxw(2);i.xp6(1),i.hij("[",e.duplicatesCount+1,"]")}}function wN(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,bN,2,1,"ng-container",4),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.titleClass),i.uIk("aria-label",e.title),i.xp6(1),i.hij(" ",e.title," "),i.xp6(1),i.Q6J("ngIf",e.duplicatesCount)}}function xN(n,t){if(1&n&&i._UZ(0,"div",7),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.Q6J("innerHTML",e.message,i.oJD)}}function EN(n,t){if(1&n&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.uIk("aria-label",e.message),i.xp6(1),i.hij(" ",e.message," ")}}function CN(n,t){if(1&n&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Udp("width",e.width+"%")}}class SN{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Lx{constructor(t,e,r,o,s,a){this.toastId=t,this.config=e,this.message=r,this.title=o,this.toastType=s,this.toastRef=a,this._onTap=new yn.xQ,this._onAction=new yn.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const GI={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},zI=new i.OlP("ToastConfig");class DN{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new yn.xQ,this._activate=new yn.xQ,this._manualClose=new yn.xQ,this._resetTimeout=new yn.xQ,this._countDuplicate=new yn.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class TN{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,r){return t===Lx?this._toastPackage:this._parentInjector.get(t,e,r)}}class MN extends class AN{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let o;return o=r.create(t.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class ON{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let IN=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RN=(()=>{class n{constructor(e,r,o,s){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=o,this._document=s,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new MN(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new ON(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(IN),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(m))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tD=(()=>{class n{constructor(e,r,o,s,a){this.overlay=r,this._injector=o,this.sanitizer=s,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,r,o={},s=""){return this._preBuildNotification(s,e,r,this.applyConfig(o))}success(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(o))}error(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(o))}info(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(o))}warning(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(o))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(e="",r="",o,s){const{includeTitleDuplicates:a}=this.toastrConfig;for(const u of this.toasts){const h=a&&u.title===e;if((!a||h)&&u.message===r)return u.toastRef.onDuplicate(o,s),u}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,o,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,o,s)):this._buildNotification(e,r,o,s)}_buildNotification(e,r,o,s){if(!s.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=r;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const h=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let x=r;r&&s.enableHtml&&(x=this.sanitizer.sanitize(i.q3G.HTML,r));const M=new DN(h),L=new Lx(this.index,s,x,o,e,M),W=new TN(L,this._injector),q=new SN(s.toastComponent,W),ye=h.attach(q,this.toastrConfig.newestOnTop);M.componentInstance=ye.instance;const Le={toastId:this.index,title:o||"",message:r||"",toastRef:M,onShown:M.afterActivate(),onHidden:M.afterClosed(),onTap:L.onTap(),onAction:L.onAction(),portal:ye};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Le.toastRef.activate()})),this.toasts.push(Le),Le}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(zI),i.LFG(RN),i.LFG(i.zs3),i.LFG(lr),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PN=(()=>{class n{constructor(e,r,o){this.toastrService=e,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(tD),i.Y36(Lx),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(i.d8E("@flyInOut",r.state),i.Tol(r.toastClasses),i.Udp("display",r.displayStyle))},attrs:VI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(i.YNc(0,hN,3,0,"button",0),i.YNc(1,gN,3,5,"div",1),i.YNc(2,mN,1,3,"div",2),i.YNc(3,vN,2,4,"div",3),i.YNc(4,_N,2,2,"div",4)),2&e&&(i.Q6J("ngIf",r.options.closeButton),i.xp6(1),i.Q6J("ngIf",r.title),i.xp6(1),i.Q6J("ngIf",r.message&&r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.message&&!r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.options.progressBar))},dependencies:[Rr],encapsulation:2,data:{animation:[ts("flyInOut",[lo("inactive",gr({opacity:0})),lo("active",gr({opacity:1})),lo("removed",gr({opacity:0})),xi("inactive => active",pi("{{ easeTime }}ms {{ easing }}")),xi("active => removed",pi("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const FN=Object.assign(Object.assign({},GI),{toastComponent:PN});let kN=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:zI,useValue:{default:FN,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[Yr]]}),n})(),LN=(()=>{class n{constructor(e,r,o){this.toastrService=e,this.toastPackage=r,this.appRef=o,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(tD),i.Y36(Lx),i.Y36(i.z2F))},n.\u0275cmp=i.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(i.Tol(r.toastClasses),i.Udp("display",r.displayStyle))},attrs:VI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(i.YNc(0,yN,3,0,"button",0),i.YNc(1,wN,3,5,"div",1),i.YNc(2,xN,1,3,"div",2),i.YNc(3,EN,2,4,"div",3),i.YNc(4,CN,2,2,"div",4)),2&e&&(i.Q6J("ngIf",r.options.closeButton),i.xp6(1),i.Q6J("ngIf",r.title),i.xp6(1),i.Q6J("ngIf",r.message&&r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.message&&!r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.options.progressBar))},dependencies:[Rr],encapsulation:2}),n})();Object.assign(Object.assign({},GI),{toastComponent:LN});const NN=[{path:"**",redirectTo:"/home",pathMatch:"full"}];let BN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forRoot(NN,{enableTracing:!1,useHash:!0,relativeLinkResolution:"legacy"}),Xi]}),n})();const ZI="SelfPower/Dispensers/",HN=/.+\/Slots\/pb(\w+)/,VN=/https?.+rent\/(.+)/,rD=()=>"10000000-1000-4000-8000-100000000000".replace(/1|0/g,()=>(0|16*Math.random()).toString(16));var Cd=(()=>{return(n=Cd||(Cd={}))[n.OUTPUT=0]="OUTPUT",n[n.INPUT=1]="INPUT",n[n.DEFAULT=3]="DEFAULT",Cd;var n})(),Xc=(()=>{return(n=Xc||(Xc={})).OnScan="On scan",n.QRCodeIncorrect="QRCode incorrect",n.QRCodeExisted="QRCode existed",n.Connected="Connected",n.ConnectError="Connect error",Xc;var n})(),fy=(()=>{return(n=fy||(fy={})).All="#",n.Commands="Commands",n.Events="Events",fy;var n})(),iD=g(5167);let zN=(()=>{class n{getLogLevel(){return"info"}getConfiguration(){return{available:!0,username:sessionStorage.getItem("id_token"),password:"whatever",endPoint:dr.URL_MQTT,topic:"/hisqool/devices/",keepAlive:120}}getClientId(){let e=localStorage.getItem("hisqool_mqtt_id");return e||(e=rD(),localStorage.setItem("hisqool_mqtt_id",e)),`desktop_${e}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZN=(()=>{class n extends iD.MqttService{constructor(e){super(e),this.uberSubscription=new qo.w}stop(){return function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){this.clear(),yield this.stop()})}ngOnDestroy(){super.onDestroy()}get clientId(){return this.configurationProvider.getClientId()}clear(){this.uberSubscription.unsubscribe(),this.uberSubscription=new qo.w}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(zN))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WN(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2)(1,"button",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.action())}),i._uU(2),i.qZA()()}if(2&n){const e=i.oxw();i.xp6(2),i.Oqu(e.data.action)}}function $N(n,t){}const oD=new i.OlP("MatSnackBarData");class Nx{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const qN=Math.pow(2,31)-1;class Bx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new yn.xQ,this._afterOpened=new yn.xQ,this._onAction=new yn.xQ,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,qN))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let YN=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Bx),i.Y36(oD))},n.\u0275cmp=i.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"span",0),i._uU(1),i.qZA(),i.YNc(2,WN,3,1,"div",1)),2&e&&(i.xp6(1),i.Oqu(r.data.message),i.xp6(1),i.Q6J("ngIf",r.hasAction))},dependencies:[Rr,go],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const KN={snackBarState:ts("state",[lo("void, hidden",gr({transform:"scale(0.8)",opacity:0})),lo("visible",gr({transform:"scale(1)",opacity:1})),xi("* => visible",pi("150ms cubic-bezier(0, 0, 0.2, 1)")),xi("* => void, * => hidden",pi("75ms cubic-bezier(0.4, 0.0, 1, 1)",gr({opacity:0})))])};let QN=(()=>{class n extends vx{constructor(e,r,o,s,a){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new yn.xQ,this._onExit=new yn.xQ,this._onEnter=new yn.xQ,this._animationState="void",this.attachDomPortal=u=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:o}=e;if(("void"===o&&"void"!==r||"hidden"===o)&&this._completeExit(),"visible"===o){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Cr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(o=>e.classList.add(o)):e.classList.add(r))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(Mo),i.Y36(Nx))},n.\u0275dir=i.lG2({type:n,viewQuery:function(e,r){if(1&e&&i.Gf(um,7),2&e){let o;i.iGM(o=i.CRH())&&(r._portalOutlet=o.first)}},features:[i.qOj]}),n})(),XN=(()=>{class n extends QN{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&i.WFA("@state.done",function(s){return r.onAnimationEnd(s)}),2&e&&i.d8E("@state",r._animationState)},features:[i.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,$N,0,0,"ng-template",1),i.qZA(),i._UZ(2,"div")),2&e&&(i.xp6(2),i.uIk("aria-live",r._live)("role",r._role))},dependencies:[um],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[KN.snackBarState]}}),n})(),WI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[iy,dm,Yr,bd,mr,mr]}),n})();const sD=new i.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function JN(){return new Nx}});let e5=(()=>{class n{constructor(e,r,o,s,a,u){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){const s=Object.assign(Object.assign({},this._defaultConfig),o);return s.data={message:e,action:r},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const s=i.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Nx,useValue:r}]}),a=new ey(this.snackBarContainerComponent,r.viewContainerRef,s),u=e.attach(a);return u.instance.snackBarConfig=r,u.instance}_attach(e,r){const o=Object.assign(Object.assign(Object.assign({},new Nx),this._defaultConfig),r),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),u=new Bx(a,s);if(e instanceof i.Rgc){const h=new cm(e,null,{$implicit:o.data,snackBarRef:u});u.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(o,u),x=new ey(e,void 0,h),M=a.attachComponentPortal(x);u.instance=M.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,zn.R)(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(u,o),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new ny;r.direction=e.direction;let o=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,u=!a&&"center"!==e.horizontalPosition;return a?o.left("0"):u?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){return i.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Bx,useValue:r},{provide:oD,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Qa),i.LFG(CA),i.LFG(i.zs3),i.LFG(bA),i.LFG(n,12),i.LFG(sD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),$I=(()=>{class n extends e5{constructor(e,r,o,s,a,u){super(e,r,o,s,a,u),this.simpleSnackBarComponent=YN,this.snackBarContainerComponent=XN,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Qa),i.LFG(CA),i.LFG(i.zs3),i.LFG(bA),i.LFG(n,12),i.LFG(sD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:WI}),n})();function t5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.snackBarRef.dismissWithAction())}),i._uU(1),i.qZA()}if(2&n){const e=i.oxw();i.xp6(1),i.hij("\n    ",e.data.action,"\n  ")}}let qI=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}get hasAction(){return!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Bx),i.Y36(oD))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-snackbar"]],decls:9,vars:4,consts:[[1,"mat-typography"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"p"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i._uU(5,"\n  "),i.YNc(6,t5,2,1,"button",1),i._uU(7,"\n"),i.qZA(),i._uU(8,"\n")),2&e&&(i.xp6(3),i.Oqu(i.lcZ(4,2,r.data.message)),i.xp6(3),i.Q6J("ngIf",r.hasAction))},dependencies:[Rr,go,fo]}),n})();var YI=g(6002);const r5=(0,Jn.ZF)("statusConnection"),KI=(0,Jn.P1)(r5,n=>n?n.isOnline:void 0);let i5=(()=>{class n{constructor(e,r,o){this.store=e,this.toast=r,this.translate=o,this.toastConfigOffline={disableTimeOut:!0,closeButton:!1,tapToDismiss:!1},this.onlineSubject=new yn.xQ,this.isOnline$=this.onlineSubject.asObservable()}init(){this.subscription&&this.stop(),this.subscription=this.store.select(KI).pipe((0,YI.G)()).subscribe(e=>{void 0!==e[1]&&(e[1]?(setTimeout(()=>this.toast.success(this.translate.instant("statusConnection.turnOn"),this.translate.instant("statusConnection.title"))),setTimeout(()=>{this.toast.clear(),window.location.reload()},1e3)):setTimeout(()=>this.toast.error(this.translate.instant("statusConnection.turnOff"),this.translate.instant("statusConnection.title"),this.toastConfigOffline)),this.onlineSubject.next(e[1]))})}start(){this.store.dispatch(new sN)}stop(){this.subscription.unsubscribe(),delete this.subscription}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Jn.yh),i.LFG(tD),i.LFG(sc))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o5=new rs("App");class QI extends kx{constructor(){super(...arguments),this.lazyLoad=!0,this.accountUrl="assistanceidf.zendesk.com",this.injectionTag="script"}callback(t){}}let s5=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M,L,W,q){this.mqttService=e,this.router=r,this.activatedRoute=o,this.titleService=s,this.translateService=a,this.i18nService=u,this.authenticationService=h,this.webApp=x,this.onlineService=M,this.credentialService=L,this.snackbar=W,this.zendeskWidgetService=q,this.initMQTT()}ngOnInit(){this.i18nService.init(dr.defaultLanguage,dr.supportedLanguages),this.onlineService.init(),this.onlineService.start(),dr.production&&rs.enableProductionMode(),o5.debug("init");const e=this.router.events.pipe((0,Tn.h)(r=>r instanceof _l));(0,Ei.T)(this.translateService.onLangChange,e).pipe((0,en.U)(()=>{let r=this.activatedRoute;for(;r.firstChild;)r=r.firstChild;return r}),(0,Tn.h)(r=>"primary"===r.outlet),(0,wr.zg)(r=>r.data)).subscribe(r=>{const o=r.title;o&&this.titleService.setTitle(this.translateService.instant(o))}),this.authenticationService.configureWithNewConfigApi(),!this.authenticationService.isRememberMeSession&&!this.authenticationService.isRemember&&this.authenticationService.callLogout(),this.webApp.isAndroid&&this.webApp.setBaseUrl(),this.initZendesk()}ngOnDestroy(){this.subscription.unsubscribe()}initMQTT(){this.subscription=this.mqttService.start().pipe((0,ai.w)(e=>(this.userUid=this.credentialService.userInfos?this.credentialService.userInfos.uid:null,e&&this.userUid?this.mqttService.topicObservable(`/hisqool/users/${this.userUid}/#`):jo.E))).subscribe(e=>{this.topic=e.topic;const r=JSON.parse(e.buffer.toString()).subject_displayname;this.topic.includes("/share")||this.openSnackBar(`Vous n\u2019avez plus acc\xe8s au fichier (${r})`),this.topic.includes("/remove_share")||this.openSnackBar(`Le fichier (${r}) vous a \xe9t\xe9 partag\xe9`)})}openSnackBar(e){this.snackbar.openFromComponent(qI,{data:{message:e},panelClass:["custom-snackbar"]})}initZendesk(){window.zESettings={webWidget:{launcher:{label:{"*":this.translateService.instant("helpWidget")}},helpCenter:{title:{"*":this.translateService.instant("helpWidget")}},chat:{connectOnPageLoad:!1},answerBot:{suppress:!0}}},this.zendeskWidgetService.initZendesk(new QI).catch(console.error)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ZN),i.Y36(Vi),i.Y36(Jl),i.Y36(Je),i.Y36(sc),i.Y36(Jg),i.Y36(Rs),i.Y36(Dl),i.Y36(i5),i.Y36(Wo),i.Y36($I),i.Y36(eD))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(i._UZ(0,"router-outlet"),i._uU(1,"\n"))},dependencies:[zf],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),n})();const Ch=(0,Jn.ZF)("cloud"),JI=(0,Jn.P1)(Ch,n=>n.entities),aD=(0,Jn.P1)(Ch,n=>n.activeEntity),a5=(0,Jn.P1)(Ch,n=>n.loading),l5=(0,Jn.P1)(Ch,n=>n.transfers),lD=(0,Jn.P1)(l5,(n,{key:t})=>n[t]),cD=(0,Jn.P1)(Ch,n=>n.activeRootFolder),c5=(0,Jn.P1)(Ch,n=>n.rootFolders),u5=(0,Jn.P1)(cD,aD,(n,t)=>{let e="";return t&&(e=t.isRoot&&n?n.name:t.name),e}),uD=(0,Jn.P1)(Ch,n=>n.cloudResponse),d5=(0,Jn.P1)(aD,cD,c5,(n,t,e)=>{let r=[];if(n&&t){const s=(L,W)=>{const q=L.split("/"),ye=[];return q.map((Le,rt,it)=>{const lt=`${it.slice(0,rt).join("/")}/${Le}`;"/"!==lt&&ye.push({name:Le,path:lt})}),ye},a=(L,W)=>{const q=W.find(ye=>ye.path===L.path);q&&(L.path="/",L.name=q.name,L.endpoint=q.endpoint)},u=(L=>{if("/"===L)return L;const W=L.split("/");return L.endsWith("/")&&W.pop(),W.pop(),W.join("/")})(n.absolute_path),h=s(u,!0),M=s(t.path,!1).filter(L=>!!t.path.startsWith(L.path)&&("/"!==u||L.path!==t.path));M.map(L=>{a(L,e)}),r=M.concat(h)}return r.reverse()}),wm=new rs("CloudService");function f5(n){switch(n.type){case kr.Sent:case kr.UploadProgress:case kr.ResponseHeader:case kr.Response:return!0;default:return!1}}function h5(n){switch(n.type){case kr.Sent:case kr.ResponseHeader:case kr.DownloadProgress:case kr.Response:return!0;default:return!1}}function eR(n,t){const e={key:t};switch(n.type){case kr.Sent:return Object.assign(Object.assign({},e),{status:_s.Started});case kr.UploadProgress:case kr.DownloadProgress:const r=n.total>0?Math.floor(100*n.loaded/n.total):-1;return Object.assign(Object.assign({},e),{status:_s.Ongoing,progress:r});case kr.ResponseHeader:return Object.assign(Object.assign({},e),{status:_s.Done});case kr.Response:return Object.assign(Object.assign({},e),{status:_s.Finished,response:n.body});default:return Object.assign(Object.assign({},e),{status:_s.Error,error:n})}}let p5=(()=>{class n{constructor(e,r){this.http=e,this.credentialService=r}switchEndpoint(e){return e.endpoint&&(this.endpoint=e.endpoint),e}setEndpoint(e,r=!0){return this.endpoint=e,r?this.fetch("/"):jo.E}fetch(e){const r=`${dr.URL_CLOUD}${this.endpoint}${e}`,o={headers:this.credentialService.authorizationHeader,params:{}};return wm.debug("fetch: ",r),this.http.get(r,o)}upload(e,r,o){const s=`${dr.URL_CLOUD}files/`;wm.debug(`The upload url is ${s}`);const a=new FormData;a.append("file",r,r.name),a.append("name",r.name),a.append("folder",e.absolute_path);const u=new Fr(this.credentialService.authorizationHeader);u.append("Content-Type","multipart/form-data"),u.append("Accept","application/json");const x=new Oc("POST",s,a,{headers:u,reportProgress:!0});return this.http.request(x).pipe((0,Tn.h)(f5),(0,en.U)(L=>eR(L,o)),(0,Hr.b)(L=>wm.debug("Progress :",L)))}download(e,r){const a=new Oc("GET",e.downloadUrl,{responseType:"blob",reportProgress:!0});return this.http.request(a).pipe((0,Tn.h)(h5),(0,en.U)(h=>eR(h,r)),(0,Hr.b)(h=>wm.debug("Progress :",h)))}transfer(e){return e.direction===qa.Upload?this.upload(e.destination,e.source,e.key):this.download(e.source,e.key)}share(e,r){const o=`${dr.URL_CLOUD}files/${e.id}/share/`,s={recipients:r},a=new Fr(this.credentialService.authorizationHeader);return this.http.post(o,s,{headers:a})}unsubscribe(e){const r=`${dr.URL_CLOUD}files/${e.id}/unsubscribe/`,s=new Fr(this.credentialService.authorizationHeader);return this.http.patch(r,{},{headers:s})}remove(e){return this.update(e.path,{delete:e.childId})}rename(e,r){return this.update(e.path,{rename:{child:e.childId,new_name:r}})}createDirectory(e,r){return this.update(e.absolute_path,{create_directory:r})}search(e){const r=`${dr.URL_CLOUD}${this.endpoint}/?q=${e}`,o={headers:this.credentialService.authorizationHeader};return wm.debug("search: ",r),this.http.get(r,o)}update(e,r){"/"===e&&(e="/._/");const o=`${dr.URL_CLOUD}${this.endpoint}${e}`,s=this.credentialService.authorizationHeader;s["Content-Type"]="application/json";const a={headers:s,params:{}};return wm.debug("patch",o),this.http.patch(o,r,a)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ss),i.LFG(Wo))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g5=(()=>{class n{constructor(e,r,o,s){this.actions$=e,this.cloud=r,this.store=o,this.ipcService=s,this.search$=Di(()=>this.actions$.pipe(Gr(fn.SearchCloudEntities),(0,wr.zg)(a=>this.cloud.search(a.searchKey).pipe((0,en.U)(u=>new nx(u)),(0,Vr.K)(u=>(0,Qt.of)(new rx(u.message))))))),this.unsubscribe$=Di(()=>this.actions$.pipe(Gr(fn.Unsubscribe),(0,wr.zg)(a=>this.cloud.unsubscribe(a.entity).pipe((0,en.U)(u=>new Xw(a.currentFolder.absolute_path)),(0,Vr.K)(u=>(0,Qt.of)(new ox(u,a.entity))))))),this.unsubscribeInSearch$=Di(()=>this.actions$.pipe(Gr(fn.UnsubscribeInSearch),(0,wr.zg)(a=>this.cloud.unsubscribe(a.entity).pipe((0,en.U)(u=>new Qg(a.searchKey)))))),this.renameInSearch$=Di(()=>this.actions$.pipe(Gr(fn.RenameInSearch),(0,wr.zg)(a=>this.cloud.rename(a.entity,a.name).pipe((0,en.U)(u=>new Qg(a.searchKey)))))),this.removeInSearch$=Di(()=>this.actions$.pipe(Gr(fn.RemoveInSearch),(0,wr.zg)(a=>this.cloud.remove(a.entity).pipe((0,en.U)(u=>new Qg(a.searchKey)))))),this.fetch$=Di(()=>this.actions$.pipe(Gr(fn.Fetch),(0,wr.zg)(a=>this.cloud.fetch(a.path).pipe((0,en.U)(u=>new Kg(u,a.updated)),(0,Vr.K)(u=>(0,Qt.of)(new mh(fn.Fetch,u,a.path))))))),this.moveTo$=Di(()=>this.actions$.pipe(Gr(fn.MoveTo),(0,en.U)(a=>this.cloud.switchEndpoint(a.item)),(0,wr.zg)(a=>this.cloud.fetch(a.path).pipe((0,en.U)(u=>new Yg(u,a)),(0,Vr.K)(u=>(0,Qt.of)(new mh(fn.MoveTo,u,a.path))))))),this.transferCancel$=Di(()=>this.actions$.pipe(Gr(fn.TransferCancel),(0,Tn.h)(a=>this.ipcService.hasIpc),(0,wr.zg)(a=>(this.ipcService.send(qc.Cancel,a.key),(0,Qt.of)(null))))),this.transfer$=Di(()=>this.actions$.pipe(Gr(fn.TransferRequest),(0,en.U)(a=>a.request),(0,Tn.h)(a=>!this.ipcService.hasIpc||a.direction===qa.Upload),(0,wr.zg)(a=>this.cloud.transfer(a).pipe((0,zn.R)(this.actions$.pipe(Gr(fn.TransferCancel),(0,Tn.h)(u=>u.key===a.key))),(0,en.U)(u=>(u.response&&this.store.dispatch(new uc(a,u.response)),new ex(u))),(0,Vr.K)(()=>(0,Qt.of)(new I_(a))))))),this.electronDl$=Di(()=>this.actions$.pipe(Gr(fn.TransferRequest),(0,en.U)(a=>a.request),(0,Tn.h)(a=>this.ipcService.hasIpc&&a.direction===qa.Download),(0,wr.zg)(a=>(this.ipcService.send(qc.Download,a.electronDownload),(0,Qt.of)(null))))),this.remove$=Di(()=>this.actions$.pipe(Gr(fn.Remove),(0,en.U)(a=>a.entity),(0,wr.zg)(a=>this.cloud.remove(a).pipe((0,en.U)(u=>new Kg(u)),(0,Vr.K)(u=>(0,Qt.of)(new mh(fn.Remove,u,a))))))),this.share$=Di(()=>this.actions$.pipe(Gr(fn.Share),(0,wr.zg)(a=>this.cloud.share(a.entity,a.recipients).pipe((0,en.U)(u=>new sA(u)),(0,Vr.K)(u=>(0,Qt.of)(new aA(u,a.entity))))))),this.rename$=Di(()=>this.actions$.pipe(Gr(fn.Rename),(0,wr.zg)(a=>this.cloud.rename(a.entity,a.name).pipe((0,en.U)(u=>new Kg(u,a.name)),(0,Vr.K)(u=>(0,Qt.of)(new mh(fn.Rename,u,a.entity))))))),this.fetchCurrentEntity$=Di(()=>this.actions$.pipe(Gr(fn.CurrentEntity),(0,za.x)(),(0,en.U)(a=>new Xw(a.entity.absolute_path)))),this.selectRootFolder$=Di(()=>this.actions$.pipe(Gr(fn.SelectRootFolder),(0,za.x)(),(0,en.U)(a=>a.rootFolder.endpoint),(0,wr.zg)(a=>this.cloud.setEndpoint(a).pipe((0,en.U)(u=>new Kg(u)),(0,Vr.K)(u=>(0,Qt.of)(new mh(fn.SelectRootFolder,u,a))))))),this.showLoading$=Di(()=>this.actions$.pipe(Gr(...L_),(0,en.U)(a=>new RM))),this.hideLoading$=Di(()=>this.actions$.pipe(Gr(...FM),(0,en.U)(a=>new tx))),this.createDirectory$=Di(()=>this.actions$.pipe(Gr(fn.CreateDirectory),(0,wr.zg)(a=>this.cloud.createDirectory(a.parent,a.name).pipe((0,en.U)(u=>new Kg(u,a.name)),(0,Vr.K)(u=>(0,Qt.of)(new mh(fn.CreateDirectory,u,a.name))))))),this.ipcService.hasIpc&&this.ipcService.on(qc.Progress,(a,u)=>{let h;switch(u.status){case _s.Finished:h=this.store.select(lD,{key:u.key}).pipe((0,ji.P)()).subscribe(x=>{this.store.dispatch(new uc(x)),h&&h.unsubscribe()});break;case _s.Error:h=this.store.select(lD,{key:u.key}).pipe((0,ji.P)()).subscribe(x=>{this.store.dispatch(new I_(x)),h&&h.unsubscribe()});break;case _s.Cancelled:this.store.dispatch(new O_(u.key));break;default:this.store.dispatch(new ex(u))}})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(bm),i.LFG(p5),i.LFG(Jn.yh),i.LFG(Xg))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tR={name:"cloud.actions.download",icon:"cloud_download",actionType:fn.TransferRequest,for:$a.File},nR={name:"cloud.actions.rename",icon:"edit",actionType:fn.Rename,for:$a.Both},dD={name:"cloud.actions.remove",icon:"delete_outline",actionType:fn.Remove,for:$a.Both},rR={name:"cloud.tabs.myDocuments",path:"/folders",endpoint:"folders",displayedColumns:["name","lastModified","size","actions"],actions:[tR,{name:"cloud.actions.share",icon:"share",actionType:fn.Share,for:$a.File},nR,dD],dateLabel:"cloud.headers.lastModified",canCreateFolder:!0,canShare:!0,canUpload:!0},y5={entities:[],activeEntity:null,loading:!1,transfers:{},rootFolders:[rR,{name:"cloud.tabs.sharedDocuments",path:"/folders/shares",endpoint:"shares",displayedColumns:["name","author","lastModified","size","actions"],actions:[tR,{name:"cloud.actions.unsubscribe",icon:"delete_outline",actionType:fn.Unsubscribe,for:$a.Both}],dateLabel:"cloud.headers.shareDate"}],cloudResponse:null};function iR(n){return Al.castAs({id:0,name:n.name,path:n.path,absolute_path:"/",created_at:"",modified_at:"",icons:{},file_count:0,subfolder_count:0,root_folder_endpoint:n.endpoint,owner:null})}const fD=(n,t)=>n&&t?t.rootFolders.find(e=>e.endpoint===n):void 0,oR=(n,t)=>{n.subfolders?n.subfolders.unshift(iR(t)):n.subfolders=[iR(t)],n.subfolder_count=n.subfolders.length};function E5(n=y5,t){switch(t.type){case fn.ShowLoading:return Object.assign(Object.assign({},n),{loading:!0});case fn.HideLoading:return Object.assign(Object.assign({},n),{loading:!1});case fn.MoveToSuccess:const e=Al.castAs(t.data);let r=n.activeRootFolder;t.item.endpoint&&(r=((n,t)=>t.find(e=>e.endpoint===n))(t.item.endpoint,n.rootFolders));const o=((n,t,e)=>{if(t&&n.isRoot){const r=o=>{const s=o.split("/");return o.endsWith("/")&&s.pop(),s.pop(),s.join("/")};e.map(o=>{t.path===r(o.path)&&oR(n,o)})}return n.entities})(e,r,n.rootFolders);return Object.assign(Object.assign({},n),{activeEntity:e,entities:o,activeRootFolder:r});case fn.FetchSuccess:const s=Al.castAs(t.folder);s.folder.root_folder_endpoint||(s.folder.root_folder_endpoint=n.activeRootFolder.endpoint);const a=((n,t,e=!0)=>{if(e&&t.activeRootFolder&&n.isRoot){const r=o=>{const s=o.split("/");return o.endsWith("/")&&s.pop(),s.pop(),s.join("/")};t.rootFolders.map(o=>{t.activeRootFolder.path===r(o.path)&&oR(n,o)})}return n.entities})(s,n);return t.updated&&a.filter(h=>h.name===t.updated).forEach(h=>{h.state="updated"}),Object.assign(Object.assign({},n),{activeEntity:s,entities:a,activeRootFolder:fD(s.folder.root_folder_endpoint,n)});case fn.SelectRootFolder:return Object.assign(Object.assign({},n),{activeRootFolder:fD(t.rootFolder.endpoint,n)});case fn.ShareSuccess:return t.file.state="updated",Object.assign(Object.assign({},n),{entities:n.entities.map(h=>h.id===t.file.id?t.file:h)});case fn.TransferRequest:{const h=new OM(t.request);return n.transfers[h.key]=h,n}case fn.TransferProgress:{const h=t.progress.key;return n.transfers[h]&&(n.transfers[h]=n.transfers[h].update(t.progress)),n}case fn.TransferCancel:{const h=n.transfers[t.key];return h&&h.cancel(),n}case fn.CloudError:const u=n.activeEntity?fD(n.activeEntity.root_folder_endpoint,n):null;return Object.assign(Object.assign({},n),{activeRootFolder:u});case fn.SearchCloudEntitiesSuccess:return Object.assign(Object.assign({},n),{cloudResponse:t.cloudResponse});default:return n}}const C5=[[["caption"]],[["colgroup"],["col"]]],S5=["caption","colgroup, col"];function hD(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Yn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const xm=new i.OlP("CDK_TABLE");let Em=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Cm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Ux=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class M5{}const O5=hD(M5);let Jc=(()=>{class n extends O5{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=Yn(e),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(xm,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,Em,5),i.Suo(o,Cm,5),i.Suo(o,Ux,5)),2&e){let s;i.iGM(s=i.CRH())&&(r.cell=s.first),i.iGM(s=i.CRH())&&(r.headerCell=s.first),i.iGM(s=i.CRH())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[i._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),i.qOj]}),n})();class pD{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let gD=(()=>{class n extends pD{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Jc),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[i.qOj]}),n})(),mD=(()=>{class n extends pD{constructor(e,r){var o;if(super(e,r),1===(null===(o=e._table)||void 0===o?void 0:o._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Jc),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[i.qOj]}),n})();class aR{constructor(){this.tasks=[],this.endTasks=[]}}const vD=new i.OlP("_COALESCED_STYLE_SCHEDULER");let lR=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new yn.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new aR,this._getScheduleObservable().pipe((0,zn.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new aR;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ao.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Cr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),_D=(()=>{class n{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof hy?e.headerCell.template:this instanceof py?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();class I5 extends _D{}const R5=hD(I5);let hy=(()=>{class n extends R5{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(xm,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[i.qOj,i.TTD]}),n})();class P5 extends _D{}const F5=hD(P5);let py=(()=>{class n extends F5{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(xm,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[i.qOj,i.TTD]}),n})(),jx=(()=>{class n extends _D{constructor(e,r,o){super(e,r),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(xm,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[i.qOj]}),n})(),eu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b))},n.\u0275dir=i.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),yD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&i.GkF(0,0)},dependencies:[eu],encapsulation:2}),n})(),wD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&i.GkF(0,0)},dependencies:[eu],encapsulation:2}),n})(),Hx=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const cR=["top","bottom","left","right"];class k5{constructor(t,e,r,o,s=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const r=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let s=0;s<o.children.length;s++)r.push(o.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const o of r)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,r,o=!0){if(!t.length||!this._isBrowser||!e.some(W=>W)&&!r.some(W=>W))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,u=this._getCellWidths(s,o),h=this._getStickyStartColumnPositions(u,e),x=this._getStickyEndColumnPositions(u,r),M=e.lastIndexOf(!0),L=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const W="rtl"===this.direction,q=W?"right":"left",ye=W?"left":"right";for(const Le of t)for(let rt=0;rt<a;rt++){const it=Le.children[rt];e[rt]&&this._addStickyStyle(it,q,h[rt],rt===M),r[rt]&&this._addStickyStyle(it,ye,x[rt],rt===L)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:u.slice(0,M+1).map((Le,rt)=>e[rt]?Le:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===L?[]:u.slice(L).map((Le,rt)=>r[rt+L]?Le:null).reverse()}))})}stickRows(t,e,r){if(!this._isBrowser)return;const o="bottom"===r?t.slice().reverse():t,s="bottom"===r?e.slice().reverse():e,a=[],u=[],h=[];for(let M=0,L=0;M<o.length;M++){if(!s[M])continue;a[M]=L;const W=o[M];h[M]=this._isNativeHtmlTable?Array.from(W.children):[W];const q=W.getBoundingClientRect().height;L+=q,u[M]=q}const x=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var M,L;for(let W=0;W<o.length;W++){if(!s[W])continue;const q=a[W],ye=W===x;for(const Le of h[W])this._addStickyStyle(Le,r,q,ye)}"top"===r?null===(M=this._positionListener)||void 0===M||M.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:h}):null===(L=this._positionListener)||void 0===L||L.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);cR.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const o of cR)t.style[o]&&(r+=e[o]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],o=t.children;for(let s=0;s<o.length;s++)r.push(o[s].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let o=0;for(let s=0;s<t.length;s++)e[s]&&(r[s]=o,o+=t[s]);return r}_getStickyEndColumnPositions(t,e){const r=[];let o=0;for(let s=t.length;s>0;s--)e[s]&&(r[s]=o,o+=t[s]);return r}}const xD=new i.OlP("CDK_SPL");let Vx=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Gx=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),zx=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Zx=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Wx=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M,L,W,q){this._differs=e,this._changeDetectorRef=r,this._elementRef=o,this._dir=a,this._platform=h,this._viewRepeater=x,this._coalescedStyleScheduler=M,this._viewportRuler=L,this._stickyPositioningListener=W,this._ngZone=q,this._onDestroy=new yn.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new i.vpe,this.viewChange=new Ui.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Yn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Yn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe((0,zn.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),jA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(o,s,a)=>this._getEmbeddedViewArgs(o.item,a),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{r.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&i.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Cr.q)(1),(0,zn.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let u=0;u<r.length;u++)this._renderRows[u].rowDef===s&&a.push(r[u]);this._addStickyColumnStyles(a,s)}),o.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let s=this._data[o];const a=this._getRenderRowsForData(s,o,r.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<a.length;u++){let h=a[u];const x=this._cachedRenderRowsMap.get(h.data);x.has(h.rowDef)?x.get(h.rowDef).push(h):x.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,r,o){return this._getRowDefs(e,r).map(a=>{const u=o&&o.has(a)?o.get(a):[];if(u.length){const h=u.shift();return h.dataIndex=r,h}return{data:e,rowDef:a,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),$x(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=$x(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=$x(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=$x(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),r||o||s}_switchDataSource(e){this._data=[],jA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;jA(this.dataSource)?e=this.dataSource.connect(this):(0,xl.b)(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Qt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,zn.R)(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const o=Array.from(r.columns||[]).map(u=>this._columnDefsByName.get(u)),s=o.map(u=>u.sticky),a=o.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let o=0;o<e.viewContainer.length;o++){const s=e.viewContainer.get(o);r.push(s.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(s=>!s.when||s.when(r,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(r,e))||this._defaultRowDef;s&&o.push(s)}return o}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,o,s={}){const a=e.viewContainer.createEmbeddedView(r.template,s,o);return this._renderCellTemplateForItem(r,s),a}_renderCellTemplateForItem(e,r){for(let o of this._getCellTemplates(e))eu.mostRecentCellOutlet&&eu.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,o=e.length;r<o;r++){const a=e.get(r).context;a.count=o,a.first=0===r,a.last=r===o-1,a.even=r%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[r].dataIndex,a.renderIndex=r):a.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const o=this._columnDefsByName.get(r);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of r){const s=this._document.createElement(o.tag);s.setAttribute("role","rowgroup");for(const a of o.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,o)=>r||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new k5(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Qt.of)()).pipe((0,zn.R)(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(r){const s=o.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.ZZ4),i.Y36(i.sBO),i.Y36(i.SBq),i.$8M("role"),i.Y36(is,8),i.Y36(m),i.Y36(Mo),i.Y36(ly),i.Y36(vD),i.Y36(fm),i.Y36(xD,12),i.Y36(i.R0b,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,Hx,5),i.Suo(o,Jc,5),i.Suo(o,jx,5),i.Suo(o,hy,5),i.Suo(o,py,5)),2&e){let s;i.iGM(s=i.CRH())&&(r._noDataRow=s.first),i.iGM(s=i.CRH())&&(r._contentColumnDefs=s),i.iGM(s=i.CRH())&&(r._contentRowDefs=s),i.iGM(s=i.CRH())&&(r._contentHeaderRowDefs=s),i.iGM(s=i.CRH())&&(r._contentFooterRowDefs=s)}},viewQuery:function(e,r){if(1&e&&(i.Gf(Vx,7),i.Gf(Gx,7),i.Gf(zx,7),i.Gf(Zx,7)),2&e){let o;i.iGM(o=i.CRH())&&(r._rowOutlet=o.first),i.iGM(o=i.CRH())&&(r._headerRowOutlet=o.first),i.iGM(o=i.CRH())&&(r._footerRowOutlet=o.first),i.iGM(o=i.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[i._Bn([{provide:xm,useExisting:n},{provide:ly,useClass:uI},{provide:vD,useClass:lR},{provide:xD,useValue:null}])],ngContentSelectors:S5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(i.F$t(C5),i.Hsn(0),i.Hsn(1,1),i.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Vx,Gx,zx,Zx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function $x(n,t){return n.concat(Array.from(t))}let N5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[RA]}),n})();const B5=[[["caption"]],[["colgroup"],["col"]]],U5=["caption","colgroup, col"];let dR=(()=>{class n extends Wx{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[i._Bn([{provide:ly,useClass:uI},{provide:Wx,useExisting:n},{provide:xm,useExisting:n},{provide:vD,useClass:lR},{provide:xD,useValue:null}]),i.qOj],ngContentSelectors:U5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(i.F$t(B5),i.Hsn(0),i.Hsn(1,1),i.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Vx,Gx,zx,Zx],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),ED=(()=>{class n extends Em{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","matCellDef",""]],features:[i._Bn([{provide:Em,useExisting:n}]),i.qOj]}),n})(),CD=(()=>{class n extends Cm{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[i._Bn([{provide:Cm,useExisting:n}]),i.qOj]}),n})(),SD=(()=>{class n extends Jc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[i._Bn([{provide:Jc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),i.qOj]}),n})(),AD=(()=>{class n extends gD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[i.qOj]}),n})(),DD=(()=>{class n extends mD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[i.qOj]}),n})(),fR=(()=>{class n extends hy{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[i._Bn([{provide:hy,useExisting:n}]),i.qOj]}),n})(),hR=(()=>{class n extends jx{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[i._Bn([{provide:jx,useExisting:n}]),i.qOj]}),n})(),pR=(()=>{class n extends yD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[i._Bn([{provide:yD,useExisting:n}]),i.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&i.GkF(0,0)},dependencies:[eu],encapsulation:2}),n})(),gR=(()=>{class n extends wD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[i._Bn([{provide:wD,useExisting:n}]),i.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&i.GkF(0,0)},dependencies:[eu],encapsulation:2}),n})(),Y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[N5,mr,mr]}),n})();class mR extends class Q5 extends class p8{}{constructor(t=[]){super(),this._renderData=new Ui.X([]),this._filter=new Ui.X(""),this._internalPageChanges=new yn.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,r)=>{const o=e[r];if(ax(o)){const s=Number(o);return s<9007199254740991?s:o}return o},this.sortData=(e,r)=>{const o=r.active,s=r.direction;return o&&""!=s?e.sort((a,u)=>{let h=this.sortingDataAccessor(a,o),x=this.sortingDataAccessor(u,o);const M=typeof h,L=typeof x;M!==L&&("number"===M&&(h+=""),"number"===L&&(x+=""));let W=0;return null!=h&&null!=x?h>x?W=1:h<x&&(W=-1):null!=h?W=1:null!=x&&(W=-1),W*("asc"==s?1:-1)}):e},this.filterPredicate=(e,r)=>{const o=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),s=r.trim().toLowerCase();return-1!=o.indexOf(s)},this._data=new Ui.X(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Ei.T)(this._sort.sortChange,this._sort.initialized):(0,Qt.of)(null),r=this._paginator?(0,Ei.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Qt.of)(null),s=(0,Vu.aj)([this._data,this._filter]).pipe((0,en.U)(([h])=>this._filterData(h))),a=(0,Vu.aj)([s,e]).pipe((0,en.U)(([h])=>this._orderData(h))),u=(0,Vu.aj)([a,r]).pipe((0,en.U)(([h])=>this._pageData(h)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const r=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,r);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}let vR=(()=>{class n{constructor(e,r){this.dialogRef=e,this.data=r,this.value=r.value,this.labelRadix=r.labelRadix,this.icon=r.icon}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa),i.Y36(xd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-cloud-dialog-yes-no"]],decls:42,vars:11,consts:[["fxLayout","column",1,"modal-container","mat-typography"],["mat-dialog-title","","fxLayout","row","fxLayoutAlign","start center"],[1,"folder-icon"],["fxFlex","",1,"text-title"],["mat-icon-button","","mat-dialog-close","",1,"close-icon-button"],[1,"icon-color-change-black"],["mat-dialog-content","","fxLayout","row"],["fxFill",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","","mat-dialog-close","",1,"btnTextLeft"],["mat-raised-button","","color","primary","mat-dialog-close","value",1,"btnTextRight"],["okButton",""]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"mat-icon",2),i._uU(5),i.qZA(),i._uU(6,"\n\n    "),i.TgZ(7,"div",3),i._uU(8,"\n      "),i.TgZ(9,"h2"),i._uU(10),i.ALo(11,"translate"),i.qZA(),i._uU(12,"\n    "),i.qZA(),i._uU(13,"\n\n    "),i.TgZ(14,"button",4),i._uU(15,"\n      "),i.TgZ(16,"mat-icon",5),i._uU(17,"close"),i.qZA(),i._uU(18,"\n    "),i.qZA(),i._uU(19,"\n  "),i.qZA(),i._uU(20,"\n\n  "),i.TgZ(21,"div",6),i._uU(22,"\n    "),i.TgZ(23,"h3",7),i._uU(24),i.qZA(),i._uU(25,"\n  "),i.qZA(),i._uU(26,"\n  "),i._UZ(27,"mat-divider"),i._uU(28,"\n  "),i.TgZ(29,"mat-dialog-actions",8),i._uU(30,"\n    "),i.TgZ(31,"button",9),i._uU(32),i.ALo(33,"translate"),i.qZA(),i._uU(34,"\n    "),i.TgZ(35,"button",10,11),i._uU(37),i.ALo(38,"translate"),i.qZA(),i._uU(39,"\n  "),i.qZA(),i._uU(40,"\n"),i.qZA(),i._uU(41,"\n")),2&e&&(i.xp6(5),i.Oqu(r.icon),i.xp6(5),i.Oqu(i.lcZ(11,5,r.labelRadix+".title")),i.xp6(14),i.Oqu(r.value),i.xp6(8),i.Oqu(i.lcZ(33,7,"cloud.buttons.cancel")),i.xp6(5),i.hij("\n      ",i.lcZ(38,9,r.labelRadix+".action"),"\n    "))},dependencies:[$o,po,Ya,Fs,go,LA,oy,gm,xx,ks,Ja,fo],styles:[".modal-container[_ngcontent-%COMP%]{width:401px;background-color:#fff}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{height:64px;min-height:64px;margin-top:0;margin-bottom:0}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{margin-top:1px;color:#295fec;margin-left:20px;margin-right:16px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{margin-top:16px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .close-icon-button[_ngcontent-%COMP%]{margin-right:12px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .close-icon-button[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.modal-container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:500;letter-spacing:.15px;line-height:24px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;margin-right:24px;height:87px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .btnTextLeft[_ngcontent-%COMP%]{color:#295fec}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;height:48px;border-radius:6px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#f0f1f1;color:#00000061}"]}),n})(),_R=(()=>{class n{constructor(e,r,o){this.httpClient=e,this.authenticationService=r,this.credentialService=o}getUsers(e){const o={headers:new Fr({"Content-Type":"application/json",Authorization:`Bearer ${this.authenticationService.tokenId}`})};return this.httpClient.get(`${dr.URL_PROFILE}/people?q=${e}`,o).pipe((0,en.U)(u=>(u.forEach(h=>{h.display_name||(h.display_name=`${h.name} ${h.givenname}`)}),u)))}userProfile(e){return this.httpClient.put(`${dr.URL_PROFILE}/me`,{name:e.name,givenname:e.givenname,classname:[e.classe?e.classe:""]},{headers:this.credentialService.authorizationHeader,params:{}})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ss),i.LFG(Rs),i.LFG(Wo))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var X5=g(6366);function J5(n,t){1&n&&(i.TgZ(0,"div",15),i._uU(1,"cloud.errors.invalidCharacter"),i.qZA())}let yR=(()=>{class n{constructor(e,r){this.dialogRef=e,this.data=r,this.inputName=new Uo,this.folderNamePattern='^[^<>:"/|?*\\\\]+$',this.value=r.value,this.labelRadix=r.labelRadix,this.icon=r.icon}selectField(e){const r=e.value.lastIndexOf(".");this.data.isFile&&r>0?e.setSelectionRange(0,r):e.select()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa),i.Y36(xd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-cloud-dialog-value"]],decls:53,vars:25,consts:[["fxLayout","column",1,"modal-container","mat-typography"],["mat-dialog-title","","fxLayout","row","fxLayoutAlign","start center"],[1,"folder-icon"],["fxFlex",""],["mat-button","","mat-dialog-close","",1,"mat-icon-button"],["mat-dialog-content","","fxLayout","row"],["appearance","fill","fxFill","",3,"hideRequiredMarker"],["translate",""],["type","text","matInput","","autocomplete","false","cdkFocusInitial","",3,"formControl","pattern","placeholder","value","keydown.enter","focus"],["input_value",""],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-line","","translate","",4,"ngIf"],["mat-button","","mat-dialog-close","",1,"btnTextLeft"],["mat-raised-button","","color","primary",1,"btnTextRight",3,"mat-dialog-close","disabled"],["okButton",""],["mat-line","","translate",""]],template:function(e,r){if(1&e){const o=i.EpF();i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"mat-icon",2),i._uU(5),i.qZA(),i._uU(6,"\n    "),i.TgZ(7,"h3",3),i._uU(8),i.ALo(9,"translate"),i.qZA(),i._uU(10,"\n    "),i.TgZ(11,"button",4),i._uU(12,"\n      "),i.TgZ(13,"mat-icon"),i._uU(14,"close"),i.qZA(),i._uU(15,"\n    "),i.qZA(),i._uU(16,"\n  "),i.qZA(),i._uU(17,"\n\n  "),i.TgZ(18,"div",5),i._uU(19,"\n    "),i.TgZ(20,"mat-form-field",6),i._uU(21,"\n      "),i.TgZ(22,"mat-label",7),i._uU(23),i.ALo(24,"translate"),i.qZA(),i._uU(25,"\n      "),i.TgZ(26,"input",8,9),i.NdJ("keydown.enter",function(){i.CHM(o);const a=i.MAs(27);return i.KtG(r.dialogRef.close(a.value))})("focus",function(a){return r.selectField(a.target)}),i.ALo(28,"translate"),i.ALo(29,"translate"),i.qZA(),i._uU(30,"\n    "),i.qZA(),i._uU(31,"\n  "),i.qZA(),i._uU(32,"\n\n  "),i._UZ(33,"mat-divider"),i._uU(34,"\n\n  "),i.TgZ(35,"mat-dialog-actions",10),i._uU(36,"\n    "),i.TgZ(37,"mat-error",3),i._uU(38,"\n      "),i.YNc(39,J5,2,0,"div",11),i._uU(40,"\n    "),i.qZA(),i._uU(41,"\n    "),i.TgZ(42,"button",12),i._uU(43),i.ALo(44,"translate"),i.qZA(),i._uU(45,"\n    "),i.TgZ(46,"button",13,14),i._uU(48),i.ALo(49,"translate"),i.qZA(),i._uU(50,"\n  "),i.qZA(),i._uU(51,"\n"),i.qZA(),i._uU(52,"\n")}if(2&e){const o=i.MAs(27);i.xp6(5),i.Oqu(r.icon),i.xp6(3),i.Oqu(i.lcZ(9,13,r.labelRadix+".title")),i.xp6(12),i.Q6J("hideRequiredMarker",!0),i.xp6(3),i.Oqu(i.lcZ(24,15,r.labelRadix+".label")),i.xp6(3),i.s9C("placeholder",i.lcZ(28,17,r.labelRadix+".placeholder")),i.s9C("value",i.lcZ(29,19,r.value||r.labelRadix+".default")),i.Q6J("formControl",r.inputName)("pattern",r.folderNamePattern),i.xp6(13),i.Q6J("ngIf",null==r.inputName.errors?null:r.inputName.errors.pattern),i.xp6(4),i.Oqu(i.lcZ(44,21,"cloud.buttons.cancel")),i.xp6(3),i.Q6J("mat-dialog-close",o.value)("disabled",0===o.value.length||(null==r.inputName.errors?null:r.inputName.errors.pattern)),i.xp6(2),i.hij("\n      ",i.lcZ(49,23,r.labelRadix+".action"),"\n    ")}},dependencies:[$o,po,Ya,Fs,Rr,Oa,Fc,u0,ra,Sp,go,LA,oy,gm,xx,ks,K_,Ja,NA,Dx,vm,xh,fo],styles:[".modal-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#0a1f448a}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{height:64px;min-height:64px;margin-top:0;margin-bottom:0}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;line-height:24px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{color:#295fec;margin-left:22px;margin-right:14px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-right:12px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{height:84px;margin:0;font-size:16px;font-weight:500;letter-spacing:.15px;line-height:24px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;margin-right:24px;height:87px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{margin-left:24px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .btnTextLeft[_ngcontent-%COMP%]{color:#295fec}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;height:48px;border-radius:6px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#f0f1f1;color:#00000061}"]}),n})();const eB=[ts("slideInOut",[xi(":enter",[gr({transform:"translateY(100%)"}),pi("250ms 0.1s ease-out")]),xi(":leave",[gr({transform:"translateY(-100%)"}),pi("250ms 0.1s ease-out")])])];let TD=(()=>{class n{constructor(){this.isLoading=!1,this.size=1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-loader"]],inputs:{isLoading:"isLoading",size:"size",message:"message"},decls:8,vars:4,consts:[[3,"hidden"],["mode","indeterminate",3,"strokeWidth","diameter"],[1,"message"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i._UZ(2,"mat-progress-spinner",1),i._uU(3,"\n  "),i.TgZ(4,"span",2),i._uU(5),i.qZA(),i._uU(6,"\n"),i.qZA(),i._uU(7,"\n")),2&e&&(i.Q6J("hidden",!r.isLoading),i.xp6(2),i.Q6J("strokeWidth",2)("diameter",32*r.size),i.xp6(3),i.Oqu(r.message))},dependencies:[Tl],styles:[".mat-progress-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.message[_ngcontent-%COMP%]{margin-left:.5em}"]}),n})();class tB{constructor(){this.$implicit=null,this.appDefine=null}}let nB=(()=>{class n{constructor(e,r){this.templateRef=e,this.viewContainer=r,this._context=new tB}set appDefine(e){this._context.appDefine=this._context.$implicit=e,this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.templateRef,this._context)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc),i.Y36(i.s_b))},n.\u0275dir=i.lG2({type:n,selectors:[["","appDefine",""]],inputs:{appDefine:"appDefine"}}),n})(),MD=(()=>{class n{transform(e){const r=e.split(" ");let o=r[0].slice(0,1);return 2===r.length?o+=r[1].slice(0,1):r.length>2&&(o+=r[r.length-1].slice(0,1)),(0,Qt.of)(o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Yjl({name:"displayInitialeUser",type:n,pure:!0}),n})();function rB(n,t){1&n&&(i.TgZ(0,"mat-icon",6),i._uU(1,"add"),i.qZA())}function iB(n,t){1&n&&(i.TgZ(0,"mat-icon",7),i._uU(1,"check_circle"),i.qZA())}const oB=function(n,t){return{selected:n,active:t}};let sB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-multi-select-avatar-list-item"]],inputs:{item:"item",colorIndex:"colorIndex",isActive:"isActive"},decls:30,vars:20,consts:[[3,"disableRipple","id","ngClass"],["fxFlex","0 0 40px","fxLayoutAlign","center center"],["fxFlex",""],[1,"username"],["class","add-icon","fxLayoutAlign","center center",4,"ngIf"],["class","select-icon","fxLayoutAlign","center center",4,"ngIf"],["fxLayoutAlign","center center",1,"add-icon"],["fxLayoutAlign","center center",1,"select-icon"]],template:function(e,r){1&e&&(i.TgZ(0,"mat-list-item",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3),i.ALo(4,"uppercase"),i.ALo(5,"async"),i.ALo(6,"displayInitialeUser"),i.qZA(),i._uU(7,"\n\n  "),i.TgZ(8,"div",2),i._uU(9,"\n    "),i.TgZ(10,"div"),i._uU(11,"\n      "),i.TgZ(12,"h6",3),i._uU(13),i.qZA(),i._uU(14,"\n    "),i.qZA(),i._uU(15,"\n    "),i.TgZ(16,"div"),i._uU(17,"\n      "),i.TgZ(18,"mat-hint"),i._uU(19),i.qZA(),i._uU(20,"\n    "),i.qZA(),i._uU(21,"\n  "),i.qZA(),i._uU(22,"\n\n  "),i.YNc(23,rB,2,0,"mat-icon",4),i._uU(24,"\n  "),i.YNc(25,iB,2,0,"mat-icon",5),i._uU(26,"\n  "),i._UZ(27,"mat-divider"),i._uU(28,"\n"),i.qZA(),i._uU(29,"\n")),2&e&&(i.MGl("id","item-",r.item.uid,""),i.Q6J("disableRipple",!0)("ngClass",i.WLB(17,oB,r.isActive,r.isActive)),i.xp6(2),i.Gre("avatar color-",r.colorIndex,""),i.xp6(1),i.hij("\n    ",i.lcZ(4,11,i.lcZ(5,13,i.lcZ(6,15,r.item.display_name))),"\n  "),i.xp6(10),i.Oqu(r.item.display_name),i.xp6(6),i.hij("@",r.item.login,""),i.xp6(4),i.Q6J("ngIf",!r.isActive),i.xp6(2),i.Q6J("ngIf",r.isActive))},dependencies:[po,Fs,Q,Jr,Rr,ks,Mx,Ja,iI,br,Eo,MD],styles:[".mat-list-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-size:16px}.mat-list-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:20px;font-size:20px;width:40px;height:40px;color:#fff;border-radius:20px}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-1[_ngcontent-%COMP%]{background-color:#403f4ccc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-2[_ngcontent-%COMP%]{background-color:#295feccc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-3[_ngcontent-%COMP%]{background-color:#006494cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-4[_ngcontent-%COMP%]{background-color:#1e91d6cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-5[_ngcontent-%COMP%]{background-color:#44bba4cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-6[_ngcontent-%COMP%]{background-color:#8ac926cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-7[_ngcontent-%COMP%]{background-color:#fdb833cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-8[_ngcontent-%COMP%]{background-color:#ff8f00cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-9[_ngcontent-%COMP%]{background-color:#f37748cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-10[_ngcontent-%COMP%]{background-color:#f56476cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-11[_ngcontent-%COMP%]{background-color:#e84855cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-12[_ngcontent-%COMP%]{background-color:#e43f6fcc}.mat-list-item[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{text-transform:capitalize;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.mat-list-item.active[_ngcontent-%COMP%]{background-color:#2072ff1f}.mat-list-item[_ngcontent-%COMP%]{height:64px}.select-icon[_ngcontent-%COMP%]{width:34px;height:34px;font-size:34px;color:#2072ff}.add-icon[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:17px;border:1px solid rgba(0,0,0,.12)}"]}),n})();function aB(n,t){if(1&n&&(i.TgZ(0,"div",11),i._uU(1,"\n    "),i.TgZ(2,"div",12),i._uU(3,"\n      "),i.TgZ(4,"i",2),i._uU(5,"insert_drive_file"),i.qZA(),i._uU(6,"\n      "),i.TgZ(7,"h3"),i._uU(8),i.qZA(),i._uU(9,"\n    "),i.qZA(),i._uU(10,"\n  "),i.qZA()),2&n){const e=i.oxw();i.xp6(8),i.Oqu(e.data.entity.name)}}function lB(n,t){1&n&&(i._uU(0,"\n    "),i._UZ(1,"mat-divider"),i._uU(2,"\n  "))}const bR=function(n,t,e,r){return{"list-touched":n,"list-untouched":t,"list-touched-whithout-file-content":e,"list-untouched-whithout-file-content":r}};function cB(n,t){if(1&n&&(i.TgZ(0,"div",16),i._uU(1,"\n      "),i._UZ(2,"app-loader",17),i._uU(3,"\n    "),i.qZA()),2&n){const e=i.oxw(2);i.Q6J("ngClass",i.l5B(2,bR,!e.isUnchanged&&"multiSelect"===e.data.listType,e.isUnchanged&&"multiSelect"===e.data.listType,!e.isUnchanged&&"addUserMultiSelect"===e.data.listType,e.isUnchanged&&"addUserMultiSelect"===e.data.listType)),i.xp6(2),i.Q6J("isLoading",e.data.isLoading)}}function uB(n,t){1&n&&(i.TgZ(0,"div",21),i._uU(1,"\n          "),i.TgZ(2,"h3",22),i._uU(3,"errors.loadError"),i.qZA(),i._uU(4,"\n        "),i.qZA())}function dB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"app-multi-select-avatar-list-item",25),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(4);return i.KtG(a.select(s))}),i._uU(1,"\n          "),i.qZA()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(4);i.Q6J("item",e)("colorIndex",o.colorIndex(r))("isActive",o.isSelected(e))}}function fB(n,t){1&n&&(i.TgZ(0,"div",26),i._uU(1,"\n            "),i.TgZ(2,"h3",22),i._uU(3,"search.noResult"),i.qZA(),i._uU(4,"\n          "),i.qZA())}function hB(n,t){if(1&n&&(i._uU(0,"\n          "),i.YNc(1,dB,2,3,"app-multi-select-avatar-list-item",23),i._uU(2,"\n\n          "),i.YNc(3,fB,5,0,"div",24),i._uU(4,"\n        ")),2&n){const e=i.oxw(2).appDefine;i.xp6(1),i.Q6J("ngForOf",e),i.xp6(2),i.Q6J("ngIf",e)}}function pB(n,t){if(1&n&&(i._uU(0,"\n      "),i.TgZ(1,"mat-nav-list",18),i._uU(2,"\n        "),i.YNc(3,uB,5,0,"div",19),i.ALo(4,"async"),i._uU(5,"\n\n        "),i.YNc(6,hB,5,2,"ng-template",null,20,i.W1O),i._uU(8,"\n      "),i.qZA(),i._uU(9,"\n    ")),2&n){const e=i.MAs(7),r=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.l5B(5,bR,!r.isUnchanged&&"multiSelect"===r.data.listType,r.isUnchanged&&"multiSelect"===r.data.listType,!r.isUnchanged&&"addUserMultiSelect"===r.data.listType,r.isUnchanged&&"addUserMultiSelect"===r.data.listType)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,3,r.errors))("ngIfElse",e)}}function gB(n,t){if(1&n&&(i.TgZ(0,"div",13),i._uU(1,"\n    "),i.YNc(2,cB,4,7,"div",14),i.ALo(3,"async"),i._uU(4,"\n\n    "),i.YNc(5,pB,10,10,"ng-template",null,15,i.W1O),i._uU(7,"\n  "),i.qZA()),2&n){const e=i.MAs(6),r=i.oxw();i.xp6(2),i.Q6J("ngIf",i.lcZ(3,2,r.data.isLoading))("ngIfElse",e)}}function mB(n,t){if(1&n&&(i.TgZ(0,"div",32),i._uU(1),i.ALo(2,"async"),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,e.data.processingError).message)}}function vB(n,t){if(1&n&&(i.TgZ(0,"div",32),i._uU(1),i.ALo(2,"async"),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,e.data.processingError).retry)}}function _B(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",33),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.share())}),i._uU(1),i.ALo(2,"translate"),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(1),i.hij("\n        ",i.lcZ(2,1,e.data.btnTextRight),"\n      ")}}function yB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.share())}),i._uU(1,"\n        "),i._UZ(2,"mat-spinner",35),i._uU(3,"\n      "),i.qZA()}}function bB(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n    "),i._UZ(2,"mat-divider"),i._uU(3,"\n    "),i.TgZ(4,"div",27),i._uU(5,"\n      "),i.TgZ(6,"mat-error",28),i._uU(7,"\n        "),i.YNc(8,mB,3,3,"div",29),i.ALo(9,"async"),i._uU(10,"\n        "),i.YNc(11,vB,3,3,"div",29),i.ALo(12,"async"),i._uU(13,"\n      "),i.qZA(),i._uU(14,"\n      "),i.YNc(15,_B,3,3,"button",30),i.ALo(16,"async"),i._uU(17,"\n      "),i.YNc(18,yB,4,0,"button",31),i.ALo(19,"async"),i._uU(20,"\n    "),i.qZA(),i._uU(21,"\n  "),i.qZA()),2&n){const e=i.oxw();i.Q6J("@slideInOut",void 0),i.xp6(8),i.Q6J("ngIf",i.lcZ(9,5,e.data.processingError)),i.xp6(3),i.Q6J("ngIf",i.lcZ(12,7,e.data.processingError)),i.xp6(4),i.Q6J("ngIf",!i.lcZ(16,9,e.data.isProcessing)),i.xp6(3),i.Q6J("ngIf",i.lcZ(19,11,e.data.isProcessing))}}let xB=(()=>{class n{constructor(e,r,o){this.dialogRef=e,this.data=r,this.cdRef=o,this._searchTriggered=new i.vpe,this.shareTrigered=new i.vpe,this.selectionChange=new i.vpe,this.selectedItems=new Set,this.originalSelectedItems=new Set(this.data.selectedItems||[]),this.selectedItems=new Set(this.originalSelectedItems)}ngOnInit(){this.searchSuggestions$=this._searchTriggered.pipe((0,tc.b)(650),(0,co.O)(""),this.data.fetcher)}ngAfterViewChecked(){this.cdRef.detectChanges()}select(e){this.selectionChange.emit();const r=this.data.entityToId(e);this.selectedItems.has(r)?this.selectedItems.delete(r):this.selectedItems.add(r)}colorIndex(e){const r=e.toString().slice(-1);return Number(r)+1}isSelected(e){return this.selectedItems.has(this.data.entityToId(e))}onNoClick(){this.dialogRef.close()}get errors(){return this.data.loadingError}get isUnchanged(){return function wB(n,t){return n.size===t.size&&Array.from(n).every(e=>t.has(e))}(this.selectedItems,this.originalSelectedItems)}get showActionPannel(){return!this.isUnchanged}share(){const e={entity:this.data.entity,selectedItems:Array.from(this.selectedItems)};this.shareTrigered.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa),i.Y36(xd),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-dialog-multi-select"]],outputs:{shareTrigered:"shareTrigered",selectionChange:"selectionChange"},decls:39,vars:11,consts:[[1,"modal-container","mat-typography"],["mat-dialog-title","","fxLayoutAlign","start center"],[1,"material-icons"],["fxFlex","","translate",""],["mat-button","",1,"mat-icon-button",3,"click"],["mat-dialog-content","","class","file-content",4,"ngIf","ngIfElse"],["divider",""],["fxLayoutAlign","start center",1,"search-content"],["cdkFocusRegionstart","","matInput","","type","text","autofocus","","fxFlex","",3,"placeholder","keyup"],["mat-dialog-content","","class","list-content",4,"appDefine"],[4,"ngIf"],["mat-dialog-content","",1,"file-content"],["fxLayoutAlign","start center",1,"file-container"],["mat-dialog-content","",1,"list-content"],["fxLayoutAlign","center center",3,"ngClass",4,"ngIf","ngIfElse"],["showData",""],["fxLayoutAlign","center center",3,"ngClass"],[1,"inline-loader",3,"isLoading"],[3,"ngClass"],["fxLayoutAlign","center center","class","error",4,"ngIf","ngIfElse"],["noErrors",""],["fxLayoutAlign","center center",1,"error"],["translate",""],[3,"item","colorIndex","isActive","click",4,"ngFor","ngForOf"],["fxLayoutAlign","center center","class","resultLess",4,"ngIf"],[3,"item","colorIndex","isActive","click"],["fxLayoutAlign","center center",1,"resultLess"],["mat-dialog-actions","","fxLayoutAlign","space-between center"],["fxFlex",""],["mat-line","",4,"ngIf"],["mat-button","","class","btnTextRight",3,"click",4,"ngIf"],["mat-button","","class","spinnerBtn","fxLayoutAlign","center center",3,"click",4,"ngIf"],["mat-line",""],["mat-button","",1,"btnTextRight",3,"click"],["mat-button","","fxLayoutAlign","center center",1,"spinnerBtn",3,"click"],["diameter","24"]],template:function(e,r){if(1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"i",2),i._uU(5),i.qZA(),i._uU(6,"\n    "),i.TgZ(7,"h3",3),i._uU(8),i.qZA(),i._uU(9,"\n    "),i.TgZ(10,"button",4),i.NdJ("click",function(){return r.onNoClick()}),i._uU(11,"\n      "),i.TgZ(12,"mat-icon"),i._uU(13,"close"),i.qZA(),i._uU(14,"\n    "),i.qZA(),i._uU(15,"\n  "),i.qZA(),i._uU(16,"\n\n  "),i.YNc(17,aB,11,1,"div",5),i._uU(18,"\n\n  "),i.YNc(19,lB,3,0,"ng-template",null,6,i.W1O),i._uU(21,"\n\n  "),i.TgZ(22,"mat-toolbar",7),i._uU(23,"\n    "),i.TgZ(24,"mat-icon"),i._uU(25,"search"),i.qZA(),i._uU(26,"\n    "),i.TgZ(27,"input",8),i.NdJ("keyup",function(s){return r._searchTriggered.emit(s.target.value)}),i.ALo(28,"translate"),i.qZA(),i._uU(29,"\n  "),i.qZA(),i._uU(30,"\n\n  "),i._UZ(31,"mat-divider"),i._uU(32,"\n\n  "),i.YNc(33,gB,8,4,"div",9),i.ALo(34,"async"),i._uU(35,"\n  "),i.YNc(36,bB,22,13,"div",10),i._uU(37,"\n"),i.qZA(),i._uU(38,"\n")),2&e){const o=i.MAs(20);i.xp6(5),i.hij("",r.data.headerIcon," "),i.xp6(3),i.Oqu(r.data.headerText),i.xp6(9),i.Q6J("ngIf","multiSelect"===r.data.listType)("ngIfElse",o),i.xp6(10),i.s9C("placeholder",i.lcZ(28,7,r.data.searchBarPlaceholder)),i.xp6(6),i.Q6J("appDefine",i.lcZ(34,9,r.searchSuggestions$)),i.xp6(3),i.Q6J("ngIf",r.showActionPannel)}},dependencies:[po,Fs,Q,Jr,Oi,Rr,ra,go,oy,gm,xx,ks,vI,K_,Ja,Tl,NA,Ed,xh,TD,nB,sB,br,fo],styles:[".modal-container[_ngcontent-%COMP%]{overflow:hidden;height:624px}.modal-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#295fec}.modal-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{height:64px;color:red}.modal-container[_ngcontent-%COMP%]   .resultLess[_ngcontent-%COMP%]{height:64px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{height:64px;min-height:64px;margin-top:0;margin-bottom:0}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-right:8px}.modal-container[_ngcontent-%COMP%]   .file-content[_ngcontent-%COMP%]{background-color:#295fec;height:104px;padding:20px;margin:0}.modal-container[_ngcontent-%COMP%]   .file-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]{background-color:#fff;height:64px;border-radius:4px}.modal-container[_ngcontent-%COMP%]   .file-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:24px;margin-right:20px}.modal-container[_ngcontent-%COMP%]   .file-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:392px}.modal-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{background-color:#fff;height:47px;margin:0;padding-left:24px}.modal-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:26px}.modal-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:2px;background-color:#fff;border:none;font-size:16px}.modal-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;background-color:#fff;outline:none}.modal-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]{margin:0;padding:0}.modal-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]{padding:0}.modal-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .list-touched[_ngcontent-%COMP%]{height:320px}.modal-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .list-untouched[_ngcontent-%COMP%]{height:408px}.modal-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .list-touched-whithout-file-content[_ngcontent-%COMP%]{height:420px}.modal-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .list-untouched-whithout-file-content[_ngcontent-%COMP%]{height:493px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{height:87px;margin:0 20px 0 0}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{margin-left:32px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .btnTextRight[_ngcontent-%COMP%]{background-color:#295fec;color:#fff;min-width:100px;height:48px;border-radius:6px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .spinnerBtn[_ngcontent-%COMP%]{background-color:#295fec;opacity:.4;width:100px;height:48px;border-radius:6px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   .spinnerBtn[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]  circle{stroke:#fff}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#295fec;color:#fff}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:#295fec;color:#fff}.modal-container[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#f0f1f1;color:#00000061}"],data:{animation:[eB]}}),n})();const EB=["primaryValueBar"],CB=yh(class{constructor(n){this._elementRef=n}},"primary"),SB=new i.OlP("mat-progress-bar-location",{providedIn:"root",factory:function AB(){const n=(0,i.f3M)(m),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),DB=new i.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let TB=0,wR=(()=>{class n extends CB{constructor(e,r,o,s,a,u){super(e),this._ngZone=r,this._animationMode=o,this._changeDetectorRef=u,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.vpe,this._animationEndSubscription=qo.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+TB++;const h=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===o,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){var r;this._value=xR(Sa(e)||0),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){var r;this._bufferValue=xR(e||0),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Ps.R)(e,"transitionend").pipe((0,Tn.h)(r=>r.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.QbO,8),i.Y36(SB,8),i.Y36(DB,8),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,r){if(1&e&&i.Gf(EB,5),2&e){let o;i.iGM(o=i.CRH())&&(r._primaryValueBar=o.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,r){2&e&&(i.uIk("aria-valuenow","indeterminate"===r.mode||"query"===r.mode?null:r.value)("mode",r.mode),i.ekj("_mat-animation-noopable",r._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),i._UZ(4,"circle",3),i.qZA()(),i._UZ(5,"rect",4),i.qZA(),i.kcU(),i._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),i.qZA()),2&e&&(i.xp6(3),i.Q6J("id",r.progressbarId),i.xp6(2),i.uIk("fill",r._rectangleFillValue),i.xp6(1),i.Q6J("ngStyle",r._bufferTransform()),i.xp6(1),i.Q6J("ngStyle",r._primaryTransform()))},dependencies:[Rt],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function xR(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let MB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,mr,mr]}),n})();function OB(n,t){if(1&n){const e=i.EpF();i.ynx(0),i._uU(1,"\n  "),i.TgZ(2,"h1",1),i._uU(3),i.qZA(),i._uU(4,"\n  "),i.TgZ(5,"div",2),i._uU(6,"\n    "),i.TgZ(7,"span"),i._uU(8),i.qZA(),i._uU(9,"\n    "),i._UZ(10,"mat-progress-bar",3),i._uU(11,"\n  "),i.qZA(),i._uU(12,"\n  "),i.TgZ(13,"mat-dialog-actions"),i._uU(14,"\n    "),i.TgZ(15,"button",4),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.cancel())}),i._uU(16),i.ALo(17,"translate"),i.qZA(),i._uU(18,"\n  "),i.qZA(),i._uU(19,"\n"),i.BQk()}if(2&n){const e=i.oxw();i.xp6(3),i.hij("cloud.dialog.",e.transfer.direction,".title"),i.xp6(5),i.Oqu(e.transfer.source.name),i.xp6(2),i.Q6J("mode",null==e.transfer?null:e.transfer.mode)("value",null==e.transfer?null:e.transfer.progress),i.xp6(6),i.hij("\n      ",i.lcZ(17,5,"cloud.buttons.cancel"),"\n    ")}}const IB=new rs("Transfer");let RB=(()=>{class n{constructor(e,r,o){this.dialogRef=e,this.data=r,this.store=o}ngOnInit(){IB.debug(`Selecting on key ${this.data}`),this.transferSubscription=this.store.select(lD,{key:this.data}).subscribe(e=>{this.transfer=e})}ngOnDestroy(){this.transferSubscription.unsubscribe()}cancel(){this.store.dispatch(new O_(this.data)),this.dialogRef.close("canceled")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa),i.Y36(xd),i.Y36(Jn.yh))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-transfer"]],decls:2,vars:1,consts:[[4,"ngIf"],["mat-dialog-title","","translate",""],["mat-dialog-content",""],["color","accent",3,"mode","value"],["mat-raised-button","","color","primary","mat-button","","mat-dialog-close","",3,"click"]],template:function(e,r){1&e&&(i.YNc(0,OB,20,7,"ng-container",0),i._uU(1,"\n")),2&e&&i.Q6J("ngIf",r.transfer)},dependencies:[Rr,ra,go,LA,oy,gm,xx,wR,fo],styles:[".mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:1.1em}.mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),n})(),OD=(()=>{class n{constructor(){this.searchAnnouncedSource=new yn.xQ}announceSearch(e,r){this.searchAnnouncedSource.next({searchBarName:e,search:r})}get searchAnnounced$(){return this.searchAnnouncedSource.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PB={isLoading:!0,textBookResponse:null},ER="textbookStore",CR=(0,Jn.ZF)(ER),SR=(0,Jn.P1)(CR,n=>n?n.textBookResponse:void 0),FB=(0,Jn.P1)(CR,n=>n.isLoading);let AR=(()=>{class n{constructor(e,r,o){this.searchBarService=e,this.textbookStore=r,this.cloudStore=o,this.closeSearch=new i.vpe}ngOnInit(){this.textbooks$=this.textbookStore.select(SR),this.documents$=this.cloudStore.select(uD),this.focusInput()}ngAfterViewInit(){(0,Ps.R)(document.getElementById("search-input"),"keyup").subscribe(e=>this.submitSearch())}submitSearch(){this.searchBarService.announceSearch(this.searchBarName,this.search)}closeTrigered(){this.search="",this.submitSearch(),this.closeSearch.emit()}focusInput(){document.getElementById("search-input").focus()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(OD),i.Y36(Jn.yh),i.Y36(Jn.yh))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-search-bar"]],inputs:{searchBarName:"searchBarName",placeholder:"placeholder"},outputs:{closeSearch:"closeSearch"},decls:17,vars:2,consts:[["fxFill","","fxLayout","row wrap","fxLayoutAlign","space-between center",1,"search-bar"],["mat-icon-button","",3,"click"],["matInput","","id","search-input","type","text","autofocus","","fxFill","","fxFlex","",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["mat-button","",1,"mat-icon-button",3,"click"],[1,"icon-color-change-black"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"button",1),i.NdJ("click",function(){return r.submitSearch()}),i._uU(3,"\n    "),i.TgZ(4,"mat-icon"),i._uU(5,"search"),i.qZA(),i._uU(6,"\n  "),i.qZA(),i._uU(7,"\n\n  "),i.TgZ(8,"input",2),i.NdJ("ngModelChange",function(s){return r.search=s})("keyup.enter",function(){return r.submitSearch()}),i.qZA(),i._uU(9,"\n\n  "),i.TgZ(10,"button",3),i.NdJ("click",function(){return r.closeTrigered()}),i._uU(11,"\n    "),i.TgZ(12,"mat-icon",4),i._uU(13,"close"),i.qZA(),i._uU(14,"\n  "),i.qZA(),i._uU(15,"\n"),i.qZA(),i._uU(16,"\n")),2&e&&(i.xp6(8),i.s9C("placeholder",r.placeholder),i.Q6J("ngModel",r.search))},dependencies:[$o,po,Ya,Fs,Oa,Fc,ff,go,ks,xh],styles:[".search-bar[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{border:none;font-size:16px;line-height:28px;margin-left:12px}.search-bar[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]:focus{border:none;background-color:#fff;outline:none}.search-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#717e93}"]}),n})();const kB=["input"],LB=["label"],NB=function(n){return{enterDuration:n}},BB=["*"],UB=new i.OlP("mat-checkbox-default-options",{providedIn:"root",factory:DR});function DR(){return{color:"accent",clickAction:"check-indeterminate"}}let jB=0;const TR=DR(),HB={provide:Ys,useExisting:(0,i.Gpc)(()=>ID),multi:!0};class VB{}const GB=AA(yh(yd(Y_(class{constructor(n){this._elementRef=n}}))));let zB=(()=>{class n extends GB{constructor(e,r,o,s,a,u,h){super(r),this._changeDetectorRef=o,this._ngZone=s,this._animationMode=u,this._options=h,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new i.vpe,this.indeterminateChange=new i.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||TR,this.color=this.defaultColor=this._options.color||TR.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++jB}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Yn(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const r=Yn(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=Yn(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=Yn(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(r!==e&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){var e;const r=null===(e=this._options)||void 0===e?void 0:e.clickAction;this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){i.$Z()},n.\u0275dir=i.lG2({type:n,viewQuery:function(e,r){if(1&e&&(i.Gf(kB,5),i.Gf(LB,5),i.Gf(Kc,5)),2&e){let o;i.iGM(o=i.CRH())&&(r._inputElement=o.first),i.iGM(o=i.CRH())&&(r._labelElement=o.first),i.iGM(o=i.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[i.qOj]}),n})(),ID=(()=>{class n extends zB{constructor(e,r,o,s,a,u,h){super("mat-checkbox-",e,r,s,a,u,h),this._focusMonitor=o,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const r=new VB;return r.source=this,r.checked=e,r}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,r){e?this._focusMonitor.focusVia(this._inputElement,e,r):this._inputElement.nativeElement.focus(r)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(fc),i.Y36(i.R0b),i.$8M("tabindex"),i.Y36(i.QbO,8),i.Y36(UB,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,r){2&e&&(i.Ikx("id",r.id),i.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),i.ekj("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[i._Bn([HB]),i.qOj],ngContentSelectors:BB,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,r){if(1&e&&(i.F$t(),i.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),i.NdJ("change",function(s){return r._onInteractionEvent(s)})("click",function(s){return r._onInputClick(s)}),i.qZA(),i.TgZ(5,"span",5),i._UZ(6,"span",6),i.qZA(),i._UZ(7,"span",7),i.TgZ(8,"span",8),i.O4$(),i.TgZ(9,"svg",9),i._UZ(10,"path",10),i.qZA(),i.kcU(),i._UZ(11,"span",11),i.qZA()(),i.TgZ(12,"span",12,13),i.NdJ("cdkObserveContent",function(){return r._onLabelTextChange()}),i.TgZ(14,"span",14),i._uU(15,"\xa0"),i.qZA(),i.Hsn(16),i.qZA()()),2&e){const o=i.MAs(1),s=i.MAs(13);i.uIk("for",r.inputId),i.xp6(2),i.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),i.xp6(1),i.Q6J("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),i.uIk("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),i.xp6(2),i.Q6J("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",i.VKq(19,NB,"NoopAnimations"===r._animationMode?0:150))}},dependencies:[Kc,aO],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),MR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),RD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[lm,mr,yA,MR,mr,MR]}),n})();const $B=["mat-menu-item",""];function qB(n,t){1&n&&(i.O4$(),i.TgZ(0,"svg",2),i._UZ(1,"polygon",3),i.qZA())}const OR=["*"];function YB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",0),i.NdJ("keydown",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s._handleKeydown(o))})("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closed.emit("click"))})("@transformMenu.start",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s._onAnimationStart(o))})("@transformMenu.done",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s._onAnimationDone(o))}),i.TgZ(1,"div",1),i.Hsn(2),i.qZA()()}if(2&n){const e=i.oxw();i.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),i.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const qx={transformMenu:ts("transformMenu",[lo("void",gr({opacity:0,transform:"scale(0.8)"})),xi("void => enter",pi("120ms cubic-bezier(0, 0, 0.2, 1)",gr({opacity:1,transform:"scale(1)"}))),xi("* => void",pi("100ms 25ms linear",gr({opacity:0})))]),fadeInItems:ts("fadeInItems",[lo("showing",gr({opacity:1})),xi("void => *",[gr({opacity:0}),pi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},KB=new i.OlP("MatMenuContent"),PD=new i.OlP("MAT_MENU_PANEL"),QB=yd(Y_(class{}));let Sm=(()=>{class n extends QB{constructor(e,r,o,s,a){var u;super(),this._elementRef=e,this._document=r,this._focusMonitor=o,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new yn.xQ,this._focused=new yn.xQ,this._highlighted=!1,this._triggersSubmenu=!1,null===(u=null==s?void 0:s.addItem)||void 0===u||u.call(s,this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const r=this._elementRef.nativeElement.cloneNode(!0),o=r.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<o.length;s++)o[s].remove();return(null===(e=r.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var r;this._highlighted=e,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(m),i.Y36(fc),i.Y36(PD,8),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,r){1&e&&i.NdJ("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(i.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),i.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[i.qOj],attrs:$B,ngContentSelectors:OR,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(i.F$t(),i.Hsn(0),i._UZ(1,"div",0),i.YNc(2,qB,2,0,"svg",1)),2&e&&(i.xp6(1),i.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),i.xp6(1),i.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Rr,Kc],encapsulation:2,changeDetection:0}),n})();const IR=new i.OlP("mat-menu-default-options",{providedIn:"root",factory:function XB(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let JB=0,gy=(()=>{class n{constructor(e,r,o,s){this._elementRef=e,this._ngZone=r,this._defaultOptions=o,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new i.n_E,this._tabSubscription=qo.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new yn.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new i.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+JB++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Yn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Yn(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new wA(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,co.O)(this._directDescendantItems),(0,ai.w)(e=>(0,Ei.T)(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var r;const o=this._keyManager;if("enter"===this._panelAnimationState&&(null===(r=o.activeItem)||void 0===r?void 0:r._hasFocus())){const s=e.toArray(),a=Math.max(0,Math.min(s.length-1,o.activeItemIndex||0));s[a]&&!s[a].disabled?o.setActiveItem(a):o.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,co.O)(this._directDescendantItems),(0,ai.w)(r=>(0,Ei.T)(...r.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,o=this._keyManager;switch(r){case 27:Ka(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&o.setFocusOrigin("keyboard"),void o.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe((0,Cr.q)(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,r=this.yPosition){var o;const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===r,s["mat-menu-below"]="below"===r,null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,co.O)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(IR),i.Y36(i.sBO))},n.\u0275dir=i.lG2({type:n,contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,KB,5),i.Suo(o,Sm,5),i.Suo(o,Sm,4)),2&e){let s;i.iGM(s=i.CRH())&&(r.lazyContent=s.first),i.iGM(s=i.CRH())&&(r._allItems=s),i.iGM(s=i.CRH())&&(r.items=s)}},viewQuery:function(e,r){if(1&e&&i.Gf(i.Rgc,5),2&e){let o;i.iGM(o=i.CRH())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),FD=(()=>{class n extends gy{constructor(e,r,o,s){super(e,r,o,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(IR),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&i.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[i._Bn([{provide:PD,useExisting:n}]),i.qOj],ngContentSelectors:OR,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,r){1&e&&(i.F$t(),i.YNc(0,YB,3,6,"ng-template"))},dependencies:[Jr],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[qx.transformMenu,qx.fadeInItems]},changeDetection:0}),n})();const RR=new i.OlP("mat-menu-scroll-strategy"),t7={provide:RR,deps:[Qa],useFactory:function e7(n){return()=>n.scrollStrategies.reposition()}},PR=G_({passive:!0});let n7=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M){this._overlay=e,this._element=r,this._viewContainerRef=o,this._menuItemInstance=u,this._dir=h,this._focusMonitor=x,this._ngZone=M,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=qo.w.EMPTY,this._hoverSubscription=qo.w.EMPTY,this._menuCloseSubscription=qo.w.EMPTY,this._handleTouchStart=L=>{EA(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new i.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new i.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof gy?a:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,PR),u&&(u._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,PR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),o=r.getConfig(),s=o.positionStrategy;this._setPosition(e,s),o.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof gy&&(e._startAnimation(),e._directDescendantItems.changes.pipe((0,zn.R)(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){var e;null===(e=this.menu)||void 0===e||e.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){var r;if(!this._overlayRef||!this.menuOpen)return;const o=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,o instanceof gy?(o._resetAnimation(),o.lazyContent?o._animationDone.pipe((0,Tn.h)(s=>"void"===s.toState),(0,Cr.q)(1),(0,zn.R)(o.lazyContent._attached)).subscribe({next:()=>o.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null===(r=null==o?void 0:o.lazyContent)||void 0===r||r.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,o=e.parentMenu;for(;o;)r++,o=o.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new ny({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(o=>{const s="start"===o.connectionPair.overlayX?"after":"before",a="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,a)):e.setPositionClasses(s,a)})}_setPosition(e,r){let[o,s]="before"===e.xPosition?["end","start"]:["start","end"],[a,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[h,x]=[a,u],[M,L]=[o,s],W=0;if(this.triggersSubmenu()){if(L=o="before"===e.xPosition?"start":"end",s=M="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const q=this._parentMaterialMenu.items.first;this._parentInnerPadding=q?q._getHostElement().offsetTop:0}W="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(h="top"===a?"bottom":"top",x="top"===u?"bottom":"top");r.withPositions([{originX:o,originY:h,overlayX:M,overlayY:a,offsetY:W},{originX:s,originY:h,overlayX:L,overlayY:a,offsetY:W},{originX:o,originY:x,overlayX:M,overlayY:u,offsetY:-W},{originX:s,originY:x,overlayX:L,overlayY:u,offsetY:-W}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Qt.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Tn.h)(a=>a!==this._menuItemInstance),(0,Tn.h)(()=>this._menuOpen)):(0,Qt.of)();return(0,Ei.T)(e,o,s,r)}_handleMousedown(e){xA(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Tn.h)(e=>e===this._menuItemInstance&&!e.disabled),(0,pd.g)(0,Mg.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof gy&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Cr.q)(1),(0,pd.g)(0,Mg.E),(0,zn.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new cm(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qa),i.Y36(i.SBq),i.Y36(i.s_b),i.Y36(RR),i.Y36(PD,8),i.Y36(Sm,10),i.Y36(is,8),i.Y36(fc),i.Y36(i.R0b))},n.\u0275dir=i.lG2({type:n,hostVars:3,hostBindings:function(e,r){1&e&&i.NdJ("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&e&&i.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),kD=(()=>{class n extends n7{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[i.qOj]}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[t7],imports:[Yr,mr,lm,iy,hm,mr]}),n})();var r7=g(1730);let i7=(()=>{class n{static transformOne(e,r){return r7(e,r)}transform(e,r){return Array.isArray(e)?e.map(o=>n.transformOne(o,r)):n.transformOne(e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Yjl({name:"filesize",type:n,pure:!0}),n})(),o7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),FR=(()=>{class n{transform(e,r){return!e||isNaN(r)||r<=0||e.length<=r?e:e.slice(0,r).concat("...")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Yjl({name:"truncate",type:n,pure:!0}),n})();const s7=["fileSelector"],a7=["downloadLink"],l7=["selectionDisplay"];function c7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.onClickMenu())}),i._uU(1,"\n      "),i.TgZ(2,"mat-icon",26),i._uU(3,"menu"),i.qZA(),i._uU(4,"\n    "),i.qZA()}}function u7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",30),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.moveToParent())}),i._uU(1,"\n        "),i.TgZ(2,"mat-icon"),i._uU(3,"arrow_back"),i.qZA(),i._uU(4,"\n      "),i.qZA()}}function d7(n,t){1&n&&i._UZ(0,"div")}function f7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",35),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(3);return i.KtG(a.moveTo(s))}),i._uU(1,"\n            "),i.TgZ(2,"mat-icon"),i._uU(3,"folder"),i.qZA(),i._uU(4,"\n            "),i.TgZ(5,"span",36),i._uU(6),i.ALo(7,"translate"),i.qZA(),i._uU(8,"\n          "),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(6),i.Oqu(i.lcZ(7,1,e.name))}}function h7(n,t){if(1&n&&(i._uU(0,"\n        "),i.TgZ(1,"button",31),i._uU(2,"\n          "),i.TgZ(3,"h6",32),i._uU(4),i.ALo(5,"truncate"),i.ALo(6,"translate"),i.ALo(7,"async"),i.qZA(),i._uU(8,"\n          "),i.TgZ(9,"mat-icon"),i._uU(10,"arrow_drop_down"),i.qZA(),i._uU(11,"\n        "),i.qZA(),i._uU(12,"\n        "),i.TgZ(13,"mat-menu",null,33),i._uU(15,"\n          "),i.YNc(16,f7,9,3,"button",34),i._uU(17,"\n        "),i.qZA(),i._uU(18,"\n      ")),2&n){const e=i.MAs(14),r=i.oxw().ngIf,o=i.oxw();i.xp6(1),i.Q6J("matMenuTriggerFor",e),i.xp6(3),i.Oqu(i.xi3(5,3,i.lcZ(6,6,i.lcZ(7,8,o.folderName$)),30)),i.xp6(12),i.Q6J("ngForOf",r)}}function p7(n,t){if(1&n&&(i._uU(0,"\n        "),i.TgZ(1,"h6"),i._uU(2),i.ALo(3,"truncate"),i.ALo(4,"translate"),i.ALo(5,"async"),i.qZA(),i._uU(6,"\n      ")),2&n){const e=i.oxw(2);i.xp6(2),i.Oqu(i.xi3(3,1,i.lcZ(4,4,i.lcZ(5,6,e.folderName$)),30))}}function g7(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n      "),i.YNc(2,u7,5,0,"button",27),i._uU(3,"\n\n      "),i.YNc(4,d7,1,0,"div",18),i._uU(5,"\n      "),i.YNc(6,h7,19,10,"ng-template",null,28,i.W1O),i._uU(8,"\n      "),i.YNc(9,p7,7,8,"ng-template",null,29,i.W1O),i._uU(11,"\n    "),i.qZA()),2&n){const e=t.ngIf,r=i.MAs(7),o=i.MAs(10);i.xp6(2),i.Q6J("ngIf",e.length>0),i.xp6(2),i.Q6J("ngIf",e.length>0)("ngIfThen",r)("ngIfElse",o)}}function m7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",37),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.openSearchForm())}),i._uU(1,"\n        "),i.TgZ(2,"mat-icon",26),i._uU(3,"search"),i.qZA(),i._uU(4,"\n      "),i.qZA()}}function v7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"app-search-bar",38),i.NdJ("closeSearch",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeSearchForm())}),i.ALo(1,"translate"),i.ALo(2,"translate"),i.ALo(3,"async"),i._uU(4,"\n      "),i.qZA()}if(2&n){const e=i.oxw();let r;i.hYB("placeholder","",i.lcZ(1,3,"cloud.search.searchIn")," ",i.lcZ(2,5,null==(r=i.lcZ(3,7,e.rootFolder$))?null:r.name),""),i.Q6J("searchBarName",e.cloudSearchBar)}}function _7(n,t){1&n&&i._UZ(0,"div")}function y7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-header-cell"),i._uU(1,"\n            "),i.TgZ(2,"mat-checkbox",58),i.NdJ("change",function(o){i.CHM(e);const s=i.oxw(2);return i.KtG(o?s.masterToggle("search"):null)}),i._uU(3,"\n            "),i.qZA(),i._uU(4,"\n          "),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(2),i.Q6J("checked",e.selectionHasValue("search")&&e.isAllSelected("search"))("indeterminate",e.selectionHasValue("search")&&!e.isAllSelected("search"))}}function b7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-checkbox",60),i.NdJ("click",function(o){return o.stopPropagation()})("change",function(o){i.CHM(e);const s=i.oxw().$implicit,a=i.oxw(2);return i.KtG(o?a.toggle(s,"search"):null)}),i._uU(1,"\n            "),i.qZA()}if(2&n){const e=i.oxw().$implicit,r=i.oxw(2);i.Q6J("checked",r.isSelected(e,"search"))}}function w7(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1,"\n            "),i.YNc(2,b7,2,1,"mat-checkbox",59),i._uU(3,"\n          "),i.qZA()),2&n){const e=t.$implicit;i.xp6(2),i.Q6J("ngIf",!e.isRootFolder)}}function x7(n,t){1&n&&(i.TgZ(0,"mat-header-cell",61),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"cloud.headers.name")," "))}function E7(n,t){1&n&&i._UZ(0,"div")}function C7(n,t){1&n&&(i._uU(0,"\n                "),i.TgZ(1,"div",67),i._uU(2,"\n                  "),i.TgZ(3,"mat-icon"),i._uU(4,"insert_drive_file"),i.qZA(),i._uU(5,"\n                "),i.qZA(),i._uU(6,"\n              "))}function S7(n,t){1&n&&(i.TgZ(0,"mat-icon"),i._uU(1,"folder_shared"),i.qZA())}function A7(n,t){1&n&&(i.TgZ(0,"mat-icon"),i._uU(1,"folder"),i.qZA())}function D7(n,t){if(1&n&&(i._uU(0,"\n                "),i.TgZ(1,"div",68),i._uU(2,"\n                  "),i.YNc(3,S7,2,0,"mat-icon",2),i._uU(4,"\n                  "),i.YNc(5,A7,2,0,"mat-icon",2),i._uU(6,"\n                "),i.qZA(),i._uU(7,"\n              ")),2&n){const e=i.oxw().$implicit;i.xp6(3),i.Q6J("ngIf",e.isRootFolder),i.xp6(2),i.Q6J("ngIf",!e.isRootFolder)}}function T7(n,t){1&n&&(i.TgZ(0,"button",69),i._uU(1,"\n                  "),i.TgZ(2,"mat-icon"),i._uU(3,"people"),i.qZA(),i._uU(4,"\n                "),i.qZA())}function M7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-cell",62),i.NdJ("click",function(o){const a=i.CHM(e).$implicit,u=i.oxw(2);return i.KtG(u.open(a,o))}),i._uU(1,"\n            "),i.TgZ(2,"div"),i._uU(3,"\n              "),i.YNc(4,E7,1,0,"div",18),i._uU(5,"\n              "),i.YNc(6,C7,7,0,"ng-template",null,63,i.W1O),i._uU(8,"\n              "),i.YNc(9,D7,8,2,"ng-template",null,64,i.W1O),i._uU(11,"\n              "),i.TgZ(12,"div",65),i._uU(13),i.ALo(14,"truncate"),i.ALo(15,"translate"),i.YNc(16,T7,5,0,"button",66),i.ALo(17,"async"),i._uU(18,"\n              "),i.qZA(),i._uU(19,"\n            "),i.qZA(),i._uU(20,"\n          "),i.qZA()}if(2&n){const e=t.$implicit,r=i.MAs(7),o=i.MAs(10),s=i.oxw(2);let a;i.xp6(2),i.Tol(e.isFile?"file-name":"folder-name"),i.xp6(2),i.Q6J("ngIf",e.isFile)("ngIfThen",r)("ngIfElse",o),i.xp6(9),i.hij("\n                ",i.xi3(14,7,i.lcZ(15,10,e.name),50),"\n                "),i.xp6(3),i.Q6J("ngIf",e.isShared&&(null==(a=i.lcZ(17,12,s.rootFolder$))?null:a.canShare))}}function O7(n,t){1&n&&(i.TgZ(0,"mat-header-cell",61),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("\n            ",i.lcZ(2,1,"cloud.headers.author"),"\n          "))}function I7(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Oqu(e.ownerName)}}function R7(n,t){if(1&n&&(i.TgZ(0,"mat-header-cell",70),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"async"),i.qZA()),2&n){const e=i.oxw(2);let r;i.xp6(1),i.hij("\n            ",i.lcZ(2,1,null==(r=i.lcZ(3,3,e.rootFolder$))?null:r.dateLabel),"\n          ")}}function P7(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1),i.ALo(2,"date"),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,e.modified_at,"d MMM. yyyy"),"")}}function F7(n,t){1&n&&(i.TgZ(0,"mat-header-cell",70),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("\n            ",i.lcZ(2,1,"cloud.headers.size"),"\n          "))}function k7(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1),i.ALo(2,"filesize"),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Oqu(e.size?i.lcZ(2,1,e.size):"-")}}function L7(n,t){1&n&&i._UZ(0,"mat-header-cell",71)}function N7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",35),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw().$implicit,u=i.oxw(2);return i.KtG(u.doAction(a,s.actionType))}),i._uU(1,"\n                "),i.TgZ(2,"mat-icon"),i._uU(3),i.qZA(),i._uU(4,"\n                "),i.TgZ(5,"span"),i._uU(6),i.ALo(7,"translate"),i.qZA(),i._uU(8,"\n              "),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(3),i.Oqu(e.icon),i.xp6(3),i.Oqu(i.lcZ(7,2,e.name))}}function B7(n,t){if(1&n&&(i.TgZ(0,"button",75),i._uU(1,"\n              "),i.TgZ(2,"mat-icon"),i._uU(3,"more_vert"),i.qZA(),i._uU(4,"\n            "),i.qZA()),2&n){i.oxw();const e=i.MAs(3);i.Q6J("matMenuTriggerFor",e)}}function U7(n,t){if(1&n&&(i.TgZ(0,"mat-cell",72),i._uU(1,"\n            "),i.TgZ(2,"mat-menu",null,73),i._uU(4,"\n              "),i.YNc(5,N7,9,4,"button",34),i.ALo(6,"async"),i._uU(7,"\n            "),i.qZA(),i._uU(8,"\n            "),i.YNc(9,B7,5,1,"button",74),i._uU(10,"\n          "),i.qZA()),2&n){const e=t.$implicit,r=i.oxw(2);let o;i.xp6(5),i.Q6J("ngForOf",e.filterActions(null==(o=i.lcZ(6,2,r.rootFolder$))?null:o.actions)),i.xp6(4),i.Q6J("ngIf",!e.isRootFolder)}}function j7(n,t){1&n&&i._UZ(0,"mat-header-row")}function H7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-row",76),i.NdJ("@highlightNew.start",function(o){i.CHM(e);const s=i.oxw(2);return i.KtG(s.scrollTo(o))}),i.qZA()}2&n&&i.Q6J("@highlightNew",t.$implicit.state)("matRippleUnbounded",!1)}function V7(n,t){if(1&n&&(i.TgZ(0,"h3"),i.ALo(1,"async"),i._uU(2),i.ALo(3,"translate"),i.qZA()),2&n){const e=i.oxw(2);i.Udp("visibility",i.lcZ(1,3,e.loading$)?"hidden":"visible"),i.xp6(2),i.hij("\n          ",i.lcZ(3,5,"cloud.search.noResult"),"\n        ")}}function G7(n,t){if(1&n){const e=i.EpF();i._uU(0,"\n    "),i.TgZ(1,"div",39),i._uU(2,"\n      "),i.TgZ(3,"table",40),i.NdJ("matSortChange",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.sortDataSource(o,"search"))}),i._uU(4,"\n        "),i.ynx(5,41),i._uU(6,"\n          "),i.YNc(7,y7,5,2,"mat-header-cell",42),i._uU(8,"\n          "),i.YNc(9,w7,4,1,"mat-cell",43),i._uU(10,"\n        "),i.BQk(),i._uU(11,"\n        "),i.ynx(12,44),i._uU(13,"\n          "),i.YNc(14,x7,3,3,"mat-header-cell",45),i._uU(15,"\n          "),i.YNc(16,M7,21,14,"mat-cell",46),i._uU(17,"\n        "),i.BQk(),i._uU(18,"\n\n        "),i.ynx(19,47),i._uU(20,"\n          "),i.YNc(21,O7,3,3,"mat-header-cell",45),i._uU(22,"\n          "),i.YNc(23,I7,2,1,"mat-cell",43),i._uU(24,"\n        "),i.BQk(),i._uU(25,"\n\n        "),i.ynx(26,48),i._uU(27,"\n          "),i.YNc(28,R7,4,5,"mat-header-cell",49),i._uU(29,"\n          "),i.YNc(30,P7,3,4,"mat-cell",43),i._uU(31,"\n        "),i.BQk(),i._uU(32,"\n\n        "),i.ynx(33,50),i._uU(34,"\n          "),i.YNc(35,F7,3,3,"mat-header-cell",49),i._uU(36,"\n          "),i.YNc(37,k7,3,3,"mat-cell",43),i._uU(38,"\n        "),i.BQk(),i._uU(39,"\n\n        "),i.ynx(40,51),i._uU(41,"\n          "),i.YNc(42,L7,1,0,"mat-header-cell",52),i._uU(43,"\n          "),i.YNc(44,U7,11,4,"mat-cell",53),i._uU(45,"\n        "),i.BQk(),i._uU(46,"\n\n        "),i.YNc(47,j7,1,0,"mat-header-row",54),i.ALo(48,"async"),i._uU(49,"\n        "),i.YNc(50,H7,1,2,"mat-row",55),i.ALo(51,"async"),i._uU(52,"\n      "),i.qZA(),i._uU(53,"\n      "),i.TgZ(54,"div",56),i._uU(55,"\n        "),i.YNc(56,V7,4,7,"h3",57),i._uU(57,"\n      "),i.qZA(),i._uU(58,"\n    "),i.qZA(),i._uU(59,"\n  ")}if(2&n){const e=i.oxw();let r,o;i.xp6(3),i.Q6J("dataSource",e.dataSourceSearch),i.xp6(44),i.Q6J("matHeaderRowDef",null==(r=i.lcZ(48,5,e.rootFolder$))?null:r.displayedColumns)("matHeaderRowDefSticky",!0),i.xp6(3),i.Q6J("matRowDefColumns",null==(o=i.lcZ(51,7,e.rootFolder$))?null:o.displayedColumns),i.xp6(6),i.Q6J("ngIf",0===e.dataSourceSearch.data.length)}}function z7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-header-cell"),i._uU(1,"\n            "),i.TgZ(2,"mat-checkbox",58),i.NdJ("change",function(o){i.CHM(e);const s=i.oxw(2);return i.KtG(o?s.masterToggle("tree"):null)}),i._uU(3,"\n            "),i.qZA(),i._uU(4,"\n          "),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(2),i.Q6J("checked",e.selectionHasValue("tree")&&e.isAllSelected("tree"))("indeterminate",e.selectionHasValue("tree")&&!e.isAllSelected("tree"))}}function Z7(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-checkbox",60),i.NdJ("click",function(o){return o.stopPropagation()})("change",function(o){i.CHM(e);const s=i.oxw().$implicit,a=i.oxw(2);return i.KtG(o?a.toggle(s,"tree"):null)}),i._uU(1,"\n            "),i.qZA()}if(2&n){const e=i.oxw().$implicit,r=i.oxw(2);i.Q6J("checked",r.isSelected(e,"tree"))}}function W7(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1,"\n            "),i.YNc(2,Z7,2,1,"mat-checkbox",59),i._uU(3,"\n          "),i.qZA()),2&n){const e=t.$implicit;i.xp6(2),i.Q6J("ngIf",!e.isRootFolder)}}function $7(n,t){1&n&&(i.TgZ(0,"mat-header-cell",61),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"cloud.headers.name")," "))}function q7(n,t){1&n&&i._UZ(0,"div")}function Y7(n,t){1&n&&(i._uU(0,"\n                "),i.TgZ(1,"div",67),i._uU(2,"\n                  "),i.TgZ(3,"mat-icon"),i._uU(4,"insert_drive_file"),i.qZA(),i._uU(5,"\n                "),i.qZA(),i._uU(6,"\n              "))}function K7(n,t){1&n&&(i.TgZ(0,"mat-icon"),i._uU(1,"folder_shared"),i.qZA())}function Q7(n,t){1&n&&(i.TgZ(0,"mat-icon"),i._uU(1,"folder"),i.qZA())}function X7(n,t){if(1&n&&(i._uU(0,"\n                "),i.TgZ(1,"div",68),i._uU(2,"\n                  "),i.YNc(3,K7,2,0,"mat-icon",2),i._uU(4,"\n                  "),i.YNc(5,Q7,2,0,"mat-icon",2),i._uU(6,"\n                "),i.qZA(),i._uU(7,"\n              ")),2&n){const e=i.oxw().$implicit;i.xp6(3),i.Q6J("ngIf",e.isRootFolder),i.xp6(2),i.Q6J("ngIf",!e.isRootFolder)}}function J7(n,t){1&n&&(i.TgZ(0,"button",69),i._uU(1,"\n                  "),i.TgZ(2,"mat-icon"),i._uU(3,"people"),i.qZA(),i._uU(4,"\n                "),i.qZA())}function e9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-cell",62),i.NdJ("click",function(o){const a=i.CHM(e).$implicit,u=i.oxw(2);return i.KtG(u.open(a,o))}),i._uU(1,"\n            "),i.TgZ(2,"div"),i._uU(3,"\n              "),i.YNc(4,q7,1,0,"div",18),i._uU(5,"\n              "),i.YNc(6,Y7,7,0,"ng-template",null,63,i.W1O),i._uU(8,"\n              "),i.YNc(9,X7,8,2,"ng-template",null,64,i.W1O),i._uU(11,"\n              "),i.TgZ(12,"div",65),i._uU(13),i.ALo(14,"truncate"),i.ALo(15,"translate"),i.YNc(16,J7,5,0,"button",66),i.ALo(17,"async"),i._uU(18,"\n              "),i.qZA(),i._uU(19,"\n            "),i.qZA(),i._uU(20,"\n          "),i.qZA()}if(2&n){const e=t.$implicit,r=i.MAs(7),o=i.MAs(10),s=i.oxw(2);let a;i.xp6(2),i.Tol(e.isFile?"file-name":"folder-name"),i.xp6(2),i.Q6J("ngIf",e.isFile)("ngIfThen",r)("ngIfElse",o),i.xp6(9),i.hij("\n                ",i.xi3(14,7,i.lcZ(15,10,e.name),50),"\n                "),i.xp6(3),i.Q6J("ngIf",e.isShared&&(null==(a=i.lcZ(17,12,s.rootFolder$))?null:a.canShare))}}function t9(n,t){1&n&&(i.TgZ(0,"mat-header-cell",61),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"cloud.headers.owner")," "))}function n9(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Oqu(e.ownerName)}}function r9(n,t){if(1&n&&(i.TgZ(0,"mat-header-cell",70),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"async"),i.qZA()),2&n){const e=i.oxw(2);let r;i.xp6(1),i.hij("\n            ",i.lcZ(2,1,null==(r=i.lcZ(3,3,e.rootFolder$))?null:r.dateLabel),"\n          ")}}function i9(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1),i.ALo(2,"date"),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,e.modified_at,"d MMM. yyyy"),"")}}function o9(n,t){1&n&&(i.TgZ(0,"mat-header-cell",70),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("\n            ",i.lcZ(2,1,"cloud.headers.size"),"\n          "))}function s9(n,t){if(1&n&&(i.TgZ(0,"mat-cell"),i._uU(1),i.ALo(2,"filesize"),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Oqu(e.size?i.lcZ(2,1,e.size):"-")}}function a9(n,t){1&n&&i._UZ(0,"mat-header-cell",71)}function l9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",35),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw().$implicit,u=i.oxw(2);return i.KtG(u.doAction(a,s.actionType))}),i._uU(1,"\n                "),i.TgZ(2,"mat-icon",77),i._uU(3),i.qZA(),i._uU(4,"\n                "),i.TgZ(5,"span"),i._uU(6),i.ALo(7,"translate"),i.qZA(),i._uU(8,"\n              "),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(3),i.Oqu(e.icon),i.xp6(3),i.Oqu(i.lcZ(7,2,e.name))}}function c9(n,t){if(1&n&&(i.TgZ(0,"button",75),i._uU(1,"\n              "),i.TgZ(2,"mat-icon"),i._uU(3,"more_vert"),i.qZA(),i._uU(4,"\n            "),i.qZA()),2&n){i.oxw();const e=i.MAs(3);i.Q6J("matMenuTriggerFor",e)}}function u9(n,t){if(1&n&&(i.TgZ(0,"mat-cell",72),i._uU(1,"\n            "),i.TgZ(2,"mat-menu",null,73),i._uU(4,"\n              "),i.YNc(5,l9,9,4,"button",34),i.ALo(6,"async"),i._uU(7,"\n            "),i.qZA(),i._uU(8,"\n\n            "),i.YNc(9,c9,5,1,"button",74),i._uU(10,"\n          "),i.qZA()),2&n){const e=t.$implicit,r=i.oxw(2);let o;i.xp6(5),i.Q6J("ngForOf",e.filterActions(null==(o=i.lcZ(6,2,r.rootFolder$))?null:o.actions)),i.xp6(4),i.Q6J("ngIf",!e.isRootFolder)}}function d9(n,t){1&n&&i._UZ(0,"mat-header-row")}function f9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-row",76),i.NdJ("@highlightNew.start",function(o){i.CHM(e);const s=i.oxw(2);return i.KtG(s.scrollTo(o))}),i._uU(1,"\n        "),i.qZA()}2&n&&i.Q6J("@highlightNew",t.$implicit.state)("matRippleUnbounded",!1)}function h9(n,t){1&n&&(i.TgZ(0,"h3"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"cloud.tabs.emptyFolder")))}function p9(n,t){if(1&n){const e=i.EpF();i._uU(0,"\n    "),i.TgZ(1,"div",39),i._uU(2,"\n      "),i.TgZ(3,"table",40),i.NdJ("matSortChange",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.sortDataSource(o,"tree"))}),i._uU(4,"\n        "),i.ynx(5,41),i._uU(6,"\n          "),i.YNc(7,z7,5,2,"mat-header-cell",42),i._uU(8,"\n          "),i.YNc(9,W7,4,1,"mat-cell",43),i._uU(10,"\n        "),i.BQk(),i._uU(11,"\n        "),i.ynx(12,44),i._uU(13,"\n          "),i.YNc(14,$7,3,3,"mat-header-cell",45),i._uU(15,"\n          "),i.YNc(16,e9,21,14,"mat-cell",46),i._uU(17,"\n        "),i.BQk(),i._uU(18,"\n\n        "),i.ynx(19,47),i._uU(20,"\n          "),i.YNc(21,t9,3,3,"mat-header-cell",45),i._uU(22,"\n          "),i.YNc(23,n9,2,1,"mat-cell",43),i._uU(24,"\n        "),i.BQk(),i._uU(25,"\n\n        "),i.ynx(26,48),i._uU(27,"\n          "),i.YNc(28,r9,4,5,"mat-header-cell",49),i._uU(29,"\n          "),i.YNc(30,i9,3,4,"mat-cell",43),i._uU(31,"\n        "),i.BQk(),i._uU(32,"\n\n        "),i.ynx(33,50),i._uU(34,"\n          "),i.YNc(35,o9,3,3,"mat-header-cell",49),i._uU(36,"\n          "),i.YNc(37,s9,3,3,"mat-cell",43),i._uU(38,"\n        "),i.BQk(),i._uU(39,"\n\n        "),i.ynx(40,51),i._uU(41,"\n          "),i.YNc(42,a9,1,0,"mat-header-cell",52),i._uU(43,"\n          "),i.YNc(44,u9,11,4,"mat-cell",53),i._uU(45,"\n        "),i.BQk(),i._uU(46,"\n\n        "),i.YNc(47,d9,1,0,"mat-header-row",54),i.ALo(48,"async"),i._uU(49,"\n        "),i.YNc(50,f9,2,2,"mat-row",55),i.ALo(51,"async"),i._uU(52,"\n      "),i.qZA(),i._uU(53,"\n      "),i.TgZ(54,"div",56),i._uU(55,"\n        "),i.YNc(56,h9,3,3,"h3",2),i._uU(57,"\n      "),i.qZA(),i._uU(58,"\n    "),i.qZA(),i._uU(59,"\n  ")}if(2&n){const e=i.oxw();let r,o;i.xp6(3),i.Q6J("dataSource",e.dataSource),i.xp6(44),i.Q6J("matHeaderRowDef",null==(r=i.lcZ(48,5,e.rootFolder$))?null:r.displayedColumns)("matHeaderRowDefSticky",!0),i.xp6(3),i.Q6J("matRowDefColumns",null==(o=i.lcZ(51,7,e.rootFolder$))?null:o.displayedColumns),i.xp6(6),i.Q6J("ngIf",0===e.dataSource.data.length)}}const tu=new rs("Cloud");let g9=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M,L){this.store=e,this.dialog=r,this.snackbar=o,this.actions$=s,this.translate=a,this.usersService=u,this.searchBarService=h,this.webApp=x,this.shellService=M,this.onlineStore=L,this.cloudEntities=[],this.showForm=!1,this.cloudSearchBar="cloudSearchBar",this.lastSearch="",this.activeEntity$=this.store.select(aD),this.loading$=this.store.select(a5),this.folderName$=this.store.select(u5),this.rootFolder$=this.store.select(cD),this.breadcrumb$=this.store.select(d5),this.actions$.pipe(Gr(fn.CloudError)).subscribe(W=>{tu.error("Error while performing ",W.action," on ",W.entity,". Detail: ",W.error.message),this.openSnackBar(this.translate.instant("errors.generic"))})}get currentFolder(){let e;return this.activeEntity$.pipe((0,Cr.q)(1)).subscribe(r=>e=r),e}get isMobileMode(){return this.shellService.isMobile}ngOnInit(){this.selection=new ay(!0,[]),this.selectionSearch=new ay(!0,[]),this.dataSource=new mR([]),this.dataSourceSearch=new mR([]),(0,Ei.T)(this.selection.changed,this.selectionSearch.changed).subscribe(e=>{this.displayCountSelection(e.source.selected.length)}),this.store.select(JI).pipe((0,za.x)()).subscribe(e=>{this.clearSelection("all");const r=this.dataSource.sort;this.dataSource.data=r?this.sortBy(e,r):e}),this.store.dispatch(new IM(rR)),this.cloudEntities$=this.store.select(uD),this.cloudEntities$.subscribe(e=>{if(e){this.cloudEntities=rA(e),this.clearSelection("all");const r=this.dataSourceSearch.sort;this.dataSourceSearch.data=r?this.sortBy(this.cloudEntities,r):this.cloudEntities}}),this.searchSubscribe()}ngAfterViewInit(){this.setupTransfer()}ngOnDestroy(){this.searchSubscription.unsubscribe(),this.webApp.stopAll()}openSearchForm(){this.showForm=!0}closeSearchForm(e=!1){this.showForm=!1,this.lastSearch="",e||(this.clearSelection("search"),this.refresh())}searchDocuments(e){e=e.trim(),this.lastSearch=e,e.length>=3?this.store.dispatch(new Qg(e)):this.dataSourceSearch.data=[]}open(e,r){if(e.isFile)r&&r.stopPropagation(),this.selection.toggle(e);else{const o={name:e.name,path:e.absolute_path};e.root_folder_endpoint&&(o.endpoint=e.root_folder_endpoint,o.path=""),!0===this.showForm&&this.closeSearchForm(!0),this.store.dispatch(new M_(o))}}share(e){let r="cloud.actions.share";e.isShared&&(r="cloud.buttons.update");const o=new Ui.X(!1),s=new Ui.X(void 0),a=new Ui.X(!1),u=new Ui.X(void 0),h={fetcher:W=>W.pipe((0,en.U)(q=>q.length<2?"":q),(0,ai.w)(q=>(tu.debug("Looking for items ",q),s.next(!1),o.next(!0),this.usersService.getUsers(q).pipe((0,en.U)(ye=>ye.map(Le=>(Le.name=Le.name.toLowerCase(),Le.givenname=Le.givenname.toLowerCase(),Le)).sort((Le,rt)=>Le.givenname.localeCompare(rt.givenname))),(0,Hr.b)(ye=>{ye&&o.next(!1)}),(0,Vr.K)(()=>(o.next(!1),s.next(!0),jo.E)))))),entity:e,headerIcon:"share",headerText:"cloud.share.headerText",searchBarPlaceholder:"cloud.share.searchBarPlaceholder",listType:"multiSelect",btnTextLeft:"cloud.buttons.cancel",btnTextRight:r,isLoading:o,loadingError:s,entityToId:W=>W.uid,selectedItems:e.shareUserIds,isProcessing:a,processingError:u},x=new wd;x.height="624px",x.width="520px",x.panelClass="custom-dialog-container",x.data=h,this.dialogMultiSelectRef=this.dialog.open(xB,x);const L=this.dialogMultiSelectRef.componentInstance.shareTrigered.subscribe(W=>{a.next(!0),this.store.dispatch(new R_(W.entity,W.selectedItems))});L.add(this.actions$.pipe(Gr(fn.ShareSuccess),(0,en.U)(W=>W.file)).subscribe(W=>{this.dialogMultiSelectRef.close();let q="";q=e.isShared?this.translate.instant("cloud.share.success.messageUpdate"):this.translate.instant("cloud.share.success.message",W),this.openSnackBar(q)})).add(this.actions$.pipe(Gr(fn.ShareFailed)).subscribe(W=>{a.next(!1),tu.error("Error while performing share on ",W.entity,". Detail: ",W.error.message);const q={message:this.translate.instant("cloud.share.failed.message",{error:W}),retry:this.translate.instant("cloud.share.failed.retry")};u.next(q)})),this.dialogMultiSelectRef.afterClosed().subscribe(()=>L.unsubscribe())}rename(e){const r=new wd;r.width="400px",r.panelClass="custom-dialog-container",r.data={value:e.name,labelRadix:"cloud.dialog.rename",icon:nR.icon,isFile:e.isFile},this.dialog.open(yR,r).afterClosed().subscribe(s=>{if(tu.debug(`Dialog closed with ${s}`),s){const a=this.getAvailableName(s);this.store.dispatch(this.showForm?new iA(e,a,this.lastSearch):new P_(e,a))}})}createDirectory(){const e=new wd;e.width="400px",e.panelClass="custom-dialog-container",e.data={value:void 0,labelRadix:"cloud.dialog.createDirectory",icon:"create_new_folder"},this.dialog.open(yR,e).afterClosed().pipe((0,X5.M)(this.activeEntity$)).subscribe(([o,s])=>{if(o){const a=this.getAvailableName(o);this.store.dispatch(new oA(s,a))}})}refresh(){this.store.dispatch(new gh(this.currentFolder))}remove(e){this.folderName$.pipe((0,ji.P)()).subscribe(r=>{const o=this.translate.instant(r),s={panelClass:"custom-dialog-container",autoFocus:!1,data:{value:this.translate.instant("cloud.dialog.removeFolder.label",{folderName:o}),labelRadix:"cloud.dialog.removeFolder",icon:dD.icon}};e.isFile&&!e.isShared?(s.data.value=this.translate.instant("cloud.dialog.removeFile.label",{folderName:o}),s.data.labelRadix="cloud.dialog.removeFile"):e.isFile&&e.isShared&&(s.data.value=this.translate.instant("cloud.dialog.removeSharedByMe.label",{folderName:o}),s.data.labelRadix="cloud.dialog.removeSharedByMe"),this.dialog.open(vR,s).afterClosed().subscribe(u=>{tu.debug(`Dialog closed with ${u}`),u&&this.store.dispatch(this.showForm?new k_(e,this.lastSearch):new F_(e))})})}startFileSelection(){if(this.webApp.isAndroid)return this.webApp.startUploadSubscribe(),this.webApp.setCurrentFolder(this.currentFolder),void this.webApp.openFilePicker();this.fileSelector.nativeElement.value="",this.fileSelector.nativeElement.click()}download(e){const r=e.downloadUrl;if(tu.debug(`Download file ${r} with blob method`),this.webApp.isAndroid)return void this.webApp.downloadFile(r);const o=new Qw(qa.Download,e,void 0);this.store.dispatch(new Jw(o))}upload(e){if(Array.from(e).filter(o=>o.size>78643200).length>0)this.openSnackBar(this.translate.instant("cloud.errors.files.tooheavy"));else if(e.length>0){const a=new Qw(qa.Upload,e[0],this.currentFolder);this.store.dispatch(new Jw(a))}}moveTo(e){this.store.dispatch(new M_(e))}moveToParent(){this.breadcrumb$.pipe((0,ji.P)()).subscribe(e=>{e.length>0&&this.store.dispatch(new M_(e[0]))})}doAction(e,r){this.actionSubscription=this.onlineStore.select(KI).pipe((0,ji.P)()).subscribe(o=>{if(o){switch(r){case fn.TransferRequest:this.download(e);break;case fn.Remove:this.remove(e);break;case fn.Rename:this.rename(e);break;case fn.Share:this.share(e);break;case fn.Unsubscribe:this.unsubscribe(e)}this.actionSubscription&&(this.actionSubscription.unsubscribe(),delete this.actionSubscription)}else this.openSnackBar(this.translate.instant("cloud.errors.actionDoNothing"))})}isAllSelected(e){let r=0,o=0;return"tree"===e?(o=this.selection.selected.length,this.dataSource.data.forEach(s=>{s.isRootFolder||r++})):"search"===e&&(o=this.selectionSearch.selected.length,this.dataSourceSearch.data.forEach(s=>{s.isRootFolder||r++})),o>=r}masterToggle(e){this.isAllSelected(e)?this.clearSelection(e):this.toggleAll(e)}toggleAll(e){"tree"===e?this.dataSource.data.forEach(r=>{r.isRootFolder||this.selection.select(r)}):"search"===e&&this.dataSourceSearch.data.forEach(r=>{r.isRootFolder||this.selectionSearch.select(r)})}clearSelection(e){"tree"===e||"all"===e?this.selection.clear():("search"===e||"all"===e)&&this.selectionSearch.clear()}toggle(e,r){"tree"===r?this.selection.toggle(e):"search"===r&&this.selectionSearch.toggle(e)}isSelected(e,r){return"tree"===r?this.selection.isSelected(e):"search"===r&&this.selectionSearch.isSelected(e)}selectionHasValue(e){return"tree"===e?this.selection.hasValue():"search"===e&&this.selectionSearch.hasValue()}scrollTo(e){"updated"===e.toState&&e.element.scrollIntoViewIfNeeded(!0)}getAvailableName(e,r=0){const o=this.dataSource.data.map(a=>a.name);let s=e;for(;o.includes(s);)s=`${e}(${++r})`;return s}sortDataSource(e,r){!e.active||""===e.direction||("tree"===r?this.store.select(JI).pipe((0,ji.P)()).subscribe(o=>{this.dataSource.data=this.sortBy(o,e)}):"search"===r&&this.store.select(uD).pipe((0,ji.P)()).subscribe(o=>{this.dataSourceSearch.data=this.sortBy(rA(o),e)}))}onClickMenu(){this.shellService.toggleSidenav()}isDisplayNavigation(e){return e&&"/"!==e.absolute_path}unsubscribe(e){this.folderName$.pipe((0,ji.P)()).subscribe(r=>{const o=this.translate.instant(r);this.dialog.open(vR,{panelClass:"custom-dialog-container",autoFocus:!1,data:{value:this.translate.instant("cloud.dialog.unsubscribe.label",{folderName:o}),labelRadix:"cloud.dialog.unsubscribe",icon:dD.icon}}).afterClosed().subscribe(a=>{tu.debug(`Dialog closed with ${a}`),a&&this.store.dispatch(this.showForm?new lA(e,this.currentFolder,this.lastSearch):new ix(e,this.currentFolder))})})}setupTransfer(){this.transferSubscriptions=this.actions$.pipe(Gr(fn.TransferRequest),(0,en.U)(e=>e.request)).subscribe(e=>{this.transferDialog?tu.warn("Transfer already being performed"):(this.transferDialog=this.dialog.open(RB,{width:"400px",data:e.key,disableClose:!0}),this.transferDialog.backdropClick().subscribe(r=>r.stopPropagation()),this.transferDialog.afterClosed().subscribe(r=>{this.transferDialog=void 0,"finished"===r?this.openSnackBar(this.translate.instant(`cloud.${e.direction}.success.message`,e)):"failed"===r&&this.openSnackBar(this.translate.instant(`cloud.${e.direction}.failure.message`))}))}),this.transferSubscriptions.add(this.actions$.pipe(Gr(fn.TransferFinished)).subscribe(e=>{tu.debug("Received transfer finished on key ",e.request.key);const r=e.request;if(this.transferDialog&&this.transferDialog.close("finished"),r.direction===qa.Upload)this.store.dispatch(new Xw(r.destination.absolute_path,r.source.name));else{const o=e.response;if(o instanceof Blob){const s=window.URL.createObjectURL(o);this.downloadLink.nativeElement.href=s,this.downloadLink.nativeElement.download=r.source.name,this.downloadLink.nativeElement.click(),window.URL.revokeObjectURL(s)}}})),this.transferSubscriptions.add(this.actions$.pipe(Gr(fn.TransferError),(0,en.U)(e=>e.request)).subscribe(()=>{this.transferDialog&&this.transferDialog.close("failed")}))}displayCountSelection(e){this.selectionDisplay.nativeElement.innerHTML=e<=0?"":1===e?`${e} ${this.translate.instant("cloud.selection.single")}`:`${e} ${this.translate.instant("cloud.selection.multi")}`}searchSubscribe(){this.searchSubscription=this.searchBarService.searchAnnounced$.pipe((0,za.x)()).subscribe(e=>{"cloudSearchBar"===e.searchBarName&&this.searchDocuments(e.search)})}sortBy(e,r){return e.slice().sort((o,s)=>function MM(n,t,e){return n.compareTo(t,e)}(o,s,r))}openSnackBar(e){this.snackbar.openFromComponent(qI,{data:{message:e},panelClass:["custom-snackbar"]})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Jn.yh),i.Y36(Qc),i.Y36($I),i.Y36(bm),i.Y36(sc),i.Y36(_R),i.Y36(OD),i.Y36(Dl),i.Y36($c),i.Y36(Jn.yh))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-cloud"]],viewQuery:function(e,r){if(1&e&&(i.Gf(s7,7),i.Gf(a7,7),i.Gf(l7,7)),2&e){let o;i.iGM(o=i.CRH())&&(r.fileSelector=o.first),i.iGM(o=i.CRH())&&(r.downloadLink=o.first),i.iGM(o=i.CRH())&&(r.selectionDisplay=o.first)}},decls:91,vars:31,consts:[[1,"container","mat-typography"],["class","menu-button","mat-icon-button","",3,"click",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",1,"search-bar-container"],["class","mat-icon-button stackLeft","mat-button","",3,"click",4,"ngIf"],["fxFill","",3,"searchBarName","placeholder","closeSearch",4,"ngIf"],[1,"multi-actions-header","mat-body-1"],["mat-button","","color","primary",1,"mat-body",3,"disabled","click"],[3,"hidden"],["color","primary",1,"mat-button-custom","mat-button","mat-primary",3,"disabled","click"],["createNewFolderButton",""],[1,"mat-button-wrapper"],[1,"mat-button-focus-overlay"],["fileUploadButton",""],[1,"display-count-selection"],["selectionDisplay",""],["mode","indeterminate",1,"loading-progress"],["loadingProgress",""],[4,"ngIf","ngIfThen","ngIfElse"],["search",""],["tree",""],["type","file","name","fileSelector","hidden","true",3,"change"],["fileSelector",""],["href","#",2,"display","none"],["downloadLink",""],["mat-icon-button","",1,"menu-button",3,"click"],[1,"icon-color-change-black"],["mat-icon-button","","style","padding-left: 0px",3,"click",4,"ngIf"],["thenBlockTitle",""],["elseBlockTitle",""],["mat-icon-button","",2,"padding-left","0px",3,"click"],["mat-button","",3,"matMenuTriggerFor"],[1,"maxChars",2,"display","inline-block"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"maxChars"],["mat-button","",1,"mat-icon-button","stackLeft",3,"click"],["fxFill","",3,"searchBarName","placeholder","closeSearch"],[1,"cloud-container"],["mat-table","","matSort","",1,"table-entities",3,"dataSource","matSortChange"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","author"],["matColumnDef","lastModified"],["mat-sort-header","","mat-sort-start","",4,"matHeaderCellDef"],["matColumnDef","size"],["matColumnDef","actions"],["class","header-button-action",4,"matHeaderCellDef"],["class","row-button-action",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["matRipple","",3,"matRippleUnbounded",4,"matRowDef","matRowDefColumns"],[1,"search-empty"],[3,"visibility",4,"ngIf"],["color","primary",3,"checked","indeterminate","change"],["class","row-checkbox","color","primary",3,"checked","click","change",4,"ngIf"],["color","primary",1,"row-checkbox",3,"checked","click","change"],["mat-sort-header",""],[3,"click"],["iconFiles",""],["iconFolders",""],[1,"display-text"],["mat-icon-button","","disabled","",4,"ngIf"],[1,"icon-file"],[1,"icon-folder"],["mat-icon-button","","disabled",""],["mat-sort-header","","mat-sort-start",""],[1,"header-button-action"],[1,"row-button-action"],["actionsMenu","matMenu"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["matRipple","",3,"matRippleUnbounded"],[1,"icon-color-change"]],template:function(e,r){if(1&e){const o=i.EpF();i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"mat-toolbar"),i._uU(3,"\n    "),i.YNc(4,c7,5,0,"button",1),i._uU(5,"\n\n    "),i.YNc(6,g7,12,4,"div",2),i.ALo(7,"async"),i._uU(8,"\n\n    "),i._uU(9,"\n    "),i.TgZ(10,"div",3),i._uU(11,"\n      "),i.YNc(12,m7,5,0,"button",4),i._uU(13,"\n      "),i.YNc(14,v7,5,9,"app-search-bar",5),i._uU(15,"\n    "),i.qZA(),i._uU(16,"\n  "),i.qZA(),i._uU(17,"\n\n  "),i._UZ(18,"mat-divider"),i._uU(19,"\n\n  "),i.TgZ(20,"div",6),i._uU(21,"\n    "),i.TgZ(22,"button",7),i.NdJ("click",function(){return r.refresh()}),i._uU(23,"\n      "),i.TgZ(24,"mat-icon"),i._uU(25,"refresh"),i.qZA(),i._uU(26),i.ALo(27,"translate"),i.qZA(),i._uU(28,"\n\n    "),i.TgZ(29,"div",8),i.ALo(30,"async"),i._uU(31,"\n      "),i.TgZ(32,"button",9,10),i.NdJ("click",function(){return r.createDirectory()}),i._uU(34,"\n        "),i.TgZ(35,"span",11)(36,"mat-icon"),i._uU(37,"create_new_folder"),i.qZA()(),i._uU(38),i.ALo(39,"translate"),i._UZ(40,"div",12),i._uU(41,"\n      "),i.qZA(),i._uU(42,"\n    "),i.qZA(),i._uU(43,"\n\n    "),i.TgZ(44,"div",8),i.ALo(45,"async"),i._uU(46,"\n      "),i.TgZ(47,"button",9,13),i.NdJ("click",function(){return r.startFileSelection()}),i._uU(49,"\n        "),i.TgZ(50,"span",11)(51,"mat-icon"),i._uU(52,"file_upload"),i.qZA()(),i._uU(53),i.ALo(54,"translate"),i._UZ(55,"div",12),i._uU(56,"\n      "),i.qZA(),i._uU(57,"\n    "),i.qZA(),i._uU(58,"\n\n    "),i._UZ(59,"div",14,15),i._uU(61,"\n  "),i.qZA(),i._uU(62,"\n\n  "),i.TgZ(63,"div"),i.ALo(64,"async"),i._uU(65,"\n    "),i._UZ(66,"mat-progress-bar",16,17),i._uU(68,"\n  "),i.qZA(),i._uU(69,"\n\n  "),i._UZ(70,"mat-divider"),i._uU(71,"\n\n  "),i._uU(72,"\n  "),i.YNc(73,_7,1,0,"div",18),i._uU(74,"\n\n  "),i._uU(75,"\n  "),i.YNc(76,G7,60,9,"ng-template",null,19,i.W1O),i._uU(78,"\n  "),i._uU(79,"\n  "),i.YNc(80,p9,60,9,"ng-template",null,20,i.W1O),i._uU(82,"\n\n  "),i.TgZ(83,"input",21,22),i.NdJ("change",function(){i.CHM(o);const a=i.MAs(84);return i.KtG(r.upload(a.files))}),i.qZA(),i._uU(85,"\n  "),i.TgZ(86,"a",23,24),i._uU(88,"Save file locally"),i.qZA(),i._uU(89,"\n"),i.qZA(),i._uU(90,"\n")}if(2&e){const o=i.MAs(77),s=i.MAs(81);let a,u;i.xp6(4),i.Q6J("ngIf",r.isMobileMode),i.xp6(2),i.Q6J("ngIf",!r.showForm&&i.lcZ(7,17,r.breadcrumb$)),i.xp6(6),i.Q6J("ngIf",!r.showForm),i.xp6(2),i.Q6J("ngIf",r.showForm),i.xp6(8),i.Q6J("disabled",r.showForm),i.xp6(4),i.hij("\n      ",i.lcZ(27,19,"cloud.buttons.refresh"),"\n    "),i.xp6(3),i.Q6J("hidden",!(null!=(a=i.lcZ(30,21,r.rootFolder$))&&a.canCreateFolder)),i.xp6(3),i.Q6J("disabled",r.showForm),i.xp6(6),i.hij("\n        ",i.lcZ(39,23,"cloud.buttons.addFolder"),"\n        "),i.xp6(6),i.Q6J("hidden",!(null!=(u=i.lcZ(45,25,r.rootFolder$))&&u.canUpload)),i.xp6(3),i.Q6J("disabled",r.showForm),i.xp6(6),i.hij("\n        ",i.lcZ(54,27,"cloud.buttons.addFile"),"\n        "),i.xp6(10),i.Udp("visibility",i.lcZ(64,29,r.loading$)?"visible":"hidden"),i.xp6(10),i.Q6J("ngIf",!0===r.showForm&&r.lastSearch.length>=3)("ngIfThen",o)("ngIfElse",s)}},dependencies:[Oi,Rr,AR,$o,po,Ya,go,ID,Ja,ks,FD,Sm,kD,wR,Kc,dR,CD,fR,SD,ED,hR,AD,DD,pR,gR,Ed,br,Pd,fo,i7,FR],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;padding-left:24px}.search-bar-container[_ngcontent-%COMP%]{width:100%}.menu-button[_ngcontent-%COMP%]{margin-right:12px;margin-left:-8px}.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 2px);background-color:#fff}.multi-actions-header[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;height:56px;background-color:#fff;align-items:center;padding-right:16px}.multi-actions-header[_ngcontent-%COMP%]   .mat-button-custom[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;padding:0 16px;border-radius:4px;height:40px;font-size:14px;font-weight:500;line-height:20px}.multi-actions-header[_ngcontent-%COMP%]   .mat-button-focus-overlay[_ngcontent-%COMP%], .multi-actions-header[_ngcontent-%COMP%]   .mat-button-ripple.mat-ripple[_ngcontent-%COMP%]{inset:0;position:absolute;pointer-events:none;border-radius:inherit}.multi-actions-header[_ngcontent-%COMP%]   .mat-button-focus-overlay[_ngcontent-%COMP%]:hover, .multi-actions-header[_ngcontent-%COMP%]   .mat-button-ripple.mat-ripple[_ngcontent-%COMP%]:hover{opacity:.04;background-color:#295fec}.multi-actions-header[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{height:40px;font-size:14px;font-weight:500;line-height:20px}.cloud-container[_ngcontent-%COMP%]{max-height:calc(100vh - 125px);overflow:auto;padding:0}.search-empty[_ngcontent-%COMP%]{margin:19px 0 0 72px;height:40px;width:529px;color:#00000061;overflow:auto}.header-button-action[_ngcontent-%COMP%], .row-button-action[_ngcontent-%COMP%]{text-align:right;padding-right:1em}.folder-name[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%]{color:#0a1f44;font-size:16px;font-weight:500;letter-spacing:.15px;line-height:24px}.table-entities[_ngcontent-%COMP%]{width:100%;height:100%}mat-header-row[_ngcontent-%COMP%]{min-height:48px}mat-header-cell[_ngcontent-%COMP%]{background-color:#fafbfb;color:#0009;font-size:14px;font-weight:600;line-height:20px}mat-cell[_ngcontent-%COMP%]{height:64px;color:#0009}.mat-column-select[_ngcontent-%COMP%]{min-width:64px;max-width:64px;overflow:initial}.mat-column-name[_ngcontent-%COMP%]{min-width:150px;width:450px}.mat-column-author[_ngcontent-%COMP%]{min-width:40px;max-width:180px}.mat-column-lastModified[_ngcontent-%COMP%]{min-width:100px;max-width:173px}.mat-column-size[_ngcontent-%COMP%]{min-width:40px;max-width:75px}.mat-column-actions[_ngcontent-%COMP%]{min-width:35px;max-width:60px;padding-right:16px}mat-cell[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.row-delegate-column[_ngcontent-%COMP%]{font-size:14px}.icon-folder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .icon-file[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;margin-top:5px;margin-right:20px}.icon-folder[_ngcontent-%COMP%]{color:#8ccbff}.icon-file[_ngcontent-%COMP%]{color:#0a1f448a}.button-upload[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:3000}.display-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:8px}.folder-name[_ngcontent-%COMP%]{cursor:pointer}.file-name[_ngcontent-%COMP%]{cursor:default}.display-count-selection[_ngcontent-%COMP%]{display:flex;flex:auto;padding-left:8px}"],data:{animation:[ts("highlightNew",[xi("void => updated",pi("2000ms",Ip([gr({backgroundColor:"initial",offset:0}),gr({backgroundColor:"#fff9c4",offset:.1}),gr({backgroundColor:"initial",offset:1})])))])]}}),n})();function Sh(){const n=new wd;return n.maxWidth="100%",n.maxHeight="100%",n.height="100%",n.width="100%",n.panelClass="custom-dialog-container",n.autoFocus=!0,n.disableClose=!0,n.closeOnNavigation=!1,n}let m9=(()=>{class n{constructor(e,r,o){if(this.webappService=e,this.dialogRef=r,this.authenticationService=o,this._ipc=void 0,window.require)try{this._ipc=window.require("electron").ipcRenderer}catch(s){throw s}else console.warn("Electron's IPC was not loaded")}ngOnInit(){this.webappService.isAndroid?(this.iconSource="./assets/onboarding/icon-finish.svg",this.title="onboarding.finish.messages.title",this.classImage="image"):(this.iconSource="./assets/onboarding/icon-finish-desktop.svg",this.title="onboarding.finish.messages.titleDesktop",this.classImage="imageDesktop")}startHandler(){this.dialogRef.close(),this.authenticationService.navigateToHomePage()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Dl),i.Y36(Xa),i.Y36(Rs))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-onboarding-finish"]],decls:41,vars:19,consts:[[1,"screen-container","mat-typography"],["alt","HiSqool logo",3,"src"],[1,"text"],[1,"message"],["fxLayoutAlign","center end","fxLayout","column",1,"action"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i._UZ(2,"img",1),i._uU(3,"\n  "),i.TgZ(4,"div",2),i._uU(5,"\n    "),i.TgZ(6,"h2"),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._uU(9,"\n    "),i.TgZ(10,"h3"),i._uU(11),i.ALo(12,"translate"),i.qZA(),i._uU(13,"\n    "),i.TgZ(14,"h3")(15,"mat-icon"),i._uU(16,"arrow_forward"),i.qZA(),i._uU(17),i.ALo(18,"translate"),i.qZA(),i._uU(19,"\n    "),i.TgZ(20,"h3"),i._uU(21,"\n      "),i.TgZ(22,"mat-icon"),i._uU(23,"arrow_forward"),i.qZA(),i._uU(24,"\n      "),i.TgZ(25,"div",3),i._uU(26),i.ALo(27,"translate"),i.qZA(),i._uU(28,"\n    "),i.qZA(),i._uU(29,"\n  "),i.qZA(),i._uU(30,"\n\n  "),i._UZ(31,"mat-divider"),i._uU(32,"\n\n  "),i.TgZ(33,"div",4),i._uU(34,"\n    "),i.TgZ(35,"button",5),i.NdJ("click",function(){return r.startHandler()}),i._uU(36),i.ALo(37,"translate"),i.qZA(),i._uU(38,"\n  "),i.qZA(),i._uU(39,"\n"),i.qZA(),i._uU(40,"\n")),2&e&&(i.xp6(2),i.Tol(r.classImage),i.s9C("src",r.iconSource,i.LSH),i.xp6(5),i.Oqu(i.lcZ(8,9,r.title)),i.xp6(4),i.Oqu(i.lcZ(12,11,"onboarding.finish.messages.subtitle")),i.xp6(6),i.Oqu(i.lcZ(18,13,"onboarding.finish.messages.accessEducationalResources")),i.xp6(9),i.Oqu(i.lcZ(27,15,"onboarding.finish.messages.receiveApp")),i.xp6(10),i.hij("\n      ",i.lcZ(37,17,"onboarding.finish.action"),"\n    "))},dependencies:[$o,po,Ja,ks,go,fo],styles:["[_nghost-%COMP%]{display:flex;height:100vh;overflow:hidden;background-color:#283a5b;align-items:center;justify-content:center}.screen-container[_ngcontent-%COMP%]{max-height:551px;width:560px;border-radius:8px;background-color:#fff;box-shadow:0 20px 30px #0000001a}.screen-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:167px;width:167px;display:block;margin:58px auto 32px}.screen-container[_ngcontent-%COMP%]   .imageDesktop[_ngcontent-%COMP%]{height:168px;width:243px;display:block;margin:56px auto 32px}.screen-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:48px;margin-right:48px;margin-bottom:32px}.screen-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px}.screen-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff8f00;vertical-align:middle;margin-right:8px}.screen-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:30px;margin-top:-24px}.screen-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:24px}.screen-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{height:88px;width:560px}.screen-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{height:48px;width:61px;border-radius:6px;margin:20px}"]}),n})();function _9(n,t){1&n&&(i.TgZ(0,"span",27),i._uU(1," onboarding.confirmProfile.identity"),i.qZA())}function y9(n,t){1&n&&(i.TgZ(0,"mat-form-field",18),i._uU(1,"\n            "),i.TgZ(2,"mat-label",19),i._uU(3,"onboarding.confirmProfile.class"),i.qZA(),i._uU(4,"\n            "),i._UZ(5,"input",28),i.ALo(6,"translate"),i._uU(7,"\n          "),i.qZA()),2&n&&(i.xp6(5),i.Q6J("placeholder",i.lcZ(6,1,"onboarding.confirmProfile.class")))}const b9=function(){return{"height.%":100}};function w9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",1),i._uU(1,"\n  "),i._uU(2,"\n\n  "),i.TgZ(3,"div",2),i._uU(4,"\n    "),i.TgZ(5,"div",3),i._uU(6,"\n      "),i.TgZ(7,"div",4),i._uU(8,"\n        "),i._UZ(9,"img",5),i._uU(10,"\n        "),i.TgZ(11,"span",6),i._uU(12,"login.with"),i.qZA(),i._uU(13,"\n        "),i._UZ(14,"img",7),i._uU(15,"\n      "),i.qZA(),i._uU(16,"\n    "),i.qZA(),i._uU(17,"\n    "),i.TgZ(18,"div",8),i._uU(19,"\n      "),i._UZ(20,"img",9),i._uU(21,"\n    "),i.qZA(),i._uU(22,"\n  "),i.qZA(),i._uU(23,"\n\n  "),i.TgZ(24,"div",10),i._uU(25,"\n    "),i.TgZ(26,"div",11),i._uU(27,"\n      "),i.TgZ(28,"div",12),i._uU(29,"\n        "),i.TgZ(30,"div",13),i._uU(31,"onboarding.confirmProfile.title"),i.qZA(),i._uU(32,"\n        "),i.TgZ(33,"div",14),i._uU(34,"onboarding.confirmProfile.subtitle"),i.qZA(),i._uU(35,"\n      "),i.qZA(),i._uU(36,"\n      "),i.TgZ(37,"form",15),i._uU(38,"\n        "),i.TgZ(39,"div",16),i._uU(40,"\n          "),i.YNc(41,_9,2,0,"span",17),i._uU(42,"\n\n          "),i.TgZ(43,"mat-form-field",18),i._uU(44,"\n            "),i.TgZ(45,"mat-label",19),i._uU(46,"onboarding.confirmProfile.firstName"),i.qZA(),i._uU(47,"\n            "),i._UZ(48,"input",20),i.ALo(49,"translate"),i._uU(50,"\n          "),i.qZA(),i._uU(51,"\n\n          "),i.TgZ(52,"mat-form-field",18),i._uU(53,"\n            "),i.TgZ(54,"mat-label",19),i._uU(55,"onboarding.confirmProfile.lastName"),i.qZA(),i._uU(56,"\n            "),i._UZ(57,"input",21),i.ALo(58,"translate"),i._uU(59,"\n          "),i.qZA(),i._uU(60,"\n\n          "),i.TgZ(61,"mat-form-field",18),i._uU(62,"\n            "),i.TgZ(63,"mat-label",19),i._uU(64,"onboarding.confirmProfile.institution"),i.qZA(),i._uU(65,"\n            "),i._UZ(66,"input",22),i.ALo(67,"translate"),i._uU(68,"\n          "),i.qZA(),i._uU(69,"\n\n          "),i.YNc(70,y9,8,3,"mat-form-field",23),i._uU(71,"\n        "),i.qZA(),i._uU(72,"\n      "),i.qZA(),i._uU(73,"\n      "),i._uU(74,"\n      "),i._uU(75,"\n\n      "),i.TgZ(76,"button",24),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.startHandler())}),i._uU(77,"\n        "),i.TgZ(78,"span",19),i._uU(79,"onboarding.confirmProfile.continue"),i.qZA(),i._uU(80,"\n      "),i.qZA(),i._uU(81,"\n    "),i.qZA(),i._uU(82,"\n\n    "),i.TgZ(83,"div",25),i._uU(84,"\n      "),i.TgZ(85,"div",26),i._uU(86,"\n        "),i.TgZ(87,"div"),i._uU(88),i.qZA(),i._uU(89,"\n        "),i.TgZ(90,"div"),i._uU(91,"2019 \xa9UNOWHY \xa9HI-SQOOL"),i.qZA(),i._uU(92,"\n      "),i.qZA(),i._uU(93,"\n    "),i.qZA(),i._uU(94,"\n  "),i.qZA(),i._uU(95,"\n"),i.qZA()}if(2&n){const e=i.oxw();i.xp6(3),i.Q6J("ngStyle.gt-sm",i.DdM(14,b9)),i.xp6(34),i.Q6J("formGroup",e.profileForm),i.xp6(4),i.Q6J("ngIf",e.isProfessor),i.xp6(7),i.Q6J("placeholder",i.lcZ(49,8,"onboarding.confirmProfile.firstName")),i.xp6(9),i.Q6J("placeholder",i.lcZ(58,10,"onboarding.confirmProfile.lastName")),i.xp6(9),i.Q6J("placeholder",i.lcZ(67,12,"onboarding.confirmProfile.institution")),i.xp6(4),i.Q6J("ngIf",!e.isProfessor),i.xp6(18),i.hij("version : ",e.versionCode,"")}}let x9=(()=>{class n{constructor(e,r,o,s){this.formBuilder=e,this.credentialService=r,this.dialog=o,this.dialogRef=s,this.version=dr.version,this.versionCode=dr.versionCode,this.profileFormField={firstName:"firstName",lastName:"lastName"}}ngOnInit(){this.isProfessor=this.credentialService.isProfessor,this.userProfile=this.credentialService.userProfile,this.profileForm=this.formBuilder.group({firstName:new Uo(this.userProfile&&this.userProfile.givenname||""),lastName:new Uo(this.userProfile&&this.userProfile.name||""),class:new Uo(this.credentialService.profileClass||""),institution:new Uo(this.credentialService.profileInstitution||"")}),this.profileForm.get("firstName").disable(),this.profileForm.get("lastName").disable(),this.profileForm.get("class").disable(),this.profileForm.get("institution").disable()}startHandler(){return function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{(yield this.credentialService.onboarding(!0))&&(this.credentialService.isOnboardingSaved=!0)}catch(e){console.error(`End of onboarding failed with error ${e}`)}this.credentialService.loginFinished=!0,this.dialogRef.close(),this.openOnBoardingFinish()})}openOnBoardingFinish(){const e=Sh();this.dialog.open(m9,e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Tu),i.Y36(Wo),i.Y36(Qc),i.Y36(Xa))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-onboarding-confirm-profile"]],decls:2,vars:1,consts:[["class","mat-typography","fxFlex","1 1 0%","fxLayout","column","fxLayoutAlign","start center","fxLayout.gt-sm","row",4,"ngIf"],["fxFlex","1 1 0%","fxLayout","column","fxLayoutAlign","start center","fxLayout.gt-sm","row",1,"mat-typography"],["fxLayout","column","fxLayoutAlign","center center",1,"logo-container",3,"ngStyle.gt-sm"],["fxFlex","90","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",1,"center-logos"],["id","logo-Monlycee","src","assets/login/logoMonlycee.svg","alt","Monlycee logo"],["translate","",1,"overline","text"],["id","logo-Hisqool","src","assets/hisqool-logo-white.svg","alt","HiSqool logo"],["fxLayoutAlign","end center",1,"footer-logo"],["id","logo-Idf","src","assets/login/logoIDF.png","alt","IDF logo"],["fxLayout","column","fxLayoutAlign","center center",1,"info-container"],["fxLayout","column","fxLayoutAlign","start start",1,"login"],[1,"info-text"],["translate","",1,"mat-h1","title"],["translate","",1,"subtitle"],[3,"formGroup"],["id","identity","fxLayout","column"],["class","overline","translate","",4,"ngIf"],["appearance","fill"],["translate",""],["type","text","matInput","","formControlName","firstName","autocomplete","firstName",1,"profile_givenname",3,"placeholder"],["type","text","matInput","","formControlName","lastName","autocomplete","lastName",1,"profile_name",3,"placeholder"],["type","text","matInput","","formControlName","institution","autocomplete","institution",1,"profile_institution",3,"placeholder"],["appearance","fill",4,"ngIf"],["id","profile-button","mat-raised-button","","color","primary","type","button",3,"click"],["fxLayoutAlign","center end","fxLayout","row",1,"version"],["fxLayout","column"],["translate","",1,"overline"],["type","text","matInput","","formControlName","class","autocomplete","class",1,"profile_name",3,"placeholder"]],template:function(e,r){1&e&&(i.YNc(0,w9,96,15,"div",0),i._uU(1,"\n")),2&e&&i.Q6J("ngIf",r.profileForm)},dependencies:[Rr,ra,$o,po,Fs,Yc,Au,Oa,Fc,nf,hl,Zl,Dx,vm,go,xh,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 100%;background-color:#fff;height:100%;overflow:hidden}.logo-container[_ngcontent-%COMP%]{width:100%;background-color:#283a5b}.logo-container[_ngcontent-%COMP%]   .center-logos[_ngcontent-%COMP%]{margin-top:24px}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   .center-logos[_ngcontent-%COMP%]{margin-top:100px}}.logo-container[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]{visibility:hidden}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]{visibility:visible}}.logo-container[_ngcontent-%COMP%]   #logo-Monlycee[_ngcontent-%COMP%]{height:50px;width:120px}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   #logo-Monlycee[_ngcontent-%COMP%]{height:95px;width:212px}}.logo-container[_ngcontent-%COMP%]   #logo-Hisqool[_ngcontent-%COMP%]{height:34px}.logo-container[_ngcontent-%COMP%]   #logo-Idf[_ngcontent-%COMP%]{height:19px}.logo-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff;padding:8px}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:24px}}.info-container[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;height:100%}.info-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px;margin-top:12px}.info-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .classes[_ngcontent-%COMP%]{width:392px}.info-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{margin-top:80px;color:#000000de}.info-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:430px;padding-bottom:8px}.info-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.15px;line-height:24px;padding-bottom:24px}.info-container[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:9px;line-height:14px;color:#9b9b9b;text-align:center;position:relative;bottom:-32px;z-index:0}@media only screen and (min-width: 640px){.info-container[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{bottom:-30px}}#url[_ngcontent-%COMP%]{margin-left:5px}.overline[_ngcontent-%COMP%]{text-transform:uppercase;height:16px;width:59px;color:#0a1f44;font-size:10px;font-weight:500;letter-spacing:1.67px;line-height:16px;margin-bottom:16px}.accept[_ngcontent-%COMP%]{margin-top:26px;margin-bottom:18px}.classes[_ngcontent-%COMP%]{margin-top:8px}"]}),n})();var hc=(()=>{return(n=hc||(hc={})).Get="[LoginInstitution] get institution",n.GetSuccess="[LoginInstitution] get institution success",n.GetError="[LoginInstitution] get institution error",n.CleanAllResearchResult="[LoginInstitution] clean all research result",hc;var n})();class Yx{constructor(t,e,r,o){this.searchKey=t,this.pageNumber=e,this.resultsPerPage=r,this.toReplace=o,this.type=hc.Get}}class E9{constructor(t,e){this.institutionsResponse=t,this.toReplace=e,this.type=hc.GetSuccess,void 0===e&&(e=!1)}}class C9{constructor(t){this.error=t,this.type=hc.GetError}}class kR{constructor(){this.type=hc.CleanAllResearchResult}}const LR={institutionsResponse:null},NR="loginInstitutionStore",S9=(0,Jn.ZF)(NR),BR=(0,Jn.P1)(S9,n=>n?n.institutionsResponse:void 0),A9=[{key:"general_way",name:"G\xe9n\xe9rale"},{key:"technology_way",name:"Technologique"},{key:"professionnal_way",name:"Professionnelle"}],UR=["CAP","Seconde","Premi\xe8re","Terminale"];let jR=(()=>{class n{constructor(e,r){this.httpClient=e,this.authenticationService=r}getInstitutionLevels(){return this.httpClient.get(`${dr.URL_BASE}/qobalt/static/institutions/level.json`)}getLevels(e){return this.httpClient.get(`${dr.URL_BASE}/qobalt/static/institutions/level.json`).pipe((0,en.U)(o=>{let s=[];if(o)if(e)o.forEach(a=>{a.voie===e&&(s=a.niveau)});else{const a=new Set;o.forEach(u=>u&&u.niveau?u.niveau.forEach(h=>a.add(h)):null),s=Array.from(a)}return s}))}getLevelByClass(e){let r;return UR.forEach(o=>{-1!==e.search(new RegExp(o,"i"))&&(r=o)}),r}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ss),i.LFG(Rs))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",11),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeTrigered())}),i._uU(1,"\n      "),i.TgZ(2,"mat-icon"),i._uU(3,"close"),i.qZA(),i._uU(4,"\n    "),i.qZA()}}function T9(n,t){1&n&&(i.TgZ(0,"mat-list-item"),i._uU(1,"\n    "),i.TgZ(2,"p",12),i._uU(3,"search.noResult"),i.qZA(),i._uU(4,"\n  "),i.qZA())}const M9=function(n){return{active:n}};function O9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-list-item",15),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.selectItem(s))}),i._uU(1,"\n          "),i.TgZ(2,"h3",16),i._uU(3),i.qZA(),i._uU(4,"\n          "),i.TgZ(5,"p",17),i._uU(6),i.qZA(),i._uU(7,"\n          "),i._UZ(8,"mat-divider"),i._uU(9,"\n        "),i.qZA()}if(2&n){const e=t.$implicit,r=i.oxw(2);i.MGl("id","item-",e.id,""),i.Q6J("ngClass",i.VKq(5,M9,r.isActive(e))),i.xp6(3),i.Oqu(e.name),i.xp6(3),i.AsE("",e.zipcode," ",e.city,"")}}function I9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-nav-list"),i._uU(1,"\n      "),i.TgZ(2,"div",13),i.NdJ("scrolled",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.onScroll())}),i._uU(3,"\n        "),i.YNc(4,O9,10,7,"mat-list-item",14),i._uU(5,"\n      "),i.qZA(),i._uU(6,"\n    "),i.qZA()}if(2&n){const e=i.oxw();i.xp6(2),i.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",30)("scrollWindow",!1),i.xp6(2),i.Q6J("ngForOf",e.searchSuggestions)}}let HR=(()=>{class n{constructor(e,r,o){this.dialogRef=e,this.data=r,this.cdRef=o,this.searchTriggered=new i.vpe,this.nextPageTriggered=new i.vpe,this.isLoading=!1,this.pageNumber=1,this.noResult=!1}ngOnInit(){this.modalName=this.data.name,this.modalPlaceholder=this.data.placeholder,this.searchField=this.data.oldSearchKey,this.selectedInstitutionId=this.data.selectedInstitutionId}ngAfterViewInit(){const e=(0,Ps.R)(document.getElementById("search-input"),"keyup").pipe((0,tc.b)(650));this.searchSubscription=e.subscribe(()=>this.doFilter()),this.modalDataSubscription=this.data.modalData.subscribe(r=>{r&&(this.suggestionsLength=r.count,this.showNoResult(),this.suggestionsPagesCount=this.countPages(this.suggestionsLength,Object.keys(r.results)),this.searchSuggestions=Object.values(r.results))}),setTimeout(()=>{this.scrollToSelectedInstitution()},0)}ngAfterViewChecked(){this.cdRef.detectChanges()}scrollToSelectedInstitution(){if(this.selectedInstitutionId){const e=document.querySelector(`#item-${this.selectedInstitutionId}`);e&&e.scrollIntoView()}}doFilter(){this.isLoading=!0,this.pageNumber=1,this.searchField.length>2?this.searchTriggered.emit({searchField:this.searchField,pageNumber:this.pageNumber}):(this.searchSuggestions=[],this.noResult=!1),this.isLoading=!1}callNextPage(){this.isLoading=!0,this.pageNumber=this.pageNumber+1,this.nextPageTriggered.emit({searchField:this.searchField,pageNumber:this.pageNumber}),this.isLoading=!1}onScroll(){this.pageNumber>=this.lastPage||this.callNextPage()}countPages(e,r){return this.lastPage=Math.ceil(e/r.length*this.pageNumber)}onNoClick(){this.dialogRef.close({oldSearchKey:this.searchField})}selectItem(e){this.dialogRef.close({selectedItem:e,oldSearchKey:this.searchField})}isActive(e){return e.id===this.selectedInstitutionId}showNoResult(){this.noResult=0===this.suggestionsLength}closeTrigered(){this.searchField="",this.searchSuggestions=[],this.noResult=!1,this.searchTriggered.emit({searchField:this.searchField})}ngOnDestroy(){this.searchSubscription.unsubscribe(),this.modalDataSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa),i.Y36(xd),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-modal"]],decls:33,vars:8,consts:[["fxLayout","column","fxLayoutAlign","start stretch",1,"modal-container","mat-typography"],["mat-dialog-title","","fxLayoutAlign","start center"],["mat-button","",3,"click"],[1,"material-icons"],["translate","",1,"modal-name"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"search-bar","mat-elevation-z1"],[1,"disabled-icon"],["matInput","","cdkFocusRegionstart","","id","search-input","type","text","autofocus","","fxFill","","fxFlex","",3,"placeholder","ngModel","ngModelChange"],["mat-button","","class","mat-icon-button",3,"click",4,"ngIf"],[4,"ngIf"],["fxFlex","calc(100% - 114px)","mat-dialog-content",""],["mat-button","",1,"mat-icon-button",3,"click"],["translate","",1,"mat-body","no-result"],["infiniteScroll","",2,"height","calc(100vh - 114px)","overflow-y","auto",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[3,"ngClass","id","click",4,"ngFor","ngForOf"],[3,"ngClass","id","click"],["mat-line",""],["mat-line","",1,"mat-body"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"button",2),i.NdJ("click",function(){return r.onNoClick()}),i._uU(5,"\n      "),i.TgZ(6,"i",3),i._uU(7," keyboard_backspace "),i.qZA(),i._uU(8,"\n    "),i.qZA(),i._uU(9,"\n    "),i.TgZ(10,"h2",4),i._uU(11),i.qZA(),i._uU(12,"\n  "),i.qZA(),i._uU(13,"\n\n  "),i.TgZ(14,"div",5),i._uU(15,"\n    "),i.TgZ(16,"mat-icon",6),i._uU(17,"search"),i.qZA(),i._uU(18,"\n\n    "),i.TgZ(19,"input",7),i.NdJ("ngModelChange",function(s){return r.searchField=s}),i.ALo(20,"translate"),i.qZA(),i._uU(21,"\n\n    "),i.YNc(22,D9,5,0,"button",8),i._uU(23,"\n  "),i.qZA(),i._uU(24,"\n\n  "),i.YNc(25,T9,5,0,"mat-list-item",9),i._uU(26,"\n\n  "),i.TgZ(27,"div",10),i._uU(28,"\n    "),i.YNc(29,I9,7,4,"mat-nav-list",9),i._uU(30,"\n  "),i.qZA(),i._uU(31,"\n"),i.qZA(),i._uU(32,"\n")),2&e&&(i.xp6(11),i.Oqu(r.modalName),i.xp6(8),i.s9C("placeholder",i.lcZ(20,6,r.modalPlaceholder)),i.Q6J("ngModel",r.searchField),i.xp6(3),i.Q6J("ngIf",r.searchField),i.xp6(3),i.Q6J("ngIf",r.noResult),i.xp6(4),i.Q6J("ngIf",r.searchSuggestions&&!r.isLoading))},dependencies:[$o,po,Ya,Fs,Q,Jr,Oi,Rr,Oa,Fc,ff,OL,ra,go,oy,gm,ks,vI,Mx,K_,Ja,xh,fo],styles:[".modal-container[_ngcontent-%COMP%]{height:100%;max-width:100%;min-height:400px;padding-bottom:0;margin-bottom:0;overflow-x:hidden}.modal-container[_ngcontent-%COMP%]   .mat-body[_ngcontent-%COMP%]{color:#00000061}.modal-container[_ngcontent-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]{padding-top:0}.modal-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#0a1f448a}.modal-container[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{height:64px;min-height:64px;margin-top:0;margin-bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-name[_ngcontent-%COMP%]{margin:0 0 0 18px}.modal-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#e3f2ff}.modal-container[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{margin-left:80px;margin-top:20px;font-size:16px}.modal-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{height:48px;min-height:48px;font-size:16px;letter-spacing:.15px;line-height:24px}.modal-container[_ngcontent-%COMP%]   .disabled-icon[_ngcontent-%COMP%]{color:#0a1f448a;margin-left:24px;margin-right:33px}.modal-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-right:24px}.modal-container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden}.modal-container[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{margin-left:64px}"]}),n})();const Kx="^[a-zA-Z\xf1\xd1\xe0\xe2\xe9\xe8\xea\xeb\xe7\xf4\xee\xfb\xf9\xc0\xc2\xc8\xc9\xca\xcb\xc7\xd4\xce\xdb\xd9'-]+( [a-zA-Z\xf1\xd1\xe0\xe2\xe9\xe8\xea\xeb\xe7\xf4\xee\xfb\xf9\xc0\xc2\xc8\xc9\xca\xcb\xc7\xd4\xce\xdb\xd9'-]+)*$";function R9(n,t){if(1&n&&(i.TgZ(0,"mat-card-title"),i._uU(1),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Oqu(null==e?null:e.display_name)}}function P9(n,t){if(1&n&&(i.TgZ(0,"mat-card-header",null,13),i._uU(2,"\n            "),i.TgZ(3,"div",6),i._uU(4,"\n              "),i.TgZ(5,"mat-icon"),i._uU(6,"location_city"),i.qZA(),i._uU(7,"\n            "),i.qZA(),i._uU(8,"\n            "),i.TgZ(9,"mat-card-subtitle",7),i._uU(10),i.ALo(11,"translate"),i.qZA(),i._uU(12,"\n            "),i.YNc(13,R9,2,1,"mat-card-title",14),i._uU(14,"\n          "),i.qZA()),2&n){const e=t.ngIf;i.xp6(10),i.Oqu(i.lcZ(11,2,"profile.institution")),i.xp6(3),i.Q6J("ngForOf",e)}}function F9(n,t){1&n&&i._UZ(0,"div")}function k9(n,t){1&n&&(i._uU(0,"\n            "),i._uU(1,"\n          "))}function L9(n,t){if(1&n&&(i._uU(0,"\n            "),i._UZ(1,"mat-divider"),i._uU(2,"\n\n            "),i._uU(3,"\n            "),i._uU(4,"\n\n            "),i.TgZ(5,"mat-card-header",null,15),i._uU(7,"\n              "),i.TgZ(8,"div",6),i._uU(9,"\n                "),i.TgZ(10,"mat-icon"),i._uU(11,"import_contacts"),i.qZA(),i._uU(12,"\n              "),i.qZA(),i._uU(13,"\n              "),i.TgZ(14,"mat-card-subtitle",7),i._uU(15),i.ALo(16,"translate"),i.qZA(),i._uU(17,"\n              "),i.TgZ(18,"mat-card-title"),i._uU(19),i.qZA(),i._uU(20,"\n            "),i.qZA(),i._uU(21,"\n          ")),2&n){const e=i.oxw();i.xp6(15),i.Oqu(i.lcZ(16,2,"profile.class")),i.xp6(4),i.Oqu(e.profileClass)}}let N9=(()=>{class n{constructor(e,r,o,s,a,u,h,x){this.dialogRef=e,this.data=r,this.dialog=o,this.formBuilder=s,this.levelsService=a,this.shellService=u,this.institutionsStore=h,this.credentialService=x,this.profileEmitter=new i.vpe,this.profilesLevel=[],this.profilesClass=[],this.profileClass=this.credentialService.profileClass,this.profileInstitution=this.credentialService.profileInstitution,this.profilesLevels=[],e.afterOpened().subscribe(M=>{this.shellService.isMobile&&this.shellService.toggleSidenav()}),this.institutionInfos=r.institution,this.userInfos=r.user,this.kindUser=this.userInfos.kind}initDataForm(){this.levelsService.getInstitutionLevels().pipe((0,ji.P)()).subscribe(e=>{this.institutionInfos=this.data.institution,this.userInfos=this.data.user,this.userInfos.level=this.levelsService.getLevelByClass(this.userInfos.classe),this.profilesLevel=UR,this.profilesLevels=e,this.profilesClass=this.classList(this.institutionInfos,this.levelsService.getLevelByClass(this.data.user.classe))})}ngOnInit(){this.initDataForm(),this.initProfileForm(),this.changeDialogStatus("")}save(){const e=Object.assign(Object.assign({},this.userInfos),{givenname:this.profileForm.get("givenname").value,name:this.profileForm.get("name").value,classe:this.profileForm.get("classe").value});this.profileEmitter.next(e),this.changeDialogStatus("")}cancel(){this.close("cancel")}close(e){this.dialogRef.close(e)}get isMobile(){return this.shellService.isMobile}get isEditable(){return"edit"===this.dialogStatus}changeDialogStatus(e){this.dialogStatus=e,this.isEditable?(this.profileForm.enable(),this.savePreviousData()):(this.profileForm.disable(),"cancel"===e&&this.restorePreviousData())}isDisable(e){return"class"===e?this.levelFormControl.invalid:"save"===e&&this.profileForm.invalid}openDialog(){const e=this.institutionInfos,r=this.institutionsStore.select(BR);let o;const s=Sh();s.data={name:"loginComponent.selectSchool",placeholder:"loginComponent.institutionHint",oldSearchKey:o||"",selectedInstitutionId:e?e.id:null};const a=this.dialog.open(HR,s);a.componentInstance.searchTriggered.subscribe(h=>{this.institutionsStore.dispatch(h.searchField?new Yx(h.searchField,h.pageNumber,50,!0):new kR)},a.componentInstance.nextPageTriggered.subscribe(h=>this.institutionsStore.dispatch(new Yx(h.searchField,h.pageNumber,50,!1)))),a.componentInstance.data.modalData=r,a.afterClosed().subscribe(h=>{h.oldSearchKey&&(o=h.oldSearchKey),h.selectedItem&&(this.institutionInfos=h.selectedItem,this.profileForm.patchValue({institution:h.selectedItem.name}))})}initProfileForm(){this.givennameFormControl=new Uo(this.data.user.givenname,So.compose([So.required,So.pattern(Kx)])),this.nameFormControl=new Uo(this.data.user.name,So.compose([So.required,So.pattern(Kx)])),this.institutionFormControl=new Uo(this.data.institution.name,So.required);const e=this.levelsService.getLevelByClass(this.data.user.classe);this.levelFormControl=new Uo(e,So.required),this.classeFormControl=new Uo(this.data.user.classe,So.compose([So.required])),this.profileForm=this.formBuilder.group({givenname:this.givennameFormControl,name:this.nameFormControl,institution:this.institutionFormControl,level:this.levelFormControl,classe:this.classeFormControl}),this.profileForm.disable()}savePreviousData(){this.userInfos.givenname=this.givennameFormControl.value,this.userInfos.name=this.nameFormControl.value,this.userInfos.level=this.levelFormControl.value,this.userInfos.classe=this.classeFormControl.value,this.previousData={institution:this.institutionInfos,user:this.userInfos}}restorePreviousData(){this.userInfos.givenname=this.previousData.user.givenname,this.userInfos.name=this.previousData.user.name,this.institutionInfos=this.previousData.institution,this.userInfos.level=this.previousData.user.level,this.userInfos.classe=this.previousData.user.classe,this.updateClassList()}classList(e,r){const o=[];A9.forEach(a=>{"1"===e[a.key]&&o.push(a.name)});let s=[];return this.profilesLevels.filter(a=>-1!==a.voie.search(new RegExp(o.join("|"),"i"))).forEach(a=>{s=s.concat(a.niveau.filter(u=>-1!==u.search(new RegExp(r,"i"))))}),s}updateClassList(){this.profilesClass=this.classList(this.institutionInfos,this.userInfos.level)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xa),i.Y36(xd),i.Y36(Qc),i.Y36(Tu),i.Y36(jR),i.Y36($c),i.Y36(Jn.yh),i.Y36(Wo))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-profile-editor"]],outputs:{profileEmitter:"profileEmitter"},decls:75,vars:13,consts:[["fxFill","","fxLayout","column",1,"dialog-container"],["mat-icon-button","",2,"margin-right","32px",3,"click"],["fxFlex","","translate",""],["fxLayoutAlign","center start"],[3,"formGroup"],["name",""],["mat-card-avatar","","fxLayoutAlign","center center"],["translate",""],["lastName",""],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["professorInfo",""],["studentInfo",""],["school",""],[4,"ngFor","ngForOf"],["class",""]],template:function(e,r){if(1&e&&(i.TgZ(0,"mat-dialog-content",0),i._uU(1,"\n  "),i.TgZ(2,"mat-toolbar"),i._uU(3,"\n    "),i.TgZ(4,"button",1),i.NdJ("click",function(){return r.close("back")}),i._uU(5,"\n      "),i.TgZ(6,"mat-icon"),i._uU(7,"arrow_back"),i.qZA(),i._uU(8,"\n    "),i.qZA(),i._uU(9,"\n    "),i.TgZ(10,"span",2),i._uU(11,"profile.title-edit"),i.qZA(),i._uU(12,"\n    "),i._uU(13,"\n  "),i.qZA(),i._uU(14,"\n  "),i._UZ(15,"mat-divider"),i._uU(16,"\n  "),i.TgZ(17,"div",3),i._uU(18,"\n    "),i.TgZ(19,"mat-card"),i._uU(20,"\n      "),i.TgZ(21,"mat-card-content"),i._uU(22,"\n        "),i.TgZ(23,"form",4),i._uU(24,"\n          "),i.TgZ(25,"mat-card-header",null,5),i._uU(27,"\n            "),i.TgZ(28,"div",6),i._uU(29,"\n              "),i.TgZ(30,"mat-icon"),i._uU(31,"person"),i.qZA(),i._uU(32,"\n            "),i.qZA(),i._uU(33,"\n            "),i.TgZ(34,"mat-card-subtitle",7),i._uU(35),i.ALo(36,"translate"),i.qZA(),i._uU(37,"\n            "),i.TgZ(38,"mat-card-title"),i._uU(39),i.qZA(),i._uU(40,"\n          "),i.qZA(),i._uU(41,"\n\n          "),i._UZ(42,"mat-divider"),i._uU(43,"\n\n          "),i.TgZ(44,"mat-card-header",null,8),i._uU(46,"\n            "),i._UZ(47,"div",6),i._uU(48,"\n            "),i.TgZ(49,"mat-card-subtitle",7),i._uU(50),i.ALo(51,"translate"),i.qZA(),i._uU(52,"\n            "),i.TgZ(53,"mat-card-title"),i._uU(54),i.qZA(),i._uU(55,"\n          "),i.qZA(),i._uU(56,"\n\n          "),i._UZ(57,"mat-divider"),i._uU(58,"\n\n          "),i.YNc(59,P9,15,4,"mat-card-header",9),i._uU(60,"\n\n          "),i.YNc(61,F9,1,0,"div",10),i._uU(62,"\n\n          "),i._uU(63,"\n          "),i.YNc(64,k9,2,0,"ng-template",null,11,i.W1O),i._uU(66,"\n\n          "),i.YNc(67,L9,22,4,"ng-template",null,12,i.W1O),i._uU(69,"\n        "),i.qZA(),i._uU(70,"\n      "),i.qZA(),i._uU(71,"\n    "),i.qZA(),i._uU(72,"\n  "),i.qZA(),i._uU(73,"\n"),i.qZA(),i._uU(74,"\n")),2&e){const o=i.MAs(65),s=i.MAs(68);i.xp6(23),i.Q6J("formGroup",r.profileForm),i.xp6(12),i.Oqu(i.lcZ(36,9,"profile.givenname")),i.xp6(4),i.Oqu(null==r.userInfos?null:r.userInfos.givenname),i.xp6(11),i.Oqu(i.lcZ(51,11,"profile.name")),i.xp6(4),i.Oqu(null==r.userInfos?null:r.userInfos.name),i.xp6(5),i.Q6J("ngIf",r.userInfos.struct_institutions),i.xp6(2),i.Q6J("ngIf","professor"===r.kindUser)("ngIfThen",o)("ngIfElse",s)}},dependencies:[$o,po,Ya,Fs,Oi,Rr,Au,nf,ra,hl,X_,V4,mx,OA,U4,H4,go,gm,ks,Ja,Ed,fo],styles:[".dialog-container[_ngcontent-%COMP%]{background-color:#fafbfb;padding:0;margin:0}.dialog-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-top:56px;background-color:#fff;width:600px;align-self:center;padding:0}.dialog-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{height:64px;background-color:#fff}.dialog-container[_ngcontent-%COMP%]   .icon-input-row[_ngcontent-%COMP%]{height:50px;padding:0;margin:0}.dialog-container[_ngcontent-%COMP%]   .icon-input-row[_ngcontent-%COMP%]   .icon-block[_ngcontent-%COMP%]{height:50px;width:80px}.dialog-container[_ngcontent-%COMP%]   .icon-input-row[_ngcontent-%COMP%]   .icon-block[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:24px;margin-top:16px;color:#0a1f448a}.dialog-container[_ngcontent-%COMP%]   .icon-input-row[_ngcontent-%COMP%]   .icon-block[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:50px}.dialog-container[_ngcontent-%COMP%]   mat-dialog-header[_ngcontent-%COMP%]{height:0}.dialog-container[_ngcontent-%COMP%]   mat-dialog-footer[_ngcontent-%COMP%]{height:0}mat-card-header[_ngcontent-%COMP%]{margin:0}mat-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0a1f448a;margin-top:0}mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{margin:16px 0 16px 16px}mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:16px;color:#0a1f44}mat-card-header[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:10px}"]}),n})();function B9(n,t){if(1&n&&(i.TgZ(0,"mat-option",21),i._uU(1),i.qZA()),2&n){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.hij("\n                ",e,"\n              ")}}function U9(n,t){if(1&n&&(i.TgZ(0,"mat-option",21),i._uU(1),i.qZA()),2&n){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.hij("\n                ",e,"\n              ")}}const j9=function(){return{"height.%":100}};let H9=(()=>{class n{constructor(e,r,o,s,a){this.formBuilder=e,this.credentialService=r,this.dialog=o,this.data=s,this.levelsService=a,this.version=dr.version,this.versionCode=dr.versionCode,this.institutionInfos=this.credentialService.institutionInfos,this.profileFormField={givenname:"givenname",name:"name",level:"level",classe:"classe"},this.profilesLevel=["Seconde","Premi\xe8re","Terminale"],this.profilesClass=[],this.profilesVoieGenerale=[],this.profilesVoieTechnologique=[],this.profilesVoieProfessionnelle=[],this.profilesLevels=[],this.selectLevelFormControl=new Uo(""),this.selectClassFormControl=new Uo(""),this.profileEmitter=new i.vpe}ngOnInit(){this.profileForm=this.formBuilder.group({givenname:new Uo(this.data.givenname,So.compose([So.required,So.pattern(Kx)])),name:new Uo(this.data.name,So.compose([So.required,So.pattern(Kx)])),level:this.data.level,classe:this.data.classe}),this.getLevels(),this.selectLevelFormControl.markAsUntouched(),this.selectClassFormControl.disable()}get userProfile(){return this.credentialService.userProfile}getLevels(){this.levelsService.getLevels().subscribe(e=>{this.profilesLevels=e})}sendProfile(){this.profileEmitter.emit({givenname:this.profileForm.get(this.profileFormField.givenname).value,name:this.profileForm.get(this.profileFormField.name).value,level:this.selectLevelFormControl.value,classe:this.selectClassFormControl.value}),this.credentialService.isUserProfile=!0}isDisable(){return this.isLoginFieldEmpty(this.profileFormField.givenname)||this.isLoginFieldEmpty(this.profileFormField.name)||""===this.selectLevelFormControl.value||""===this.selectClassFormControl.value}selectChangeLevelHandler(e){this.profilesClass=[],"1"===this.institutionInfos.general_way&&this.changeLevel("G\xe9n\xe9rale",e,"general_way"),"1"===this.institutionInfos.technology_way&&this.changeLevel("Technologique",e,"technology_way"),"1"===this.institutionInfos.professionnal_way&&this.changeLevel("Professionnelle",e,"professionnal_way"),this.selectClassFormControl.enable()}changeLevel(e,r,o){let s=[],a=[];a=a.concat(this.profilesLevels.filter(u=>-1!==u.indexOf(e))),a.forEach(u=>{s=s.concat(u.niveau)}),this.profilesClass=this.profilesClass.concat(this.filterClass(r,o,s)),this.profilesClass=this.profilesClass.filter(u=>void 0!==u)}filterClass(e,r,o){return o.filter(s=>s.includes(e))}isLoginFieldEmpty(e){return""===this.profileForm.get(e).value}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Tu),i.Y36(Wo),i.Y36(Qc),i.Y36(xd),i.Y36(jR))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-profile"]],outputs:{profileEmitter:"profileEmitter"},decls:97,vars:21,consts:[["fxFlex","1 1 0%","fxLayout","column","fxLayoutAlign","start center","fxLayout.gt-sm","row",1,"mat-typography"],["fxLayoutAlign","center",1,"logo-container",3,"ngStyle.gt-sm"],["src","assets/hisqool-logo-white.svg","alt","HiSqool logo",1,"logo"],["fxLayoutAlign","center center","fxLayout","column",1,"login-container"],["fxLayout","column","fxLayoutAlign","center",1,"login"],[1,"profile-title"],["translate","",1,"mat-h1","title"],["translate","",1,"subtitle"],["novalidate","",3,"formGroup","ngSubmit"],["formProfile","ngForm"],["fxLayout","column"],["appearance","fill"],["translate",""],["type","text","matInput","","formControlName","givenname","autocomplete","givenname",1,"profile_givenname",3,"placeholder"],["type","text","matInput","","formControlName","name","autocomplete","name",1,"profile_name",3,"placeholder"],["matNativeControl","","placeholder","Select A Year",3,"formControl","selectionChange"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","placeholder","Select an class",3,"formControl"],["id","profile-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["fxLayoutAlign","center end","fxLayout","row",1,"version"],[3,"value"]],template:function(e,r){if(1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i._UZ(4,"img",2),i._uU(5,"\n  "),i.qZA(),i._uU(6,"\n  "),i.TgZ(7,"div",3),i._uU(8,"\n    "),i.TgZ(9,"div",4),i._uU(10,"\n      "),i.TgZ(11,"div",5),i._uU(12,"\n        "),i.TgZ(13,"div",6),i._uU(14,"profile.title"),i.qZA(),i._uU(15,"\n        "),i.TgZ(16,"div",7),i._uU(17,"profile.subtitle"),i.qZA(),i._uU(18,"\n      "),i.qZA(),i._uU(19,"\n      "),i.TgZ(20,"form",8,9),i.NdJ("ngSubmit",function(){return r.sendProfile()}),i._uU(22,"\n        "),i.TgZ(23,"div",10),i._uU(24,"\n          "),i.TgZ(25,"mat-form-field",11),i._uU(26,"\n            "),i.TgZ(27,"mat-label",12),i._uU(28,"profile.givenname"),i.qZA(),i._uU(29,"\n            "),i._UZ(30,"input",13),i.ALo(31,"translate"),i._uU(32,"\n          "),i.qZA(),i._uU(33,"\n\n          "),i.TgZ(34,"mat-form-field",11),i._uU(35,"\n            "),i.TgZ(36,"mat-label",12),i._uU(37,"profile.name"),i.qZA(),i._uU(38,"\n            "),i._UZ(39,"input",14),i.ALo(40,"translate"),i._uU(41,"\n          "),i.qZA(),i._uU(42,"\n\n          "),i.TgZ(43,"mat-form-field",11),i._uU(44,"\n            "),i.TgZ(45,"mat-label",12),i._uU(46,"profile.level"),i.qZA(),i._uU(47,"\n            "),i.TgZ(48,"mat-select",15),i.NdJ("selectionChange",function(s){return r.selectChangeLevelHandler(s.value)}),i._uU(49,"\n              "),i.TgZ(50,"mat-option",16),i._uU(51),i.ALo(52,"translate"),i.qZA(),i._uU(53,"\n              "),i.YNc(54,B9,2,2,"mat-option",17),i._uU(55,"\n            "),i.qZA(),i._uU(56,"\n          "),i.qZA(),i._uU(57,"\n\n          "),i.TgZ(58,"mat-form-field",11),i._uU(59,"\n            "),i.TgZ(60,"mat-label",12),i._uU(61,"profile.class"),i.qZA(),i._uU(62,"\n            "),i.TgZ(63,"mat-select",18),i._uU(64,"\n              "),i.TgZ(65,"mat-option",16),i._uU(66),i.ALo(67,"translate"),i.qZA(),i._uU(68,"\n              "),i.YNc(69,U9,2,2,"mat-option",17),i._uU(70,"\n            "),i.qZA(),i._uU(71,"\n          "),i.qZA(),i._uU(72,"\n\n          "),i.TgZ(73,"button",19),i._uU(74,"\n            "),i._uU(75,"\n            "),i.TgZ(76,"span",12),i._uU(77,"profile.send"),i.qZA(),i._uU(78,"\n          "),i.qZA(),i._uU(79,"\n        "),i.qZA(),i._uU(80,"\n      "),i.qZA(),i._uU(81,"\n    "),i.qZA(),i._uU(82,"\n\n    "),i.TgZ(83,"div",20),i._uU(84,"\n      "),i.TgZ(85,"div",10),i._uU(86,"\n        "),i.TgZ(87,"div"),i._uU(88),i.qZA(),i._uU(89,"\n        "),i.TgZ(90,"div"),i._uU(91,"2019 \xa9UNOWHY \xa9HI-SQOOL"),i.qZA(),i._uU(92,"\n      "),i.qZA(),i._uU(93,"\n    "),i.qZA(),i._uU(94,"\n  "),i.qZA(),i._uU(95,"\n"),i.qZA(),i._uU(96,"\n")),2&e){const o=i.MAs(21);i.xp6(2),i.Q6J("ngStyle.gt-sm",i.DdM(20,j9)),i.xp6(18),i.Q6J("formGroup",r.profileForm),i.xp6(10),i.Q6J("placeholder",i.lcZ(31,12,"profile.givenname")),i.xp6(9),i.Q6J("placeholder",i.lcZ(40,14,"profile.name")),i.xp6(9),i.Q6J("formControl",r.selectLevelFormControl),i.xp6(3),i.Oqu(i.lcZ(52,16,"profile.selectLevel")),i.xp6(3),i.Q6J("ngForOf",r.profilesLevel),i.xp6(9),i.Q6J("formControl",r.selectClassFormControl),i.xp6(3),i.Oqu(i.lcZ(67,18,"profile.selectClass")),i.xp6(3),i.Q6J("ngForOf",r.profilesClass),i.xp6(4),i.Q6J("disabled",r.isDisable()||o.invalid),i.xp6(15),i.hij("version : ",r.versionCode,"")}},dependencies:[$o,po,Fs,Yc,Oi,Au,Oa,Fc,nf,ra,Sp,hl,Zl,go,Dx,vm,J8,TO,xh,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 100%;background-color:#fff;height:100%}.logo-container[_ngcontent-%COMP%]{height:128px;width:100%;background-color:#283a5b}.logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:165px}.login-container[_ngcontent-%COMP%]{width:100%}@media only screen and (min-width: 640px){.login-container[_ngcontent-%COMP%]{margin-top:60px}}.login-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:392px}.login-container[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-weight:500;color:#000000de}.login-container[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-bottom:8px}.login-container[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.15px;line-height:24px;padding-bottom:32px}.login-container[_ngcontent-%COMP%]   #profile-button[_ngcontent-%COMP%]{height:48px;margin-top:12px}.login-container[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:9px;line-height:14px;color:#9b9b9b;text-align:center;position:relative;bottom:-195px;z-index:0}@media only screen and (min-width: 640px){.login-container[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{bottom:-30px}}"]}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-circle-avatar"]],inputs:{username:"username"},decls:9,vars:7,consts:[[1,"avatar","color-2"],["fxFlex","","fxLayoutAlign","center center"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3),i.ALo(4,"uppercase"),i.ALo(5,"async"),i.ALo(6,"displayInitialeUser"),i.qZA(),i._uU(7,"\n"),i.qZA(),i._uU(8,"\n")),2&e&&(i.xp6(3),i.hij("\n    ",i.lcZ(4,1,i.lcZ(5,3,i.lcZ(6,5,r.username))),"\n  "))},dependencies:[po,Fs,br,Eo,MD],styles:[".avatar[_ngcontent-%COMP%]{margin-right:20px;font-size:20px;width:40px;height:40px;color:#fff;border-radius:20px}.avatar.color-1[_ngcontent-%COMP%]{background-color:#403f4ccc}.avatar.color-2[_ngcontent-%COMP%]{background-color:#295feccc}.avatar.color-3[_ngcontent-%COMP%]{background-color:#006494cc}.avatar.color-4[_ngcontent-%COMP%]{background-color:#1e91d6cc}.avatar.color-5[_ngcontent-%COMP%]{background-color:#44bba4cc}.avatar.color-6[_ngcontent-%COMP%]{background-color:#8ac926cc}.avatar.color-7[_ngcontent-%COMP%]{background-color:#fdb833cc}.avatar.color-8[_ngcontent-%COMP%]{background-color:#ff8f00cc}.avatar.color-9[_ngcontent-%COMP%]{background-color:#f37748cc}.avatar.color-10[_ngcontent-%COMP%]{background-color:#f56476cc}.avatar.color-11[_ngcontent-%COMP%]{background-color:#e84855cc}.avatar.color-12[_ngcontent-%COMP%]{background-color:#e43f6fcc}"]}),n})(),G9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-avatar-menu-item"]],inputs:{userName:"userName",userFullName:"userFullName"},decls:9,vars:5,consts:[["matRipple","","matRippleCentered","centered"],[3,"username"]],template:function(e,r){1&e&&(i.TgZ(0,"mat-list-item",0),i._uU(1,"\n  "),i._UZ(2,"app-circle-avatar",1),i._uU(3,"\n  "),i.TgZ(4,"h6"),i._uU(5),i.ALo(6,"truncate"),i.qZA(),i._uU(7,"\n"),i.qZA(),i._uU(8,"\n")),2&e&&(i.xp6(2),i.s9C("username",r.userFullName),i.xp6(3),i.Oqu(i.xi3(6,2,r.userName,20)))},dependencies:[Mx,V9,FR],styles:[".mat-list-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-size:16px}.mat-list-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:20px;font-size:20px;width:40px;height:40px;color:#fff;border-radius:20px}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-1[_ngcontent-%COMP%]{background-color:#403f4ccc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-2[_ngcontent-%COMP%]{background-color:#295feccc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-3[_ngcontent-%COMP%]{background-color:#006494cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-4[_ngcontent-%COMP%]{background-color:#1e91d6cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-5[_ngcontent-%COMP%]{background-color:#44bba4cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-6[_ngcontent-%COMP%]{background-color:#8ac926cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-7[_ngcontent-%COMP%]{background-color:#fdb833cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-8[_ngcontent-%COMP%]{background-color:#ff8f00cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-9[_ngcontent-%COMP%]{background-color:#f37748cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-10[_ngcontent-%COMP%]{background-color:#f56476cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-11[_ngcontent-%COMP%]{background-color:#e84855cc}.mat-list-item[_ngcontent-%COMP%]   .avatar.color-12[_ngcontent-%COMP%]{background-color:#e43f6fcc}.mat-list-item[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{text-transform:capitalize;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.mat-list-item.active[_ngcontent-%COMP%]{background-color:#2072ff1f}.mat-list-item[_ngcontent-%COMP%]{height:64px;cursor:pointer}.mat-list-item[_ngcontent-%COMP%]:hover{background-color:#e7eaed99}.mat-list-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-transform:capitalize}"]}),n})(),z9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-avatar-button"]],inputs:{username:"username"},decls:7,vars:7,consts:[["mat-flat-button",""]],template:function(e,r){1&e&&(i._uU(0,"\n    "),i.TgZ(1,"button",0),i._uU(2),i.ALo(3,"uppercase"),i.ALo(4,"async"),i.ALo(5,"displayInitialeUser"),i.qZA(),i._uU(6,"\n  ")),2&e&&(i.xp6(2),i.hij("\n      ",i.lcZ(3,1,i.lcZ(4,3,i.lcZ(5,5,r.username))),"\n    "))},dependencies:[go,br,Eo,MD],styles:["button[_ngcontent-%COMP%]{min-width:40px;width:40px;height:40px;border-radius:20px;font-size:20px;font-weight:400;padding:0;color:#fff;background-color:#295feccc}"]}),n})();const Qx=["*"],Z9=["content"];function W9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o._onBackdropClicked())}),i.qZA()}if(2&n){const e=i.oxw();i.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function $9(n,t){1&n&&(i.TgZ(0,"mat-drawer-content"),i.Hsn(1,2),i.qZA())}const q9=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Y9=["mat-drawer","mat-drawer-content","*"];function K9(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o._onBackdropClicked())}),i.qZA()}if(2&n){const e=i.oxw();i.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Q9(n,t){1&n&&(i.TgZ(0,"mat-sidenav-content"),i.Hsn(1,2),i.qZA())}const X9=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],J9=["mat-sidenav","mat-sidenav-content","*"],VR={transformDrawer:ts("transform",[lo("open, open-instant",gr({transform:"none",visibility:"visible"})),lo("void",gr({"box-shadow":"none",visibility:"hidden"})),xi("void => open-instant",pi("0ms")),xi("void <=> open, open-instant => void",pi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},tU=new i.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function nU(){return!1}}),ND=new i.OlP("MAT_DRAWER_CONTAINER");let Xx=(()=>{class n extends ty{constructor(e,r,o,s,a){super(o,s,a),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.sBO),i.Y36((0,i.Gpc)(()=>zR)),i.Y36(i.SBq),i.Y36(_x),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&i.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[i._Bn([{provide:ty,useExisting:n}]),i.qOj],ngContentSelectors:Qx,decls:1,vars:0,template:function(e,r){1&e&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),GR=(()=>{class n{constructor(e,r,o,s,a,u,h,x){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=s,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=x,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new yn.xQ,this._animationEnd=new yn.xQ,this._animationState="void",this.openedChange=new i.vpe(!0),this._openedStream=this.openedChange.pipe((0,Tn.h)(M=>M),(0,en.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Tn.h)(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),(0,Mf.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Tn.h)(M=>!M),(0,en.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Tn.h)(M=>M.fromState!==M.toState&&"void"===M.toState),(0,Mf.h)(void 0)),this._destroyed=new yn.xQ,this.onPositionChanged=new i.vpe,this._modeChanged=new yn.xQ,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ps.R)(this._elementRef.nativeElement,"keydown").pipe((0,Tn.h)(M=>27===M.keyCode&&!this.disableClose&&!Ka(M)),(0,zn.R)(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe((0,za.x)((M,L)=>M.fromState===L.fromState&&M.toState===L.toState)).subscribe(M=>{const{fromState:L,toState:W}=M;(0===W.indexOf("open")&&"void"===L||"void"===W&&0===L.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Yn(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Yn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Yn(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,r,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Cr.q)(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,o=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(hx),i.Y36(fc),i.Y36(Mo),i.Y36(i.R0b),i.Y36(q_),i.Y36(m,8),i.Y36(ND,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&i.Gf(Z9,5),2&e){let o;i.iGM(o=i.CRH())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&i.WFA("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&e&&(i.uIk("align",null),i.d8E("@transform",r._animationState),i.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Qx,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(i.F$t(),i.TgZ(0,"div",0,1),i.Hsn(2),i.qZA())},dependencies:[ty],encapsulation:2,data:{animation:[VR.transformDrawer]},changeDetection:0}),n})(),zR=(()=>{class n{constructor(e,r,o,s,a,u=!1,h){this._dir=e,this._element=r,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=h,this._drawers=new i.n_E,this.backdropClick=new i.vpe,this._destroyed=new yn.xQ,this._doCheckSubject=new yn.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new yn.xQ,e&&e.change.pipe((0,zn.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe((0,zn.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Yn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Yn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,co.O)(this._allDrawers),(0,zn.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,co.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,tc.b)(10),(0,zn.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,r-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();r+=o,e-=o}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,Tn.h)(r=>r.fromState!==r.toState),(0,zn.R)(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,zn.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,zn.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Cr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,zn.R)((0,Ei.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(is,8),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(fm),i.Y36(tU),i.Y36(i.QbO,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,Xx,5),i.Suo(o,GR,5)),2&e){let s;i.iGM(s=i.CRH())&&(r._content=s.first),i.iGM(s=i.CRH())&&(r._allDrawers=s)}},viewQuery:function(e,r){if(1&e&&i.Gf(Xx,5),2&e){let o;i.iGM(o=i.CRH())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[i._Bn([{provide:ND,useExisting:n}])],ngContentSelectors:Y9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(i.F$t(q9),i.YNc(0,W9,1,2,"div",0),i.Hsn(1),i.Hsn(2,1),i.YNc(3,$9,2,0,"mat-drawer-content",1)),2&e&&(i.Q6J("ngIf",r.hasBackdrop),i.xp6(3),i.Q6J("ngIf",!r._content))},dependencies:[Rr,Xx],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),BD=(()=>{class n extends Xx{constructor(e,r,o,s,a){super(e,r,o,s,a)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.sBO),i.Y36((0,i.Gpc)(()=>WR)),i.Y36(i.SBq),i.Y36(_x),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,r){2&e&&i.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[i._Bn([{provide:ty,useExisting:n}]),i.qOj],ngContentSelectors:Qx,decls:1,vars:0,template:function(e,r){1&e&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),ZR=(()=>{class n extends GR{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Yn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Sa(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Sa(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,r){2&e&&(i.uIk("align",null),i.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),i.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[i.qOj],ngContentSelectors:Qx,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(i.F$t(),i.TgZ(0,"div",0,1),i.Hsn(2),i.qZA())},dependencies:[ty],encapsulation:2,data:{animation:[VR.transformDrawer]},changeDetection:0}),n})(),WR=(()=>{class n extends zR{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,r,o){if(1&e&&(i.Suo(o,BD,5),i.Suo(o,ZR,5)),2&e){let s;i.iGM(s=i.CRH())&&(r._content=s.first),i.iGM(s=i.CRH())&&(r._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[i._Bn([{provide:ND,useExisting:n}]),i.qOj],ngContentSelectors:J9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(i.F$t(X9),i.YNc(0,K9,1,2,"div",0),i.Hsn(1),i.Hsn(2,1),i.YNc(3,Q9,2,0,"mat-sidenav-content",1)),2&e&&(i.Q6J("ngIf",r.hasBackdrop),i.xp6(3),i.Q6J("ngIf",!r._content))},dependencies:[Rr,BD],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,mr,hm,hm,mr]}),n})();const iU=["sidenav"];function oU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div"),i._uU(1,"\n            "),i.TgZ(2,"a",23,24),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(),s=i.MAs(5);return i.KtG(o.isMobile&&s.close())}),i._uU(4,"\n              "),i.TgZ(5,"mat-icon",14),i._uU(6),i.qZA(),i._uU(7,"\n              "),i.TgZ(8,"span",15),i._uU(9),i.qZA(),i._uU(10,"\n            "),i.qZA(),i._uU(11,"\n          "),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(2),i.s9C("routerLink",e.link),i.xp6(4),i.hij("",e.icon,"\n              "),i.xp6(3),i.Oqu(e.title)}}function sU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"a",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.openK9Mail())}),i._uU(1,"\n            "),i.TgZ(2,"mat-icon",14),i._uU(3,"email"),i.qZA(),i._uU(4,"\n            "),i.TgZ(5,"span",15),i._uU(6,"titles.k9mail"),i.qZA(),i._uU(7,"\n            "),i.TgZ(8,"mat-icon",25),i._uU(9,"launch"),i.qZA(),i._uU(10,"\n          "),i.qZA()}}function aU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"a",26,24),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(),s=i.MAs(5);return i.KtG(o.isMobile&&s.close())}),i._uU(2,"\n            "),i.TgZ(3,"mat-icon",14),i._uU(4,"battery_charging_full\n            "),i.qZA(),i._uU(5,"\n            "),i.TgZ(6,"span",15),i._uU(7,"titles.powerbank"),i.qZA(),i._uU(8,"\n          "),i.qZA()}}function lU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-toolbar",27),i._uU(1,"\n        "),i.TgZ(2,"button",28),i.NdJ("click",function(){i.CHM(e),i.oxw();const o=i.MAs(5);return i.KtG(o.toggle())}),i._uU(3,"\n          "),i.TgZ(4,"mat-icon"),i._uU(5,"menu"),i.qZA(),i._uU(6,"\n        "),i.qZA(),i._uU(7,"\n        "),i.TgZ(8,"h2"),i._uU(9),i.qZA(),i._uU(10,"\n      "),i.qZA()}if(2&n){const e=i.oxw();i.xp6(9),i.Oqu(e.title)}}function cU(n,t){if(1&n&&(i.TgZ(0,"h2"),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.title)}}function uU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-toolbar"),i._uU(1,"\n        "),i.TgZ(2,"button",29),i.NdJ("click",function(){i.CHM(e),i.oxw();const o=i.MAs(5);return i.KtG(o.toggle())}),i._uU(3,"\n          "),i.TgZ(4,"mat-icon"),i._uU(5,"menu"),i.qZA(),i._uU(6,"\n        "),i.qZA(),i._uU(7,"\n        "),i.YNc(8,cU,2,1,"h2",21),i._uU(9,"\n      "),i.qZA()}if(2&n){const e=i.oxw();i.xp6(8),i.Q6J("ngIf",!e.chatPage)}}function dU(n,t){if(1&n&&(i.TgZ(0,"h2"),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.title)}}function fU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",35),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.openSearchForm())}),i._uU(1,"\n            "),i.TgZ(2,"mat-icon",31),i._uU(3,"search"),i.qZA(),i._uU(4,"\n          "),i.qZA()}}function hU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"app-search-bar",36),i.NdJ("closeSearch",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.closeSearchForm())}),i._uU(1,"\n          "),i.qZA()}if(2&n){const e=i.oxw(2);i.Q6J("searchBarName",e.shellSearchBar)}}function pU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-toolbar",30),i._uU(1,"\n        "),i.TgZ(2,"button",29),i.NdJ("click",function(){i.CHM(e),i.oxw();const o=i.MAs(5);return i.KtG(o.toggle())}),i._uU(3,"\n          "),i.TgZ(4,"mat-icon",31),i._uU(5,"menu"),i.qZA(),i._uU(6,"\n        "),i.qZA(),i._uU(7,"\n\n        "),i.YNc(8,dU,2,1,"h2",21),i._uU(9,"\n\n        "),i.TgZ(10,"div",32),i._uU(11,"\n          "),i.YNc(12,fU,5,0,"button",33),i._uU(13,"\n          "),i.YNc(14,hU,2,1,"app-search-bar",34),i._uU(15,"\n        "),i.qZA(),i._uU(16,"\n      "),i.qZA()}if(2&n){const e=i.oxw();i.xp6(8),i.Q6J("ngIf",!e.showForm),i.xp6(4),i.Q6J("ngIf",!e.showForm),i.xp6(2),i.Q6J("ngIf",e.showForm)}}function gU(n,t){1&n&&i._UZ(0,"mat-divider")}let mU=(()=>{class n{constructor(e,r,o,s,a,u,h,x,M,L,W,q){this.router=e,this.titleService=r,this.authenticationService=o,this.i18nService=s,this.store=a,this.shellService=u,this.dialog=h,this.oAuthStorage=x,this.credentialService=M,this.usersService=L,this.webApp=W,this.translate=q,this.generalNavElement=[{title:"titles.home",link:"/home",icon:"home",searchField:!1},{title:"titles.cloud",link:"/cloud",icon:"cloud",searchField:!1}],this.customNavElement=[{title:"titles.powerbank",link:"/powerbank",icon:"battery_charging_full",searchField:!1}],this.sideNavElements=this.generalNavElement.concat(this.customNavElement),this.showForm=!1,this.shellSearchBar="shellSearchBar"}ngOnInit(){this.shellService.setSideNav(this.sidenav)}ngAfterViewInit(){this.checkOnBoardingDone()}ngOnDestroy(){this.newUserSubscription&&this.newUserSubscription.unsubscribe()}get userDisplayName(){return this.authenticationService.userDisplayName}get userGivenName(){return this.authenticationService.userGivenName}get userName(){return this.authenticationService.userName}get languages(){return this.i18nService.supportedLanguages}get isMobile(){return this.shellService.isMobile}get title(){return this.titleService.getTitle()}get searchField(){const e=this.router.url;return"/"!==e&&this.sideNavElements.find(o=>o.link===e).searchField}get chatPage(){return"/chat"===this.router.url}get cloudPage(){return"/cloud"===this.router.url}get powerbankPage(){return"/powerbank"===this.router.url}setLanguage(e){this.i18nService.language=e}logout(){this.store.dispatch(new fh)}openSearchForm(){this.showForm=!0}closeSearchForm(){this.showForm=!1}checkOnBoardingDone(){this.credentialService.onboarding().then(e=>{if(e)this.credentialService.loginFinished=!0,this.authenticationService.navigateToHomePage();else if(this.credentialService.isOnboardingSaved&&this.credentialService.loginFinished)this.store.dispatch(new fh(!0));else{const r=this.credentialService.userProfile;r?this.openOnBoardingConfirmProfile(r):this.credentialService.newUser.pipe((0,Tn.h)(o=>(null==o?void 0:o.login)===this.authenticationService.userLogin),(0,Cr.q)(1)).subscribe(o=>{o&&this.openOnBoardingConfirmProfile(o)})}})}openOnBoardingConfirmProfile(e){const r=Sh();this.dialog.open(x9,r)}openProfileModal(e){const r=Sh();r.data={givenname:e.givenname,name:e.name,level:"",classe:""};const o=this.dialog.open(H9,r);o.componentInstance.profileEmitter.subscribe(a=>{this.oAuthStorage.setItem(n.USER_PROFILE,JSON.stringify(a)),this.usersService.userProfile(a).subscribe(u=>{this.credentialService.userProfile=u}),o.close()})}openProfileEditorModal(){const e=this.credentialService.userProfile;if(!e)return;const r={user:e},o=Sh();o.autoFocus=!1,o.data=r,this.dialog.open(N9,o).componentInstance.profileEmitter.subscribe(u=>{this.oAuthStorage.setItem(n.USER_PROFILE,JSON.stringify(u)),this.usersService.userProfile(u).subscribe(h=>{this.credentialService.userProfile=h})})}openRessources(){const e="llsidf:///app";this.webApp.isAndroid?this.webApp.openExternalApp(e,!0,this.translate.instant("titles.ressources")):window.open(e)}openMonLycee(){window.open("https://www.monlycee.net","_blank")}openK9Mail(){this.webApp.isAndroid&&this.webApp.openExternalApp("com.fsck.k9",!1,this.translate.instant("titles.k9mail"))}get isPresentExternalApp(){return!!this.webApp.isAndroid&&this.webApp.isPresentExternalApp("com.fsck.k9")}get isAndroid(){return this.webApp.isAndroid}get isEnvDev(){return!dr.production}}return n.USER_PROFILE="userProfile",n.\u0275fac=function(e){return new(e||n)(i.Y36(Vi),i.Y36(Je),i.Y36(Rs),i.Y36(Jg),i.Y36(Jn.yh),i.Y36($c),i.Y36(Qc),i.Y36(ac),i.Y36(Wo),i.Y36(_R),i.Y36(Dl),i.Y36(sc))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-shell"]],viewQuery:function(e,r){if(1&e&&i.Gf(iU,7),2&e){let o;i.iGM(o=i.CRH())&&(r.sidenav=o.first)}},decls:92,vars:14,consts:[["fxFlex","",1,"mat-typography"],["fxFill",""],["ngClass.gt-sm","has-border",3,"mode","opened","disableClose"],["sidenav",""],["fxLayout","row"],[1,"logo-container"],["fxFill","","src","assets/hisqool-logo-white.svg","alt","HiSqool logo",1,"logo"],["fxFlex","","fxLayoutAlign","end center",1,"settings"],["translate","",3,"username","matMenuTriggerFor"],["userMenu","matMenu"],[3,"userName","userFullName","click"],["mat-menu-item","","translate","",3,"click"],[4,"ngFor","ngForOf"],["mat-list-item","",2,"cursor","pointer",3,"click"],["fxLayoutAlign","center center","mat-list-icon","",1,"icon-color-change"],["translate","",1,"mat-body-1"],["fxLayoutAlign","end end","fxLayout","row",1,"mat-list-icon-right","ressources"],["fxLayoutAlign","center center",1,"mat-list-icon-right"],["mat-list-item","","style","cursor: pointer",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/powerbank","routerLinkActive","active",3,"click",4,"ngIf"],["fxHide.gt-sm","",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink","click"],["routerLinkActiveInstance",""],["fxLayoutAlign","center center",1,"mat-list-icon-right","k9mail"],["mat-list-item","","routerLink","/powerbank","routerLinkActive","active",3,"click"],["fxHide.gt-sm",""],["mat-icon-button","",1,"menu-button",3,"click"],["mat-icon-button","","fxHide.gt-sm","",1,"menu-button",3,"click"],["fxLayout","row","fxLayoutAlign","end center"],[1,"icon-color-change-black"],["fxLayout","row","fxLayoutAlign","end center",1,"search-bar-container"],["class","mat-icon-button","mat-button","",3,"click",4,"ngIf"],["fxFill","","fxFlex","",3,"searchBarName","closeSearch",4,"ngIf"],["mat-button","",1,"mat-icon-button",3,"click"],["fxFill","","fxFlex","",3,"searchBarName","closeSearch"]],template:function(e,r){if(1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"mat-sidenav-container",1),i._uU(3,"\n    "),i.TgZ(4,"mat-sidenav",2,3),i._uU(6,"\n      "),i.TgZ(7,"mat-toolbar",4),i._uU(8,"\n        "),i.TgZ(9,"div",5),i._uU(10,"\n          "),i._UZ(11,"img",6),i._uU(12,"\n        "),i.qZA(),i._uU(13,"\n        "),i.TgZ(14,"div",7),i._uU(15,"\n          "),i._UZ(16,"app-avatar-button",8),i._uU(17,"\n          "),i.TgZ(18,"mat-menu",null,9),i._uU(20,"\n            "),i.TgZ(21,"mat-list"),i._uU(22,"\n              "),i.TgZ(23,"app-avatar-menu-item",10),i.NdJ("click",function(){return r.openProfileEditorModal()}),i.qZA(),i._uU(24,"\n              "),i._UZ(25,"mat-divider"),i._uU(26,"\n            "),i.qZA(),i._uU(27,"\n            "),i.TgZ(28,"button",11),i.NdJ("click",function(){return r.logout()}),i._uU(29,"\n              "),i.TgZ(30,"mat-icon"),i._uU(31,"power_settings_new"),i.qZA(),i._uU(32,"\n              logout\n            "),i.qZA(),i._uU(33,"\n          "),i.qZA(),i._uU(34,"\n        "),i.qZA(),i._uU(35,"\n      "),i.qZA(),i._uU(36,"\n\n      "),i.TgZ(37,"nav"),i._uU(38,"\n        "),i.TgZ(39,"mat-list"),i._uU(40,"\n          "),i.YNc(41,oU,12,3,"div",12),i._uU(42,"\n\n          "),i.TgZ(43,"a",13),i.NdJ("click",function(){return r.openRessources()}),i._uU(44,"\n            "),i.TgZ(45,"mat-icon",14),i._uU(46,"school"),i.qZA(),i._uU(47,"\n            "),i.TgZ(48,"span",15),i._uU(49,"titles.ressources"),i.qZA(),i._uU(50,"\n            "),i.TgZ(51,"mat-icon",16),i._uU(52,"launch"),i.qZA(),i._uU(53,"\n          "),i.qZA(),i._uU(54,"\n\n          "),i.TgZ(55,"a",13),i.NdJ("click",function(){return r.openMonLycee()}),i._uU(56,"\n            "),i.TgZ(57,"mat-icon",14),i._uU(58,"school"),i.qZA(),i._uU(59,"\n            "),i.TgZ(60,"span",15),i._uU(61,"titles.monlycee"),i.qZA(),i._uU(62,"\n            "),i.TgZ(63,"mat-icon",17),i._uU(64,"launch"),i.qZA(),i._uU(65,"\n          "),i.qZA(),i._uU(66,"\n\n          "),i.YNc(67,sU,11,0,"a",18),i._uU(68,"\n\n          "),i.YNc(69,aU,9,0,"a",19),i._uU(70,"\n        "),i.qZA(),i._uU(71,"\n      "),i.qZA(),i._uU(72,"\n    "),i.qZA(),i._uU(73,"\n    "),i.TgZ(74,"mat-sidenav-content"),i._uU(75,"\n      "),i._uU(76,"\n      "),i.YNc(77,lU,11,1,"mat-toolbar",20),i._uU(78,"\n\n      "),i._uU(79,"\n      "),i.YNc(80,uU,10,1,"mat-toolbar",21),i._uU(81,"\n\n      "),i._uU(82,"\n      "),i.YNc(83,pU,17,3,"mat-toolbar",22),i._uU(84,"\n\n      "),i.YNc(85,gU,1,0,"mat-divider",21),i._uU(86,"\n      "),i._UZ(87,"router-outlet"),i._uU(88,"\n    "),i.qZA(),i._uU(89,"\n  "),i.qZA(),i._uU(90,"\n"),i.qZA(),i._uU(91,"\n")),2&e){const o=i.MAs(19);i.xp6(4),i.Q6J("mode",r.isMobile?"over":"side")("opened",!r.isMobile)("disableClose",!r.isMobile),i.xp6(12),i.s9C("username",r.userDisplayName),i.Q6J("matMenuTriggerFor",o),i.xp6(7),i.s9C("userName",r.userGivenName),i.s9C("userFullName",r.userDisplayName),i.xp6(18),i.Q6J("ngForOf",r.generalNavElement),i.xp6(26),i.Q6J("ngIf",r.isAndroid&&r.isPresentExternalApp),i.xp6(2),i.Q6J("ngIf",r.isAndroid||r.isEnvDev),i.xp6(8),i.Q6J("ngIf",r.chatPage&&!r.cloudPage&&!r.powerbankPage),i.xp6(3),i.Q6J("ngIf",!(r.searchField||r.chatPage||r.cloudPage||r.powerbankPage)),i.xp6(3),i.Q6J("ngIf",r.searchField),i.xp6(2),i.Q6J("ngIf",!r.chatPage)}},dependencies:[Oi,Rr,ra,$o,po,Ya,Fs,Lt,Q,zf,nh,Zv,AR,G9,z9,go,ks,x8,Mx,VA,Ja,FD,Sm,kD,ZR,WR,BD,Ed],styles:["[_nghost-%COMP%]{display:flex;flex:1}.has-border[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.12)}.mat-list[_ngcontent-%COMP%]{padding-top:0}.sidenav-icon[_ngcontent-%COMP%]{margin-right:20px}.mat-list-item[_ngcontent-%COMP%]{text-decoration:none}.mat-list-item[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.menu-button[_ngcontent-%COMP%]{margin-left:-10px;margin-right:12px}.logo-container[_ngcontent-%COMP%]{max-width:123px;margin-top:16px}.mat-sidenav[_ngcontent-%COMP%]{background-color:#283a5b;min-width:320px;max-width:320px}@media only screen and (min-width: 960px){.mat-sidenav[_ngcontent-%COMP%]{min-width:256px;max-width:256px}}.mat-sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background-color:#283a5b;padding-left:24px}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:40px;padding-left:8px;color:#fff9}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon[_ngcontent-%COMP%]{margin-right:20px}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background-color:#14284c}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover   .icon-color-change[_ngcontent-%COMP%]{color:#fff}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]{background-color:#295fec;color:#fff}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]   .icon-color-change[_ngcontent-%COMP%]{color:#fff}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#0f2142}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon-right[_ngcontent-%COMP%]{font-size:20px;margin-left:50px;color:#fff9}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon-right.ressources[_ngcontent-%COMP%]{margin-left:62px}.mat-sidenav[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon-right.k9mail[_ngcontent-%COMP%]{margin-left:90px}.search-bar-container[_ngcontent-%COMP%]{width:100%}mat-sidenav-content[_ngcontent-%COMP%] > .mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;padding-left:24px;margin-bottom:-1px}.settings[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#14284c}.settings[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{background-color:#e3f2ff29;color:#fff}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff;text-decoration:none;outline:none}"]}),n})();class Sd{static childRoutes(t){return{path:"",component:mU,children:t,canActivate:[hh]}}static childLoginRoute(t){return{path:"",children:t,canActivate:[ph]}}}const vU=[Sd.childRoutes([{path:"cloud",component:g9,data:{title:"Cloud"}}])];let _U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(vU),Xi]}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[{provide:sD,useValue:{duration:5e3,data:"errors.generic",horizontalPosition:"center",verticalPosition:"bottom"}}],imports:[Yr,ym,Go,Jh,_U,Jn.Aw.forFeature("cloud",E5),Fx.forFeature([g5]),o7,_d,SI,bd,RD,KO,cy,mm,LD,MB,lm,Y5,dy,WI]}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-construction"]],decls:8,vars:0,consts:[["fxFill","","fxLayoutAlign","center center","fxLayout","column",1,"container"],["src","assets/hi-sqool-app-icon_512.png","alt","HiSqool logo",1,"logo"],["translate","",1,"text"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i._UZ(2,"img",1),i._uU(3,"\n  "),i.TgZ(4,"mat-card-title",2),i._uU(5,"inConstruction"),i.qZA(),i._uU(6,"\n"),i.qZA(),i._uU(7,"\n"))},dependencies:[ra,OA],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:calc(100vh - 64px);overflow:hidden}.container[_ngcontent-%COMP%]{overflow:hidden}.logo[_ngcontent-%COMP%]{width:64px;margin-bottom:32px}.text[_ngcontent-%COMP%]{font-size:20px}"]}),n})();const wU=[Sd.childRoutes([{path:"construction",component:bU,data:{title:"titles.sessions"}}])];let xU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(wU),Xi]}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Go,xU,J_]}),n})(),CU=(()=>{class n{constructor(e,r){this.actions$=e,this.authService=r,this.login$=Di(()=>this.actions$.pipe(Gr(Gi.LOGIN),(0,qA.z)(o=>this.authService.loginDirectly(o.loginContext).pipe((0,en.U)(s=>new Zw(o.loginContext.userLogin,s)),(0,Vr.K)(s=>(0,Qt.of)(new eA(s))))))),this.LoginSuccess$=Di(()=>this.actions$.pipe(Gr(Gi.LOGIN_SUCCESS),(0,Hr.b)(o=>this.authService.saveUserInfosAndNavigateUrl(o.userLogin,o.response))),{dispatch:!1}),this.LoginFailure$=Di(()=>this.actions$.pipe(Gr(Gi.LOGIN_FAILURE),(0,Hr.b)(o=>this.authService.cleanUserLogin())),{dispatch:!1}),this.Logout$=Di(()=>this.actions$.pipe(Gr(Gi.LOGOUT),(0,qA.z)(o=>this.authService.logout(o.isCleanOnboarding).pipe((0,en.U)(()=>new Ww),(0,Vr.K)(()=>(0,Qt.of)(new D_)))))),this.LogoutConfirmed$=Di(()=>this.actions$.pipe(Gr(Gi.LOGOUT_CONFIRMED),(0,Hr.b)(o=>this.authService.navigateToLoginPage())),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(bm),i.LFG(Rs))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jx={isError:!1,isLoading:!1,isLoggedIn:!1},AU=function(){return{width:"343px",height:"48px"}};let DU=(()=>{class n{constructor(e){this.router=e,this.navigateToSuggestion=()=>{this.router.navigateByUrl("/cloud")}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Vi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-home"]],decls:23,vars:11,consts:[["fxFill","","fxLayoutAlign","center center","fxLayout","column",1,"container-home","mat-typography"],["src","assets/homepage_connected.svg","alt","HiSqool logo",1,"logo"],[1,"title-container"],[1,"mat-display-2"],[1,"description-container"],["mat-raised-button","","color","primary",3,"ngStyle","click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i._UZ(2,"img",1),i._uU(3,"\n  "),i.TgZ(4,"div",2),i._uU(5,"\n    "),i.TgZ(6,"div",3),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._uU(9,"\n  "),i.qZA(),i._uU(10,"\n  "),i.TgZ(11,"div",4),i._uU(12,"\n    "),i.TgZ(13,"h3"),i._uU(14),i.ALo(15,"translate"),i.qZA(),i._uU(16,"\n  "),i.qZA(),i._uU(17,"\n  "),i.TgZ(18,"button",5),i.NdJ("click",function(){return r.navigateToSuggestion()}),i._uU(19),i.ALo(20,"translate"),i.qZA(),i._uU(21,"\n"),i.qZA(),i._uU(22,"\n")),2&e&&(i.xp6(7),i.Oqu(i.lcZ(8,4,"home.title")),i.xp6(7),i.Oqu(i.lcZ(15,6,"home.description")),i.xp6(4),i.Q6J("ngStyle",i.DdM(10,AU)),i.xp6(1),i.hij("\n    ",i.lcZ(20,8,"home.mainButton"),"\n  "))},dependencies:[Rt,$o,po,Ya,Yc,go,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:calc(100vh - 64px);overflow:hidden;background-color:#fff}.container-home[_ngcontent-%COMP%]{text-align:center;margin-top:-64px}.container-home[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:303px;margin-bottom:32px}.container-home[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{height:114px;width:343px;margin-bottom:32px}@media only screen and (min-width: 960px){.container-home[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{height:57px;width:599px}}.container-home[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]{height:24px;width:437px;margin-bottom:32px}.container-home[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:343px;height:48px;border-radius:6px}"]}),n})();const TU=[Sd.childRoutes([{path:"home",component:DU,data:{title:"titles.home"}}])];let MU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(TU),Xi]}),n})(),OU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Go,dA,ym,_d,MU,bd]}),n})();const $R=(0,Jn.ZF)("AUTH_STORE_KEY"),FU=(0,Jn.P1)($R,n=>!!n&&n.isError),kU=(0,Jn.P1)($R,n=>!!n&&n.isLoading),qR=["*"];class NU{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(r=>this._trackTile(r))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new BU(this.rowIndex,e)}_findMatchingGap(t){let e=-1,r=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(r=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(e)))}while(r-e<t||0==r);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let r=0;r<e.colspan;r++)this.tracker[t+r]=e.rowspan}}class BU{constructor(t,e){this.row=t,this.col=e}}const YR=new i.OlP("MAT_GRID_LIST");let KR=(()=>{class n{constructor(e,r){this._element=e,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Sa(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Sa(e))}_setStyle(e,r){this._element.nativeElement.style[e]=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(YR,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,r){2&e&&i.uIk("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:qR,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,r){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const UU=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class UD{constructor(){this._rows=0,this._rowspan=0}init(t,e,r,o){this._gutterSize=QR(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=r,this._direction=o}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Ah(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,r){let o=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(t,r,o,s),this.setRowStyles(t,e,o,s)}setColStyles(t,e,r,o){let s=this.getBaseTileSize(r,o);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,e)),t._setStyle("width",Ah(this.getTileSize(s,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class jU extends UD{constructor(t){super(),this.fixedRowHeight=t}init(t,e,r,o){super.init(t,e,r,o),this.fixedRowHeight=QR(this.fixedRowHeight),UU.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Ah(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Ah(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class HU extends UD{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,r,o){this.baseTileHeight=this.getBaseTileSize(r/this.rowHeightRatio,o),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Ah(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Ah(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class VU extends UD{setRowStyles(t,e){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(s,e)),t._setStyle("height",Ah(this.getTileSize(s,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Ah(n){return`calc(${n})`}function QR(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let zU=(()=>{class n{constructor(e,r){this._element=e,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Sa(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const r=`${null==e?"":e}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new VU:e&&e.indexOf(":")>-1?new HU(e):new jU(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new NU);const e=this._tileCoordinator,r=this._tiles.filter(s=>!s._gridList||s._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,e,this.cols,o),r.forEach((s,a)=>{const u=e.positions[a];this._tileStyler.setStyle(s,u.row,u.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(is,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,r,o){if(1&e&&i.Suo(o,KR,5),2&e){let s;i.iGM(s=i.CRH())&&(r._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[i._Bn([{provide:YR,useExisting:n}])],ngContentSelectors:qR,decls:2,vars:0,template:function(e,r){1&e&&(i.F$t(),i.TgZ(0,"div"),i.Hsn(1),i.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[gx,mr,gx,mr]}),n})();function WU(n,t){if(1&n&&(i.TgZ(0,"mat-grid-tile",12),i._uU(1,"\n            "),i.TgZ(2,"div",13),i._uU(3,"\n              "),i.TgZ(4,"mat-icon",14),i._uU(5),i.qZA(),i._uU(6,"\n              "),i.TgZ(7,"div",15),i._uU(8),i.ALo(9,"translate"),i.qZA(),i._uU(10,"\n            "),i.qZA(),i._uU(11,"\n          "),i.qZA()),2&n){const e=t.$implicit;i.xp6(5),i.Oqu(e.icon),i.xp6(3),i.Oqu(i.lcZ(9,2,e.title))}}let $U=(()=>{class n{constructor(e,r){this.webappService=e,this.dialogRef=r,this.questions=[{icon:"add",title:"onboarding.welcome.messages.questions.item-1"},{icon:"build",title:"onboarding.welcome.messages.questions.item-2"},{icon:"trending_up",title:"onboarding.welcome.messages.questions.item-3"},{icon:"update",title:"onboarding.welcome.messages.questions.item-4"},{icon:"verified_user",title:"onboarding.welcome.messages.questions.item-5"},{icon:"help_outline",title:"onboarding.welcome.messages.questions.item-6"}]}ngOnInit(){this.iconSource="./assets/onboarding/icon-welcome.svg",this.wordingWelcome=this.webappService.isAndroid?"onboarding.welcome.messages.welcome.tablet":"onboarding.welcome.messages.welcome.desktop"}startHandler(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Dl),i.Y36(Xa))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-onboarding-welcome"]],decls:57,vars:17,consts:[["fxLayoutAlign","center center","fxFill","",1,"screen-container","mat-typography"],["fxLayoutAlign","center center",1,"border-icon-container"],["fxLayoutAlign","center center",1,"icon-container"],[3,"src"],[1,"block"],["cols","2","rowHeight","30px"],["class","question",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","space-between center"],["fxFlex","","fxLayout","row","fxLayoutAlign","center center",1,"actions"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center",1,"support"],["href","https://idf.hisqool.com/support","target","_blank"],[1,"question"],["fxFlex","","fxLayout","row","fxLayoutGap","7px","fxLayoutAlign","left center"],["color","accent"],[1,"item-title"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"mat-card"),i._uU(3,"\n    "),i.TgZ(4,"mat-card-content"),i._uU(5,"\n      "),i.TgZ(6,"div",1),i._uU(7,"\n        "),i.TgZ(8,"div",2),i._uU(9,"\n          "),i._UZ(10,"img",3),i._uU(11,"\n        "),i.qZA(),i._uU(12,"\n      "),i.qZA(),i._uU(13,"\n      "),i.TgZ(14,"h3"),i._uU(15),i.ALo(16,"translate"),i.qZA(),i._uU(17,"\n      "),i.TgZ(18,"h2"),i._uU(19),i.ALo(20,"translate"),i.qZA(),i._uU(21,"\n      "),i.TgZ(22,"div",4),i._uU(23,"\n        "),i.TgZ(24,"h4"),i._uU(25),i.ALo(26,"translate"),i.qZA(),i._uU(27,"\n        "),i.TgZ(28,"mat-grid-list",5),i._uU(29,"\n          "),i.YNc(30,WU,12,4,"mat-grid-tile",6),i._uU(31,"\n        "),i.qZA(),i._uU(32,"\n      "),i.qZA(),i._uU(33,"\n    "),i.qZA(),i._uU(34,"\n    "),i.TgZ(35,"mat-card-footer",7),i._uU(36,"\n      "),i.TgZ(37,"div",8),i._uU(38,"\n        "),i.TgZ(39,"button",9),i.NdJ("click",function(){return r.startHandler()}),i._uU(40),i.ALo(41,"translate"),i.qZA(),i._uU(42,"\n      "),i.qZA(),i._uU(43,"\n      "),i.TgZ(44,"div",10),i._uU(45,"\n        "),i.TgZ(46,"div"),i._uU(47),i.ALo(48,"translate"),i.qZA(),i._uU(49,"\n        "),i.TgZ(50,"a",11),i._uU(51,"https://idf.hisqool.com/support"),i.qZA(),i._uU(52,"\n      "),i.qZA(),i._uU(53,"\n    "),i.qZA(),i._uU(54,"\n  "),i.qZA(),i._uU(55,"\n"),i.qZA(),i._uU(56,"\n")),2&e&&(i.xp6(10),i.s9C("src",r.iconSource,i.LSH),i.xp6(5),i.Oqu(i.lcZ(16,7,r.wordingWelcome)),i.xp6(4),i.Oqu(i.lcZ(20,9,"onboarding.welcome.messages.register")),i.xp6(6),i.Oqu(i.lcZ(26,11,"onboarding.welcome.messages.questions.title")),i.xp6(5),i.Q6J("ngForOf",r.questions),i.xp6(10),i.hij("\n          ",i.lcZ(41,13,"onboarding.welcome.action"),"\n        "),i.xp6(7),i.Oqu(i.lcZ(48,15,"onboarding.welcome.messages.support")))},dependencies:[Oi,$o,fA,po,Ya,Fs,X_,mx,IO,ks,go,zU,KR,fo],styles:[".screen-container{background-color:#283a5b}.screen-container mat-card{width:680px;padding:0;border-radius:8px}.screen-container mat-card mat-card-content{padding-top:32px;margin-bottom:0}.screen-container mat-card mat-card-content h2{margin-bottom:20px;text-align:center}.screen-container mat-card mat-card-content h3{text-align:center;margin-top:16px;margin-bottom:7px;font-weight:400;font-size:14px}.screen-container mat-card mat-card-content h4{text-align:center;font-size:14px}.screen-container mat-card mat-card-content .item-title{font-size:14px;line-height:20px;font-weight:400}.screen-container mat-card mat-card-content .block{background-color:#fafbfb;padding:16px 0}.screen-container mat-card mat-card-content .block .mat-grid-list{margin:0 auto;max-width:520px;width:100%}.screen-container mat-card mat-card-content .border-icon-container{height:208px}.screen-container mat-card mat-card-content .border-icon-container .icon-conatiner{box-sizing:content-box;margin-top:20px;margin-bottom:20px}.screen-container mat-card mat-card-content .border-icon-container .icon-conatiner img{height:168px;width:auto;margin:20px;box-sizing:content-box}.screen-container mat-card mat-card-footer{height:150px;padding:10px 0 25px}.screen-container mat-card mat-card-footer .actions{padding-top:2px}.screen-container mat-card mat-card-footer .actions button{height:48px;width:186px}.screen-container mat-card mat-card-footer .support>div{color:#0009;font-size:12px}.custom-dialog-container .mat-dialog-container{background-color:#283a5b}.custom-dialog-container .mat-dialog-container p{white-space:pre-wrap}.modal-container{background-color:#fff}\n"],encapsulation:2}),n})();function qU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",35),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.setLanguage(s))}),i._uU(1),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(1),i.hij("\n              ",e,"\n            ")}}function YU(n,t){if(1&n&&(i.TgZ(0,"div",30),i._uU(1,"\n          "),i.TgZ(2,"button",31),i._uU(3),i.TgZ(4,"i",32),i._uU(5," arrow_drop_down "),i.qZA(),i._uU(6,"\n          "),i.qZA(),i._uU(7,"\n          "),i.TgZ(8,"mat-menu",null,33),i._uU(10,"\n            "),i.YNc(11,qU,2,1,"button",34),i._uU(12,"\n          "),i.qZA(),i._uU(13,"\n        "),i.qZA()),2&n){const e=i.MAs(9),r=i.oxw();i.xp6(2),i.Q6J("matMenuTriggerFor",e),i.xp6(1),i.hij("\n            ",r.currentLanguage,""),i.xp6(8),i.Q6J("ngForOf",r.languages)}}function KU(n,t){1&n&&(i.TgZ(0,"mat-error"),i._uU(1,"\n              "),i.TgZ(2,"span",12),i._uU(3,"schoolNameIsRequired"),i.qZA(),i._uU(4,"\n            "),i.qZA())}function QU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"mat-form-field",36),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.openDialog())}),i._uU(1,"\n            "),i.TgZ(2,"mat-label",12),i._uU(3,"loginComponent.schoolName"),i.qZA(),i._uU(4,"\n            "),i._UZ(5,"input",37),i.ALo(6,"translate"),i._uU(7,"\n            "),i.TgZ(8,"mat-hint",12),i._uU(9,"loginComponent.institutionHint"),i.qZA(),i._uU(10,"\n            "),i.YNc(11,KU,5,0,"mat-error",38),i._uU(12,"\n          "),i.qZA()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("placeholder",i.lcZ(6,2,"loginComponent.schoolName")),i.xp6(6),i.Q6J("ngIf",e.loginForm.controls.schoolName.valid||e.loginForm.controls.schoolName.untouched)}}function XU(n,t){1&n&&(i.TgZ(0,"div",39),i._uU(1,"\n            "),i.TgZ(2,"p",12),i._uU(3,"login.usernameOrPasswordIncorrect"),i.qZA(),i._uU(4,"\n          "),i.qZA())}const JU=function(){return{"height.%":100}};let ej=(()=>{class n{constructor(e,r,o,s,a,u,h){this.dialog=e,this.formBuilder=r,this.i18nService=o,this.store=s,this.institutionsStore=a,this.authenticationService=u,this.credentialService=h,this.loginFormField={schoolName:"schoolName",userLogin:"userLogin",password:"password",remember:"remember"},this.displaySelectorLanguage=dr.displaySelectorLanguage,this.version=dr.version,this.versionGitlab=dr.versionGitlab,this.versionCode=dr.versionCode,this.passwordVisible=!1,this.shouldEnableInput=!1,this.schoolIsNecessary=!1,this.urlForgottenPassword=dr.URL_FORGOTTEN_PASSWORD,this.createForm()}get currentLanguage(){return this.i18nService.language}get languages(){return this.i18nService.supportedLanguages}ngOnInit(){this.credentialService.loginFinished=!1,this.credentialService.onboarding().then(e=>{e||this.checkOnBoardingWelcome()}).catch(e=>this.checkOnBoardingWelcome()),this.isLoading$=this.store.select(kU),this.isError$=this.store.select(FU),this.isError$.subscribe(e=>{!0===e&&this.setLoginError("login error")}),this.onInstitutionFieldChanges(),this.institutionResponse$=this.institutionsStore.select(BR)}login(){const e=this.loginForm.value;this.userLogin=e.userLogin,this.authenticationService.isRemember=this.loginForm.get(this.loginFormField.remember).value,this.store.dispatch(new TM(e))}setLanguage(e){this.i18nService.language=e}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}checkOnBoardingWelcome(){this.credentialService.isOnboardingDone||(this.credentialService.userProfile||this.newOnBoardingWelcomeSubscription&&this.newOnBoardingWelcomeSubscription.unsubscribe(),this.openOnBoardingWelcome())}openOnBoardingWelcome(){const e=Sh();this.dialog.open($U,e)}openDialog(){const e=this.authenticationService.institutionInfos,r=Sh();r.data={name:"loginComponent.selectSchool",placeholder:"loginComponent.institutionHint",modalData:this.modalData,oldSearchKey:this.oldSearchKey?this.oldSearchKey:"",selectedInstitutionId:e?e.id:null};const o=this.dialog.open(HR,r);o.componentInstance.searchTriggered.subscribe(a=>{this.institutionsStore.dispatch(a.searchField?new Yx(a.searchField,a.pageNumber,50,!0):new kR)},o.componentInstance.nextPageTriggered.subscribe(a=>this.institutionsStore.dispatch(new Yx(a.searchField,a.pageNumber,50,!1)))),o.componentInstance.data.modalData=this.institutionResponse$,o.afterClosed().subscribe(a=>{(a.oldSearchKey||a.selectedItem)&&(this.oldSearchKey=a.oldSearchKey,this.authenticationService.institutionInfos=a.selectedItem),a.oldSearchKey&&(this.oldSearchKey=a.oldSearchKey),a.selectedItem&&this.loginForm.patchValue({schoolName:a.selectedItem.name})})}onInstitutionFieldChanges(){this.checkLoginForm(this.schoolName),this.loginForm.get(this.loginFormField.schoolName).valueChanges.subscribe(e=>this.checkLoginForm(e))}isDisable(){return this.isLoginFieldEmpty(this.loginFormField.userLogin)||this.isLoginFieldEmpty(this.loginFormField.password)}createForm(){this.loginForm=this.formBuilder.group({schoolName:[this.schoolName],userLogin:[this.userLogin],password:[""],remember:!0})}isLoginFieldEmpty(e){return""===this.loginForm.get(e).value}setLoginError(e){this.setLoginFieldError(this.loginFormField.userLogin,e),this.setLoginFieldError(this.loginFormField.password,e)}setLoginFieldError(e,r){this.loginForm.get(e).setErrors(r?{error:r}:null)}get institutionInfos(){return this.authenticationService.institutionInfos}get schoolName(){const e=this.institutionInfos;return e?e.name:""}get userLogin(){return this.authenticationService.userLogin}set userLogin(e){this.authenticationService.userLogin=e}enableLoginForm(e){e?(this.loginForm.get(this.loginFormField.userLogin).enable(),this.loginForm.get(this.loginFormField.password).enable(),this.loginForm.get(this.loginFormField.remember).enable()):(this.loginForm.get(this.loginFormField.userLogin).disable(),this.loginForm.get(this.loginFormField.password).disable(),this.loginForm.get(this.loginFormField.remember).disable())}checkLoginForm(e){this.enableLoginForm(!this.schoolIsNecessary||!!(e&&e.length>0))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qc),i.Y36(Tu),i.Y36(Jg),i.Y36(Jn.yh),i.Y36(Jn.yh),i.Y36(Rs),i.Y36(Wo))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-login"]],decls:105,vars:25,consts:[["fxFlex","1 1 0%","fxLayout","column","fxLayoutAlign","start center","fxLayout.gt-sm","row",1,"mat-typography"],["fxLayout","column","fxLayoutAlign","center center",1,"logo-container",3,"ngStyle.gt-sm"],["fxFlex","90","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",1,"center-logos"],["id","logo-Monlycee","src","assets/login/logoMonlycee.svg","alt","Monlycee logo"],["translate","",1,"overline","text"],["id","logo-Hisqool","src","assets/hisqool-logo-white.svg","alt","HiSqool logo"],["fxLayoutAlign","end center",1,"footer-logo"],["id","logo-Idf","src","assets/login/logoIDF.png","alt","IDF logo"],["fxLayoutAlign","center center","fxLayout","column",1,"login-container"],["fxLayout","column","fxLayoutAlign","start center",1,"login"],["fxLayout","row","fxLayoutAlign","start start",1,"welcome"],["translate",""],["class","language-selector","fxFlexAlign","end start",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],["fxLayout","column"],["appearance","fill","class","login-institution-field",3,"click",4,"ngIf"],["appearance","fill"],["type","email","matInput","","formControlName","userLogin","autocomplete","userLogin",1,"login_username",3,"placeholder"],["appearance","fill",3,"hideRequiredMarker"],["matInput","","formControlName","password","autocomplete","current-password",3,"type","placeholder"],["matSuffix","",1,"icon-color-change",3,"click"],["fxLayout","row no-wrap","fxLayoutAlign","start center",1,"mat-body"],["formControlName","remember","fxFlex","auto","fxFlexAlign","center"],["id","rememberMe","translate",""],["target","_blank","translate","","fxFlex","initial","fxFlexAlign","center",3,"href"],["id","login-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"inline-loader",3,"isLoading"],["class","login-error",4,"ngIf"],[1,"version"],["fxFlexAlign","end start",1,"language-selector"],["mat-stroked-button","",3,"matMenuTriggerFor"],[1,"material-icons"],["languageMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","fill",1,"login-institution-field",3,"click"],["type","text","matInput","","readonly","true","formControlName","schoolName","autocomplete","schoolName",3,"placeholder"],[4,"ngIf"],[1,"login-error"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"div",2),i._uU(5,"\n      "),i.TgZ(6,"div",3),i._uU(7,"\n        "),i._UZ(8,"img",4),i._uU(9,"\n        "),i.TgZ(10,"span",5),i._uU(11,"login.with"),i.qZA(),i._uU(12,"\n        "),i._UZ(13,"img",6),i._uU(14,"\n      "),i.qZA(),i._uU(15,"\n    "),i.qZA(),i._uU(16,"\n    "),i.TgZ(17,"div",7),i._uU(18,"\n      "),i._UZ(19,"img",8),i._uU(20,"\n    "),i.qZA(),i._uU(21,"\n  "),i.qZA(),i._uU(22,"\n\n  "),i.TgZ(23,"div",9),i._uU(24,"\n    "),i.TgZ(25,"div",10),i._uU(26,"\n      "),i.TgZ(27,"div",11),i._uU(28,"\n        "),i.TgZ(29,"h1",12),i._uU(30,"login.welcome"),i.qZA(),i._uU(31,"\n        "),i.YNc(32,YU,14,3,"div",13),i._uU(33,"\n      "),i.qZA(),i._uU(34,"\n\n      "),i.TgZ(35,"form",14),i.NdJ("ngSubmit",function(){return r.login()}),i._uU(36,"\n        "),i._UZ(37,"br"),i._uU(38,"\n        "),i.TgZ(39,"div",15),i._uU(40,"\n          "),i._uU(41,"\n          "),i.YNc(42,QU,13,4,"mat-form-field",16),i._uU(43,"\n\n          "),i.TgZ(44,"mat-form-field",17),i._uU(45,"\n            "),i.TgZ(46,"mat-label",12),i._uU(47,"login.username"),i.qZA(),i._uU(48,"\n            "),i._UZ(49,"input",18),i.ALo(50,"translate"),i._uU(51,"\n          "),i.qZA(),i._uU(52,"\n\n          "),i.TgZ(53,"mat-form-field",19),i._uU(54,"\n            "),i.TgZ(55,"mat-label",12),i._uU(56,"login.password"),i.qZA(),i._uU(57,"\n            "),i._UZ(58,"input",20),i.ALo(59,"translate"),i._uU(60,"\n            "),i.TgZ(61,"mat-icon",21),i.NdJ("click",function(){return r.togglePasswordVisibility()}),i._uU(62),i.qZA(),i._uU(63,"\n          "),i.qZA(),i._uU(64,"\n          "),i.TgZ(65,"div",22),i._uU(66,"\n            "),i.TgZ(67,"mat-checkbox",23),i._uU(68,"\n              "),i.TgZ(69,"span",24),i._uU(70,"login.rememberMe"),i.qZA()(),i._uU(71,"\n            "),i.TgZ(72,"a",25),i._uU(73,"login.forgotPassword"),i.qZA(),i._uU(74,"\n          "),i.qZA(),i._uU(75,"\n\n          "),i._UZ(76,"br"),i._uU(77,"\n\n          "),i.TgZ(78,"button",26),i.ALo(79,"async"),i._uU(80,"\n            "),i._UZ(81,"app-loader",27),i.ALo(82,"async"),i._uU(83,"\n            "),i.TgZ(84,"span",12),i._uU(85,"login.login"),i.qZA(),i._uU(86,"\n          "),i.qZA(),i._uU(87,"\n\n          "),i.YNc(88,XU,5,0,"div",28),i.ALo(89,"async"),i._uU(90,"\n        "),i.qZA(),i._uU(91,"\n      "),i.qZA(),i._uU(92,"\n      "),i.TgZ(93,"div",29),i._uU(94,"\n        "),i.TgZ(95,"div"),i._uU(96),i.qZA(),i._uU(97,"\n        "),i.TgZ(98,"div"),i._uU(99,"2019 \xa9UNOWHY \xa9HI-SQOOL"),i.qZA(),i._uU(100,"\n      "),i.qZA(),i._uU(101,"\n    "),i.qZA(),i._uU(102,"\n  "),i.qZA(),i._uU(103,"\n"),i.qZA(),i._uU(104,"\n")),2&e&&(i.xp6(2),i.Q6J("ngStyle.gt-sm",i.DdM(24,JU)),i.xp6(30),i.Q6J("ngIf",r.displaySelectorLanguage),i.xp6(3),i.Q6J("formGroup",r.loginForm),i.xp6(7),i.Q6J("ngIf",r.schoolIsNecessary),i.xp6(7),i.Q6J("placeholder",i.lcZ(50,14,"login.username")),i.xp6(4),i.Q6J("hideRequiredMarker",!0),i.xp6(5),i.Q6J("type",r.passwordVisible?"text":"password")("placeholder",i.lcZ(59,16,"login.password")),i.xp6(4),i.hij("\n              ",r.passwordVisible?"visibility_off":"visibility","\n            "),i.xp6(10),i.Q6J("href",r.urlForgottenPassword,i.LSH),i.xp6(6),i.Q6J("disabled",r.isDisable()||i.lcZ(79,18,r.isLoading$)),i.xp6(3),i.Q6J("isLoading",i.lcZ(82,20,r.isLoading$)),i.xp6(7),i.Q6J("ngIf",i.lcZ(89,22,r.isError$)),i.xp6(8),i.hij("version : ",r.versionCode,""))},dependencies:[Oi,Rr,Au,Oa,Fc,nf,hl,Zl,ra,TD,$o,po,ZM,Fs,Yc,go,ID,ks,NA,Dx,iI,vm,o8,xh,FD,Sm,kD,br,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1;background-color:#fff}.inline-loader[_ngcontent-%COMP%]{display:inline-block}.language-selector[_ngcontent-%COMP%]{margin-left:auto}.language-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:7px 8px 7px 12px;font-size:14px;line-height:20px;font-weight:400;color:#0009}.language-selector[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-left:8px}.logo-container[_ngcontent-%COMP%]{width:100%;background-color:#283a5b}.logo-container[_ngcontent-%COMP%]   .center-logos[_ngcontent-%COMP%]{margin-top:24px}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   .center-logos[_ngcontent-%COMP%]{margin-top:100px}}.logo-container[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]{visibility:hidden}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]{visibility:visible}}.logo-container[_ngcontent-%COMP%]   #logo-Monlycee[_ngcontent-%COMP%]{height:50px;width:120px}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   #logo-Monlycee[_ngcontent-%COMP%]{height:95px;width:212px}}.logo-container[_ngcontent-%COMP%]   #logo-Hisqool[_ngcontent-%COMP%]{height:34px}.logo-container[_ngcontent-%COMP%]   #logo-Idf[_ngcontent-%COMP%]{height:19px}.logo-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff;padding:8px}@media only screen and (min-width: 960px){.logo-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:24px}}.login-container[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:392px}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:16px;margin-top:0%}#login-button[_ngcontent-%COMP%]{height:48px;border-radius:6px}.login-institution-field[_ngcontent-%COMP%]{margin-bottom:12px;cursor:pointer}.login-institution-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}#rememberMe[_ngcontent-%COMP%]{color:#0009}.login-error[_ngcontent-%COMP%]{color:#b00020;min-height:100px;margin-top:20px}.version[_ngcontent-%COMP%]{margin-top:32px;font-size:9px;line-height:14px;color:#9b9b9b;text-align:center}@media only screen and (min-width: 375px){.login-container[_ngcontent-%COMP%]{margin-top:60px}}"]}),n})();const tj=[Sd.childLoginRoute([{path:"login",component:ej,data:{title:"titles.login"}}])];let nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(tj),Xi]}),n})();function rj(n=LR,t){switch(t.type){case hc.GetSuccess:if(!t.toReplace){const e=n.institutionsResponse.results.concat(t.institutionsResponse.results);t.institutionsResponse.results=e}return Object.assign(Object.assign({},n),{institutionsResponse:t.institutionsResponse});case hc.CleanAllResearchResult:return LR;default:return n}}let ij=(()=>{class n{constructor(e){this.httpClient=e}getInstitutions(e,r,o){return this.httpClient.get(`${dr.URL_INSTITUTIONS_API}?q=${e}&page=${r}&page_size=${o}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ss))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oj=(()=>{class n{constructor(e,r){this.actions$=e,this.loginInstitutionService=r,this.getLoginInstitution$=Di(()=>this.actions$.pipe(Gr(hc.Get),(0,wr.zg)(o=>this.loginInstitutionService.getInstitutions(o.searchKey,o.pageNumber,o.resultsPerPage).pipe((0,en.U)(s=>new E9(s,o.toReplace)),(0,Vr.K)(s=>(0,Qt.of)(new C9(s)))))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(bm),i.LFG(ij))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Bc,Go,ym,_d,nj,Jn.Aw.forFeature(NR,rj),Fx.forFeature([oj]),bd,RD,mm,UA,LD]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Go,hA,_d,Bc,Wl,J_,cy,mm,Tx,RD,bd,UA,GA,ZU]}),n})(),lj=0;const jD=new i.OlP("CdkAccordion");let cj=(()=>{class n{constructor(){this._stateChanges=new yn.xQ,this._openCloseAllActions=new yn.xQ,this.id="cdk-accordion-"+lj++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Yn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[i._Bn([{provide:jD,useExisting:n}]),i.TTD]}),n})(),uj=0,dj=(()=>{class n{constructor(e,r,o){this.accordion=e,this._changeDetectorRef=r,this._expansionDispatcher=o,this._openCloseAllSubscription=qo.w.EMPTY,this.closed=new i.vpe,this.opened=new i.vpe,this.destroyed=new i.vpe,this.expandedChange=new i.vpe,this.id="cdk-accordion-child-"+uj++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((s,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Yn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Yn(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(jD,12),i.Y36(i.sBO),i.Y36(fI))},n.\u0275dir=i.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[i._Bn([{provide:jD,useValue:void 0}])]}),n})(),fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const hj=["body"];function pj(n,t){}const gj=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],mj=["mat-expansion-panel-header","*","mat-action-row"];function vj(n,t){if(1&n&&i._UZ(0,"span",2),2&n){const e=i.oxw();i.Q6J("@indicatorRotate",e._getExpandedState())}}const _j=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],yj=["mat-panel-title","mat-panel-description","*"],HD=new i.OlP("MAT_ACCORDION"),XR="225ms cubic-bezier(0.4,0.0,0.2,1)",JR={indicatorRotate:ts("indicatorRotate",[lo("collapsed, void",gr({transform:"rotate(0deg)"})),lo("expanded",gr({transform:"rotate(180deg)"})),xi("expanded <=> collapsed, void => collapsed",pi(XR))]),bodyExpansion:ts("bodyExpansion",[lo("collapsed, void",gr({height:"0px",visibility:"hidden"})),lo("expanded",gr({height:"*",visibility:"visible"})),xi("expanded <=> collapsed, void => collapsed",pi(XR))])},e3=new i.OlP("MAT_EXPANSION_PANEL");let bj=(()=>{class n{constructor(e,r){this._template=e,this._expansionPanel=r}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Rgc),i.Y36(e3,8))},n.\u0275dir=i.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),wj=0;const t3=new i.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let n3=(()=>{class n extends dj{constructor(e,r,o,s,a,u,h){super(e,r,o),this._viewContainerRef=s,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new i.vpe,this.afterCollapse=new i.vpe,this._inputChanges=new yn.xQ,this._headerId="mat-expansion-panel-header-"+wj++,this._bodyAnimationDone=new yn.xQ,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe((0,za.x)((x,M)=>x.fromState===M.fromState&&x.toState===M.toState)).subscribe(x=>{"void"!==x.fromState&&("expanded"===x.toState?this.afterExpand.emit():"collapsed"===x.toState&&this.afterCollapse.emit())}),h&&(this.hideToggle=h.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Yn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,co.O)(null),(0,Tn.h)(()=>this.expanded&&!this._portal),(0,Cr.q)(1)).subscribe(()=>{this._portal=new cm(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,r=this._body.nativeElement;return e===r||r.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(HD,12),i.Y36(i.sBO),i.Y36(fI),i.Y36(i.s_b),i.Y36(m),i.Y36(i.QbO,8),i.Y36(t3,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,r,o){if(1&e&&i.Suo(o,bj,5),2&e){let s;i.iGM(s=i.CRH())&&(r._lazyContent=s.first)}},viewQuery:function(e,r){if(1&e&&i.Gf(hj,5),2&e){let o;i.iGM(o=i.CRH())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,r){2&e&&i.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[i._Bn([{provide:HD,useValue:void 0},{provide:e3,useExisting:n}]),i.qOj,i.TTD],ngContentSelectors:mj,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,r){1&e&&(i.F$t(gj),i.Hsn(0),i.TgZ(1,"div",0,1),i.NdJ("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),i.TgZ(3,"div",2),i.Hsn(4,1),i.YNc(5,pj,0,0,"ng-template",3),i.qZA(),i.Hsn(6,2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),i.uIk("aria-labelledby",r._headerId),i.xp6(4),i.Q6J("cdkPortalOutlet",r._portal))},dependencies:[um],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[JR.bodyExpansion]},changeDetection:0}),n})();class xj{}const Ej=AA(xj);let r3=(()=>{class n extends Ej{constructor(e,r,o,s,a,u,h){super(),this.panel=e,this._element=r,this._focusMonitor=o,this._changeDetectorRef=s,this._animationMode=u,this._parentChangeSubscription=qo.w.EMPTY;const x=e.accordion?e.accordion._stateChanges.pipe((0,Tn.h)(M=>!(!M.hideToggle&&!M.togglePosition))):jo.E;this.tabIndex=parseInt(h||"")||0,this._parentChangeSubscription=(0,Ei.T)(e.opened,e.closed,x,e._inputChanges.pipe((0,Tn.h)(M=>!!(M.hideToggle||M.disabled||M.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe((0,Tn.h)(()=>e._containsFocus())).subscribe(()=>o.focusVia(r,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ka(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,r){e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(n3,1),i.Y36(i.SBq),i.Y36(fc),i.Y36(i.sBO),i.Y36(t3,8),i.Y36(i.QbO,8),i.$8M("tabindex"))},n.\u0275cmp=i.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&e&&(i.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),i.Udp("height",r._getHeaderHeight()),i.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[i.qOj],ngContentSelectors:yj,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,r){1&e&&(i.F$t(_j),i.TgZ(0,"span",0),i.Hsn(1),i.Hsn(2,1),i.Hsn(3,2),i.qZA(),i.YNc(4,vj,1,1,"span",1)),2&e&&(i.ekj("mat-content-hide-toggle",!r._showToggle()),i.xp6(4),i.Q6J("ngIf",r._showToggle()))},dependencies:[Rr],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[JR.indicatorRotate]},changeDetection:0}),n})(),Cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Sj=(()=>{class n extends cj{constructor(){super(...arguments),this._ownHeaders=new i.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Yn(e)}ngAfterContentInit(){this._headers.changes.pipe((0,co.O)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new wA(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,r,o){if(1&e&&i.Suo(o,r3,5),2&e){let s;i.iGM(s=i.CRH())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,r){2&e&&i.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[i._Bn([{provide:HD,useExisting:n}]),i.qOj]}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,mr,fj,dm]}),n})();var n,Tj=(n=function(e,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])})(e,r)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Mj=function(n){function t(e,r){var o=this.constructor,s=n.call(this,e,r)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1,configurable:!0}),function Dj(n,t){var e=Object.setPrototypeOf;e?e(n,t):n.__proto__=t}(s,o.prototype),function i3(n,t){void 0===t&&(t=n.constructor);var e=Error.captureStackTrace;e&&e(n,t)}(s),s}return Tj(t,n),t}(Error),Ij=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rj=function(n){function t(e){void 0===e&&(e=void 0);var r=n.call(this,e)||this;return r.message=e,r}return Ij(t,n),t.prototype.getKind=function(){return this.constructor.kind},t.kind="Exception",t}(Mj);const sa=Rj;var Pj=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Pj(t,n),t.kind="ArgumentException",t}(sa);const mo=Fj;var kj=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return kj(t,n),t.kind="IllegalArgumentException",t}(sa);const Pn=Lj;var Nj=function(){function n(t){if(this.binarizer=t,null===t)throw new Pn("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},n.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(t,e,r,o){var s=this.binarizer.getLuminanceSource().crop(t,e,r,o);return new n(this.binarizer.createBinarizer(s))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(t))},n.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(t))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(t){return""}},n}();const o3=Nj;var Bj=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Bj(t,n),t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(sa);const bo=Uj;var jj=function(){function n(t){this.source=t}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}();const Hj=jj;var Vj=function(){function n(){}return n.arraycopy=function(t,e,r,o,s){for(;s--;)r[o++]=t[e++]},n.currentTimeMillis=function(){return Date.now()},n}();const Ti=Vj;var Gj=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Gj(t,n),t.kind="IndexOutOfBoundsException",t}(sa);const VD=zj;var Zj=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wj=function(n){function t(e,r){void 0===e&&(e=void 0),void 0===r&&(r=void 0);var o=n.call(this,r)||this;return o.index=e,o.message=r,o}return Zj(t,n),t.kind="ArrayIndexOutOfBoundsException",t}(VD);const s3=Wj;var qj=function(){function n(){}return n.fill=function(t,e){for(var r=0,o=t.length;r<o;r++)t[r]=e},n.fillWithin=function(t,e,r,o){n.rangeCheck(t.length,e,r);for(var s=e;s<r;s++)t[s]=o},n.rangeCheck=function(t,e,r){if(e>r)throw new Pn("fromIndex("+e+") > toIndex("+r+")");if(e<0)throw new s3(e);if(r>t)throw new s3(r)},n.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},n.create=function(t,e,r){return Array.from({length:t}).map(function(s){return Array.from({length:e}).fill(r)})},n.createInt32Array=function(t,e,r){return Array.from({length:t}).map(function(s){return Int32Array.from({length:e}).fill(r)})},n.equals=function(t,e){if(!(t&&e&&t.length&&e.length&&t.length===e.length))return!1;for(var r=0,o=t.length;r<o;r++)if(t[r]!==e[r])return!1;return!0},n.hashCode=function(t){var e,r;if(null===t)return 0;var o=1;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=s.next();!a.done;a=s.next())o=31*o+a.value}catch(h){e={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o},n.fillUint8Array=function(t,e){for(var r=0;r!==t.length;r++)t[r]=e},n.copyOf=function(t,e){return t.slice(0,e)},n.copyOfUint8Array=function(t,e){if(t.length<=e){var r=new Uint8Array(e);return r.set(t),r}return t.slice(0,e)},n.copyOfRange=function(t,e,r){var o=r-e,s=new Int32Array(o);return Ti.arraycopy(t,e,s,0,o),s},n.binarySearch=function(t,e,r){void 0===r&&(r=n.numberComparator);for(var o=0,s=t.length-1;o<=s;){var a=s+o>>1,u=r(e,t[a]);if(u>0)o=a+1;else{if(!(u<0))return a;s=a-1}}return-o-1},n.numberComparator=function(t,e){return t-e},n}();const aa=qj;var Yj=function(){function n(){}return n.numberOfTrailingZeros=function(t){var e;if(0===t)return 32;var r=31;return 0!=(e=t<<16)&&(r-=16,t=e),0!=(e=t<<8)&&(r-=8,t=e),0!=(e=t<<4)&&(r-=4,t=e),0!=(e=t<<2)&&(r-=2,t=e),r-(t<<1>>>31)},n.numberOfLeadingZeros=function(t){if(0===t)return 32;var e=1;return t>>>16==0&&(e+=16,t<<=16),t>>>24==0&&(e+=8,t<<=8),t>>>28==0&&(e+=4,t<<=4),t>>>30==0&&(e+=2,t<<=2),e-(t>>>31)},n.toHexString=function(t){return t.toString(16)},n.toBinaryString=function(t){return String(parseInt(String(t),2))},n.bitCount=function(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,63&(t+=t>>>8)+(t>>>16)},n.truncDivision=function(t,e){return Math.trunc(t/e)},n.parseInt=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}();const Or=Yj;var Kj=function(){function n(t,e){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==e?n.makeArray(t):e)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var e=n.makeArray(t);Ti.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}},n.prototype.get=function(t){return 0!=(this.bits[Math.floor(t/32)]&1<<(31&t))},n.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)},n.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)},n.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,o=Math.floor(t/32),s=r[o];s&=~((1<<(31&t))-1);for(var a=r.length;0===s;){if(++o===a)return e;s=r[o]}var u=32*o+Or.numberOfTrailingZeros(s);return u>e?e:u},n.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,o=Math.floor(t/32),s=~r[o];s&=~((1<<(31&t))-1);for(var a=r.length;0===s;){if(++o===a)return e;s=~r[o]}var u=32*o+Or.numberOfTrailingZeros(s);return u>e?e:u},n.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},n.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new Pn;if(e!==t){e--;for(var r=Math.floor(t/32),o=Math.floor(e/32),s=this.bits,a=r;a<=o;a++)s[a]|=(2<<(a<o?31:31&e))-(1<<(a>r?0:31&t))}},n.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,r=0;r<t;r++)e[r]=0},n.prototype.isRange=function(t,e,r){if(e<t||t<0||e>this.size)throw new Pn;if(e===t)return!0;e--;for(var o=Math.floor(t/32),s=Math.floor(e/32),a=this.bits,u=o;u<=s;u++){var M=(2<<(u<s?31:31&e))-(1<<(u>o?0:31&t))&4294967295;if((a[u]&M)!==(r?M:0))return!1}return!0},n.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},n.prototype.appendBits=function(t,e){if(e<0||e>32)throw new Pn("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var r=e;r>0;r--)this.appendBit(1==(t>>r-1&1))},n.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var r=0;r<e;r++)this.appendBit(t.get(r))},n.prototype.xor=function(t){if(this.size!==t.size)throw new Pn("Sizes don't match");for(var e=this.bits,r=0,o=e.length;r<o;r++)e[r]^=t.bits[r]},n.prototype.toBytes=function(t,e,r,o){for(var s=0;s<o;s++){for(var a=0,u=0;u<8;u++)this.get(t)&&(a|=1<<7-u),t++;e[r+s]=a}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),r=e+1,o=this.bits,s=0;s<r;s++){var a=o[s];t[e-s]=a=(a=(a=(a=(a=a>>1&1431655765|(1431655765&a)<<1)>>2&858993459|(858993459&a)<<2)>>4&252645135|(252645135&a)<<4)>>8&16711935|(16711935&a)<<8)>>16&65535|(65535&a)<<16}if(this.size!==32*r){var u=32*r-this.size,h=t[0]>>>u;for(s=1;s<r;s++){var x=t[s];t[s-1]=h|=x<<32-u,h=x>>>u}t[r-1]=h}this.bits=t},n.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},n.prototype.equals=function(t){return t instanceof n&&(this.size===t.size&&aa.equals(this.bits,t.bits))},n.prototype.hashCode=function(){return 31*this.size+aa.hashCode(this.bits)},n.prototype.toString=function(){for(var t="",e=0,r=this.size;e<r;e++)0==(7&e)&&(t+=" "),t+=this.get(e)?"X":".";return t},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n}();const Yo=Kj;var eE=(()=>(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ASSUME_GS1=7]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(eE||(eE={})),eE))();const ni=eE;var Qj=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Qj(t,n),t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(sa);const Sn=Xj;var Jj=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ri=(()=>(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"}(ri||(ri={})),ri))(),eH=function(){function n(t,e,r){for(var o,s,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];this.valueIdentifier=t,this.name=r,this.values="number"==typeof e?Int32Array.from([e]):e,this.otherEncodingNames=a,n.VALUE_IDENTIFIER_TO_ECI.set(t,this),n.NAME_TO_ECI.set(r,this);for(var h=this.values,x=0,M=h.length;x!==M;x++){var L=h[x];n.VALUES_TO_ECI.set(L,this)}try{for(var W=Jj(a),q=W.next();!q.done;q=W.next()){var ye=q.value;n.NAME_TO_ECI.set(ye,this)}}catch(Le){o={error:Le}}finally{try{q&&!q.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new Sn("incorect value");var e=n.VALUES_TO_ECI.get(t);if(void 0===e)throw new Sn("incorect value");return e},n.getCharacterSetECIByName=function(t){var e=n.NAME_TO_ECI.get(t);if(void 0===e)throw new Sn("incorect value");return e},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.getName()===e.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(ri.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(ri.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(ri.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(ri.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(ri.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(ri.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(ri.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(ri.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(ri.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(ri.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(ri.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(ri.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(ri.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(ri.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(ri.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(ri.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(ri.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(ri.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(ri.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(ri.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(ri.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(ri.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(ri.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(ri.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(ri.Big5,28,"Big5"),n.GB18030=new n(ri.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(ri.EUC_KR,30,"EUC_KR","EUC-KR"),n}();const Oo=eH;var tH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nH=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return tH(t,n),t.kind="UnsupportedOperationException",t}(sa);const tE=nH;var rH=function(){function n(){}return n.decode=function(t,e){var r=this.encodingName(e);return this.customDecoder?this.customDecoder(t,r):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},n.shouldDecodeOnFallback=function(t){return!n.isBrowser()&&"ISO-8859-1"===t},n.encode=function(t,e){var r=this.encodingName(e);return this.customEncoder?this.customEncoder(t,r):"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)},n.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},n.encodingName=function(t){return"string"==typeof t?t:t.getName()},n.encodingCharacterSet=function(t){return t instanceof Oo?t:Oo.getCharacterSetECIByName(t)},n.decodeFallback=function(t,e){var r=this.encodingCharacterSet(e);if(n.isDecodeFallbackSupported(r)){for(var o="",s=0,a=t.length;s<a;s++){var u=t[s].toString(16);u.length<2&&(u="0"+u),o+="%"+u}return decodeURIComponent(o)}if(r.equals(Oo.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new tE("Encoding "+this.encodingName(e)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(t){return t.equals(Oo.UTF8)||t.equals(Oo.ISO8859_1)||t.equals(Oo.ASCII)},n.encodeFallback=function(t){for(var r=btoa(unescape(encodeURIComponent(t))).split(""),o=[],s=0;s<r.length;s++)o.push(r[s].charCodeAt(0));return new Uint8Array(o)},n}();const pc=rH;var iH=function(){function n(){}return n.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var r=e?e.getName():this.ISO88591;return pc.decode(new Uint8Array([t]),r)},n.guessEncoding=function(t,e){if(null!=e&&void 0!==e.get(ni.CHARACTER_SET))return e.get(ni.CHARACTER_SET).toString();for(var r=t.length,o=!0,s=!0,a=!0,u=0,h=0,x=0,M=0,L=0,W=0,q=0,ye=0,Le=0,rt=0,it=0,lt=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],Ot=0;Ot<r&&(o||s||a);Ot++){var Pt=255&t[Ot];a&&(u>0?0==(128&Pt)?a=!1:u--:0!=(128&Pt)&&(0==(64&Pt)?a=!1:(u++,0==(32&Pt)?h++:(u++,0==(16&Pt)?x++:(u++,0==(8&Pt)?M++:a=!1))))),o&&(Pt>127&&Pt<160?o=!1:Pt>159&&(Pt<192||215===Pt||247===Pt)&&it++),s&&(L>0?Pt<64||127===Pt||Pt>252?s=!1:L--:128===Pt||160===Pt||Pt>239?s=!1:Pt>160&&Pt<224?(W++,ye=0,++q>Le&&(Le=q)):Pt>127?(L++,q=0,++ye>rt&&(rt=ye)):(q=0,ye=0))}return a&&u>0&&(a=!1),s&&L>0&&(s=!1),a&&(lt||h+x+M>0)?n.UTF8:s&&(n.ASSUME_SHIFT_JIS||Le>=3||rt>=3)?n.SHIFT_JIS:o&&s?2===Le&&2===W||10*it>=r?n.SHIFT_JIS:n.ISO88591:o?n.ISO88591:s?n.SHIFT_JIS:a?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=-1;function s(u,h,x,M,L,W){if("%%"===u)return"%";if(void 0!==e[++o]){u=M?parseInt(M.substr(1)):void 0;var ye,q=L?parseInt(L.substr(1)):void 0;switch(W){case"s":ye=e[o];break;case"c":ye=e[o][0];break;case"f":ye=parseFloat(e[o]).toFixed(u);break;case"p":ye=parseFloat(e[o]).toPrecision(u);break;case"e":ye=parseFloat(e[o]).toExponential(u);break;case"x":ye=parseInt(e[o]).toString(q||16);break;case"d":ye=parseFloat(parseInt(e[o],q||10).toPrecision(u)).toFixed(0)}ye="object"==typeof ye?JSON.stringify(ye):(+ye).toString(q);for(var Le=parseInt(x),rt=x&&x[0]+""=="0"?"0":" ";ye.length<Le;)ye=void 0!==h?ye+rt:rt+ye;return ye}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,s)},n.getBytes=function(t,e){return pc.encode(t,e)},n.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},n.getCharAt=function(t){return String.fromCharCode(t)},n.SHIFT_JIS=Oo.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=Oo.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=Oo.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}();const bi=iH;var oH=function(){function n(t){void 0===t&&(t=""),this.value=t}return n.prototype.enableDecoding=function(t){return this.encoding=t,this},n.prototype.append=function(t){return this.value+="string"==typeof t?t.toString():this.encoding?bi.castAsNonUtf8Char(t,this.encoding):String.fromCharCode(t),this},n.prototype.appendChars=function(t,e,r){for(var o=e;e<e+r;o++)this.append(t[o]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(t){return this.value.charAt(t)},n.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},n.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},n.prototype.substring=function(t,e){return this.value.substring(t,e)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)},n}();const gi=oH;var sH=function(){function n(t,e,r,o){if(this.width=t,this.height=e,this.rowSize=r,this.bits=o,null==e&&(e=t),this.height=e,t<1||e<1)throw new Pn("Both dimensions must be greater than 0");null==r&&(r=Math.floor((t+31)/32)),this.rowSize=r,null==o&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(t){for(var e=t.length,r=t[0].length,o=new n(r,e),s=0;s<e;s++)for(var a=t[s],u=0;u<r;u++)a[u]&&o.set(u,s);return o},n.parseFromString=function(t,e,r){if(null===t)throw new Pn("stringRepresentation cannot be null");for(var o=new Array(t.length),s=0,a=0,u=-1,h=0,x=0;x<t.length;)if("\n"===t.charAt(x)||"\r"===t.charAt(x)){if(s>a){if(-1===u)u=s-a;else if(s-a!==u)throw new Pn("row lengths do not match");a=s,h++}x++}else if(t.substring(x,x+e.length)===e)x+=e.length,o[s]=!0,s++;else{if(t.substring(x,x+r.length)!==r)throw new Pn("illegal character encountered: "+t.substring(x));x+=r.length,o[s]=!1,s++}if(s>a){if(-1===u)u=s-a;else if(s-a!==u)throw new Pn("row lengths do not match");h++}for(var M=new n(u,h),L=0;L<s;L++)o[L]&&M.set(Math.floor(L%u),Math.floor(L/u));return M},n.prototype.get=function(t,e){var r=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[r]>>>(31&t)&1)},n.prototype.set=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(31&t)&4294967295},n.prototype.unset=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(31&t)&4294967295)},n.prototype.flip=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(31&t)&4294967295},n.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Pn("input matrix dimensions do not match");for(var e=new Yo(Math.floor(this.width/32)+1),r=this.rowSize,o=this.bits,s=0,a=this.height;s<a;s++)for(var u=s*r,h=t.getRow(s,e).getBitArray(),x=0;x<r;x++)o[u+x]^=h[x]},n.prototype.clear=function(){for(var t=this.bits,e=t.length,r=0;r<e;r++)t[r]=0},n.prototype.setRegion=function(t,e,r,o){if(e<0||t<0)throw new Pn("Left and top must be nonnegative");if(o<1||r<1)throw new Pn("Height and width must be at least 1");var s=t+r,a=e+o;if(a>this.height||s>this.width)throw new Pn("The region must fit inside the matrix");for(var u=this.rowSize,h=this.bits,x=e;x<a;x++)for(var M=x*u,L=t;L<s;L++)h[M+Math.floor(L/32)]|=1<<(31&L)&4294967295},n.prototype.getRow=function(t,e){null==e||e.getSize()<this.width?e=new Yo(this.width):e.clear();for(var r=this.rowSize,o=this.bits,s=t*r,a=0;a<r;a++)e.setBulk(32*a,o[s+a]);return e},n.prototype.setRow=function(t,e){Ti.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),r=new Yo(t),o=new Yo(t),s=0,a=Math.floor((e+1)/2);s<a;s++)r=this.getRow(s,r),o=this.getRow(e-1-s,o),r.reverse(),o.reverse(),this.setRow(s,o),this.setRow(e-1-s,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.height,r=this.rowSize,o=this.bits,s=this.width,a=e,u=-1,h=-1,x=0;x<e;x++)for(var M=0;M<r;M++){var L=o[x*r+M];if(0!==L){if(x<a&&(a=x),x>h&&(h=x),32*M<s){for(var W=0;0==(L<<31-W&4294967295);)W++;32*M+W<s&&(s=32*M+W)}if(32*M+31>u){for(W=31;L>>>W==0;)W--;32*M+W>u&&(u=32*M+W)}}}return u<s||h<a?null:Int32Array.from([s,a,u-s+1,h-a+1])},n.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,r=0;r<e.length&&0===e[r];)r++;if(r===e.length)return null;for(var o=r/t,s=r%t*32,a=e[r],u=0;0==(a<<31-u&4294967295);)u++;return Int32Array.from([s+=u,o])},n.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,r=e.length-1;r>=0&&0===e[r];)r--;if(r<0)return null;for(var o=Math.floor(r/t),s=32*Math.floor(r%t),a=e[r],u=31;a>>>u==0;)u--;return Int32Array.from([s+=u,o])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(t){return t instanceof n&&(this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&aa.equals(this.bits,t.bits))},n.prototype.hashCode=function(){var t=this.width;return 31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+aa.hashCode(this.bits)},n.prototype.toString=function(t,e,r){return void 0===t&&(t="X "),void 0===e&&(e="  "),void 0===r&&(r="\n"),this.buildToString(t,e,r)},n.prototype.buildToString=function(t,e,r){for(var o=new gi,s=0,a=this.height;s<a;s++){for(var u=0,h=this.width;u<h;u++)o.append(this.get(u,s)?t:e);o.append(r)}return o.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}();const el=sH;var aH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lH=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return aH(t,n),t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(sa);const tn=lH;var cH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uH=function(n){function t(e){var r=n.call(this,e)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return cH(t,n),t.prototype.getBlackRow=function(e,r){var o=this.getLuminanceSource(),s=o.getWidth();null==r||r.getSize()<s?r=new Yo(s):r.clear(),this.initArrays(s);for(var a=o.getRow(e,this.luminances),u=this.buckets,h=0;h<s;h++)u[(255&a[h])>>t.LUMINANCE_SHIFT]++;var x=t.estimateBlackPoint(u);if(s<3)for(h=0;h<s;h++)(255&a[h])<x&&r.set(h);else{var M=255&a[0],L=255&a[1];for(h=1;h<s-1;h++){var W=255&a[h+1];(4*L-M-W)/2<x&&r.set(h),M=L,L=W}}return r},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),r=e.getWidth(),o=e.getHeight(),s=new el(r,o);this.initArrays(r);for(var a=this.buckets,u=1;u<5;u++)for(var h=Math.floor(o*u/5),x=e.getRow(h,this.luminances),M=Math.floor(4*r/5),L=Math.floor(r/5);L<M;L++)a[(255&x[L])>>t.LUMINANCE_SHIFT]++;var q=t.estimateBlackPoint(a),ye=e.getMatrix();for(u=0;u<o;u++){var Le=u*r;for(L=0;L<r;L++)(255&ye[Le+L])<q&&s.set(L,u)}return s},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var r=this.buckets,o=0;o<t.LUMINANCE_BUCKETS;o++)r[o]=0},t.estimateBlackPoint=function(e){for(var r=e.length,o=0,s=0,a=0,u=0;u<r;u++)e[u]>a&&(s=u,a=e[u]),e[u]>o&&(o=e[u]);var h=0,x=0;for(u=0;u<r;u++){var M=u-s;(L=e[u]*M*M)>x&&(h=u,x=L)}if(s>h){var W=s;s=h,h=W}if(h-s<=r/16)throw new tn;var q=h-1,ye=-1;for(u=h-1;u>s;u--){var L,Le=u-s;(L=Le*Le*(h-u)*(o-e[u]))>ye&&(q=u,ye=L)}return q<<t.LUMINANCE_SHIFT},t.LUMINANCE_SHIFT=8-(t.LUMINANCE_BITS=5),t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(Hj);const dH=uH;var fH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hH=function(n){function t(e){var r=n.call(this,e)||this;return r.matrix=null,r}return fH(t,n),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var e=this.getLuminanceSource(),r=e.getWidth(),o=e.getHeight();if(r>=t.MINIMUM_DIMENSION&&o>=t.MINIMUM_DIMENSION){var s=e.getMatrix(),a=r>>t.BLOCK_SIZE_POWER;0!=(r&t.BLOCK_SIZE_MASK)&&a++;var u=o>>t.BLOCK_SIZE_POWER;0!=(o&t.BLOCK_SIZE_MASK)&&u++;var h=t.calculateBlackPoints(s,a,u,r,o),x=new el(r,o);t.calculateThresholdForBlock(s,a,u,r,o,h,x),this.matrix=x}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,r,o,s,a,u,h){for(var x=a-t.BLOCK_SIZE,M=s-t.BLOCK_SIZE,L=0;L<o;L++){var W=L<<t.BLOCK_SIZE_POWER;W>x&&(W=x);for(var q=t.cap(L,2,o-3),ye=0;ye<r;ye++){var Le=ye<<t.BLOCK_SIZE_POWER;Le>M&&(Le=M);for(var rt=t.cap(ye,2,r-3),it=0,lt=-2;lt<=2;lt++){var Ot=u[q+lt];it+=Ot[rt-2]+Ot[rt-1]+Ot[rt]+Ot[rt+1]+Ot[rt+2]}t.thresholdBlock(e,Le,W,it/25,s,h)}}},t.cap=function(e,r,o){return e<r?r:e>o?o:e},t.thresholdBlock=function(e,r,o,s,a,u){for(var h=0,x=o*a+r;h<t.BLOCK_SIZE;h++,x+=a)for(var M=0;M<t.BLOCK_SIZE;M++)(255&e[x+M])<=s&&u.set(r+M,o+h)},t.calculateBlackPoints=function(e,r,o,s,a){for(var u=a-t.BLOCK_SIZE,h=s-t.BLOCK_SIZE,x=new Array(o),M=0;M<o;M++){x[M]=new Int32Array(r);var L=M<<t.BLOCK_SIZE_POWER;L>u&&(L=u);for(var W=0;W<r;W++){var q=W<<t.BLOCK_SIZE_POWER;q>h&&(q=h);for(var ye=0,Le=255,rt=0,it=0,lt=L*s+q;it<t.BLOCK_SIZE;it++,lt+=s){for(var Ot=0;Ot<t.BLOCK_SIZE;Ot++){var Pt=255&e[lt+Ot];ye+=Pt,Pt<Le&&(Le=Pt),Pt>rt&&(rt=Pt)}if(rt-Le>t.MIN_DYNAMIC_RANGE)for(it++,lt+=s;it<t.BLOCK_SIZE;it++,lt+=s)for(Ot=0;Ot<t.BLOCK_SIZE;Ot++)ye+=255&e[lt+Ot]}var rn=ye>>2*t.BLOCK_SIZE_POWER;if(rt-Le<=t.MIN_DYNAMIC_RANGE&&(rn=Le/2,M>0&&W>0)){var gn=(x[M-1][W]+2*x[M][W-1]+x[M-1][W-1])/4;Le<gn&&(rn=gn)}x[M][W]=rn}}return x},t.BLOCK_SIZE_MASK=(t.BLOCK_SIZE=1<<(t.BLOCK_SIZE_POWER=3))-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(dH);const a3=hH;var pH=function(){function n(t,e){this.width=t,this.height=e}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(t,e,r,o){throw new tE("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new tE("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new tE("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new gi,r=0;r<this.height;r++){for(var o=this.getRow(r,t),s=0;s<this.width;s++){var a=255&o[s];e.append(a<64?"#":a<128?"+":a<192?".":" ")}e.append("\n")}return e.toString()},n}();const my=pH;var gH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mH=function(n){function t(e){var r=n.call(this,e.getWidth(),e.getHeight())||this;return r.delegate=e,r}return gH(t,n),t.prototype.getRow=function(e,r){for(var o=this.delegate.getRow(e,r),s=this.getWidth(),a=0;a<s;a++)o[a]=255-(255&o[a]);return o},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r),s=0;s<r;s++)o[s]=255-(255&e[s]);return o},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,r,o,s){return new t(this.delegate.crop(e,r,o,s))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(my);const nE=mH;var vH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_H=function(n){function t(e){var r=n.call(this,e.width,e.height)||this;return r.canvas=e,r.tempCanvasElement=null,r.buffer=t.makeBufferFromCanvasImageData(e),r}return vH(t,n),t.makeBufferFromCanvasImageData=function(e){var r=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(r.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,r,o){for(var s=new Uint8ClampedArray(r*o),a=0,u=0,h=e.length;a<h;a+=4,u++){s[u]=0===e[a+3]?255:306*e[a]+601*e[a+1]+117*e[a+2]+512>>10}return s},t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Pn("Requested row is outside the image: "+e);var o=this.getWidth(),s=e*o;return null===r?r=this.buffer.slice(s,s+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(s,s+o))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,o,s){return n.prototype.crop.call(this,e,r,o,s),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement(),o=r.getContext("2d"),s=e*t.DEGREE_TO_RADIANS,a=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(s))*a+Math.abs(Math.sin(s))*u),x=Math.ceil(Math.abs(Math.sin(s))*a+Math.abs(Math.cos(s))*u);return r.width=h,r.height=x,o.translate(h/2,x/2),o.rotate(s),o.drawImage(this.canvas,a/-2,u/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new nE(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}(my),yH=function(){function n(t,e,r){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),Ls=function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})},Ns=function(n,t){var r,o,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(x){return function(M){return function h(x){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&x[0]?o.return:x[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,x[1])).done)return s;switch(o=0,s&&(x=[2&x[0],s.value]),x[0]){case 0:case 1:s=x;break;case 4:return e.label++,{value:x[1],done:!1};case 5:e.label++,o=x[1],x=[0];continue;case 7:x=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===x[0]||2===x[0])){e=0;continue}if(3===x[0]&&(!s||x[1]>s[0]&&x[1]<s[3])){e.label=x[1];break}if(6===x[0]&&e.label<s[1]){e.label=s[1],s=x;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(x);break}s[2]&&e.ops.pop(),e.trys.pop();continue}x=t.call(n,e)}catch(M){x=[6,M],o=0}finally{r=s=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,M])}}},Am=function(){function n(t,e,r){void 0===e&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return Ls(this,void 0,void 0,function(){var t,e,r,o,s,a,L,W;return Ns(this,function(q){switch(q.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=q.sent(),e=[];try{for(r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=r.next();!o.done;o=r.next())"videoinput"===(a="video"===(s=o.value).kind?"videoinput":s.kind)&&e.push({deviceId:s.deviceId||s.id,label:s.label||"Video device "+(e.length+1),kind:a,groupId:s.groupId})}catch(ye){L={error:ye}}finally{try{o&&!o.done&&(W=r.return)&&W.call(r)}finally{if(L)throw L.error}}return[2,e]}})})},n.prototype.getVideoInputDevices=function(){return Ls(this,void 0,void 0,function(){return Ns(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(r){return new yH(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(t){return Ls(this,void 0,void 0,function(){var e;return Ns(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(e=r.sent())?[2,e.find(function(o){return o.deviceId===t})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(t,e){return Ls(this,void 0,void 0,function(){return Ns(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(t,e){return Ls(this,void 0,void 0,function(){return Ns(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e)];case 1:return[2,s.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(t,e){return Ls(this,void 0,void 0,function(){var r;return Ns(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,o.sent()]}})})},n.prototype.decodeOnceFromStream=function(t,e){return Ls(this,void 0,void 0,function(){var r;return Ns(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=s.sent(),[4,this.decodeOnce(r)];case 2:return[2,s.sent()]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,r){return Ls(this,void 0,void 0,function(){return Ns(this,function(o){switch(o.label){case 0:return[4,this.decodeFromVideoDevice(t,e,r)];case 1:return[2,o.sent()]}})})},n.prototype.decodeFromVideoDevice=function(t,e,r){return Ls(this,void 0,void 0,function(){return Ns(this,function(a){switch(a.label){case 0:return[4,this.decodeFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e,r)];case 1:return[2,a.sent()]}})})},n.prototype.decodeFromConstraints=function(t,e,r){return Ls(this,void 0,void 0,function(){var o;return Ns(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return o=s.sent(),[4,this.decodeFromStream(o,e,r)];case 2:return[2,s.sent()]}})})},n.prototype.decodeFromStream=function(t,e,r){return Ls(this,void 0,void 0,function(){var o;return Ns(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return o=s.sent(),[4,this.decodeContinuously(o,r)];case 2:return[2,s.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(t,e){return Ls(this,void 0,void 0,function(){var r;return Ns(this,function(o){switch(o.label){case 0:return r=this.prepareVideoElement(e),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return o.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise(function(r,o){return e.playVideoOnLoad(t,function(){return r()})})},n.prototype.playVideoOnLoad=function(t,e){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},n.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},n.prototype.tryPlayVideo=function(t){return Ls(this,void 0,void 0,function(){return Ns(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new mo("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new mo("element with id '"+t+"' must be an "+e+" element");return r},n.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new mo("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},n.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new mo("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},n.prototype.decodeFromVideoContinuously=function(t,e,r){if(void 0===t&&void 0===e)throw new mo("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,r):this.decodeFromVideoElementContinuously(t,r)},n.prototype.decodeFromImageElement=function(t){if(!t)throw new mo("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)},n.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},n.prototype.decodeFromVideoElementContinuously=function(t,e){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,e)},n.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new mo("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},n.prototype.decodeFromImageUrl=function(t){if(!t)throw new mo("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var r=this._decodeOnLoadImage(e);return e.src=t,r},n.prototype.decodeFromVideoUrl=function(t){if(!t)throw new mo("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),r=this.decodeFromVideoElement(e);return e.src=t,r},n.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new mo("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(r,e);return r.src=t,o},n.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise(function(r,o){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(r,o)},t.addEventListener("load",e.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(t){return Ls(this,void 0,void 0,function(){return Ns(this,function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(t,e){return Ls(this,void 0,void 0,function(){return Ns(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,e),[2]}})})},n.prototype.isImageLoaded=function(t){return!(!t.complete||0===t.naturalWidth)},n.prototype.prepareImageElement=function(t){var e;return void 0===t&&((e=document.createElement("img")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},n.prototype.prepareVideoElement=function(t){var e;return!t&&"undefined"!=typeof document&&((e=document.createElement("video")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},n.prototype.decodeOnce=function(t,e,r){var o=this;void 0===e&&(e=!0),void 0===r&&(r=!0),this._stopAsyncDecode=!1;var s=function(a,u){if(o._stopAsyncDecode)return u(new tn("Video stream has ended before any code could be detected.")),void(o._stopAsyncDecode=void 0);try{a(o.decode(t))}catch(W){if(e&&W instanceof tn||(W instanceof bo||W instanceof Sn)&&r)return setTimeout(s,o._timeBetweenDecodingAttempts,a,u);u(W)}};return new Promise(function(a,u){return s(a,u)})},n.prototype.decodeContinuously=function(t,e){var r=this;this._stopContinuousDecode=!1;var o=function(){if(r._stopContinuousDecode)r._stopContinuousDecode=void 0;else try{var s=r.decode(t);e(s,null),setTimeout(o,r.timeBetweenScansMillis)}catch(h){e(null,h),(h instanceof bo||h instanceof Sn||h instanceof tn)&&setTimeout(o,r._timeBetweenDecodingAttempts)}};o()},n.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},n.prototype._isHTMLVideoElement=function(t){return 0!==t.videoWidth},n.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);var r=this.getCaptureCanvas(t),o=new _H(r),s=new a3(o);return new o3(s)},n.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(t,e,r){void 0===e&&(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},n.prototype.drawImageOnCanvas=function(t,e,r){void 0===e&&(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},n.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},n.prototype.createCaptureCanvas=function(t){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var r,o,e=document.createElement("canvas");return void 0!==t&&(t instanceof HTMLVideoElement?(r=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),e.style.width=r+"px",e.style.height=o+"px",e.width=r,e.height=o,e},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){!this.videoElement||(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch(r){t.src=URL.createObjectURL(e)}},n.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch(e){t.src=""}this.videoElement.removeAttribute("src")},n}(),wH=function(){function n(t,e,r,o,s,a){void 0===r&&(r=null==e?0:8*e.length),void 0===a&&(a=Ti.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=r,this.resultPoints=o,this.format=s,this.timestamp=a,this.text=t,this.rawBytes=e,this.numBits=null==r?null==e?0:8*e.length:r,this.resultPoints=o,this.format=s,this.resultMetadata=null,this.timestamp=null==a?Ti.currentTimeMillis():a}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},n.prototype.putAllMetadata=function(t){null!==t&&(this.resultMetadata=null===this.resultMetadata?t:new Map(t))},n.prototype.addResultPoints=function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var r=new Array(e.length+t.length);Ti.arraycopy(e,0,r,0,e.length),Ti.arraycopy(t,0,r,e.length,t.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}();const la=wH;var rE=(()=>(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(rE||(rE={})),rE))();const Kn=rE;var iE=(()=>(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(iE||(iE={})),iE))();const os=iE;var xH=function(){function n(t,e,r,o,s,a){void 0===s&&(s=-1),void 0===a&&(a=-1),this.rawBytes=t,this.text=e,this.byteSegments=r,this.ecLevel=o,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=null==t?0:8*t.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(t){this.numBits=t},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(t){this.erasures=t},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(t){this.other=t},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}();const oE=xH;var EH=function(){function n(){}return n.prototype.exp=function(t){return this.expTable[t]},n.prototype.log=function(t){if(0===t)throw new Pn;return this.logTable[t]},n.addOrSubtract=function(t,e){return t^e},n}();const vy=EH;var CH=function(){function n(t,e){if(0===e.length)throw new Pn;this.field=t;var r=e.length;if(r>1&&0===e[0]){for(var o=1;o<r&&0===e[o];)o++;o===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-o),Ti.arraycopy(e,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return 0===this.coefficients[0]},n.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},n.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);var r,e=this.coefficients;if(1===t){r=0;for(var o=0,s=e.length;o!==s;o++)r=vy.addOrSubtract(r,e[o]);return r}r=e[0];var u=e.length,h=this.field;for(o=1;o<u;o++)r=vy.addOrSubtract(h.multiply(t,r),e[o]);return r},n.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Pn("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var e=this.coefficients,r=t.coefficients;if(e.length>r.length){var o=e;e=r,r=o}var s=new Int32Array(r.length),a=r.length-e.length;Ti.arraycopy(r,0,s,0,a);for(var u=a;u<r.length;u++)s[u]=vy.addOrSubtract(e[u-a],r[u]);return new n(this.field,s)},n.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Pn("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var e=this.coefficients,r=e.length,o=t.coefficients,s=o.length,a=new Int32Array(r+s-1),u=this.field,h=0;h<r;h++)for(var x=e[h],M=0;M<s;M++)a[h+M]=vy.addOrSubtract(a[h+M],u.multiply(x,o[M]));return new n(u,a)},n.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var e=this.coefficients.length,r=this.field,o=new Int32Array(e),s=this.coefficients,a=0;a<e;a++)o[a]=r.multiply(s[a],t);return new n(r,o)},n.prototype.multiplyByMonomial=function(t,e){if(t<0)throw new Pn;if(0===e)return this.field.getZero();for(var r=this.coefficients,o=r.length,s=new Int32Array(o+t),a=this.field,u=0;u<o;u++)s[u]=a.multiply(r[u],e);return new n(a,s)},n.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Pn("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Pn("Divide by 0");for(var e=this.field,r=e.getZero(),o=this,s=t.getCoefficient(t.getDegree()),a=e.inverse(s);o.getDegree()>=t.getDegree()&&!o.isZero();){var u=o.getDegree()-t.getDegree(),h=e.multiply(o.getCoefficient(o.getDegree()),a),x=t.multiplyByMonomial(u,h),M=e.buildMonomial(u,h);r=r.addOrSubtract(M),o=o.addOrSubtract(x)}return[r,o]},n.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);if(0!==r){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),0===e||1!==r){var o=this.field.log(r);0===o?t+="1":1===o?t+="a":(t+="a^",t+=o)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t},n}();const Ad=CH;var SH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AH=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return SH(t,n),t.kind="ArithmeticException",t}(sa);const l3=AH;var DH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),TH=function(n){function t(e,r,o){var s=n.call(this)||this;s.primitive=e,s.size=r,s.generatorBase=o;for(var a=new Int32Array(r),u=1,h=0;h<r;h++)a[h]=u,(u*=2)>=r&&(u^=e,u&=r-1);s.expTable=a;var x=new Int32Array(r);for(h=0;h<r-1;h++)x[a[h]]=h;return s.logTable=x,s.zero=new Ad(s,Int32Array.from([0])),s.one=new Ad(s,Int32Array.from([1])),s}return DH(t,n),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,r){if(e<0)throw new Pn;if(0===r)return this.zero;var o=new Int32Array(e+1);return o[0]=r,new Ad(this,o)},t.prototype.inverse=function(e){if(0===e)throw new l3;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+Or.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(vy);const ca=TH;var MH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),OH=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return MH(t,n),t.kind="ReedSolomonException",t}(sa);const sE=OH;var IH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),RH=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return IH(t,n),t.kind="IllegalStateException",t}(sa);const gc=RH;var PH=function(){function n(t){this.field=t}return n.prototype.decode=function(t,e){for(var r=this.field,o=new Ad(r,t),s=new Int32Array(e),a=!0,u=0;u<e;u++){var h=o.evaluateAt(r.exp(u+r.getGeneratorBase()));s[s.length-1-u]=h,0!==h&&(a=!1)}if(!a){var x=new Ad(r,s),M=this.runEuclideanAlgorithm(r.buildMonomial(e,1),x,e),W=M[1],q=this.findErrorLocations(M[0]),ye=this.findErrorMagnitudes(W,q);for(u=0;u<q.length;u++){var Le=t.length-1-r.log(q[u]);if(Le<0)throw new sE("Bad error location");t[Le]=ca.addOrSubtract(t[Le],ye[u])}}},n.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var o=t;t=e,e=o}for(var s=this.field,a=t,u=e,h=s.getZero(),x=s.getOne();u.getDegree()>=(r/2|0);){var M=a,L=h;if(h=x,(a=u).isZero())throw new sE("r_{i-1} was zero");u=M;for(var W=s.getZero(),q=a.getCoefficient(a.getDegree()),ye=s.inverse(q);u.getDegree()>=a.getDegree()&&!u.isZero();){var Le=u.getDegree()-a.getDegree(),rt=s.multiply(u.getCoefficient(u.getDegree()),ye);W=W.addOrSubtract(s.buildMonomial(Le,rt)),u=u.addOrSubtract(a.multiplyByMonomial(Le,rt))}if(x=W.multiply(h).addOrSubtract(L),u.getDegree()>=a.getDegree())throw new gc("Division algorithm failed to reduce polynomial?")}var it=x.getCoefficient(0);if(0===it)throw new sE("sigmaTilde(0) was zero");var lt=s.inverse(it);return[x.multiplyScalar(lt),u.multiplyScalar(lt)]},n.prototype.findErrorLocations=function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(e),o=0,s=this.field,a=1;a<s.getSize()&&o<e;a++)0===t.evaluateAt(a)&&(r[o]=s.inverse(a),o++);if(o!==e)throw new sE("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(t,e){for(var r=e.length,o=new Int32Array(r),s=this.field,a=0;a<r;a++){for(var u=s.inverse(e[a]),h=1,x=0;x<r;x++)if(a!==x){var M=s.multiply(e[x],u);h=s.multiply(h,0==(1&M)?1|M:-2&M)}o[a]=s.multiply(t.evaluateAt(u),s.inverse(h)),0!==s.getGeneratorBase()&&(o[a]=s.multiply(o[a],u))}return o},n}();const aE=PH;var Ko=(()=>(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"}(Ko||(Ko={})),Ko))(),FH=function(){function n(){}return n.prototype.decode=function(t){this.ddata=t;var e=t.getBits(),r=this.extractBits(e),o=this.correctBits(r),s=n.convertBoolArrayToByteArray(o),a=n.getEncodedData(o),u=new oE(s,a,null,null);return u.setNumBits(o.length),u},n.highLevelDecode=function(t){return this.getEncodedData(t)},n.getEncodedData=function(t){for(var e=t.length,r=Ko.UPPER,o=Ko.UPPER,s="",a=0;a<e;)if(o===Ko.BINARY){if(e-a<5)break;var u=n.readCode(t,a,5);if(a+=5,0===u){if(e-a<11)break;u=n.readCode(t,a,11)+31,a+=11}for(var h=0;h<u;h++){if(e-a<8){a=e;break}var x=n.readCode(t,a,8);s+=bi.castAsNonUtf8Char(x),a+=8}o=r}else{var M=o===Ko.DIGIT?4:5;if(e-a<M)break;x=n.readCode(t,a,M),a+=M;var L=n.getCharacter(o,x);L.startsWith("CTRL_")?(r=o,o=n.getTable(L.charAt(5)),"L"===L.charAt(6)&&(r=o)):(s+=L,o=r)}return s},n.getTable=function(t){switch(t){case"L":return Ko.LOWER;case"P":return Ko.PUNCT;case"M":return Ko.MIXED;case"D":return Ko.DIGIT;case"B":return Ko.BINARY;default:return Ko.UPPER}},n.getCharacter=function(t,e){switch(t){case Ko.UPPER:return n.UPPER_TABLE[e];case Ko.LOWER:return n.LOWER_TABLE[e];case Ko.MIXED:return n.MIXED_TABLE[e];case Ko.PUNCT:return n.PUNCT_TABLE[e];case Ko.DIGIT:return n.DIGIT_TABLE[e];default:throw new gc("Bad table")}},n.prototype.correctBits=function(t){var e,r;this.ddata.getNbLayers()<=2?(r=6,e=ca.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,e=ca.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,e=ca.AZTEC_DATA_10):(r=12,e=ca.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),s=t.length/r;if(s<o)throw new Sn;for(var a=t.length%r,u=new Int32Array(s),h=0;h<s;h++,a+=r)u[h]=n.readCode(t,a,r);try{new aE(e).decode(u,s-o)}catch(rt){throw new Sn(rt)}var M=(1<<r)-1,L=0;for(h=0;h<o;h++){if(0===(W=u[h])||W===M)throw new Sn;(1===W||W===M-1)&&L++}var q=new Array(o*r-L),ye=0;for(h=0;h<o;h++){var W;if(1===(W=u[h])||W===M-1)q.fill(W>1,ye,ye+r-1),ye+=r-1;else for(var Le=r-1;Le>=0;--Le)q[ye++]=0!=(W&1<<Le)}return q},n.prototype.extractBits=function(t){var e=this.ddata.isCompact(),r=this.ddata.getNbLayers(),o=(e?11:14)+4*r,s=new Int32Array(o),a=new Array(this.totalBitsInLayer(r,e));if(e)for(var u=0;u<s.length;u++)s[u]=u;else{var h=o+1+2*Or.truncDivision(Or.truncDivision(o,2)-1,15),x=o/2,M=Or.truncDivision(h,2);for(u=0;u<x;u++){var L=u+Or.truncDivision(u,15);s[x-u-1]=M-L-1,s[x+u]=M+L+1}}u=0;for(var W=0;u<r;u++){for(var q=4*(r-u)+(e?9:12),ye=2*u,Le=o-1-ye,rt=0;rt<q;rt++)for(var it=2*rt,lt=0;lt<2;lt++)a[W+it+lt]=t.get(s[ye+lt],s[ye+rt]),a[W+2*q+it+lt]=t.get(s[ye+rt],s[Le-lt]),a[W+4*q+it+lt]=t.get(s[Le-lt],s[Le-rt]),a[W+6*q+it+lt]=t.get(s[Le-rt],s[ye+lt]);W+=8*q}return a},n.readCode=function(t,e,r){for(var o=0,s=e;s<e+r;s++)o<<=1,t[s]&&(o|=1);return o},n.readByte=function(t,e){var r=t.length-e;return r>=8?n.readCode(t,e,8):n.readCode(t,e,r)<<8-r},n.convertBoolArrayToByteArray=function(t){for(var e=new Uint8Array((t.length+7)/8),r=0;r<e.length;r++)e[r]=n.readByte(t,8*r);return e},n.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}();const c3=FH;var kH=function(){function n(){}return n.round=function(t){return NaN===t?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},n.distance=function(t,e,r,o){var s=t-r,a=e-o;return Math.sqrt(s*s+a*a)},n.sum=function(t){for(var e=0,r=0,o=t.length;r!==o;r++)e+=t[r];return e},n}();const $r=kH;var LH=function(){function n(){}return n.floatToIntBits=function(t){return t},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}();const GD=LH;var NH=function(){function n(t,e){this.x=t,this.y=e}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(t){return t instanceof n&&(this.x===t.x&&this.y===t.y)},n.prototype.hashCode=function(){return 31*GD.floatToIntBits(this.x)+GD.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(t){var s,a,u,e=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);if(r>=e&&r>=o?(a=t[0],s=t[1],u=t[2]):o>=r&&o>=e?(a=t[1],s=t[0],u=t[2]):(a=t[2],s=t[0],u=t[1]),this.crossProductZ(s,a,u)<0){var h=s;s=u,u=h}t[0]=s,t[1]=a,t[2]=u},n.distance=function(t,e){return $r.distance(t.x,t.y,e.x,e.y)},n.crossProductZ=function(t,e,r){var o=e.x,s=e.y;return(r.x-o)*(t.y-s)-(r.y-s)*(t.x-o)},n}();const jn=NH;var BH=function(){function n(t,e){this.bits=t,this.points=e}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}();const zD=BH;var UH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jH=function(n){function t(e,r,o,s,a){var u=n.call(this,e,r)||this;return u.compact=o,u.nbDatablocks=s,u.nbLayers=a,u}return UH(t,n),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(zD);const HH=jH;var VH=function(){function n(t,e,r,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),null==e&&(e=n.INIT_SIZE),null==r&&(r=t.getWidth()/2|0),null==o&&(o=t.getHeight()/2|0);var s=e/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=o-s,this.downInit=o+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new tn}return n.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,r=this.upInit,o=this.downInit,s=!1,a=!0,u=!1,h=!1,x=!1,M=!1,L=!1,W=this.width,q=this.height;a;){a=!1;for(var ye=!0;(ye||!h)&&e<W;)(ye=this.containsBlackPoint(r,o,e,!1))?(e++,a=!0,h=!0):h||e++;if(e>=W){s=!0;break}for(var Le=!0;(Le||!x)&&o<q;)(Le=this.containsBlackPoint(t,e,o,!0))?(o++,a=!0,x=!0):x||o++;if(o>=q){s=!0;break}for(var rt=!0;(rt||!M)&&t>=0;)(rt=this.containsBlackPoint(r,o,t,!1))?(t--,a=!0,M=!0):M||t--;if(t<0){s=!0;break}for(var it=!0;(it||!L)&&r>=0;)(it=this.containsBlackPoint(t,e,r,!0))?(r--,a=!0,L=!0):L||r--;if(r<0){s=!0;break}a&&(u=!0)}if(!s&&u){for(var lt=e-t,Ot=null,Pt=1;null===Ot&&Pt<lt;Pt++)Ot=this.getBlackPointOnSegment(t,o-Pt,t+Pt,o);if(null==Ot)throw new tn;var rn=null;for(Pt=1;null===rn&&Pt<lt;Pt++)rn=this.getBlackPointOnSegment(t,r+Pt,t+Pt,r);if(null==rn)throw new tn;var gn=null;for(Pt=1;null===gn&&Pt<lt;Pt++)gn=this.getBlackPointOnSegment(e,r+Pt,e-Pt,r);if(null==gn)throw new tn;var mn=null;for(Pt=1;null===mn&&Pt<lt;Pt++)mn=this.getBlackPointOnSegment(e,o-Pt,e-Pt,o);if(null==mn)throw new tn;return this.centerEdges(mn,Ot,gn,rn)}throw new tn},n.prototype.getBlackPointOnSegment=function(t,e,r,o){for(var s=$r.round($r.distance(t,e,r,o)),a=(r-t)/s,u=(o-e)/s,h=this.image,x=0;x<s;x++){var M=$r.round(t+x*a),L=$r.round(e+x*u);if(h.get(M,L))return new jn(M,L)}return null},n.prototype.centerEdges=function(t,e,r,o){var s=t.getX(),a=t.getY(),u=e.getX(),h=e.getY(),x=r.getX(),M=r.getY(),L=o.getX(),W=o.getY(),q=n.CORR;return s<this.width/2?[new jn(L-q,W+q),new jn(u+q,h+q),new jn(x-q,M-q),new jn(s+q,a-q)]:[new jn(L+q,W+q),new jn(u+q,h-q),new jn(x-q,M+q),new jn(s-q,a-q)]},n.prototype.containsBlackPoint=function(t,e,r,o){var s=this.image;if(o){for(var a=t;a<=e;a++)if(s.get(a,r))return!0}else for(var u=t;u<=e;u++)if(s.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}();const ZD=VH;var GH=function(){function n(){}return n.checkAndNudgePoints=function(t,e){for(var r=t.getWidth(),o=t.getHeight(),s=!0,a=0;a<e.length&&s;a+=2){var u=Math.floor(e[a]),h=Math.floor(e[a+1]);if(u<-1||u>r||h<-1||h>o)throw new tn;s=!1,-1===u?(e[a]=0,s=!0):u===r&&(e[a]=r-1,s=!0),-1===h?(e[a+1]=0,s=!0):h===o&&(e[a+1]=o-1,s=!0)}for(s=!0,a=e.length-2;a>=0&&s;a-=2){if(u=Math.floor(e[a]),h=Math.floor(e[a+1]),u<-1||u>r||h<-1||h>o)throw new tn;s=!1,-1===u?(e[a]=0,s=!0):u===r&&(e[a]=r-1,s=!0),-1===h?(e[a+1]=0,s=!0):h===o&&(e[a+1]=o-1,s=!0)}},n}();const u3=GH;var zH=function(){function n(t,e,r,o,s,a,u,h,x){this.a11=t,this.a21=e,this.a31=r,this.a12=o,this.a22=s,this.a32=a,this.a13=u,this.a23=h,this.a33=x}return n.quadrilateralToQuadrilateral=function(t,e,r,o,s,a,u,h,x,M,L,W,q,ye,Le,rt){var it=n.quadrilateralToSquare(t,e,r,o,s,a,u,h);return n.squareToQuadrilateral(x,M,L,W,q,ye,Le,rt).times(it)},n.prototype.transformPoints=function(t){for(var e=t.length,r=this.a11,o=this.a12,s=this.a13,a=this.a21,u=this.a22,h=this.a23,x=this.a31,M=this.a32,L=this.a33,W=0;W<e;W+=2){var q=t[W],ye=t[W+1],Le=s*q+h*ye+L;t[W]=(r*q+a*ye+x)/Le,t[W+1]=(o*q+u*ye+M)/Le}},n.prototype.transformPointsWithValues=function(t,e){for(var r=this.a11,o=this.a12,s=this.a13,a=this.a21,u=this.a22,h=this.a23,x=this.a31,M=this.a32,L=this.a33,W=t.length,q=0;q<W;q++){var ye=t[q],Le=e[q],rt=s*ye+h*Le+L;t[q]=(r*ye+a*Le+x)/rt,e[q]=(o*ye+u*Le+M)/rt}},n.squareToQuadrilateral=function(t,e,r,o,s,a,u,h){var x=t-r+s-u,M=e-o+a-h;if(0===x&&0===M)return new n(r-t,s-r,t,o-e,a-o,e,0,0,1);var L=r-s,W=u-s,q=o-a,ye=h-a,Le=L*ye-W*q,rt=(x*ye-W*M)/Le,it=(L*M-x*q)/Le;return new n(r-t+rt*r,u-t+it*u,t,o-e+rt*o,h-e+it*h,e,rt,it,1)},n.quadrilateralToSquare=function(t,e,r,o,s,a,u,h){return n.squareToQuadrilateral(t,e,r,o,s,a,u,h).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(t){return new n(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},n}();const d3=zH;var ZH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),WH=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ZH(t,n),t.prototype.sampleGrid=function(e,r,o,s,a,u,h,x,M,L,W,q,ye,Le,rt,it,lt,Ot,Pt){var rn=d3.quadrilateralToQuadrilateral(s,a,u,h,x,M,L,W,q,ye,Le,rt,it,lt,Ot,Pt);return this.sampleGridWithTransform(e,r,o,rn)},t.prototype.sampleGridWithTransform=function(e,r,o,s){if(r<=0||o<=0)throw new tn;for(var a=new el(r,o),u=new Float32Array(2*r),h=0;h<o;h++){for(var x=u.length,M=h+.5,L=0;L<x;L+=2)u[L]=L/2+.5,u[L+1]=M;s.transformPoints(u),u3.checkAndNudgePoints(e,u);try{for(L=0;L<x;L+=2)e.get(Math.floor(u[L]),Math.floor(u[L+1]))&&a.set(L/2,h)}catch(W){throw new tn}}return a},t}(u3);const $H=WH;var qH=function(){function n(){}return n.setGridSampler=function(t){n.gridSampler=t},n.getInstance=function(){return n.gridSampler},n.gridSampler=new $H,n}();const WD=qH;var ua=function(){function n(t,e){this.x=t,this.y=e}return n.prototype.toResultPoint=function(){return new jn(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),YH=function(){function n(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),r=this.getBullsEyeCorners(e);if(t){var o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);var s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new HH(s,a,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(t){if(!(this.isValidPoint(t[0])&&this.isValidPoint(t[1])&&this.isValidPoint(t[2])&&this.isValidPoint(t[3])))throw new tn;var e=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(r,e);for(var o=0,s=0;s<4;s++){var a=r[(this.shift+s)%4];this.compact?(o<<=7,o+=a>>1&127):(o<<=10,o+=(a>>2&992)+(a>>1&31))}var u=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=1+(u>>6),this.nbDataBlocks=1+(63&u)):(this.nbLayers=1+(u>>11),this.nbDataBlocks=1+(2047&u))},n.prototype.getRotation=function(t,e){var r=0;t.forEach(function(s,a,u){r=(s>>e-2<<1)+(1&s)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(var o=0;o<4;o++)if(Or.bitCount(r^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new tn},n.prototype.getCorrectedParameterData=function(t,e){var r,o;e?(r=7,o=2):(r=10,o=4);for(var s=r-o,a=new Int32Array(r),u=r-1;u>=0;--u)a[u]=15&t,t>>=4;try{new aE(ca.AZTEC_PARAM).decode(a,s)}catch(M){throw new tn}var x=0;for(u=0;u<o;u++)x=(x<<4)+a[u];return x},n.prototype.getBullsEyeCorners=function(t){var e=t,r=t,o=t,s=t,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(e,a,1,-1),h=this.getFirstDifferent(r,a,1,1),x=this.getFirstDifferent(o,a,-1,1),M=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){var L=this.distancePoint(M,u)*this.nbCenterLayers/(this.distancePoint(s,e)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(u,h,x,M))break}e=u,r=h,o=x,s=M,a=!a}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new tn;this.compact=5===this.nbCenterLayers;var W=new jn(e.getX()+.5,e.getY()-.5),q=new jn(r.getX()+.5,r.getY()+.5),ye=new jn(o.getX()-.5,o.getY()+.5),Le=new jn(s.getX()-.5,s.getY()-.5);return this.expandSquare([W,q,ye,Le],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var t,e,r,o;try{t=(s=new ZD(this.image).detect())[0],e=s[1],r=s[2],o=s[3]}catch(M){var a=this.image.getWidth()/2,u=this.image.getHeight()/2;t=this.getFirstDifferent(new ua(a+7,u-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new ua(a+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ua(a-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ua(a-7,u-7),!1,-1,-1).toResultPoint()}var h=$r.round((t.getX()+o.getX()+e.getX()+r.getX())/4),x=$r.round((t.getY()+o.getY()+e.getY()+r.getY())/4);try{var s;t=(s=new ZD(this.image,15,h,x).detect())[0],e=s[1],r=s[2],o=s[3]}catch(M){t=this.getFirstDifferent(new ua(h+7,x-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new ua(h+7,x+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ua(h-7,x+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ua(h-7,x-7),!1,-1,-1).toResultPoint()}return h=$r.round((t.getX()+o.getX()+e.getX()+r.getX())/4),x=$r.round((t.getY()+o.getY()+e.getY()+r.getY())/4),new ua(h,x)},n.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(t,e,r,o,s){var a=WD.getInstance(),u=this.getDimension(),h=u/2-this.nbCenterLayers,x=u/2+this.nbCenterLayers;return a.sampleGrid(t,u,u,h,h,x,h,x,x,h,x,e.getX(),e.getY(),r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY())},n.prototype.sampleLine=function(t,e,r){for(var o=0,s=this.distanceResultPoint(t,e),a=s/r,u=t.getX(),h=t.getY(),x=a*(e.getX()-t.getX())/s,M=a*(e.getY()-t.getY())/s,L=0;L<r;L++)this.image.get($r.round(u+L*x),$r.round(h+L*M))&&(o|=1<<r-L-1);return o},n.prototype.isWhiteOrBlackRectangle=function(t,e,r,o){t=new ua(t.getX()-3,t.getY()+3),e=new ua(e.getX()-3,e.getY()-3),r=new ua(r.getX()+3,r.getY()-3),o=new ua(o.getX()+3,o.getY()+3);var a=this.getColor(o,t);if(0===a)return!1;var u=this.getColor(t,e);return u===a&&(u=this.getColor(e,r))===a&&(u=this.getColor(r,o))===a},n.prototype.getColor=function(t,e){for(var r=this.distancePoint(t,e),o=(e.getX()-t.getX())/r,s=(e.getY()-t.getY())/r,a=0,u=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),M=Math.ceil(r),L=0;L<M;L++)h+=s,this.image.get($r.round(u+=o),$r.round(h))!==x&&a++;var W=a/r;return W>.1&&W<.9?0:W<=.1===x?1:-1},n.prototype.getFirstDifferent=function(t,e,r,o){for(var s=t.getX()+r,a=t.getY()+o;this.isValid(s,a)&&this.image.get(s,a)===e;)s+=r,a+=o;for(s-=r,a-=o;this.isValid(s,a)&&this.image.get(s,a)===e;)s+=r;for(s-=r;this.isValid(s,a)&&this.image.get(s,a)===e;)a+=o;return new ua(s,a-=o)},n.prototype.expandSquare=function(t,e,r){var o=r/(2*e),s=t[0].getX()-t[2].getX(),a=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new jn(u+o*s,h+o*a),M=new jn(u-o*s,h-o*a);return s=t[1].getX()-t[3].getX(),a=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2,[x,new jn(u+o*s,h+o*a),M,new jn(u-o*s,h-o*a)]},n.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},n.prototype.isValidPoint=function(t){var e=$r.round(t.getX()),r=$r.round(t.getY());return this.isValid(e,r)},n.prototype.distancePoint=function(t,e){return $r.distance(t.getX(),t.getY(),e.getX(),e.getY())},n.prototype.distanceResultPoint=function(t,e){return $r.distance(t.getX(),t.getY(),e.getX(),e.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Or.truncDivision(this.nbLayers-4,8)+1)+15},n}();const KH=YH;var QH=function(){function n(){}return n.prototype.decode=function(t,e){void 0===e&&(e=null);var r=null,o=new KH(t.getBlackMatrix()),s=null,a=null;try{s=(u=o.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(e,s),a=(new c3).decode(u)}catch(L){r=L}if(null==a)try{var u;s=(u=o.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(e,s),a=(new c3).decode(u)}catch(L){throw null!=r?r:L}var h=new la(a.getText(),a.getRawBytes(),a.getNumBits(),s,Kn.AZTEC,Ti.currentTimeMillis()),x=a.getByteSegments();null!=x&&h.putMetadata(os.BYTE_SEGMENTS,x);var M=a.getECLevel();return null!=M&&h.putMetadata(os.ERROR_CORRECTION_LEVEL,M),h},n.prototype.reportFoundResultPoints=function(t,e){if(null!=t){var r=t.get(ni.NEED_RESULT_POINT_CALLBACK);null!=r&&e.forEach(function(o,s,a){r.foundPossibleResultPoint(o)})}},n.prototype.reset=function(){},n}();const lE=QH;var XH=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),JH=(function(n){XH(function t(e){return void 0===e&&(e=500),n.call(this,new lE,e)||this},n)}(Am),function(){function n(){}return n.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch(L){if(e&&!0===e.get(ni.TRY_HARDER)&&t.isRotateSupported()){var o=t.rotateCounterClockwise(),s=this.doDecode(o,e),a=s.getResultMetadata(),u=270;null!==a&&!0===a.get(os.ORIENTATION)&&(u+=a.get(os.ORIENTATION)%360),s.putMetadata(os.ORIENTATION,u);var h=s.getResultPoints();if(null!==h)for(var x=o.getHeight(),M=0;M<h.length;M++)h[M]=new jn(x-h[M].getY()-1,h[M].getX());return s}throw new tn}},n.prototype.reset=function(){},n.prototype.doDecode=function(t,e){var h,r=t.getWidth(),o=t.getHeight(),s=new Yo(r),a=e&&!0===e.get(ni.TRY_HARDER),u=Math.max(1,o>>(a?8:5));h=a?o:15;for(var x=Math.trunc(o/2),M=0;M<h;M++){var L=Math.trunc((M+1)/2),q=x+u*(0==(1&M)?L:-L);if(q<0||q>=o)break;try{s=t.getBlackRow(q,s)}catch(lt){continue}for(var ye=function(lt){if(1===lt&&(s.reverse(),e&&!0===e.get(ni.NEED_RESULT_POINT_CALLBACK))){var Ot=new Map;e.forEach(function(gn,mn){return Ot.set(mn,gn)}),Ot.delete(ni.NEED_RESULT_POINT_CALLBACK),e=Ot}try{var Pt=Le.decodeRow(q,s,e);if(1===lt){Pt.putMetadata(os.ORIENTATION,180);var rn=Pt.getResultPoints();null!==rn&&(rn[0]=new jn(r-rn[0].getX()-1,rn[0].getY()),rn[1]=new jn(r-rn[1].getX()-1,rn[1].getY()))}return{value:Pt}}catch(gn){}},Le=this,rt=0;rt<2;rt++){var it=ye(rt);if("object"==typeof it)return it.value}}throw new tn},n.recordPattern=function(t,e,r){for(var o=r.length,s=0;s<o;s++)r[s]=0;var a=t.getSize();if(e>=a)throw new tn;for(var u=!t.get(e),h=0,x=e;x<a;){if(t.get(x)!==u)r[h]++;else{if(++h===o)break;r[h]=1,u=!u}x++}if(h!==o&&(h!==o-1||x!==a))throw new tn},n.recordPatternInReverse=function(t,e,r){for(var o=r.length,s=t.get(e);e>0&&o>=0;)t.get(--e)!==s&&(o--,s=!s);if(o>=0)throw new tn;n.recordPattern(t,e+1,r)},n.patternMatchVariance=function(t,e,r){for(var o=t.length,s=0,a=0,u=0;u<o;u++)s+=t[u],a+=e[u];if(s<a)return Number.POSITIVE_INFINITY;var h=s/a;r*=h;for(var x=0,M=0;M<o;M++){var L=t[M],W=e[M]*h,q=L>W?L-W:W-L;if(q>r)return Number.POSITIVE_INFINITY;x+=q}return x/s},n}());const ss=JH;var eV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tV=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return eV(t,n),t.findStartPattern=function(e){for(var r=e.getSize(),o=e.getNextSet(0),s=0,a=Int32Array.from([0,0,0,0,0,0]),u=o,h=!1,M=o;M<r;M++)if(e.get(M)!==h)a[s]++;else{if(5===s){for(var L=t.MAX_AVG_VARIANCE,W=-1,q=t.CODE_START_A;q<=t.CODE_START_C;q++){var ye=ss.patternMatchVariance(a,t.CODE_PATTERNS[q],t.MAX_INDIVIDUAL_VARIANCE);ye<L&&(L=ye,W=q)}if(W>=0&&e.isRange(Math.max(0,u-(M-u)/2),u,!1))return Int32Array.from([u,M,W]);u+=a[0]+a[1],(a=a.slice(2,a.length-1))[s-1]=0,a[s]=0,s--}else s++;a[s]=1,h=!h}throw new tn},t.decodeCode=function(e,r,o){ss.recordPattern(e,o,r);for(var s=t.MAX_AVG_VARIANCE,a=-1,u=0;u<t.CODE_PATTERNS.length;u++){var x=this.patternMatchVariance(r,t.CODE_PATTERNS[u],t.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,a=u)}if(a>=0)return a;throw new tn},t.prototype.decodeRow=function(e,r,o){var M,s=o&&!0===o.get(ni.ASSUME_GS1),a=t.findStartPattern(r),u=a[2],h=0,x=new Uint8Array(20);switch(x[h++]=u,u){case t.CODE_START_A:M=t.CODE_CODE_A;break;case t.CODE_START_B:M=t.CODE_CODE_B;break;case t.CODE_START_C:M=t.CODE_CODE_C;break;default:throw new Sn}for(var L=!1,W=!1,q="",ye=a[0],Le=a[1],rt=Int32Array.from([0,0,0,0,0,0]),it=0,lt=0,Ot=u,Pt=0,rn=!0,gn=!1,mn=!1;!L;){var An=W;switch(W=!1,it=lt,lt=t.decodeCode(r,rt,Le),x[h++]=lt,lt!==t.CODE_STOP&&(rn=!0),lt!==t.CODE_STOP&&(Ot+=++Pt*lt),ye=Le,Le+=rt.reduce(function(Un,Zn){return Un+Zn},0),lt){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new Sn}switch(M){case t.CODE_CODE_A:if(lt<64)q+=String.fromCharCode(mn===gn?" ".charCodeAt(0)+lt:" ".charCodeAt(0)+lt+128),mn=!1;else if(lt<96)q+=String.fromCharCode(mn===gn?lt-64:lt+64),mn=!1;else switch(lt!==t.CODE_STOP&&(rn=!1),lt){case t.CODE_FNC_1:s&&(q+=0===q.length?"]C1":String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!gn&&mn?(gn=!0,mn=!1):gn&&mn?(gn=!1,mn=!1):mn=!0;break;case t.CODE_SHIFT:W=!0,M=t.CODE_CODE_B;break;case t.CODE_CODE_B:M=t.CODE_CODE_B;break;case t.CODE_CODE_C:M=t.CODE_CODE_C;break;case t.CODE_STOP:L=!0}break;case t.CODE_CODE_B:if(lt<96)q+=String.fromCharCode(mn===gn?" ".charCodeAt(0)+lt:" ".charCodeAt(0)+lt+128),mn=!1;else switch(lt!==t.CODE_STOP&&(rn=!1),lt){case t.CODE_FNC_1:s&&(q+=0===q.length?"]C1":String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!gn&&mn?(gn=!0,mn=!1):gn&&mn?(gn=!1,mn=!1):mn=!0;break;case t.CODE_SHIFT:W=!0,M=t.CODE_CODE_A;break;case t.CODE_CODE_A:M=t.CODE_CODE_A;break;case t.CODE_CODE_C:M=t.CODE_CODE_C;break;case t.CODE_STOP:L=!0}break;case t.CODE_CODE_C:if(lt<100)lt<10&&(q+="0"),q+=lt;else switch(lt!==t.CODE_STOP&&(rn=!1),lt){case t.CODE_FNC_1:s&&(q+=0===q.length?"]C1":String.fromCharCode(29));break;case t.CODE_CODE_A:M=t.CODE_CODE_A;break;case t.CODE_CODE_B:M=t.CODE_CODE_B;break;case t.CODE_STOP:L=!0}}An&&(M=M===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var or=Le-ye;if(Le=r.getNextUnset(Le),!r.isRange(Le,Math.min(r.getSize(),Le+(Le-ye)/2),!1))throw new tn;if((Ot-=Pt*it)%103!==it)throw new bo;var Ln=q.length;if(0===Ln)throw new tn;Ln>0&&rn&&(q=q.substring(0,M===t.CODE_CODE_C?Ln-2:Ln-1));for(var wi=(a[1]+a[0])/2,Sr=ye+or/2,ci=x.length,Po=new Uint8Array(ci),Il=0;Il<ci;Il++)Po[Il]=x[Il];var In=[new jn(wi,e),new jn(Sr,e)];return new la(q,Po,0,In,Kn.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(ss);const f3=tV;var nV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$D=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rV=function(n){function t(e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var o=n.call(this)||this;return o.usingCheckDigit=e,o.extendedMode=r,o.decodeRowResult="",o.counters=new Int32Array(9),o}return nV(t,n),t.prototype.decodeRow=function(e,r,o){var s,a,u,h,x=this.counters;x.fill(0),this.decodeRowResult="";var q,ye,M=t.findAsteriskPattern(r,x),L=r.getNextSet(M[1]),W=r.getSize();do{t.recordPattern(r,L,x);var Le=t.toNarrowWidePattern(x);if(Le<0)throw new tn;q=t.patternToChar(Le),this.decodeRowResult+=q,ye=L;try{for(var rt=(s=void 0,$D(x)),it=rt.next();!it.done;it=rt.next())L+=it.value}catch(ci){s={error:ci}}finally{try{it&&!it.done&&(a=rt.return)&&a.call(rt)}finally{if(s)throw s.error}}L=r.getNextSet(L)}while("*"!==q);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var Ln,Ot=0;try{for(var Pt=$D(x),rn=Pt.next();!rn.done;rn=Pt.next())Ot+=rn.value}catch(ci){u={error:ci}}finally{try{rn&&!rn.done&&(h=Pt.return)&&h.call(Pt)}finally{if(u)throw u.error}}if(L!==W&&2*(L-ye-Ot)<Ot)throw new tn;if(this.usingCheckDigit){for(var mn=this.decodeRowResult.length-1,An=0,or=0;or<mn;or++)An+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(or));if(this.decodeRowResult.charAt(mn)!==t.ALPHABET_STRING.charAt(An%43))throw new bo;this.decodeRowResult=this.decodeRowResult.substring(0,mn)}if(0===this.decodeRowResult.length)throw new tn;Ln=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var Sr=ye+Ot/2;return new la(Ln,null,0,[new jn((M[1]+M[0])/2,e),new jn(Sr,e)],Kn.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,r){for(var o=e.getSize(),s=e.getNextSet(0),a=0,u=s,h=!1,x=r.length,M=s;M<o;M++)if(e.get(M)!==h)r[a]++;else{if(a===x-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((M-u)/2)),u,!1))return[u,M];u+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,h=!h}throw new tn},t.toNarrowWidePattern=function(e){var r,o,u,s=e.length,a=0;do{var h=2147483647;try{for(var x=(r=void 0,$D(e)),M=x.next();!M.done;M=x.next())(L=M.value)<h&&L>a&&(h=L)}catch(Le){r={error:Le}}finally{try{M&&!M.done&&(o=x.return)&&o.call(x)}finally{if(r)throw r.error}}a=h,u=0;for(var W=0,q=0,ye=0;ye<s;ye++)(L=e[ye])>a&&(q|=1<<s-1-ye,u++,W+=L);if(3===u){for(ye=0;ye<s&&u>0;ye++){var L;if((L=e[ye])>a&&(u--,2*L>=W))return-1}return q}}while(u>3);return-1},t.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);if(e===t.ASTERISK_ENCODING)return"*";throw new tn},t.decodeExtended=function(e){for(var r=e.length,o="",s=0;s<r;s++){var a=e.charAt(s);if("+"===a||"$"===a||"%"===a||"/"===a){var u=e.charAt(s+1),h="\0";switch(a){case"+":if(!(u>="A"&&u<="Z"))throw new Sn;h=String.fromCharCode(u.charCodeAt(0)+32);break;case"$":if(!(u>="A"&&u<="Z"))throw new Sn;h=String.fromCharCode(u.charCodeAt(0)-64);break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if("U"===u)h="\0";else if("V"===u)h="@";else if("W"===u)h="`";else{if("X"!==u&&"Y"!==u&&"Z"!==u)throw new Sn;h="\x7f"}break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else{if("Z"!==u)throw new Sn;h=":"}}o+=h,s++}else o+=a}return o},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(ss);const h3=rV;var iV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sV=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return iV(t,n),t.prototype.decodeRow=function(e,r,o){var s,a,u=this.decodeStart(r),h=this.decodeEnd(r),x=new gi;t.decodeMiddle(r,u[1],h[0],x);var M=x.toString(),L=null;null!=o&&(L=o.get(ni.ALLOWED_LENGTHS)),null==L&&(L=t.DEFAULT_ALLOWED_LENGTHS);var W=M.length,q=!1,ye=0;try{for(var Le=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(L),rt=Le.next();!rt.done;rt=Le.next()){var it=rt.value;if(W===it){q=!0;break}it>ye&&(ye=it)}}catch(Pt){s={error:Pt}}finally{try{rt&&!rt.done&&(a=Le.return)&&a.call(Le)}finally{if(s)throw s.error}}if(!q&&W>ye&&(q=!0),!q)throw new Sn;var lt=[new jn(u[1],e),new jn(h[0],e)];return new la(M,null,0,lt,Kn.ITF,(new Date).getTime())},t.decodeMiddle=function(e,r,o,s){var a=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(a.fill(0),u.fill(0),h.fill(0);r<o;){ss.recordPattern(e,r,a);for(var x=0;x<5;x++){var M=2*x;u[x]=a[M],h[x]=a[M+1]}var L=t.decodeDigit(u);s.append(L.toString()),L=this.decodeDigit(h),s.append(L.toString()),a.forEach(function(W){r+=W})}},t.prototype.decodeStart=function(e){var r=t.skipWhiteSpace(e),o=t.findGuardPattern(e,r,t.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(e,o[0]),o},t.prototype.validateQuietZone=function(e,r){var o=10*this.narrowLineWidth;o=o<r?o:r;for(var s=r-1;o>0&&s>=0&&!e.get(s);s--)o--;if(0!==o)throw new tn},t.skipWhiteSpace=function(e){var r=e.getSize(),o=e.getNextSet(0);if(o===r)throw new tn;return o},t.prototype.decodeEnd=function(e){e.reverse();try{var r=t.skipWhiteSpace(e),o=void 0;try{o=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[0])}catch(a){a instanceof tn&&(o=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,o[0]);var s=o[0];return o[0]=e.getSize()-o[1],o[1]=e.getSize()-s,o}finally{e.reverse()}},t.findGuardPattern=function(e,r,o){var s=o.length,a=new Int32Array(s),u=e.getSize(),h=!1,x=0,M=r;a.fill(0);for(var L=r;L<u;L++)if(e.get(L)!==h)a[x]++;else{if(x===s-1){if(ss.patternMatchVariance(a,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[M,L];M+=a[0]+a[1],Ti.arraycopy(a,2,a,0,x-1),a[x-1]=0,a[x]=0,x--}else x++;a[x]=1,h=!h}throw new tn},t.decodeDigit=function(e){for(var r=t.MAX_AVG_VARIANCE,o=-1,s=t.PATTERNS.length,a=0;a<s;a++){var h=ss.patternMatchVariance(e,t.PATTERNS[a],t.MAX_INDIVIDUAL_VARIANCE);h<r?(r=h,o=a):h===r&&(o=-1)}if(o>=0)return o%10;throw new tn},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(ss);const p3=sV;var aV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lV=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return aV(t,n),t.findStartGuardPattern=function(e){for(var o,r=!1,s=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]);var u=(o=t.findGuardPattern(e,s,!1,this.START_END_PATTERN,a))[0],h=u-((s=o[1])-u);h>=0&&(r=e.isRange(h,u,!1))}return o},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var o=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===o},t.getStandardUPCEANChecksum=function(e){for(var r=e.length,o=0,s=r-1;s>=0;s-=2){if((a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new Sn;o+=a}for(o*=3,s=r-2;s>=0;s-=2){var a;if((a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new Sn;o+=a}return(1e3-o)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,r,o,s){return this.findGuardPattern(e,r,o,s,new Int32Array(s.length))},t.findGuardPattern=function(e,r,o,s,a){for(var u=e.getSize(),h=0,x=r=o?e.getNextUnset(r):e.getNextSet(r),M=s.length,L=o,W=r;W<u;W++)if(e.get(W)!==L)a[h]++;else{if(h===M-1){if(ss.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([x,W]);x+=a[0]+a[1];for(var q=a.slice(2,a.length-1),ye=0;ye<h-1;ye++)a[ye]=q[ye];a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,L=!L}throw new tn},t.decodeDigit=function(e,r,o,s){this.recordPattern(e,o,r);for(var a=this.MAX_AVG_VARIANCE,u=-1,h=s.length,x=0;x<h;x++){var L=ss.patternMatchVariance(r,s[x],t.MAX_INDIVIDUAL_VARIANCE);L<a&&(a=L,u=x)}if(u>=0)return u;throw new tn},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(ss);const Dm=lV;var cV=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uV=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(t,e,r){var o=this.decodeRowStringBuffer,s=this.decodeMiddle(e,r,o),a=o.toString(),u=n.parseExtensionString(a),h=[new jn((r[0]+r[1])/2,t),new jn(s,t)],x=new la(a,null,0,h,Kn.UPC_EAN_EXTENSION,(new Date).getTime());return null!=u&&x.putAllMetadata(u),x},n.prototype.decodeMiddle=function(t,e,r){var o,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var u=t.getSize(),h=e[1],x=0,M=0;M<5&&h<u;M++){var L=Dm.decodeDigit(t,a,h,Dm.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+L%10);try{for(var W=(o=void 0,cV(a)),q=W.next();!q.done;q=W.next())h+=q.value}catch(rt){o={error:rt}}finally{try{q&&!q.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}L>=10&&(x|=1<<4-M),4!==M&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(5!==r.length)throw new tn;var Le=this.determineCheckDigit(x);if(n.extensionChecksum(r.toString())!==Le)throw new tn;return h},n.extensionChecksum=function(t){for(var e=t.length,r=0,o=e-2;o>=0;o-=2)r+=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);for(r*=3,o=e-1;o>=0;o-=2)r+=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},n.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new tn},n.parseExtensionString=function(t){if(5!==t.length)return null;var e=n.parseExtension5String(t);return null==e?null:new Map([[os.SUGGESTED_PRICE,e]])},n.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="\xa3";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var r=parseInt(t.substring(1)),s=r%100;return e+(r/100).toString()+"."+(s<10?"0"+s:s.toString())},n}();const dV=uV;var fV=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hV=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(t,e,r){var o=this.decodeRowStringBuffer,s=this.decodeMiddle(e,r,o),a=o.toString(),u=n.parseExtensionString(a),h=[new jn((r[0]+r[1])/2,t),new jn(s,t)],x=new la(a,null,0,h,Kn.UPC_EAN_EXTENSION,(new Date).getTime());return null!=u&&x.putAllMetadata(u),x},n.prototype.decodeMiddle=function(t,e,r){var o,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var u=t.getSize(),h=e[1],x=0,M=0;M<2&&h<u;M++){var L=Dm.decodeDigit(t,a,h,Dm.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+L%10);try{for(var W=(o=void 0,fV(a)),q=W.next();!q.done;q=W.next())h+=q.value}catch(Le){o={error:Le}}finally{try{q&&!q.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}L>=10&&(x|=1<<1-M),1!==M&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(2!==r.length)throw new tn;if(parseInt(r.toString())%4!==x)throw new tn;return h},n.parseExtensionString=function(t){return 2!==t.length?null:new Map([[os.ISSUE_NUMBER,parseInt(t)]])},n}();const pV=hV;var gV=function(){function n(){}return n.decodeRow=function(t,e,r){var o=Dm.findGuardPattern(e,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new dV).decodeRow(t,e,o)}catch(u){return(new pV).decodeRow(t,e,o)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}();const mV=gV;var vV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_V=function(n){function t(){var e=n.call(this)||this;e.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var o=t.L_PATTERNS[r-10],s=new Int32Array(o.length),a=0;a<o.length;a++)s[a]=o[o.length-a-1];t.L_AND_G_PATTERNS[r]=s}return e}return vV(t,n),t.prototype.decodeRow=function(e,r,o){var s=t.findStartGuardPattern(r),a=null==o?null:o.get(ni.NEED_RESULT_POINT_CALLBACK);if(null!=a){var u=new jn((s[0]+s[1])/2,e);a.foundPossibleResultPoint(u)}var h=this.decodeMiddle(r,s,this.decodeRowStringBuffer),x=h.rowOffset,M=h.resultString;if(null!=a){var L=new jn(x,e);a.foundPossibleResultPoint(L)}var W=t.decodeEnd(r,x);if(null!=a){var q=new jn((W[0]+W[1])/2,e);a.foundPossibleResultPoint(q)}var ye=W[1],Le=ye+(ye-W[0]);if(Le>=r.getSize()||!r.isRange(ye,Le,!1))throw new tn;var rt=M.toString();if(rt.length<8)throw new Sn;if(!t.checkChecksum(rt))throw new bo;var it=(s[1]+s[0])/2,lt=(W[1]+W[0])/2,Ot=this.getBarcodeFormat(),Pt=[new jn(it,e),new jn(lt,e)],rn=new la(rt,null,0,Pt,Ot,(new Date).getTime()),gn=0;try{var mn=mV.decodeRow(e,r,W[1]);rn.putMetadata(os.UPC_EAN_EXTENSION,mn.getText()),rn.putAllMetadata(mn.getResultMetadata()),rn.addResultPoints(mn.getResultPoints()),gn=mn.getText().length}catch(wi){}var An=null==o?null:o.get(ni.ALLOWED_EAN_EXTENSIONS);if(null!=An){var or=!1;for(var Ln in An)if(gn.toString()===Ln){or=!0;break}if(!or)throw new tn}return rn},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var o=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===o},t.getStandardUPCEANChecksum=function(e){for(var r=e.length,o=0,s=r-1;s>=0;s-=2){if((a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new Sn;o+=a}for(o*=3,s=r-2;s>=0;s-=2){var a;if((a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new Sn;o+=a}return(1e3-o)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(Dm);const Io=_V;var yV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bV=function(n){function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return yV(t,n),t.prototype.decodeMiddle=function(e,r,o){var s,a,u,h,x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;for(var M=e.getSize(),L=r[1],W=0,q=0;q<6&&L<M;q++){var ye=Io.decodeDigit(e,x,L,Io.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+ye%10);try{for(var Le=(s=void 0,g3(x)),rt=Le.next();!rt.done;rt=Le.next())L+=rt.value}catch(rn){s={error:rn}}finally{try{rt&&!rt.done&&(a=Le.return)&&a.call(Le)}finally{if(s)throw s.error}}ye>=10&&(W|=1<<5-q)}for(o=t.determineFirstDigit(o,W),L=Io.findGuardPattern(e,L,!0,Io.MIDDLE_PATTERN,new Int32Array(Io.MIDDLE_PATTERN.length).fill(0))[1],q=0;q<6&&L<M;q++){ye=Io.decodeDigit(e,x,L,Io.L_PATTERNS),o+=String.fromCharCode("0".charCodeAt(0)+ye);try{for(var Ot=(u=void 0,g3(x)),Pt=Ot.next();!Pt.done;Pt=Ot.next())L+=Pt.value}catch(mn){u={error:mn}}finally{try{Pt&&!Pt.done&&(h=Ot.return)&&h.call(Ot)}finally{if(u)throw u.error}}}return{rowOffset:L,resultString:o}},t.prototype.getBarcodeFormat=function(){return Kn.EAN_13},t.determineFirstDigit=function(e,r){for(var o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return String.fromCharCode("0".charCodeAt(0)+o)+e;throw new tn},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(Io);const qD=bV;var wV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),m3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xV=function(n){function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return wV(t,n),t.prototype.decodeMiddle=function(e,r,o){var s,a,u,h,x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;for(var M=e.getSize(),L=r[1],W=0;W<4&&L<M;W++){var q=Io.decodeDigit(e,x,L,Io.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+q);try{for(var ye=(s=void 0,m3(x)),Le=ye.next();!Le.done;Le=ye.next())L+=Le.value}catch(Pt){s={error:Pt}}finally{try{Le&&!Le.done&&(a=ye.return)&&a.call(ye)}finally{if(s)throw s.error}}}for(L=Io.findGuardPattern(e,L,!0,Io.MIDDLE_PATTERN,new Int32Array(Io.MIDDLE_PATTERN.length).fill(0))[1],W=0;W<4&&L<M;W++){q=Io.decodeDigit(e,x,L,Io.L_PATTERNS),o+=String.fromCharCode("0".charCodeAt(0)+q);try{for(var lt=(u=void 0,m3(x)),Ot=lt.next();!Ot.done;Ot=lt.next())L+=Ot.value}catch(gn){u={error:gn}}finally{try{Ot&&!Ot.done&&(h=lt.return)&&h.call(lt)}finally{if(u)throw u.error}}}return{rowOffset:L,resultString:o}},t.prototype.getBarcodeFormat=function(){return Kn.EAN_8},t}(Io);const v3=xV;var EV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),CV=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ean13Reader=new qD,e}return EV(t,n),t.prototype.getBarcodeFormat=function(){return Kn.UPC_A},t.prototype.decode=function(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,o))},t.prototype.decodeMiddle=function(e,r,o){return this.ean13Reader.decodeMiddle(e,r,o)},t.prototype.maybeReturnResult=function(e){var r=e.getText();if("0"===r.charAt(0)){var o=new la(r.substring(1),null,null,e.getResultPoints(),Kn.UPC_A);return null!=e.getResultMetadata()&&o.putAllMetadata(e.getResultMetadata()),o}throw new tn},t.prototype.reset=function(){this.ean13Reader.reset()},t}(Io);const _3=CV;var SV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AV=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DV=function(n){function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return SV(t,n),t.prototype.decodeMiddle=function(e,r,o){var s,a,u=this.decodeMiddleCounters.map(function(rt){return rt});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var h=e.getSize(),x=r[1],M=0,L=0;L<6&&x<h;L++){var W=t.decodeDigit(e,u,x,t.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+W%10);try{for(var q=(s=void 0,AV(u)),ye=q.next();!ye.done;ye=q.next())x+=ye.value}catch(rt){s={error:rt}}finally{try{ye&&!ye.done&&(a=q.return)&&a.call(q)}finally{if(s)throw s.error}}W>=10&&(M|=1<<5-L)}return t.determineNumSysAndCheckDigit(new gi(o),M),x},t.prototype.decodeEnd=function(e,r){return t.findGuardPatternWithoutCounters(e,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return Io.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,r){for(var o=0;o<=1;o++)for(var s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][s])return e.insert(0,"0"+o),void e.append("0"+s);throw tn.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Kn.UPC_E},t.convertUPCEtoUPCA=function(e){var r=e.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),o=new gi;o.append(e.charAt(0));var s=r[5];switch(s){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(s),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(s)}return e.length>=8&&o.append(e.charAt(7)),o.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(Io);const y3=DV;var TV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MV=function(n){function t(e){var r=n.call(this)||this,o=null==e?null:e.get(ni.POSSIBLE_FORMATS),s=[];return null!=o&&(o.indexOf(Kn.EAN_13)>-1&&s.push(new qD),o.indexOf(Kn.UPC_A)>-1&&s.push(new _3),o.indexOf(Kn.EAN_8)>-1&&s.push(new v3),o.indexOf(Kn.UPC_E)>-1&&s.push(new y3)),0===s.length&&(s.push(new qD),s.push(new _3),s.push(new v3),s.push(new y3)),r.readers=s,r}return TV(t,n),t.prototype.decodeRow=function(e,r,o){var s,a;try{for(var u=b3(this.readers),h=u.next();!h.done;h=u.next()){var x=h.value;try{var M=x.decodeRow(e,r,o),L=M.getBarcodeFormat()===Kn.EAN_13&&"0"===M.getText().charAt(0),W=null==o?null:o.get(ni.POSSIBLE_FORMATS),q=null==W||W.includes(Kn.UPC_A);if(L&&q){var ye=M.getRawBytes(),Le=new la(M.getText().substring(1),ye,ye?ye.length:null,M.getResultPoints(),Kn.UPC_A);return Le.putAllMetadata(M.getResultMetadata()),Le}return M}catch(rt){}}}catch(rt){s={error:rt}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}throw new tn},t.prototype.reset=function(){var e,r;try{for(var o=b3(this.readers),s=o.next();!s.done;s=o.next())s.value.reset()}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},t}(ss);const YD=MV;var OV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),RV=function(n){function t(){var e=n.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=new Array(4),e.evenRoundingErrors=new Array(4),e.oddCounts=new Array(e.dataCharacterCounters.length/2),e.evenCounts=new Array(e.dataCharacterCounters.length/2),e}return OV(t,n),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,r){for(var o=0;o<r.length;o++)if(ss.patternMatchVariance(e,r[o],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return o;throw new tn},t.count=function(e){return $r.sum(new Int32Array(e))},t.increment=function(e,r){for(var o=0,s=r[0],a=1;a<e.length;a++)r[a]>s&&(s=r[a],o=a);e[o]++},t.decrement=function(e,r){for(var o=0,s=r[0],a=1;a<e.length;a++)r[a]<s&&(s=r[a],o=a);e[o]--},t.isFinderPattern=function(e){var r,o,s=e[0]+e[1],u=s/(s+e[2]+e[3]);if(u>=t.MIN_FINDER_PATTERN_RATIO&&u<=t.MAX_FINDER_PATTERN_RATIO){var h=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;try{for(var M=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),L=M.next();!L.done;L=M.next()){var W=L.value;W>x&&(x=W),W<h&&(h=W)}}catch(q){r={error:q}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(r)throw r.error}}return x<10*h}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(ss);const Dh=RV;var PV=function(){function n(t,e){this.value=t,this.checksumPortion=e}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(t){return t instanceof n&&(this.value===t.value&&this.checksumPortion===t.checksumPortion)},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}();const cE=PV;var FV=function(){function n(t,e,r,o,s){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new jn(r,s)),this.resultPoints.push(new jn(o,s))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(t){return t instanceof n&&this.value===t.value},n.prototype.hashCode=function(){return this.value},n}();const w3=FV;var LV=function(){function n(){}return n.getRSSvalue=function(t,e,r){var o,s,a=0;try{for(var u=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),h=u.next();!h.done;h=u.next())a+=h.value}catch(lt){o={error:lt}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}for(var M=0,L=0,W=t.length,q=0;q<W-1;q++){var ye=void 0;for(ye=1,L|=1<<q;ye<t[q];ye++,L&=~(1<<q)){var Le=n.combins(a-ye-1,W-q-2);if(r&&0===L&&a-ye-(W-q-1)>=W-q-1&&(Le-=n.combins(a-ye-(W-q),W-q-2)),W-q-1>1){for(var rt=0,it=a-ye-(W-q-2);it>e;it--)rt+=n.combins(a-ye-it-1,W-q-3);Le-=rt*(W-1-q)}else a-ye>e&&Le--;M+=Le}a-=ye}return M},n.combins=function(t,e){var r,o;t-e>e?(o=e,r=t-e):(o=t-e,r=e);for(var s=1,a=1,u=t;u>r;u--)s*=u,a<=o&&(s/=a,a++);for(;a<=o;)s/=a,a++;return s},n}();const Tm=LV;var NV=function(){function n(){}return n.buildBitArray=function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var o=new Yo(12*e),s=0,u=t[0].getRightChar().getValue(),h=11;h>=0;--h)0!=(u&1<<h)&&o.set(s),s++;for(h=1;h<t.length;++h){for(var x=t[h],M=x.getLeftChar().getValue(),L=11;L>=0;--L)0!=(M&1<<L)&&o.set(s),s++;if(null!=x.getRightChar()){var W=x.getRightChar().getValue();for(L=11;L>=0;--L)0!=(W&1<<L)&&o.set(s),s++}}return o},n}();const BV=NV;var UV=function(){function n(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}();const Th=UV;var jV=function(){function n(t){this.newPosition=t}return n.prototype.getNewPosition=function(){return this.newPosition},n}();const KD=jV;var HV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),VV=function(n){function t(e,r){var o=n.call(this,e)||this;return o.value=r,o}return HV(t,n),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(KD);const Ml=VV;var GV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zV=function(n){function t(e,r,o){var s=n.call(this,e)||this;return o?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=r,s}return GV(t,n),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(KD);const Mh=zV;var ZV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),WV=function(n){function t(e,r,o){var s=n.call(this,e)||this;if(r<0||r>10||o<0||o>10)throw new Sn;return s.firstDigit=r,s.secondDigit=o,s}return ZV(t,n),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(KD);const Mm=WV;var uE=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$V=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(t){var e,r,o,s,a,u,h,x;if(!t)return null;if(t.length<2)throw new tn;var M=t.substring(0,2);try{for(var L=uE(n.TWO_DIGIT_DATA_LENGTH),W=L.next();!W.done;W=L.next())if((q=W.value)[0]===M)return q[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,q[2],t):n.processFixedAI(2,q[1],t)}catch(gn){e={error:gn}}finally{try{W&&!W.done&&(r=L.return)&&r.call(L)}finally{if(e)throw e.error}}if(t.length<3)throw new tn;var ye=t.substring(0,3);try{for(var Le=uE(n.THREE_DIGIT_DATA_LENGTH),rt=Le.next();!rt.done;rt=Le.next())if((q=rt.value)[0]===ye)return q[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,q[2],t):n.processFixedAI(3,q[1],t)}catch(gn){o={error:gn}}finally{try{rt&&!rt.done&&(s=Le.return)&&s.call(Le)}finally{if(o)throw o.error}}try{for(var it=uE(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),lt=it.next();!lt.done;lt=it.next())if((q=lt.value)[0]===ye)return q[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,q[2],t):n.processFixedAI(4,q[1],t)}catch(gn){a={error:gn}}finally{try{lt&&!lt.done&&(u=it.return)&&u.call(it)}finally{if(a)throw a.error}}if(t.length<4)throw new tn;var Ot=t.substring(0,4);try{for(var Pt=uE(n.FOUR_DIGIT_DATA_LENGTH),rn=Pt.next();!rn.done;rn=Pt.next()){var q;if((q=rn.value)[0]===Ot)return q[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,q[2],t):n.processFixedAI(4,q[1],t)}}catch(gn){h={error:gn}}finally{try{rn&&!rn.done&&(x=Pt.return)&&x.call(Pt)}finally{if(h)throw h.error}}throw new tn},n.processFixedAI=function(t,e,r){if(r.length<t)throw new tn;var o=r.substring(0,t);if(r.length<t+e)throw new tn;var s=r.substring(t,t+e),a=r.substring(t+e),u="("+o+")"+s,h=n.parseFieldsInGeneralPurpose(a);return null==h?u:u+h},n.processVariableAI=function(t,e,r){var s,o=r.substring(0,t),a=r.substring(t,s=r.length<t+e?r.length:t+e),u=r.substring(s),h="("+o+")"+a,x=n.parseFieldsInGeneralPurpose(u);return null==x?h:h+x},n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}();const qV=$V;var YV=function(){function n(t){this.buffer=new gi,this.information=t}return n.prototype.decodeAllCodes=function(t,e){for(var r=e,o=null;;){var s=this.decodeGeneralPurposeField(r,o),a=qV.parseFieldsInGeneralPurpose(s.getNewString());if(null!=a&&t.append(a),o=s.isRemaining()?""+s.getRemainingValue():null,r===s.getNewPosition())break;r=s.getNewPosition()}return t.toString()},n.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},n.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return new Mm(this.information.getSize(),0===e?Mm.FNC1:e-1,Mm.FNC1)}var r=this.extractNumericValueFromBitArray(t,7);return new Mm(t+7,(r-8)/11,(r-8)%11)},n.prototype.extractNumericValueFromBitArray=function(t,e){return n.extractNumericValueFromBitArray(this.information,t,e)},n.extractNumericValueFromBitArray=function(t,e,r){for(var o=0,s=0;s<r;++s)t.get(e+s)&&(o|=1<<r-s-1);return o},n.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var r=this.parseBlocks();return null!=r&&r.isRemaining()?new Mh(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Mh(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var t,e;do{var r=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),r===this.current.getPosition()&&!t)break}while(!t);return e.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return e=t.isSecondDigitFNC1()?new Mh(this.current.getPosition(),this.buffer.toString()):new Mh(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Th(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1())return e=new Mh(this.current.getPosition(),this.buffer.toString()),new Th(!0,e);this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Th(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new Mh(this.current.getPosition(),this.buffer.toString());return new Th(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Th(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new Mh(this.current.getPosition(),this.buffer.toString());return new Th(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Th(!1)},n.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253},n.prototype.decodeIsoIec646=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Ml(t+5,Ml.FNC1);if(e>=5&&e<15)return new Ml(t+5,"0"+(e-5));var s,r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Ml(t+7,""+(r+1));if(r>=90&&r<116)return new Ml(t+7,""+(r+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new Sn}return new Ml(t+8,s)},n.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Ml(t+5,Ml.FNC1);if(e>=5&&e<15)return new Ml(t+5,"0"+(e-5));var o,r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Ml(t+6,""+(r+33));switch(r){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new gc("Decoding invalid alphanumeric value: "+r)}return new Ml(t+6,o)},n.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},n}();const dE=YV;var KV=function(){function n(t){this.information=t,this.generalDecoder=new dE(t)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}();const x3=KV;var QV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),XV=function(n){function t(e){return n.call(this,e)||this}return QV(t,n),t.prototype.encodeCompressedGtin=function(e,r){e.append("(01)");var o=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,o)},t.prototype.encodeCompressedGtinWithoutAI=function(e,r,o){for(var s=0;s<4;++s){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);a/100==0&&e.append("0"),a/10==0&&e.append("0"),e.append(a)}t.appendCheckDigit(e,o)},t.appendCheckDigit=function(e,r){for(var o=0,s=0;s<13;s++){var a=e.charAt(s+r).charCodeAt(0)-"0".charCodeAt(0);o+=0==(1&s)?3*a:a}10==(o=10-o%10)&&(o=0),e.append(o)},t.GTIN_SIZE=40,t}(x3);const Ol=XV;var JV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eG=function(n){function t(e){return n.call(this,e)||this}return JV(t,n),t.prototype.parseInformation=function(){var e=new gi;e.append("(01)");var r=e.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(o),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Ol);const tG=eG;var nG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rG=function(n){function t(e){return n.call(this,e)||this}return nG(t,n),t.prototype.parseInformation=function(){var e=new gi;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(x3);const iG=rG;var oG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sG=function(n){function t(e){return n.call(this,e)||this}return oG(t,n),t.prototype.encodeCompressedWeight=function(e,r,o){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(e,s);for(var a=this.checkWeight(s),u=1e5,h=0;h<5;++h)a/u==0&&e.append("0"),u/=10;e.append(a)},t}(Ol);const fE=sG;var aG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lG=function(n){function t(e){return n.call(this,e)||this}return aG(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+fE.GTIN_SIZE+t.WEIGHT_SIZE)throw new tn;var e=new gi;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+fE.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(fE);const E3=lG;var cG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uG=function(n){function t(e){return n.call(this,e)||this}return cG(t,n),t.prototype.addWeightCode=function(e,r){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(E3);const dG=uG;var fG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hG=function(n){function t(e){return n.call(this,e)||this}return fG(t,n),t.prototype.addWeightCode=function(e,r){e.append(r<1e4?"(3202)":"(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(E3);const pG=hG;var gG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mG=function(n){function t(e){return n.call(this,e)||this}return gG(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ol.GTIN_SIZE)throw new tn;var e=new gi;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ol.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");var o=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ol.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(o.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Ol);const vG=mG;var _G=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yG=function(n){function t(e){return n.call(this,e)||this}return _G(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ol.GTIN_SIZE)throw new tn;var e=new gi;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ol.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");var o=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ol.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);o/100==0&&e.append("0"),o/10==0&&e.append("0"),e.append(o);var s=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ol.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Ol);const bG=yG;var wG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xG=function(n){function t(e,r,o){var s=n.call(this,e)||this;return s.dateCode=o,s.firstAIdigits=r,s}return wG(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new tn;var e=new gi;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,r){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(38400!=o){e.append("("),e.append(this.dateCode),e.append(")");var s=o%32,a=(o/=32)%12+1,u=o/=12;u/10==0&&e.append("0"),e.append(u),a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s)}},t.prototype.addWeightCode=function(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(fE);const Dd=xG;var CG=function(){function n(t,e,r,o){this.leftchar=t,this.rightchar=e,this.finderpattern=r,this.maybeLast=o}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return null==this.rightchar},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},n.equals=function(t,e){return t instanceof n&&n.equalsOrNull(t.leftchar,e.leftchar)&&n.equalsOrNull(t.rightchar,e.rightchar)&&n.equalsOrNull(t.finderpattern,e.finderpattern)},n.equalsOrNull=function(t,e){return null===t?null===e:n.equals(t,e)},n.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},n}();const C3=CG;var SG=function(){function n(t,e,r){this.pairs=t,this.rowNumber=e,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(t,e){return t instanceof n&&this.checkEqualitity(t,e)&&t.wasReversed===e.wasReversed},n.prototype.checkEqualitity=function(t,e){var r;if(t&&e)return t.forEach(function(o,s){e.forEach(function(a){o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r},n}();const AG=SG;var DG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Td=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.pairs=new Array(t.MAX_PAIRS),e.rows=new Array,e.startEnd=[2],e}return DG(t,n),t.prototype.decodeRow=function(e,r,o){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,r))}catch(s){}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,r){for(var o=!1;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(u){if(u instanceof tn){if(!this.pairs.length)throw new tn;o=!0}}if(this.checkChecksum())return this.pairs;var s;if(s=!!this.rows.length,this.storeRow(e,!1),s){var a=this.checkRowsBoolean(!1);if(null!=a||null!=(a=this.checkRowsBoolean(!0)))return a}throw new tn},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(o){console.log(o)}return e&&(this.rows=this.rows.reverse()),r},t.prototype.checkRows=function(e,r){for(var o,s,a=r;a<this.rows.length;a++){var u=this.rows[a];this.pairs.length=0;try{for(var h=(o=void 0,Td(e)),x=h.next();!x.done;x=h.next())this.pairs.push(x.value.getPairs())}catch(W){o={error:W}}finally{try{x&&!x.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}if(this.pairs.push(u.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var L=new Array(e);L.push(u);try{return this.checkRows(L,a+1)}catch(W){console.log(W)}}}throw new tn},t.isValidSequence=function(e){var r,o;try{for(var s=Td(t.FINDER_PATTERN_SEQUENCES),a=s.next();!a.done;a=s.next()){var u=a.value;if(!(e.length>u.length)){for(var h=!0,x=0;x<e.length;x++)if(e[x].getFinderPattern().getValue()!=u[x]){h=!1;break}if(h)return!0}}}catch(M){r={error:M}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(e,r){for(var o=0,s=!1,a=!1;o<this.rows.length;){var u=this.rows[o];if(u.getRowNumber()>e){a=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),o++}a||s||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new AG(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,r){var o,s,a,u,h,x;try{for(var M=Td(r),L=M.next();!L.done;L=M.next()){var W=L.value;if(W.getPairs().length!==e.length)try{for(var ye=(a=void 0,Td(W.getPairs())),Le=ye.next();!Le.done;Le=ye.next()){var rt=Le.value;try{for(var lt=(h=void 0,Td(e)),Ot=lt.next();!Ot.done;Ot=lt.next())if(C3.equals(rt,Ot.value)){!0;break}}catch(rn){h={error:rn}}finally{try{Ot&&!Ot.done&&(x=lt.return)&&x.call(lt)}finally{if(h)throw h.error}}}}catch(rn){a={error:rn}}finally{try{Le&&!Le.done&&(u=ye.return)&&u.call(ye)}finally{if(a)throw a.error}}}}catch(rn){o={error:rn}}finally{try{L&&!L.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}},t.isPartialRow=function(e,r){var o,s,a,u,h,x;try{for(var M=Td(r),L=M.next();!L.done;L=M.next()){var W=L.value,q=!0;try{for(var ye=(a=void 0,Td(e)),Le=ye.next();!Le.done;Le=ye.next()){var rt=Le.value,it=!1;try{for(var lt=(h=void 0,Td(W.getPairs())),Ot=lt.next();!Ot.done;Ot=lt.next())if(rt.equals(Ot.value)){it=!0;break}}catch(rn){h={error:rn}}finally{try{Ot&&!Ot.done&&(x=lt.return)&&x.call(lt)}finally{if(h)throw h.error}}if(!it){q=!1;break}}}catch(rn){a={error:rn}}finally{try{Le&&!Le.done&&(u=ye.return)&&u.call(ye)}finally{if(a)throw a.error}}if(q)return!0}}catch(rn){o={error:rn}}finally{try{L&&!L.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var o=function EG(n){try{if(n.get(1))return new tG(n);if(!n.get(2))return new iG(n);switch(dE.extractNumericValueFromBitArray(n,1,4)){case 4:return new dG(n);case 5:return new pG(n)}switch(dE.extractNumericValueFromBitArray(n,1,5)){case 12:return new vG(n);case 13:return new bG(n)}switch(dE.extractNumericValueFromBitArray(n,1,7)){case 56:return new Dd(n,"310","11");case 57:return new Dd(n,"320","11");case 58:return new Dd(n,"310","13");case 59:return new Dd(n,"320","13");case 60:return new Dd(n,"310","15");case 61:return new Dd(n,"320","15");case 62:return new Dd(n,"310","17");case 63:return new Dd(n,"320","17")}}catch(o){throw console.log(o),new gc("unknown decoder: "+n)}}(BV.buildBitArray(e)),s=o.parseInformation(),a=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints();return new la(s,null,null,[a[0],a[1],u[0],u[1]],Kn.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),r=e.getLeftChar(),o=e.getRightChar();if(null==o)return!1;for(var s=o.getChecksumPortion(),a=2,u=1;u<this.pairs.size();++u){var h=this.pairs.get(u);s+=h.getLeftChar().getChecksumPortion(),a++;var x=h.getRightChar();null!=x&&(s+=x.getChecksumPortion(),a++)}return 211*(a-4)+(s%=211)==r.getValue()},t.getNextSecondBar=function(e,r){var o;return e.get(r)?(o=e.getNextUnset(r),o=e.getNextSet(o)):(o=e.getNextSet(r),o=e.getNextUnset(o)),o},t.prototype.retrieveNextPair=function(e,r,o){var s=r.length%2==0;this.startFromEven&&(s=!s);var a,u=!0,h=-1;do{this.findNextPair(e,r,h),null==(a=this.parseFoundFinderPattern(e,o,s))?h=t.getNextSecondBar(e,this.startEnd[0]):u=!1}while(u);var M,x=this.decodeDataCharacter(e,a,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new tn;try{M=this.decodeDataCharacter(e,a,s,!1)}catch(L){M=null,console.log(L)}return new C3(x,M,a,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,r,o){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var u,a=e.getSize();u=o>=0?o:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];var x=r.length%2!=0;this.startFromEven&&(x=!x);for(var M=!1;u<a&&(M=!e.get(u));)u++;for(var L=0,W=u,q=u;q<a;q++)if(e.get(q)!=M)s[L]++;else{if(3==L){if(x&&t.reverseCounters(s),t.isFinderPattern(s))return this.startEnd[0]=W,void(this.startEnd[1]=q);x&&t.reverseCounters(s),W+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,L--}else L++;s[L]=1,M=!M}throw new tn},t.reverseCounters=function(e){for(var r=e.length,o=0;o<r/2;++o){var s=e[o];e[o]=e[r-o-1],e[r-o-1]=s}},t.prototype.parseFoundFinderPattern=function(e,r,o){var s,a,u;if(o){for(var h=this.startEnd[0]-1;h>=0&&!e.get(h);)h--;h++,s=this.startEnd[0]-h,a=h,u=this.startEnd[1]}else a=this.startEnd[0],s=(u=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var M,x=this.getDecodeFinderCounters();Ti.arraycopy(x,0,x,1,x.length-1),x[0]=s;try{M=this.parseFinderValue(x,t.FINDER_PATTERNS)}catch(L){return null}return new w3(M,[a,u],a,u,r)},t.prototype.decodeDataCharacter=function(e,r,o,s){for(var a=this.getDataCharacterCounters(),u=0;u<a.length;u++)a[u]=0;if(s)t.recordPatternInReverse(e,r.getStartEnd()[0],a);else{t.recordPattern(e,r.getStartEnd()[1],a);for(var h=0,x=a.length-1;h<x;h++,x--){var M=a[h];a[h]=a[x],a[x]=M}}var W=$r.sum(new Int32Array(a))/17,q=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(W-q)/q>.3)throw new tn;var ye=this.getOddCounts(),Le=this.getEvenCounts(),rt=this.getOddRoundingErrors(),it=this.getEvenRoundingErrors();for(h=0;h<a.length;h++){var lt=1*a[h]/W,Ot=lt+.5;if(Ot<1){if(lt<.3)throw new tn;Ot=1}else if(Ot>8){if(lt>8.7)throw new tn;Ot=8}var Pt=h/2;0==(1&h)?(ye[Pt]=Ot,rt[Pt]=lt-Ot):(Le[Pt]=Ot,it[Pt]=lt-Ot)}this.adjustOddEvenCounts(17);var rn=4*r.getValue()+(o?0:2)+(s?0:1)-1,gn=0,mn=0;for(h=ye.length-1;h>=0;h--)t.isNotA1left(r,o,s)&&(mn+=ye[h]*t.WEIGHTS[rn][2*h]),gn+=ye[h];var or=0;for(h=Le.length-1;h>=0;h--)t.isNotA1left(r,o,s)&&(or+=Le[h]*t.WEIGHTS[rn][2*h+1]);var Ln=mn+or;if(0!=(1&gn)||gn>13||gn<4)throw new tn;var wi=(13-gn)/2,Sr=t.SYMBOL_WIDEST[wi],ci=9-Sr,Po=Tm.getRSSvalue(ye,Sr,!0),Il=Tm.getRSSvalue(Le,ci,!1);return new cE(Po*t.EVEN_TOTAL_SUBSET[wi]+Il+t.GSUM[wi],Ln)},t.isNotA1left=function(e,r,o){return!(0==e.getValue()&&r&&o)},t.prototype.adjustOddEvenCounts=function(e){var r=$r.sum(new Int32Array(this.getOddCounts())),o=$r.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1;r>13?a=!0:r<4&&(s=!0);var u=!1,h=!1;o>13?h=!0:o<4&&(u=!0);var x=r+o-e,M=1==(1&r),L=0==(1&o);if(1==x)if(M){if(L)throw new tn;a=!0}else{if(!L)throw new tn;h=!0}else if(-1==x)if(M){if(L)throw new tn;s=!0}else{if(!L)throw new tn;u=!0}else{if(0!=x)throw new tn;if(M){if(!L)throw new tn;r<o?(s=!0,h=!0):(a=!0,u=!0)}else if(L)throw new tn}if(s){if(a)throw new tn;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new tn;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A=0,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B=1,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C=2,t.FINDER_PAT_B,t.FINDER_PAT_D=3],[t.FINDER_PAT_A,t.FINDER_PAT_E=4,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F=5],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Dh);const MG=TG;var OG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),IG=function(n){function t(e,r,o){var s=n.call(this,e,r)||this;return s.count=0,s.finderPattern=o,s}return OG(t,n),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(cE);const RG=IG;var PG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QD=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return PG(t,n),t.prototype.decodeRow=function(e,r,o){var s,a,u,h,x=this.decodePair(r,!1,e,o);t.addOrTally(this.possibleLeftPairs,x),r.reverse();var M=this.decodePair(r,!0,e,o);t.addOrTally(this.possibleRightPairs,M),r.reverse();try{for(var L=QD(this.possibleLeftPairs),W=L.next();!W.done;W=L.next()){var q=W.value;if(q.getCount()>1)try{for(var ye=(u=void 0,QD(this.possibleRightPairs)),Le=ye.next();!Le.done;Le=ye.next()){var rt=Le.value;if(rt.getCount()>1&&t.checkChecksum(q,rt))return t.constructResult(q,rt)}}catch(it){u={error:it}}finally{try{Le&&!Le.done&&(h=ye.return)&&h.call(ye)}finally{if(u)throw u.error}}}}catch(it){s={error:it}}finally{try{W&&!W.done&&(a=L.return)&&a.call(L)}finally{if(s)throw s.error}}throw new tn},t.addOrTally=function(e,r){var o,s;if(null!=r){var a=!1;try{for(var u=QD(e),h=u.next();!h.done;h=u.next()){var x=h.value;if(x.getValue()===r.getValue()){x.incrementCount(),a=!0;break}}}catch(M){o={error:M}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}a||e.push(r)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,r){for(var o=4537077*e.getValue()+r.getValue(),s=new String(o).toString(),a=new gi,u=13-s.length;u>0;u--)a.append("0");a.append(s);var h=0;for(u=0;u<13;u++){var x=a.charAt(u).charCodeAt(0)-"0".charCodeAt(0);h+=0==(1&u)?3*x:x}10==(h=10-h%10)&&(h=0),a.append(h.toString());var M=e.getFinderPattern().getResultPoints(),L=r.getFinderPattern().getResultPoints();return new la(a.toString(),null,0,[M[0],M[1],L[0],L[1]],Kn.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,r){var o=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,o===s},t.prototype.decodePair=function(e,r,o,s){try{var a=this.findFinderPattern(e,r),u=this.parseFoundFinderPattern(e,o,r,a),h=null==s?null:s.get(ni.NEED_RESULT_POINT_CALLBACK);if(null!=h){var x=(a[0]+a[1])/2;r&&(x=e.getSize()-1-x),h.foundPossibleResultPoint(new jn(x,o))}var M=this.decodeDataCharacter(e,u,!0),L=this.decodeDataCharacter(e,u,!1);return new RG(1597*M.getValue()+L.getValue(),M.getChecksumPortion()+4*L.getChecksumPortion(),u)}catch(W){return null}},t.prototype.decodeDataCharacter=function(e,r,o){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(o)ss.recordPatternInReverse(e,r.getStartEnd()[0],s);else{ss.recordPattern(e,r.getStartEnd()[1]+1,s);for(var u=0,h=s.length-1;u<h;u++,h--){var x=s[u];s[u]=s[h],s[h]=x}}var M=o?16:15,L=$r.sum(new Int32Array(s))/M,W=this.getOddCounts(),q=this.getEvenCounts(),ye=this.getOddRoundingErrors(),Le=this.getEvenRoundingErrors();for(u=0;u<s.length;u++){var rt=s[u]/L,it=Math.floor(rt+.5);it<1?it=1:it>8&&(it=8);var lt=Math.floor(u/2);0==(1&u)?(W[lt]=it,ye[lt]=rt-it):(q[lt]=it,Le[lt]=rt-it)}this.adjustOddEvenCounts(o,M);var Ot=0,Pt=0;for(u=W.length-1;u>=0;u--)Pt*=9,Pt+=W[u],Ot+=W[u];var rn=0,gn=0;for(u=q.length-1;u>=0;u--)rn*=9,rn+=q[u],gn+=q[u];var An,or,mn=Pt+3*rn;if(o){if(0!=(1&Ot)||Ot>12||Ot<4)throw new tn;var Ln=9-(or=t.OUTSIDE_ODD_WIDEST[An=(12-Ot)/2]),wi=Tm.getRSSvalue(W,or,!1),Sr=Tm.getRSSvalue(q,Ln,!0);return new cE(wi*t.OUTSIDE_EVEN_TOTAL_SUBSET[An]+Sr+t.OUTSIDE_GSUM[An],mn)}if(0!=(1&gn)||gn>10||gn<4)throw new tn;return Ln=9-(or=t.INSIDE_ODD_WIDEST[An=(10-gn)/2]),wi=Tm.getRSSvalue(W,or,!0),Sr=Tm.getRSSvalue(q,Ln,!1),new cE(Sr*t.INSIDE_ODD_TOTAL_SUBSET[An]+wi+t.INSIDE_GSUM[An],mn)},t.prototype.findFinderPattern=function(e,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),a=!1,u=0;u<s&&r!==(a=!e.get(u));)u++;for(var h=0,x=u,M=u;M<s;M++)if(e.get(M)!==a)o[h]++;else{if(3===h){if(Dh.isFinderPattern(o))return[x,M];x+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,a=!a}throw new tn},t.prototype.parseFoundFinderPattern=function(e,r,o,s){for(var a=e.get(s[0]),u=s[0]-1;u>=0&&a!==e.get(u);)u--;u++;var h=s[0]-u,x=this.getDecodeFinderCounters(),M=new Int32Array(x.length);Ti.arraycopy(x,0,M,1,x.length-1),M[0]=h;var L=this.parseFinderValue(M,t.FINDER_PATTERNS),W=u,q=s[1];return o&&(W=e.getSize()-1-W,q=e.getSize()-1-q),new w3(L,[u,s[1]],W,q,r)},t.prototype.adjustOddEvenCounts=function(e,r){var o=$r.sum(new Int32Array(this.getOddCounts())),s=$r.sum(new Int32Array(this.getEvenCounts())),a=!1,u=!1,h=!1,x=!1;e?(o>12?u=!0:o<4&&(a=!0),s>12?x=!0:s<4&&(h=!0)):(o>11?u=!0:o<5&&(a=!0),s>10?x=!0:s<4&&(h=!0));var M=o+s-r,L=(1&o)==(e?1:0),W=1==(1&s);if(1===M)if(L){if(W)throw new tn;u=!0}else{if(!W)throw new tn;x=!0}else if(-1===M)if(L){if(W)throw new tn;a=!0}else{if(!W)throw new tn;h=!0}else{if(0!==M)throw new tn;if(L){if(!W)throw new tn;o<s?(a=!0,x=!0):(u=!0,h=!0)}else if(W)throw new tn}if(a){if(u)throw new tn;Dh.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Dh.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new tn;Dh.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Dh.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Dh);const S3=FG;var kG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LG=function(n){function t(e){var r=n.call(this)||this;r.readers=[];var o=e?e.get(ni.POSSIBLE_FORMATS):null,s=e&&void 0!==e.get(ni.ASSUME_CODE_39_CHECK_DIGIT);return o&&((o.includes(Kn.EAN_13)||o.includes(Kn.UPC_A)||o.includes(Kn.EAN_8)||o.includes(Kn.UPC_E))&&r.readers.push(new YD(e)),o.includes(Kn.CODE_39)&&r.readers.push(new h3(s)),o.includes(Kn.CODE_128)&&r.readers.push(new f3),o.includes(Kn.ITF)&&r.readers.push(new p3),o.includes(Kn.RSS_14)&&r.readers.push(new S3),o.includes(Kn.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new MG))),0===r.readers.length&&(r.readers.push(new YD(e)),r.readers.push(new h3),r.readers.push(new YD(e)),r.readers.push(new f3),r.readers.push(new p3),r.readers.push(new S3)),r}return kG(t,n),t.prototype.decodeRow=function(e,r,o){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,r,o)}catch(a){}throw new tn},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t}(ss);const Om=LG;var NG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),A3=(function(n){NG(function t(e,r){return void 0===e&&(e=500),n.call(this,new Om(r),e,r)||this},n)}(Am),function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),ii=function(){function n(t,e,r){this.ecCodewords=t,this.ecBlocks=[e],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),Qr=function(){function n(t,e){this.count=t,this.dataCodewords=e}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),BG=function(){function n(t,e,r,o,s,a){var u,h;this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=r,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=s,this.ecBlocks=a;var x=0,M=a.getECCodewords(),L=a.getECBlocks();try{for(var W=A3(L),q=W.next();!q.done;q=W.next()){var ye=q.value;x+=ye.getCount()*(ye.getDataCodewords()+M)}}catch(Le){u={error:Le}}finally{try{q&&!q.done&&(h=W.return)&&h.call(W)}finally{if(u)throw u.error}}this.totalCodewords=x}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(t,e){var r,o;if(0!=(1&t)||0!=(1&e))throw new Sn;try{for(var s=A3(n.VERSIONS),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.symbolSizeRows===t&&u.symbolSizeColumns===e)return u}}catch(h){r={error:h}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}throw new Sn},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new ii(5,new Qr(1,3))),new n(2,12,12,10,10,new ii(7,new Qr(1,5))),new n(3,14,14,12,12,new ii(10,new Qr(1,8))),new n(4,16,16,14,14,new ii(12,new Qr(1,12))),new n(5,18,18,16,16,new ii(14,new Qr(1,18))),new n(6,20,20,18,18,new ii(18,new Qr(1,22))),new n(7,22,22,20,20,new ii(20,new Qr(1,30))),new n(8,24,24,22,22,new ii(24,new Qr(1,36))),new n(9,26,26,24,24,new ii(28,new Qr(1,44))),new n(10,32,32,14,14,new ii(36,new Qr(1,62))),new n(11,36,36,16,16,new ii(42,new Qr(1,86))),new n(12,40,40,18,18,new ii(48,new Qr(1,114))),new n(13,44,44,20,20,new ii(56,new Qr(1,144))),new n(14,48,48,22,22,new ii(68,new Qr(1,174))),new n(15,52,52,24,24,new ii(42,new Qr(2,102))),new n(16,64,64,14,14,new ii(56,new Qr(2,140))),new n(17,72,72,16,16,new ii(36,new Qr(4,92))),new n(18,80,80,18,18,new ii(48,new Qr(4,114))),new n(19,88,88,20,20,new ii(56,new Qr(4,144))),new n(20,96,96,22,22,new ii(68,new Qr(4,174))),new n(21,104,104,24,24,new ii(56,new Qr(6,136))),new n(22,120,120,18,18,new ii(68,new Qr(6,175))),new n(23,132,132,20,20,new ii(62,new Qr(8,163))),new n(24,144,144,22,22,new ii(62,new Qr(8,156),new Qr(2,155))),new n(25,8,18,6,16,new ii(7,new Qr(1,5))),new n(26,8,32,6,14,new ii(11,new Qr(1,10))),new n(27,12,26,10,24,new ii(14,new Qr(1,16))),new n(28,12,36,10,16,new ii(18,new Qr(1,22))),new n(29,16,36,14,16,new ii(24,new Qr(1,32))),new n(30,16,48,14,22,new ii(28,new Qr(1,49)))]},n.VERSIONS=n.buildVersions(),n}();const UG=BG;var jG=function(){function n(t){var e=t.getHeight();if(e<8||e>144||0!=(1&e))throw new Sn;this.version=n.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new el(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(t){var e=t.getHeight(),r=t.getWidth();return UG.getVersionForDimensions(e,r)},n.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,r=4,o=0,s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),u=!1,h=!1,x=!1,M=!1;do{if(r!==s||0!==o||u)if(r!==s-2||0!==o||0==(3&a)||h)if(r!==s+4||2!==o||0!=(7&a)||x)if(r!==s-2||0!==o||4!=(7&a)||M){do{r<s&&o>=0&&!this.readMappingMatrix.get(o,r)&&(t[e++]=255&this.readUtah(r,o,s,a)),r-=2,o+=2}while(r>=0&&o<a);r+=1,o+=3;do{r>=0&&o<a&&!this.readMappingMatrix.get(o,r)&&(t[e++]=255&this.readUtah(r,o,s,a)),r+=2,o-=2}while(r<s&&o>=0);r+=3,o+=1}else t[e++]=255&this.readCorner4(s,a),r-=2,o+=2,M=!0;else t[e++]=255&this.readCorner3(s,a),r-=2,o+=2,x=!0;else t[e++]=255&this.readCorner2(s,a),r-=2,o+=2,h=!0;else t[e++]=255&this.readCorner1(s,a),r-=2,o+=2,u=!0}while(r<s||o<a);if(e!==this.version.getTotalCodewords())throw new Sn;return t},n.prototype.readModule=function(t,e,r,o){return t<0&&(t+=r,e+=4-(r+4&7)),e<0&&(e+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},n.prototype.readUtah=function(t,e,r,o){var s=0;return this.readModule(t-2,e-2,r,o)&&(s|=1),s<<=1,this.readModule(t-2,e-1,r,o)&&(s|=1),s<<=1,this.readModule(t-1,e-2,r,o)&&(s|=1),s<<=1,this.readModule(t-1,e-1,r,o)&&(s|=1),s<<=1,this.readModule(t-1,e,r,o)&&(s|=1),s<<=1,this.readModule(t,e-2,r,o)&&(s|=1),s<<=1,this.readModule(t,e-1,r,o)&&(s|=1),s<<=1,this.readModule(t,e,r,o)&&(s|=1),s},n.prototype.readCorner1=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,1,t,e)&&(r|=1),r<<=1,this.readModule(t-1,2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},n.prototype.readCorner2=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-4,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},n.prototype.readCorner3=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-3,t,e)&&(r|=1),r<<=1,this.readModule(1,e-2,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},n.prototype.readCorner4=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},n.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new Pn("Dimension of bitMatrix must match the version size");for(var o=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=e/o|0,u=r/s|0,M=new el(u*s,a*o),L=0;L<a;++L)for(var W=L*o,q=0;q<u;++q)for(var ye=q*s,Le=0;Le<o;++Le)for(var rt=L*(o+2)+1+Le,it=W+Le,lt=0;lt<s;++lt)t.get(q*(s+2)+1+lt,rt)&&M.set(ye+lt,it);return M},n}();const HG=jG;var D3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VG=function(){function n(t,e){this.numDataCodewords=t,this.codewords=e}return n.getDataBlocks=function(t,e){var r,o,s,a,u=e.getECBlocks(),h=0,x=u.getECBlocks();try{for(var M=D3(x),L=M.next();!L.done;L=M.next())h+=(W=L.value).getCount()}catch(Po){r={error:Po}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(r)throw r.error}}var q=new Array(h),ye=0;try{for(var Le=D3(x),rt=Le.next();!rt.done;rt=Le.next())for(var W=rt.value,it=0;it<W.getCount();it++){var lt=W.getDataCodewords(),Ot=u.getECCodewords()+lt;q[ye++]=new n(lt,new Uint8Array(Ot))}}catch(Po){s={error:Po}}finally{try{rt&&!rt.done&&(a=Le.return)&&a.call(Le)}finally{if(s)throw s.error}}var rn=q[0].codewords.length-u.getECCodewords(),gn=rn-1,mn=0;for(it=0;it<gn;it++)for(var An=0;An<ye;An++)q[An].codewords[it]=t[mn++];var or=24===e.getVersionNumber(),Ln=or?8:ye;for(An=0;An<Ln;An++)q[An].codewords[rn-1]=t[mn++];var wi=q[0].codewords.length;for(it=rn;it<wi;it++)for(An=0;An<ye;An++){var Sr=or?(An+8)%ye:An;q[Sr].codewords[or&&Sr>7?it-1:it]=t[mn++]}if(mn!==t.length)throw new Pn;return q},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}();const GG=VG;var zG=function(){function n(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Pn(""+t);var e=0,r=this.bitOffset,o=this.byteOffset,s=this.bytes;if(r>0){var a=8-r,u=t<a?t:a;e=(s[o]&255>>8-u<<(h=a-u))>>h,t-=u,8===(r+=u)&&(r=0,o++)}if(t>0){for(;t>=8;)e=e<<8|255&s[o],o++,t-=8;var h;t>0&&(e=e<<t|(s[o]&255>>(h=8-t)<<h)>>h,r+=t)}return this.bitOffset=r,this.byteOffset=o,e},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}();const T3=zG;var wo=(()=>(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"}(wo||(wo={})),wo))(),ZG=function(){function n(){}return n.decode=function(t){var e=new T3(t),r=new gi,o=new gi,s=new Array,a=wo.ASCII_ENCODE;do{if(a===wo.ASCII_ENCODE)a=this.decodeAsciiSegment(e,r,o);else{switch(a){case wo.C40_ENCODE:this.decodeC40Segment(e,r);break;case wo.TEXT_ENCODE:this.decodeTextSegment(e,r);break;case wo.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,r);break;case wo.EDIFACT_ENCODE:this.decodeEdifactSegment(e,r);break;case wo.BASE256_ENCODE:this.decodeBase256Segment(e,r,s);break;default:throw new Sn}a=wo.ASCII_ENCODE}}while(a!==wo.PAD_ENCODE&&e.available()>0);return o.length()>0&&r.append(o.toString()),new oE(t,r.toString(),0===s.length?null:s,null)},n.decodeAsciiSegment=function(t,e,r){var o=!1;do{var s=t.readBits(8);if(0===s)throw new Sn;if(s<=128)return o&&(s+=128),e.append(String.fromCharCode(s-1)),wo.ASCII_ENCODE;if(129===s)return wo.PAD_ENCODE;if(s<=229){var a=s-130;a<10&&e.append("0"),e.append(""+a)}else switch(s){case 230:return wo.C40_ENCODE;case 231:return wo.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:o=!0;break;case 236:e.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return wo.ANSIX12_ENCODE;case 239:return wo.TEXT_ENCODE;case 240:return wo.EDIFACT_ENCODE;default:if(254!==s||0!==t.available())throw new Sn}}while(t.available()>0);return wo.ASCII_ENCODE},n.decodeC40Segment=function(t,e){var r=!1,o=[],s=0;do{if(8===t.available())return;var a=t.readBits(8);if(254===a)return;this.parseTwoBytes(a,t.readBits(8),o);for(var u=0;u<3;u++){var h=o[u];switch(s){case 0:if(h<3)s=h+1;else{if(!(h<this.C40_BASIC_SET_CHARS.length))throw new Sn;var x=this.C40_BASIC_SET_CHARS[h];r?(e.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):e.append(x)}break;case 1:r?(e.append(String.fromCharCode(h+128)),r=!1):e.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length)x=this.C40_SHIFT2_SET_CHARS[h],r?(e.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):e.append(x);else switch(h){case 27:e.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new Sn}s=0;break;case 3:r?(e.append(String.fromCharCode(h+224)),r=!1):e.append(String.fromCharCode(h+96)),s=0;break;default:throw new Sn}}}while(t.available()>0)},n.decodeTextSegment=function(t,e){var r=!1,o=[],s=0;do{if(8===t.available())return;var a=t.readBits(8);if(254===a)return;this.parseTwoBytes(a,t.readBits(8),o);for(var u=0;u<3;u++){var h=o[u];switch(s){case 0:if(h<3)s=h+1;else{if(!(h<this.TEXT_BASIC_SET_CHARS.length))throw new Sn;var x=this.TEXT_BASIC_SET_CHARS[h];r?(e.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):e.append(x)}break;case 1:r?(e.append(String.fromCharCode(h+128)),r=!1):e.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length)x=this.TEXT_SHIFT2_SET_CHARS[h],r?(e.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):e.append(x);else switch(h){case 27:e.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new Sn}s=0;break;case 3:if(!(h<this.TEXT_SHIFT3_SET_CHARS.length))throw new Sn;x=this.TEXT_SHIFT3_SET_CHARS[h],r?(e.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):e.append(x),s=0;break;default:throw new Sn}}}while(t.available()>0)},n.decodeAnsiX12Segment=function(t,e){var r=[];do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var s=0;s<3;s++){var a=r[s];switch(a){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(a<14)e.append(String.fromCharCode(a+44));else{if(!(a<40))throw new Sn;e.append(String.fromCharCode(a+51))}}}}while(t.available()>0)},n.parseTwoBytes=function(t,e,r){var o=(t<<8)+e-1,s=Math.floor(o/1600);r[0]=s,o-=1600*s,s=Math.floor(o/40),r[1]=s,r[2]=o-40*s},n.decodeEdifactSegment=function(t,e){do{if(t.available()<=16)return;for(var r=0;r<4;r++){var o=t.readBits(6);if(31===o){var s=8-t.getBitOffset();return void(8!==s&&t.readBits(s))}0==(32&o)&&(o|=64),e.append(String.fromCharCode(o))}}while(t.available()>0)},n.decodeBase256Segment=function(t,e,r){var a,o=1+t.getByteOffset(),s=this.unrandomize255State(t.readBits(8),o++);if((a=0===s?t.available()/8|0:s<250?s:250*(s-249)+this.unrandomize255State(t.readBits(8),o++))<0)throw new Sn;for(var u=new Uint8Array(a),h=0;h<a;h++){if(t.available()<8)throw new Sn;u[h]=this.unrandomize255State(t.readBits(8),o++)}r.push(u);try{e.append(pc.decode(u,bi.ISO88591))}catch(x){throw new gc("Platform does not support required encoding: "+x.message)}},n.unrandomize255State=function(t,e){var o=t-(149*e%255+1);return o>=0?o:o+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],n}();const WG=ZG;var qG=function(){function n(){this.rsDecoder=new aE(ca.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(t){var e,r,o=new HG(t),s=o.getVersion(),a=o.readCodewords(),u=GG.getDataBlocks(a,s),h=0;try{for(var x=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),M=x.next();!M.done;M=x.next())h+=M.value.getNumDataCodewords()}catch(Ot){e={error:Ot}}finally{try{M&&!M.done&&(r=x.return)&&r.call(x)}finally{if(e)throw e.error}}for(var W=new Uint8Array(h),q=u.length,ye=0;ye<q;ye++){var Le=u[ye],rt=Le.getCodewords(),it=Le.getNumDataCodewords();this.correctErrors(rt,it);for(var lt=0;lt<it;lt++)W[lt*q+ye]=rt[lt]}return WG.decode(W)},n.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch(s){throw new bo}for(var o=0;o<e;o++)t[o]=r[o]},n}();const YG=qG;var KG=function(){function n(t){this.image=t,this.rectangleDetector=new ZD(this.image)}return n.prototype.detect=function(){var t=this.rectangleDetector.detect(),e=this.detectSolid1(t);if((e=this.detectSolid2(e))[3]=this.correctTopRight(e),!e[3])throw new tn;var r=(e=this.shiftToModuleCenter(e))[0],o=e[1],s=e[2],a=e[3],u=this.transitionsBetween(r,a)+1,h=this.transitionsBetween(s,a)+1;1==(1&u)&&(u+=1),1==(1&h)&&(h+=1),4*u<7*h&&4*h<7*u&&(u=h=Math.max(u,h));var x=n.sampleGrid(this.image,r,o,s,a,u,h);return new zD(x,[r,o,s,a])},n.shiftPoint=function(t,e,r){var o=(e.getX()-t.getX())/(r+1),s=(e.getY()-t.getY())/(r+1);return new jn(t.getX()+o,t.getY()+s)},n.moveAway=function(t,e,r){var o=t.getX(),s=t.getY();return o<e?o-=1:o+=1,s<r?s-=1:s+=1,new jn(o,s)},n.prototype.detectSolid1=function(t){var e=t[0],r=t[1],o=t[3],s=t[2],a=this.transitionsBetween(e,r),u=this.transitionsBetween(r,o),h=this.transitionsBetween(o,s),x=this.transitionsBetween(s,e),M=a,L=[s,e,r,o];return M>u&&(M=u,L[0]=e,L[1]=r,L[2]=o,L[3]=s),M>h&&(M=h,L[0]=r,L[1]=o,L[2]=s,L[3]=e),M>x&&(L[0]=o,L[1]=s,L[2]=e,L[3]=r),L},n.prototype.detectSolid2=function(t){var e=t[0],r=t[1],o=t[2],s=t[3],a=this.transitionsBetween(e,s),u=n.shiftPoint(r,o,4*(a+1)),h=n.shiftPoint(o,r,4*(a+1));return this.transitionsBetween(u,e)<this.transitionsBetween(h,s)?(t[0]=e,t[1]=r,t[2]=o,t[3]=s):(t[0]=r,t[1]=o,t[2]=s,t[3]=e),t},n.prototype.correctTopRight=function(t){var e=t[0],r=t[1],o=t[2],s=t[3],a=this.transitionsBetween(e,s),u=this.transitionsBetween(r,s),h=n.shiftPoint(e,r,4*(u+1)),x=n.shiftPoint(o,r,4*(a+1));a=this.transitionsBetween(h,s),u=this.transitionsBetween(x,s);var M=new jn(s.getX()+(o.getX()-r.getX())/(a+1),s.getY()+(o.getY()-r.getY())/(a+1)),L=new jn(s.getX()+(e.getX()-r.getX())/(u+1),s.getY()+(e.getY()-r.getY())/(u+1));return this.isValid(M)?this.isValid(L)?this.transitionsBetween(h,M)+this.transitionsBetween(x,M)>this.transitionsBetween(h,L)+this.transitionsBetween(x,L)?M:L:M:this.isValid(L)?L:null},n.prototype.shiftToModuleCenter=function(t){var e=t[0],r=t[1],o=t[2],s=t[3],a=this.transitionsBetween(e,s)+1,u=this.transitionsBetween(o,s)+1,h=n.shiftPoint(e,r,4*u),x=n.shiftPoint(o,r,4*a);1==(1&(a=this.transitionsBetween(h,s)+1))&&(a+=1),1==(1&(u=this.transitionsBetween(x,s)+1))&&(u+=1);var W,q,M=(e.getX()+r.getX()+o.getX()+s.getX())/4,L=(e.getY()+r.getY()+o.getY()+s.getY())/4;return e=n.moveAway(e,M,L),r=n.moveAway(r,M,L),o=n.moveAway(o,M,L),s=n.moveAway(s,M,L),h=n.shiftPoint(e,r,4*u),h=n.shiftPoint(h,s,4*a),W=n.shiftPoint(r,e,4*u),W=n.shiftPoint(W,o,4*a),x=n.shiftPoint(o,s,4*u),x=n.shiftPoint(x,r,4*a),q=n.shiftPoint(s,o,4*u),[h,W,x,q=n.shiftPoint(q,e,4*a)]},n.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},n.sampleGrid=function(t,e,r,o,s,a,u){return WD.getInstance().sampleGrid(t,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,e.getX(),e.getY(),s.getX(),s.getY(),o.getX(),o.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(t,e){var r=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.trunc(e.getX()),a=Math.trunc(e.getY()),u=Math.abs(a-o)>Math.abs(s-r);if(u){var h=r;r=o,o=h,h=s,s=a,a=h}for(var x=Math.abs(s-r),M=Math.abs(a-o),L=-x/2,W=o<a?1:-1,q=r<s?1:-1,ye=0,Le=this.image.get(u?o:r,u?r:o),rt=r,it=o;rt!==s;rt+=q){var lt=this.image.get(u?it:rt,u?rt:it);if(lt!==Le&&(ye++,Le=lt),(L+=M)>0){if(it===a)break;it+=W,L-=x}}return ye},n}();const QG=KG;var XG=function(){function n(){this.decoder=new YG}return n.prototype.decode=function(t,e){var r,o;if(void 0===e&&(e=null),null!=e&&e.has(ni.PURE_BARCODE)){var s=n.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(s),o=n.NO_POINTS}else{var a=new QG(t.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),o=a.getPoints()}var u=r.getRawBytes(),h=new la(r.getText(),u,8*u.length,o,Kn.DATA_MATRIX,Ti.currentTimeMillis()),x=r.getByteSegments();null!=x&&h.putMetadata(os.BYTE_SEGMENTS,x);var M=r.getECLevel();return null!=M&&h.putMetadata(os.ERROR_CORRECTION_LEVEL,M),h},n.prototype.reset=function(){},n.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(null==e||null==r)throw new tn;var o=this.moduleSize(e,t),s=e[1],u=e[0],x=(r[0]-u+1)/o,M=(r[1]-s+1)/o;if(x<=0||M<=0)throw new tn;var L=o/2;s+=L,u+=L;for(var W=new el(x,M),q=0;q<M;q++)for(var ye=s+q*o,Le=0;Le<x;Le++)t.get(u+Le*o,ye)&&W.set(Le,q);return W},n.moduleSize=function(t,e){for(var r=e.getWidth(),o=t[0],s=t[1];o<r&&e.get(o,s);)o++;if(o===r)throw new tn;var a=o-t[0];if(0===a)throw new tn;return a},n.NO_POINTS=[],n}();const hE=XG;var JG=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oh=(function(n){JG(function t(e){return void 0===e&&(e=500),n.call(this,new hE,e)||this},n)}(Am),(()=>(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"}(Oh||(Oh={})),Oh))()),ez=function(){function n(t,e,r){this.value=t,this.stringValue=e,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(t,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(t){switch(t){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new mo(t+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(t){return t instanceof n&&this.value===t.value},n.forBits=function(t){if(t<0||t>=n.FOR_BITS.size)throw new Pn;return n.FOR_BITS.get(t)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Oh.L,"L",1),n.M=new n(Oh.M,"M",0),n.Q=new n(Oh.Q,"Q",3),n.H=new n(Oh.H,"H",2),n}();const nu=ez;var nz=function(){function n(t){this.errorCorrectionLevel=nu.forBits(t>>3&3),this.dataMask=7&t}return n.numBitsDiffering=function(t,e){return Or.bitCount(t^e)},n.decodeFormatInformation=function(t,e){var r=n.doDecodeFormatInformation(t,e);return null!==r?r:n.doDecodeFormatInformation(t^n.FORMAT_INFO_MASK_QR,e^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(t,e){var r,o,s=Number.MAX_SAFE_INTEGER,a=0;try{for(var u=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n.FORMAT_INFO_DECODE_LOOKUP),h=u.next();!h.done;h=u.next()){var x=h.value,M=x[0];if(M===t||M===e)return new n(x[1]);var L=n.numBitsDiffering(t,M);L<s&&(a=x[1],s=L),t!==e&&(L=n.numBitsDiffering(e,M))<s&&(a=x[1],s=L)}}catch(W){r={error:W}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return s<=3?new n(a):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(t){return t instanceof n&&(this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask)},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}();const M3=nz;var iz=function(){function n(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var t,e,r=0,o=this.ecBlocks;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=s.next();!a.done;a=s.next())r+=a.value.getCount()}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}();const Ht=iz;var oz=function(){function n(t,e){this.count=t,this.dataCodewords=e}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}();const dt=oz;var sz=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},az=function(){function n(t,e){for(var r,o,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=s;var u=0,h=s[0].getECCodewordsPerBlock(),x=s[0].getECBlocks();try{for(var M=sz(x),L=M.next();!L.done;L=M.next()){var W=L.value;u+=W.getCount()*(W.getDataCodewords()+h)}}catch(q){r={error:q}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},n.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw new Sn;try{return this.getVersionForNumber((t-17)/4)}catch(e){throw new Sn}},n.getVersionForNumber=function(t){if(t<1||t>40)throw new Pn;return n.VERSIONS[t-1]},n.decodeVersionInformation=function(t){for(var e=Number.MAX_SAFE_INTEGER,r=0,o=0;o<n.VERSION_DECODE_INFO.length;o++){var s=n.VERSION_DECODE_INFO[o];if(s===t)return n.getVersionForNumber(o+7);var a=M3.numBitsDiffering(t,s);a<e&&(r=o+7,e=a)}return e<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new el(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,o=0;o<r;o++)for(var s=this.alignmentPatternCenters[o]-2,a=0;a<r;a++)0===o&&(0===a||a===r-1)||o===r-1&&0===a||e.setRegion(this.alignmentPatternCenters[a]-2,s,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Ht(7,new dt(1,19)),new Ht(10,new dt(1,16)),new Ht(13,new dt(1,13)),new Ht(17,new dt(1,9))),new n(2,Int32Array.from([6,18]),new Ht(10,new dt(1,34)),new Ht(16,new dt(1,28)),new Ht(22,new dt(1,22)),new Ht(28,new dt(1,16))),new n(3,Int32Array.from([6,22]),new Ht(15,new dt(1,55)),new Ht(26,new dt(1,44)),new Ht(18,new dt(2,17)),new Ht(22,new dt(2,13))),new n(4,Int32Array.from([6,26]),new Ht(20,new dt(1,80)),new Ht(18,new dt(2,32)),new Ht(26,new dt(2,24)),new Ht(16,new dt(4,9))),new n(5,Int32Array.from([6,30]),new Ht(26,new dt(1,108)),new Ht(24,new dt(2,43)),new Ht(18,new dt(2,15),new dt(2,16)),new Ht(22,new dt(2,11),new dt(2,12))),new n(6,Int32Array.from([6,34]),new Ht(18,new dt(2,68)),new Ht(16,new dt(4,27)),new Ht(24,new dt(4,19)),new Ht(28,new dt(4,15))),new n(7,Int32Array.from([6,22,38]),new Ht(20,new dt(2,78)),new Ht(18,new dt(4,31)),new Ht(18,new dt(2,14),new dt(4,15)),new Ht(26,new dt(4,13),new dt(1,14))),new n(8,Int32Array.from([6,24,42]),new Ht(24,new dt(2,97)),new Ht(22,new dt(2,38),new dt(2,39)),new Ht(22,new dt(4,18),new dt(2,19)),new Ht(26,new dt(4,14),new dt(2,15))),new n(9,Int32Array.from([6,26,46]),new Ht(30,new dt(2,116)),new Ht(22,new dt(3,36),new dt(2,37)),new Ht(20,new dt(4,16),new dt(4,17)),new Ht(24,new dt(4,12),new dt(4,13))),new n(10,Int32Array.from([6,28,50]),new Ht(18,new dt(2,68),new dt(2,69)),new Ht(26,new dt(4,43),new dt(1,44)),new Ht(24,new dt(6,19),new dt(2,20)),new Ht(28,new dt(6,15),new dt(2,16))),new n(11,Int32Array.from([6,30,54]),new Ht(20,new dt(4,81)),new Ht(30,new dt(1,50),new dt(4,51)),new Ht(28,new dt(4,22),new dt(4,23)),new Ht(24,new dt(3,12),new dt(8,13))),new n(12,Int32Array.from([6,32,58]),new Ht(24,new dt(2,92),new dt(2,93)),new Ht(22,new dt(6,36),new dt(2,37)),new Ht(26,new dt(4,20),new dt(6,21)),new Ht(28,new dt(7,14),new dt(4,15))),new n(13,Int32Array.from([6,34,62]),new Ht(26,new dt(4,107)),new Ht(22,new dt(8,37),new dt(1,38)),new Ht(24,new dt(8,20),new dt(4,21)),new Ht(22,new dt(12,11),new dt(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Ht(30,new dt(3,115),new dt(1,116)),new Ht(24,new dt(4,40),new dt(5,41)),new Ht(20,new dt(11,16),new dt(5,17)),new Ht(24,new dt(11,12),new dt(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Ht(22,new dt(5,87),new dt(1,88)),new Ht(24,new dt(5,41),new dt(5,42)),new Ht(30,new dt(5,24),new dt(7,25)),new Ht(24,new dt(11,12),new dt(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Ht(24,new dt(5,98),new dt(1,99)),new Ht(28,new dt(7,45),new dt(3,46)),new Ht(24,new dt(15,19),new dt(2,20)),new Ht(30,new dt(3,15),new dt(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Ht(28,new dt(1,107),new dt(5,108)),new Ht(28,new dt(10,46),new dt(1,47)),new Ht(28,new dt(1,22),new dt(15,23)),new Ht(28,new dt(2,14),new dt(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Ht(30,new dt(5,120),new dt(1,121)),new Ht(26,new dt(9,43),new dt(4,44)),new Ht(28,new dt(17,22),new dt(1,23)),new Ht(28,new dt(2,14),new dt(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Ht(28,new dt(3,113),new dt(4,114)),new Ht(26,new dt(3,44),new dt(11,45)),new Ht(26,new dt(17,21),new dt(4,22)),new Ht(26,new dt(9,13),new dt(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Ht(28,new dt(3,107),new dt(5,108)),new Ht(26,new dt(3,41),new dt(13,42)),new Ht(30,new dt(15,24),new dt(5,25)),new Ht(28,new dt(15,15),new dt(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Ht(28,new dt(4,116),new dt(4,117)),new Ht(26,new dt(17,42)),new Ht(28,new dt(17,22),new dt(6,23)),new Ht(30,new dt(19,16),new dt(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Ht(28,new dt(2,111),new dt(7,112)),new Ht(28,new dt(17,46)),new Ht(30,new dt(7,24),new dt(16,25)),new Ht(24,new dt(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Ht(30,new dt(4,121),new dt(5,122)),new Ht(28,new dt(4,47),new dt(14,48)),new Ht(30,new dt(11,24),new dt(14,25)),new Ht(30,new dt(16,15),new dt(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Ht(30,new dt(6,117),new dt(4,118)),new Ht(28,new dt(6,45),new dt(14,46)),new Ht(30,new dt(11,24),new dt(16,25)),new Ht(30,new dt(30,16),new dt(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Ht(26,new dt(8,106),new dt(4,107)),new Ht(28,new dt(8,47),new dt(13,48)),new Ht(30,new dt(7,24),new dt(22,25)),new Ht(30,new dt(22,15),new dt(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Ht(28,new dt(10,114),new dt(2,115)),new Ht(28,new dt(19,46),new dt(4,47)),new Ht(28,new dt(28,22),new dt(6,23)),new Ht(30,new dt(33,16),new dt(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Ht(30,new dt(8,122),new dt(4,123)),new Ht(28,new dt(22,45),new dt(3,46)),new Ht(30,new dt(8,23),new dt(26,24)),new Ht(30,new dt(12,15),new dt(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Ht(30,new dt(3,117),new dt(10,118)),new Ht(28,new dt(3,45),new dt(23,46)),new Ht(30,new dt(4,24),new dt(31,25)),new Ht(30,new dt(11,15),new dt(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Ht(30,new dt(7,116),new dt(7,117)),new Ht(28,new dt(21,45),new dt(7,46)),new Ht(30,new dt(1,23),new dt(37,24)),new Ht(30,new dt(19,15),new dt(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Ht(30,new dt(5,115),new dt(10,116)),new Ht(28,new dt(19,47),new dt(10,48)),new Ht(30,new dt(15,24),new dt(25,25)),new Ht(30,new dt(23,15),new dt(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Ht(30,new dt(13,115),new dt(3,116)),new Ht(28,new dt(2,46),new dt(29,47)),new Ht(30,new dt(42,24),new dt(1,25)),new Ht(30,new dt(23,15),new dt(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Ht(30,new dt(17,115)),new Ht(28,new dt(10,46),new dt(23,47)),new Ht(30,new dt(10,24),new dt(35,25)),new Ht(30,new dt(19,15),new dt(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Ht(30,new dt(17,115),new dt(1,116)),new Ht(28,new dt(14,46),new dt(21,47)),new Ht(30,new dt(29,24),new dt(19,25)),new Ht(30,new dt(11,15),new dt(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Ht(30,new dt(13,115),new dt(6,116)),new Ht(28,new dt(14,46),new dt(23,47)),new Ht(30,new dt(44,24),new dt(7,25)),new Ht(30,new dt(59,16),new dt(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Ht(30,new dt(12,121),new dt(7,122)),new Ht(28,new dt(12,47),new dt(26,48)),new Ht(30,new dt(39,24),new dt(14,25)),new Ht(30,new dt(22,15),new dt(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Ht(30,new dt(6,121),new dt(14,122)),new Ht(28,new dt(6,47),new dt(34,48)),new Ht(30,new dt(46,24),new dt(10,25)),new Ht(30,new dt(2,15),new dt(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Ht(30,new dt(17,122),new dt(4,123)),new Ht(28,new dt(29,46),new dt(14,47)),new Ht(30,new dt(49,24),new dt(10,25)),new Ht(30,new dt(24,15),new dt(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Ht(30,new dt(4,122),new dt(18,123)),new Ht(28,new dt(13,46),new dt(32,47)),new Ht(30,new dt(48,24),new dt(14,25)),new Ht(30,new dt(42,15),new dt(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Ht(30,new dt(20,117),new dt(4,118)),new Ht(28,new dt(40,47),new dt(7,48)),new Ht(30,new dt(43,24),new dt(22,25)),new Ht(30,new dt(10,15),new dt(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Ht(30,new dt(19,118),new dt(6,119)),new Ht(28,new dt(18,47),new dt(31,48)),new Ht(30,new dt(34,24),new dt(34,25)),new Ht(30,new dt(20,15),new dt(61,16)))],n}();const Ih=az;var Ro=(()=>(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"}(Ro||(Ro={})),Ro))(),lz=function(){function n(t,e){this.value=t,this.isMasked=e}return n.prototype.unmaskBitMatrix=function(t,e){for(var r=0;r<e;r++)for(var o=0;o<e;o++)this.isMasked(r,o)&&t.flip(o,r)},n.values=new Map([[Ro.DATA_MASK_000,new n(Ro.DATA_MASK_000,function(t,e){return 0==(t+e&1)})],[Ro.DATA_MASK_001,new n(Ro.DATA_MASK_001,function(t,e){return 0==(1&t)})],[Ro.DATA_MASK_010,new n(Ro.DATA_MASK_010,function(t,e){return e%3==0})],[Ro.DATA_MASK_011,new n(Ro.DATA_MASK_011,function(t,e){return(t+e)%3==0})],[Ro.DATA_MASK_100,new n(Ro.DATA_MASK_100,function(t,e){return 0==(Math.floor(t/2)+Math.floor(e/3)&1)})],[Ro.DATA_MASK_101,new n(Ro.DATA_MASK_101,function(t,e){return t*e%6==0})],[Ro.DATA_MASK_110,new n(Ro.DATA_MASK_110,function(t,e){return t*e%6<3})],[Ro.DATA_MASK_111,new n(Ro.DATA_MASK_111,function(t,e){return 0==(t+e+t*e%3&1)})]]),n}();const O3=lz;var cz=function(){function n(t){var e=t.getHeight();if(e<21||1!=(3&e))throw new Sn;this.bitMatrix=t}return n.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);var o=this.bitMatrix.getHeight(),s=0,a=o-7;for(r=o-1;r>=a;r--)s=this.copyBit(8,r,s);for(e=o-8;e<o;e++)s=this.copyBit(e,8,s);if(this.parsedFormatInfo=M3.decodeFormatInformation(t,s),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Sn},n.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return Ih.getVersionForNumber(e);for(var r=0,o=t-11,s=5;s>=0;s--)for(var a=t-9;a>=o;a--)r=this.copyBit(a,s,r);var u=Ih.decodeVersionInformation(r);if(null!==u&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;for(r=0,a=5;a>=0;a--)for(s=t-9;s>=o;s--)r=this.copyBit(a,s,r);if(null!==(u=Ih.decodeVersionInformation(r))&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new Sn},n.prototype.copyBit=function(t,e,r){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?r<<1|1:r<<1},n.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),r=O3.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o);for(var s=e.buildFunctionPattern(),a=!0,u=new Uint8Array(e.getTotalCodewords()),h=0,x=0,M=0,L=o-1;L>0;L-=2){6===L&&L--;for(var W=0;W<o;W++)for(var q=a?o-1-W:W,ye=0;ye<2;ye++)s.get(L-ye,q)||(M++,x<<=1,this.bitMatrix.get(L-ye,q)&&(x|=1),8===M&&(u[h++]=x,M=0,x=0));a=!a}if(h!==e.getTotalCodewords())throw new Sn;return u},n.prototype.remask=function(){if(null!==this.parsedFormatInfo){var t=O3.values[this.parsedFormatInfo.getDataMask()],e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},n.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},n.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,r=t.getWidth();e<r;e++)for(var o=e+1,s=t.getHeight();o<s;o++)t.get(e,o)!==t.get(o,e)&&(t.flip(o,e),t.flip(e,o))},n}();const uz=cz;var I3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dz=function(){function n(t,e){this.numDataCodewords=t,this.codewords=e}return n.getDataBlocks=function(t,e,r){var o,s,a,u;if(t.length!==e.getTotalCodewords())throw new Pn;var h=e.getECBlocksForLevel(r),x=0,M=h.getECBlocks();try{for(var L=I3(M),W=L.next();!W.done;W=L.next())x+=(q=W.value).getCount()}catch(ci){o={error:ci}}finally{try{W&&!W.done&&(s=L.return)&&s.call(L)}finally{if(o)throw o.error}}var ye=new Array(x),Le=0;try{for(var rt=I3(M),it=rt.next();!it.done;it=rt.next())for(var q=it.value,lt=0;lt<q.getCount();lt++){var Ot=q.getDataCodewords(),Pt=h.getECCodewordsPerBlock()+Ot;ye[Le++]=new n(Ot,new Uint8Array(Pt))}}catch(ci){a={error:ci}}finally{try{it&&!it.done&&(u=rt.return)&&u.call(rt)}finally{if(a)throw a.error}}for(var rn=ye[0].codewords.length,gn=ye.length-1;gn>=0&&ye[gn].codewords.length!==rn;)gn--;gn++;var An=rn-h.getECCodewordsPerBlock(),or=0;for(lt=0;lt<An;lt++)for(var Ln=0;Ln<Le;Ln++)ye[Ln].codewords[lt]=t[or++];for(Ln=gn;Ln<Le;Ln++)ye[Ln].codewords[An]=t[or++];var wi=ye[0].codewords.length;for(lt=An;lt<wi;lt++)for(Ln=0;Ln<Le;Ln++)ye[Ln].codewords[Ln<gn?lt:lt+1]=t[or++];return ye},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}();const fz=dz;var Aa=(()=>(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"}(Aa||(Aa={})),Aa))(),hz=function(){function n(t,e,r,o){this.value=t,this.stringValue=e,this.characterCountBitsForVersions=r,this.bits=o,n.FOR_BITS.set(o,this),n.FOR_VALUE.set(t,this)}return n.forBits=function(t){var e=n.FOR_BITS.get(t);if(void 0===e)throw new Pn;return e},n.prototype.getCharacterCountBits=function(t){var e=t.getVersionNumber();return this.characterCountBitsForVersions[e<=9?0:e<=26?1:2]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(t){return t instanceof n&&this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Aa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Aa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Aa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Aa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Aa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Aa.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Aa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Aa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Aa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Aa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}();const Li=hz;var pz=function(){function n(){}return n.decode=function(t,e,r,o){var s=new T3(t),a=new gi,u=new Array,h=-1,x=-1;try{var M=null,L=!1,W=void 0;do{if(s.available()<4)W=Li.TERMINATOR;else{var q=s.readBits(4);W=Li.forBits(q)}switch(W){case Li.TERMINATOR:break;case Li.FNC1_FIRST_POSITION:case Li.FNC1_SECOND_POSITION:L=!0;break;case Li.STRUCTURED_APPEND:if(s.available()<16)throw new Sn;h=s.readBits(8),x=s.readBits(8);break;case Li.ECI:var ye=n.parseECIValue(s);if(null===(M=Oo.getCharacterSetECIByValue(ye)))throw new Sn;break;case Li.HANZI:var Le=s.readBits(4),rt=s.readBits(W.getCharacterCountBits(e));Le===n.GB2312_SUBSET&&n.decodeHanziSegment(s,a,rt);break;default:var it=s.readBits(W.getCharacterCountBits(e));switch(W){case Li.NUMERIC:n.decodeNumericSegment(s,a,it);break;case Li.ALPHANUMERIC:n.decodeAlphanumericSegment(s,a,it,L);break;case Li.BYTE:n.decodeByteSegment(s,a,it,M,u,o);break;case Li.KANJI:n.decodeKanjiSegment(s,a,it);break;default:throw new Sn}}}while(W!==Li.TERMINATOR)}catch(lt){throw new Sn}return new oE(t,a.toString(),0===u.length?null:u,null===r?null:r.toString(),h,x)},n.decodeHanziSegment=function(t,e,r){if(13*r>t.available())throw new Sn;for(var o=new Uint8Array(2*r),s=0;r>0;){var a=t.readBits(13),u=a/96<<8&4294967295|a%96;o[s]=(u+=u<959?41377:42657)>>8&255,o[s+1]=255&u,s+=2,r--}try{e.append(pc.decode(o,bi.GB2312))}catch(h){throw new Sn(h)}},n.decodeKanjiSegment=function(t,e,r){if(13*r>t.available())throw new Sn;for(var o=new Uint8Array(2*r),s=0;r>0;){var a=t.readBits(13),u=a/192<<8&4294967295|a%192;o[s]=(u+=u<7936?33088:49472)>>8,o[s+1]=u,s+=2,r--}try{e.append(pc.decode(o,bi.SHIFT_JIS))}catch(h){throw new Sn(h)}},n.decodeByteSegment=function(t,e,r,o,s,a){if(8*r>t.available())throw new Sn;for(var u=new Uint8Array(r),h=0;h<r;h++)u[h]=t.readBits(8);var x;x=null===o?bi.guessEncoding(u,a):o.getName();try{e.append(pc.decode(u,x))}catch(M){throw new Sn(M)}s.push(u)},n.toAlphaNumericChar=function(t){if(t>=n.ALPHANUMERIC_CHARS.length)throw new Sn;return n.ALPHANUMERIC_CHARS[t]},n.decodeAlphanumericSegment=function(t,e,r,o){for(var s=e.length();r>1;){if(t.available()<11)throw new Sn;var a=t.readBits(11);e.append(n.toAlphaNumericChar(Math.floor(a/45))),e.append(n.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(t.available()<6)throw new Sn;e.append(n.toAlphaNumericChar(t.readBits(6)))}if(o)for(var u=s;u<e.length();u++)"%"===e.charAt(u)&&(u<e.length()-1&&"%"===e.charAt(u+1)?e.deleteCharAt(u+1):e.setCharAt(u,String.fromCharCode(29)))},n.decodeNumericSegment=function(t,e,r){for(;r>=3;){if(t.available()<10)throw new Sn;var o=t.readBits(10);if(o>=1e3)throw new Sn;e.append(n.toAlphaNumericChar(Math.floor(o/100))),e.append(n.toAlphaNumericChar(Math.floor(o/10)%10)),e.append(n.toAlphaNumericChar(o%10)),r-=3}if(2===r){if(t.available()<7)throw new Sn;var s=t.readBits(7);if(s>=100)throw new Sn;e.append(n.toAlphaNumericChar(Math.floor(s/10))),e.append(n.toAlphaNumericChar(s%10))}else if(1===r){if(t.available()<4)throw new Sn;var a=t.readBits(4);if(a>=10)throw new Sn;e.append(n.toAlphaNumericChar(a))}},n.parseECIValue=function(t){var e=t.readBits(8);if(0==(128&e))return 127&e;if(128==(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192==(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new Sn},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}();const gz=pz;var mz=function(){function n(t){this.mirrored=t}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},n}();const R3=mz;var P3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vz=function(){function n(){this.rsDecoder=new aE(ca.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(el.parseFromBooleanArray(t),e)},n.prototype.decodeBitMatrix=function(t,e){var r=new uz(t),o=null;try{return this.decodeBitMatrixParser(r,e)}catch(a){o=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var s=this.decodeBitMatrixParser(r,e);return s.setOther(new R3(!0)),s}catch(a){throw null!==o?o:a}},n.prototype.decodeBitMatrixParser=function(t,e){var r,o,s,a,u=t.readVersion(),h=t.readFormatInformation().getErrorCorrectionLevel(),x=t.readCodewords(),M=fz.getDataBlocks(x,u,h),L=0;try{for(var W=P3(M),q=W.next();!q.done;q=W.next())L+=(ye=q.value).getNumDataCodewords()}catch(gn){r={error:gn}}finally{try{q&&!q.done&&(o=W.return)&&o.call(W)}finally{if(r)throw r.error}}var Le=new Uint8Array(L),rt=0;try{for(var it=P3(M),lt=it.next();!lt.done;lt=it.next()){var ye,Ot=(ye=lt.value).getCodewords(),Pt=ye.getNumDataCodewords();this.correctErrors(Ot,Pt);for(var rn=0;rn<Pt;rn++)Le[rt++]=Ot[rn]}}catch(gn){s={error:gn}}finally{try{lt&&!lt.done&&(a=it.return)&&a.call(it)}finally{if(s)throw s.error}}return gz.decode(Le,u,h,e)},n.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch(s){throw new bo}for(var o=0;o<e;o++)t[o]=r[o]},n}();const _z=vz;var yz=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bz=function(n){function t(e,r,o){var s=n.call(this,e,r)||this;return s.estimatedModuleSize=o,s}return yz(t,n),t.prototype.aboutEquals=function(e,r,o){if(Math.abs(r-this.getY())<=e&&Math.abs(o-this.getX())<=e){var s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,o){return new t((this.getX()+r)/2,(this.getY()+e)/2,(this.estimatedModuleSize+o)/2)},t}(jn);const wz=bz;var Ez=function(){function n(t,e,r,o,s,a,u){this.image=t,this.startX=e,this.startY=r,this.width=o,this.height=s,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var t=this.startX,e=this.height,o=t+this.width,s=this.startY+e/2,a=new Int32Array(3),u=this.image,h=0;h<e;h++){var x=s+(0==(1&h)?Math.floor((h+1)/2):-Math.floor((h+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var M=t;M<o&&!u.get(M,x);)M++;for(var L=0;M<o;){if(u.get(M,x))if(1===L)a[1]++;else if(2===L){var W;if(this.foundPatternCross(a)&&null!==(W=this.handlePossibleCenter(a,x,M)))return W;a[0]=a[2],a[1]=1,a[2]=0,L=1}else a[++L]++;else 1===L&&L++,a[L]++;M++}if(this.foundPatternCross(a)&&null!==(W=this.handlePossibleCenter(a,x,o)))return W}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new tn},n.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},n.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,r=e/2,o=0;o<3;o++)if(Math.abs(e-t[o])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(t,e,r,o){var s=this.image,a=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var h=t;h>=0&&s.get(e,h)&&u[1]<=r;)u[1]++,h--;if(h<0||u[1]>r)return NaN;for(;h>=0&&!s.get(e,h)&&u[0]<=r;)u[0]++,h--;if(u[0]>r)return NaN;for(h=t+1;h<a&&s.get(e,h)&&u[1]<=r;)u[1]++,h++;if(h===a||u[1]>r)return NaN;for(;h<a&&!s.get(e,h)&&u[2]<=r;)u[2]++,h++;return u[2]>r||5*Math.abs(u[0]+u[1]+u[2]-o)>=2*o?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,h):NaN},n.prototype.handlePossibleCenter=function(t,e,r){var o,s,a=t[0]+t[1]+t[2],u=n.centerFromEnd(t,r),h=this.crossCheckVertical(e,u,2*t[1],a);if(!isNaN(h)){var x=(t[0]+t[1]+t[2])/3;try{for(var M=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),L=M.next();!L.done;L=M.next()){var W=L.value;if(W.aboutEquals(x,h,u))return W.combineEstimate(h,u,x)}}catch(ye){o={error:ye}}finally{try{L&&!L.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}var q=new wz(u,h,x);this.possibleCenters.push(q),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(q)}return null},n}();const Cz=Ez;var Sz=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Az=function(n){function t(e,r,o,s){var a=n.call(this,e,r)||this;return a.estimatedModuleSize=o,a.count=s,void 0===s&&(a.count=1),a}return Sz(t,n),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,r,o){if(Math.abs(r-this.getY())<=e&&Math.abs(o-this.getX())<=e){var s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,o){var s=this.count+1;return new t((this.count*this.getX()+r)/s,(this.count*this.getY()+e)/s,(this.count*this.estimatedModuleSize+o)/s,s)},t}(jn);const Dz=Az;var Tz=function(){function n(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}();const Mz=Tz;var _y=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oz=function(){function n(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(t){var e=null!=t&&void 0!==t.get(ni.TRY_HARDER),r=null!=t&&void 0!==t.get(ni.PURE_BARCODE),o=this.image,s=o.getHeight(),a=o.getWidth(),u=Math.floor(3*s/(4*n.MAX_MODULES));(u<n.MIN_SKIP||e)&&(u=n.MIN_SKIP);for(var h=!1,x=new Int32Array(5),M=u-1;M<s&&!h;M+=u){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;for(var L=0,W=0;W<a;W++)if(o.get(W,M))1==(1&L)&&L++,x[L]++;else if(0==(1&L))if(4===L)if(n.foundPatternCross(x)){if(!0!==this.handlePossibleCenter(x,M,W,r)){x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,L=3;continue}if(u=2,!0===this.hasSkipped)h=this.haveMultiplyConfirmedCenters();else{var ye=this.findRowSkip();ye>x[2]&&(M+=ye-x[2]-u,W=a-1)}L=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,L=3;else x[++L]++;else x[L]++;n.foundPatternCross(x)&&!0===this.handlePossibleCenter(x,M,a,r)&&(u=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}var Le=this.selectBestPatterns();return jn.orderBestPatterns(Le),new Mz(Le)},n.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},n.foundPatternCross=function(t){for(var e=0,r=0;r<5;r++){var o=t[r];if(0===o)return!1;e+=o}if(e<7)return!1;var s=e/7,a=s/2;return Math.abs(s-t[0])<a&&Math.abs(s-t[1])<a&&Math.abs(3*s-t[2])<3*a&&Math.abs(s-t[3])<a&&Math.abs(s-t[4])<a},n.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},n.prototype.crossCheckDiagonal=function(t,e,r,o){for(var s=this.getCrossCheckStateCount(),a=0,u=this.image;t>=a&&e>=a&&u.get(e-a,t-a);)s[2]++,a++;if(t<a||e<a)return!1;for(;t>=a&&e>=a&&!u.get(e-a,t-a)&&s[1]<=r;)s[1]++,a++;if(t<a||e<a||s[1]>r)return!1;for(;t>=a&&e>=a&&u.get(e-a,t-a)&&s[0]<=r;)s[0]++,a++;if(s[0]>r)return!1;var h=u.getHeight(),x=u.getWidth();for(a=1;t+a<h&&e+a<x&&u.get(e+a,t+a);)s[2]++,a++;if(t+a>=h||e+a>=x)return!1;for(;t+a<h&&e+a<x&&!u.get(e+a,t+a)&&s[3]<r;)s[3]++,a++;if(t+a>=h||e+a>=x||s[3]>=r)return!1;for(;t+a<h&&e+a<x&&u.get(e+a,t+a)&&s[4]<r;)s[4]++,a++;return!(s[4]>=r)&&Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-o)<2*o&&n.foundPatternCross(s)},n.prototype.crossCheckVertical=function(t,e,r,o){for(var s=this.image,a=s.getHeight(),u=this.getCrossCheckStateCount(),h=t;h>=0&&s.get(e,h);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(e,h)&&u[1]<=r;)u[1]++,h--;if(h<0||u[1]>r)return NaN;for(;h>=0&&s.get(e,h)&&u[0]<=r;)u[0]++,h--;if(u[0]>r)return NaN;for(h=t+1;h<a&&s.get(e,h);)u[2]++,h++;if(h===a)return NaN;for(;h<a&&!s.get(e,h)&&u[3]<r;)u[3]++,h++;if(h===a||u[3]>=r)return NaN;for(;h<a&&s.get(e,h)&&u[4]<r;)u[4]++,h++;return u[4]>=r||5*Math.abs(u[0]+u[1]+u[2]+u[3]+u[4]-o)>=2*o?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,h):NaN},n.prototype.crossCheckHorizontal=function(t,e,r,o){for(var s=this.image,a=s.getWidth(),u=this.getCrossCheckStateCount(),h=t;h>=0&&s.get(h,e);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,e)&&u[1]<=r;)u[1]++,h--;if(h<0||u[1]>r)return NaN;for(;h>=0&&s.get(h,e)&&u[0]<=r;)u[0]++,h--;if(u[0]>r)return NaN;for(h=t+1;h<a&&s.get(h,e);)u[2]++,h++;if(h===a)return NaN;for(;h<a&&!s.get(h,e)&&u[3]<r;)u[3]++,h++;if(h===a||u[3]>=r)return NaN;for(;h<a&&s.get(h,e)&&u[4]<r;)u[4]++,h++;return u[4]>=r||5*Math.abs(u[0]+u[1]+u[2]+u[3]+u[4]-o)>=o?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,h):NaN},n.prototype.handlePossibleCenter=function(t,e,r,o){var s=t[0]+t[1]+t[2]+t[3]+t[4],a=n.centerFromEnd(t,r),u=this.crossCheckVertical(e,Math.floor(a),t[2],s);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),t[2],s),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),t[2],s)))){for(var h=s/7,x=!1,M=this.possibleCenters,L=0,W=M.length;L<W;L++){var q=M[L];if(q.aboutEquals(h,u,a)){M[L]=q.combineEstimate(u,a,h),x=!0;break}}if(!x){var ye=new Dz(a,u,h);M.push(ye),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(ye)}return!0}return!1},n.prototype.findRowSkip=function(){var t,e;if(this.possibleCenters.length<=1)return 0;var o=null;try{for(var s=_y(this.possibleCenters),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.getCount()>=n.CENTER_QUORUM){if(null!=o)return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);o=u}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var t,e,r,o,s=0,a=0,u=this.possibleCenters.length;try{for(var h=_y(this.possibleCenters),x=h.next();!x.done;x=h.next())(M=x.value).getCount()>=n.CENTER_QUORUM&&(s++,a+=M.getEstimatedModuleSize())}catch(Le){t={error:Le}}finally{try{x&&!x.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}if(s<3)return!1;var L=a/u,W=0;try{for(var q=_y(this.possibleCenters),ye=q.next();!ye.done;ye=q.next()){var M=ye.value;W+=Math.abs(M.getEstimatedModuleSize()-L)}}catch(Le){r={error:Le}}finally{try{ye&&!ye.done&&(o=q.return)&&o.call(q)}finally{if(r)throw r.error}}return W<=.05*a},n.prototype.selectBestPatterns=function(){var t,e,r,o,s=this.possibleCenters.length;if(s<3)throw new tn;var u,a=this.possibleCenters;if(s>3){var h=0,x=0;try{for(var M=_y(this.possibleCenters),L=M.next();!L.done;L=M.next()){var q=L.value.getEstimatedModuleSize();h+=q,x+=q*q}}catch(rn){t={error:rn}}finally{try{L&&!L.done&&(e=M.return)&&e.call(M)}finally{if(t)throw t.error}}u=h/s;var ye=Math.sqrt(x/s-u*u);a.sort(function(rn,gn){var mn=Math.abs(gn.getEstimatedModuleSize()-u),An=Math.abs(rn.getEstimatedModuleSize()-u);return mn<An?-1:mn>An?1:0});for(var Le=Math.max(.2*u,ye),rt=0;rt<a.length&&a.length>3;rt++)Math.abs(a[rt].getEstimatedModuleSize()-u)>Le&&(a.splice(rt,1),rt--)}if(a.length>3){h=0;try{for(var lt=_y(a),Ot=lt.next();!Ot.done;Ot=lt.next())h+=Ot.value.getEstimatedModuleSize()}catch(gn){r={error:gn}}finally{try{Ot&&!Ot.done&&(o=lt.return)&&o.call(lt)}finally{if(r)throw r.error}}u=h/a.length,a.sort(function(gn,mn){if(mn.getCount()===gn.getCount()){var An=Math.abs(mn.getEstimatedModuleSize()-u),or=Math.abs(gn.getEstimatedModuleSize()-u);return An<or?1:An>or?-1:0}return mn.getCount()-gn.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}();const Iz=Oz;var Rz=function(){function n(t){this.image=t}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(t){this.resultPointCallback=null==t?null:t.get(ni.NEED_RESULT_POINT_CALLBACK);var r=new Iz(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(t){var e=t.getTopLeft(),r=t.getTopRight(),o=t.getBottomLeft(),s=this.calculateModuleSize(e,r,o);if(s<1)throw new tn("No pattern found in proccess finder.");var a=n.computeDimension(e,r,o,s),u=Ih.getProvisionalVersionForDimension(a),h=u.getDimensionForVersion()-7,x=null;if(u.getAlignmentPatternCenters().length>0)for(var M=r.getX()-e.getX()+o.getX(),L=r.getY()-e.getY()+o.getY(),W=1-3/h,q=Math.floor(e.getX()+W*(M-e.getX())),ye=Math.floor(e.getY()+W*(L-e.getY())),Le=4;Le<=16;Le<<=1)try{x=this.findAlignmentInRegion(s,q,ye,Le);break}catch(Ot){if(!(Ot instanceof tn))throw Ot}var rt=n.createTransform(e,r,o,x,a),it=n.sampleGrid(this.image,rt,a);return new zD(it,null===x?[o,e,r]:[o,e,r,x])},n.createTransform=function(t,e,r,o,s){var u,h,x,M,a=s-3.5;return null!==o?(u=o.getX(),h=o.getY(),M=x=a-3):(u=e.getX()-t.getX()+r.getX(),h=e.getY()-t.getY()+r.getY(),x=a,M=a),d3.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,x,M,3.5,a,t.getX(),t.getY(),e.getX(),e.getY(),u,h,r.getX(),r.getY())},n.sampleGrid=function(t,e,r){return WD.getInstance().sampleGridWithTransform(t,r,r,e)},n.computeDimension=function(t,e,r,o){var s=$r.round(jn.distance(t,e)/o),a=$r.round(jn.distance(t,r)/o),u=Math.floor((s+a)/2)+7;switch(3&u){case 0:u++;break;case 2:u--;break;case 3:throw new tn("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(t,e,r){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,r))/2},n.prototype.calculateModuleSizeOneWay=function(t,e){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,r,o){var s=this.sizeOfBlackWhiteBlackRun(t,e,r,o),a=1,u=t-(r-t);u<0?(a=t/(t-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);var h=Math.floor(e-(o-e)*a);return a=1,h<0?(a=e/(e-h),h=0):h>=this.image.getHeight()&&(a=(this.image.getHeight()-1-e)/(h-e),h=this.image.getHeight()-1),u=Math.floor(t+(u-t)*a),(s+=this.sizeOfBlackWhiteBlackRun(t,e,u,h))-1},n.prototype.sizeOfBlackWhiteBlackRun=function(t,e,r,o){var s=Math.abs(o-e)>Math.abs(r-t);if(s){var a=t;t=e,e=a,a=r,r=o,o=a}for(var u=Math.abs(r-t),h=Math.abs(o-e),x=-u/2,M=t<r?1:-1,L=e<o?1:-1,W=0,q=r+M,ye=t,Le=e;ye!==q;ye+=M){if(1===W===this.image.get(s?Le:ye,s?ye:Le)){if(2===W)return $r.distance(ye,Le,t,e);W++}if((x+=h)>0){if(Le===o)break;Le+=L,x-=u}}return 2===W?$r.distance(r+M,o,t,e):NaN},n.prototype.findAlignmentInRegion=function(t,e,r,o){var s=Math.floor(o*t),a=Math.max(0,e-s),u=Math.min(this.image.getWidth()-1,e+s);if(u-a<3*t)throw new tn("Alignment top exceeds estimated module size.");var h=Math.max(0,r-s),x=Math.min(this.image.getHeight()-1,r+s);if(x-h<3*t)throw new tn("Alignment bottom exceeds estimated module size.");return new Cz(this.image,a,h,u-a,x-h,t,this.resultPointCallback).find()},n}();const Pz=Rz;var Fz=function(){function n(){this.decoder=new _z}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(t,e){var r,o;if(null!=e&&void 0!==e.get(ni.PURE_BARCODE)){var s=n.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(s,e),o=n.NO_POINTS}else{var a=new Pz(t.getBlackMatrix()).detect(e);r=this.decoder.decodeBitMatrix(a.getBits(),e),o=a.getPoints()}r.getOther()instanceof R3&&r.getOther().applyMirroredCorrection(o);var u=new la(r.getText(),r.getRawBytes(),void 0,o,Kn.QR_CODE,void 0),h=r.getByteSegments();null!==h&&u.putMetadata(os.BYTE_SEGMENTS,h);var x=r.getECLevel();return null!==x&&u.putMetadata(os.ERROR_CORRECTION_LEVEL,x),r.hasStructuredAppend()&&(u.putMetadata(os.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(os.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(null===e||null===r)throw new tn;var o=this.moduleSize(e,t),s=e[1],a=r[1],u=e[0],h=r[0];if(u>=h||s>=a)throw new tn;if(a-s!=h-u&&(h=u+(a-s))>=t.getWidth())throw new tn;var x=Math.round((h-u+1)/o),M=Math.round((a-s+1)/o);if(x<=0||M<=0)throw new tn;if(M!==x)throw new tn;var L=Math.floor(o/2);s+=L;var W=(u+=L)+Math.floor((x-1)*o)-h;if(W>0){if(W>L)throw new tn;u-=W}var q=s+Math.floor((M-1)*o)-a;if(q>0){if(q>L)throw new tn;s-=q}for(var ye=new el(x,M),Le=0;Le<M;Le++)for(var rt=s+Math.floor(Le*o),it=0;it<x;it++)t.get(u+Math.floor(it*o),rt)&&ye.set(it,Le);return ye},n.moduleSize=function(t,e){for(var r=e.getHeight(),o=e.getWidth(),s=t[0],a=t[1],u=!0,h=0;s<o&&a<r;){if(u!==e.get(s,a)){if(5==++h)break;u=!u}s++,a++}if(s===o||a===r)throw new tn;return(s-t[0])/7},n.NO_POINTS=new Array,n}();const pE=Fz;var Lz=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(t){return $r.sum(t)},n.toIntArray=function(t){var e,r;if(null==t||!t.length)return n.EMPTY_INT_ARRAY;var o=new Int32Array(t.length),s=0;try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),u=a.next();!u.done;u=a.next())o[s++]=u.value}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return o},n.getCodeword=function(t){var e=aa.binarySearch(n.SYMBOL_TABLE,262143&t);return e<0?-1:(n.CODEWORD_TABLE[e]-1)%n.NUMBER_OF_CODEWORDS},n.MAX_CODEWORDS_IN_BARCODE=(n.NUMBER_OF_CODEWORDS=929)-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}();const zr=Lz;var Nz=function(){function n(t,e){this.bits=t,this.points=e}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}();const Bz=Nz;var Uz=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jz=function(){function n(){}return n.detectMultiple=function(t,e,r){var o=t.getBlackMatrix(),s=n.detect(r,o);return s.length||((o=o.clone()).rotate180(),s=n.detect(r,o)),new Bz(o,s)},n.detect=function(t,e){for(var r,o,s=new Array,a=0,u=0,h=!1;a<e.getHeight();){var x=n.findVertices(e,a,u);if(null!=x[0]||null!=x[3]){if(h=!0,s.push(x),!t)break;null!=x[2]?(u=Math.trunc(x[2].getX()),a=Math.trunc(x[2].getY())):(u=Math.trunc(x[4].getX()),a=Math.trunc(x[4].getY()))}else{if(!h)break;h=!1,u=0;try{for(var M=(r=void 0,Uz(s)),L=M.next();!L.done;L=M.next()){var W=L.value;null!=W[1]&&(a=Math.trunc(Math.max(a,W[1].getY()))),null!=W[3]&&(a=Math.max(a,Math.trunc(W[3].getY())))}}catch(q){r={error:q}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(r)throw r.error}}a+=n.ROW_STEP}}return s},n.findVertices=function(t,e,r){var o=t.getHeight(),s=t.getWidth(),a=new Array(8);return n.copyToResult(a,n.findRowsWithPattern(t,o,s,e,r,n.START_PATTERN),n.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),e=Math.trunc(a[4].getY())),n.copyToResult(a,n.findRowsWithPattern(t,o,s,e,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),a},n.copyToResult=function(t,e,r){for(var o=0;o<r.length;o++)t[r[o]]=e[o]},n.findRowsWithPattern=function(t,e,r,o,s,a){for(var u=new Array(4),h=!1,x=new Int32Array(a.length);o<e;o+=n.ROW_STEP)if(null!=(M=n.findGuardPattern(t,s,o,r,!1,a,x))){for(;o>0;){if(null==(L=n.findGuardPattern(t,s,--o,r,!1,a,x))){o++;break}M=L}u[0]=new jn(M[0],o),u[1]=new jn(M[1],o),h=!0;break}var W=o+1;if(h){for(var q=0,L=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);W<e;W++){var M;if(null!=(M=n.findGuardPattern(t,L[0],W,r,!1,a,x))&&Math.abs(L[0]-M[0])<n.MAX_PATTERN_DRIFT&&Math.abs(L[1]-M[1])<n.MAX_PATTERN_DRIFT)L=M,q=0;else{if(q>n.SKIPPED_ROW_COUNT_MAX)break;q++}}u[2]=new jn(L[0],W-=q+1),u[3]=new jn(L[1],W)}return W-o<n.BARCODE_MIN_HEIGHT&&aa.fill(u,null),u},n.findGuardPattern=function(t,e,r,o,s,a,u){aa.fillWithin(u,0,u.length,0);for(var h=e,x=0;t.get(h,r)&&h>0&&x++<n.MAX_PIXEL_DRIFT;)h--;for(var M=h,L=0,W=a.length,q=s;M<o;M++)if(t.get(M,r)!==q)u[L]++;else{if(L===W-1){if(n.patternMatchVariance(u,a,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([h,M]);h+=u[0]+u[1],Ti.arraycopy(u,2,u,0,L-1),u[L-1]=0,u[L]=0,L--}else L++;u[L]=1,q=!q}return L===W-1&&n.patternMatchVariance(u,a,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([h,M-1]):null},n.patternMatchVariance=function(t,e,r){for(var o=t.length,s=0,a=0,u=0;u<o;u++)s+=t[u],a+=e[u];if(s<a)return 1/0;var h=s/a;r*=h;for(var x=0,M=0;M<o;M++){var L=t[M],W=e[M]*h,q=L>W?L-W:W-L;if(q>r)return 1/0;x+=q}return x/s},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}();const Hz=jz;var Gz=function(){function n(t,e){if(0===e.length)throw new Pn;this.field=t;var r=e.length;if(r>1&&0===e[0]){for(var o=1;o<r&&0===e[o];)o++;o===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-o),Ti.arraycopy(e,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return 0===this.coefficients[0]},n.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},n.prototype.evaluateAt=function(t){var e,r;if(0===t)return this.getCoefficient(0);if(1===t){var o=0;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),a=s.next();!a.done;a=s.next())o=this.field.add(o,a.value)}catch(L){e={error:L}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o}for(var h=this.coefficients[0],x=this.coefficients.length,M=1;M<x;M++)h=this.field.add(this.field.multiply(t,h),this.coefficients[M]);return h},n.prototype.add=function(t){if(!this.field.equals(t.field))throw new Pn("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var e=this.coefficients,r=t.coefficients;if(e.length>r.length){var o=e;e=r,r=o}var s=new Int32Array(r.length),a=r.length-e.length;Ti.arraycopy(r,0,s,0,a);for(var u=a;u<r.length;u++)s[u]=this.field.add(e[u-a],r[u]);return new n(this.field,s)},n.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Pn("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},n.prototype.multiply=function(t){return t instanceof n?this.multiplyOther(t):this.multiplyScalar(t)},n.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Pn("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new n(this.field,new Int32Array([0]));for(var e=this.coefficients,r=e.length,o=t.coefficients,s=o.length,a=new Int32Array(r+s-1),u=0;u<r;u++)for(var h=e[u],x=0;x<s;x++)a[u+x]=this.field.add(a[u+x],this.field.multiply(h,o[x]));return new n(this.field,a)},n.prototype.negative=function(){for(var t=this.coefficients.length,e=new Int32Array(t),r=0;r<t;r++)e[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,e)},n.prototype.multiplyScalar=function(t){if(0===t)return new n(this.field,new Int32Array([0]));if(1===t)return this;for(var e=this.coefficients.length,r=new Int32Array(e),o=0;o<e;o++)r[o]=this.field.multiply(this.coefficients[o],t);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(t,e){if(t<0)throw new Pn;if(0===e)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+t),s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],e);return new n(this.field,o)},n.prototype.toString=function(){for(var t=new gi,e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);0!==r&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(0===e||1!==r)&&t.append(r),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},n}();const Rh=Gz;var zz=function(){function n(){}return n.prototype.add=function(t,e){return(t+e)%this.modulus},n.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},n.prototype.exp=function(t){return this.expTable[t]},n.prototype.log=function(t){if(0===t)throw new Pn;return this.logTable[t]},n.prototype.inverse=function(t){if(0===t)throw new l3;return this.expTable[this.modulus-this.logTable[t]-1]},n.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(t){return t===this},n}();const Zz=zz;var Wz=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$z=function(n){function t(e,r){var o=n.call(this)||this;o.modulus=e,o.expTable=new Int32Array(e),o.logTable=new Int32Array(e);for(var s=1,a=0;a<e;a++)o.expTable[a]=s,s=s*r%e;for(a=0;a<e-1;a++)o.logTable[o.expTable[a]]=a;return o.zero=new Rh(o,new Int32Array([0])),o.one=new Rh(o,new Int32Array([1])),o}return Wz(t,n),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,r){if(e<0)throw new Pn;if(0===r)return this.zero;var o=new Int32Array(e+1);return o[0]=r,new Rh(this,o)},t.PDF417_GF=new t(zr.NUMBER_OF_CODEWORDS,3),t}(Zz);const qz=$z;var Kz=function(){function n(){this.field=qz.PDF417_GF}return n.prototype.decode=function(t,e,r){for(var o,s,a=new Rh(this.field,t),u=new Int32Array(e),h=!1,x=e;x>0;x--){var M=a.evaluateAt(this.field.exp(x));u[e-x]=M,0!==M&&(h=!0)}if(!h)return 0;var L=this.field.getOne();if(null!=r)try{for(var W=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),q=W.next();!q.done;q=W.next()){var Le=this.field.exp(t.length-1-q.value),rt=new Rh(this.field,new Int32Array([this.field.subtract(0,Le),1]));L=L.multiply(rt)}}catch(An){o={error:An}}finally{try{q&&!q.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}var it=new Rh(this.field,u),lt=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),it,e),Ot=lt[0],Pt=lt[1],rn=this.findErrorLocations(Ot),gn=this.findErrorMagnitudes(Pt,Ot,rn);for(x=0;x<rn.length;x++){var mn=t.length-1-this.field.log(rn[x]);if(mn<0)throw bo.getChecksumInstance();t[mn]=this.field.subtract(t[mn],gn[x])}return rn.length},n.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var o=t;t=e,e=o}for(var s=t,a=e,u=this.field.getZero(),h=this.field.getOne();a.getDegree()>=Math.round(r/2);){var x=s,M=u;if(u=h,(s=a).isZero())throw bo.getChecksumInstance();a=x;for(var L=this.field.getZero(),W=s.getCoefficient(s.getDegree()),q=this.field.inverse(W);a.getDegree()>=s.getDegree()&&!a.isZero();){var ye=a.getDegree()-s.getDegree(),Le=this.field.multiply(a.getCoefficient(a.getDegree()),q);L=L.add(this.field.buildMonomial(ye,Le)),a=a.subtract(s.multiplyByMonomial(ye,Le))}h=L.multiply(u).subtract(M).negative()}var rt=h.getCoefficient(0);if(0===rt)throw bo.getChecksumInstance();var it=this.field.inverse(rt);return[h.multiply(it),a.multiply(it)]},n.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),r=new Int32Array(e),o=0,s=1;s<this.field.getSize()&&o<e;s++)0===t.evaluateAt(s)&&(r[o]=this.field.inverse(s),o++);if(o!==e)throw bo.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(t,e,r){for(var o=e.getDegree(),s=new Int32Array(o),a=1;a<=o;a++)s[o-a]=this.field.multiply(a,e.getCoefficient(a));var u=new Rh(this.field,s),h=r.length,x=new Int32Array(h);for(a=0;a<h;a++){var M=this.field.inverse(r[a]),L=this.field.subtract(0,t.evaluateAt(M)),W=this.field.inverse(u.evaluateAt(M));x[a]=this.field.multiply(L,W)}return x},n}();const Qz=Kz;var Xz=function(){function n(t,e,r,o,s){t instanceof n?this.constructor_2(t):this.constructor_1(t,e,r,o,s)}return n.prototype.constructor_1=function(t,e,r,o,s){var a=null==e||null==r,u=null==o||null==s;if(a&&u)throw new tn;a?(e=new jn(0,o.getY()),r=new jn(0,s.getY())):u&&(o=new jn(t.getWidth()-1,e.getY()),s=new jn(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=e,this.bottomLeft=r,this.topRight=o,this.bottomRight=s,this.minX=Math.trunc(Math.min(e.getX(),r.getX())),this.maxX=Math.trunc(Math.max(o.getX(),s.getX())),this.minY=Math.trunc(Math.min(e.getY(),o.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))},n.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},n.merge=function(t,e){return null==t?e:null==e?t:new n(t.image,t.topLeft,t.bottomLeft,e.topRight,e.bottomRight)},n.prototype.addMissingRows=function(t,e,r){var o=this.topLeft,s=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(t>0){var h=r?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);var M=new jn(h.getX(),x);r?o=M:a=M}if(e>0){var L=r?this.bottomLeft:this.bottomRight,W=Math.trunc(L.getY()+e);W>=this.image.getHeight()&&(W=this.image.getHeight()-1);var q=new jn(L.getX(),W);r?s=q:u=q}return new n(this.image,o,s,a,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}();const XD=Xz;var Jz=function(){function n(t,e,r,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=e,this.rowCountLowerPart=r,this.rowCount=e+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}();const eZ=Jz;var tZ=function(){function n(){this.buffer=""}return n.form=function(t,e){var r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(a,u,h,x,M,L){if("%%"===a)return"%";if(void 0!==e[++r]){a=x?parseInt(x.substr(1)):void 0;var q,W=M?parseInt(M.substr(1)):void 0;switch(L){case"s":q=e[r];break;case"c":q=e[r][0];break;case"f":q=parseFloat(e[r]).toFixed(a);break;case"p":q=parseFloat(e[r]).toPrecision(a);break;case"e":q=parseFloat(e[r]).toExponential(a);break;case"x":q=parseInt(e[r]).toString(W||16);break;case"d":q=parseFloat(parseInt(e[r],W||10).toPrecision(a)).toFixed(0)}q="object"==typeof q?JSON.stringify(q):(+q).toString(W);for(var ye=parseInt(h),Le=h&&h[0]+""=="0"?"0":" ";q.length<ye;)q=void 0!==u?q+Le:Le+q;return q}})},n.prototype.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.buffer+=n.form(t,e)},n.prototype.toString=function(){return this.buffer},n}();const JD=tZ;var rZ=function(){function n(t){this.boundingBox=new XD(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return n.prototype.getCodewordNearby=function(t){var e=this.getCodeword(t);if(null!=e)return e;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(t)-r;if(o>=0&&null!=(e=this.codewords[o])||(o=this.imageRowToCodewordIndex(t)+r)<this.codewords.length&&null!=(e=this.codewords[o]))return e}return null},n.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},n.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},n.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var t,e,r=new JD,o=0;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),a=s.next();!a.done;a=s.next()){var u=a.value;null!=u?r.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue()):r.format("%3d:    |   %n",o++)}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}();const F3=rZ;var oZ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var o,a,r=e.call(n),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return s},sZ=function(){function n(){this.values=new Map}return n.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)},n.prototype.getValue=function(){var t,e,r=-1,o=new Array,s=function(L,W){var q_getKey=function(){return L},q_getValue=function(){return W};q_getValue()>r?(r=q_getValue(),(o=[]).push(q_getKey())):q_getValue()===r&&o.push(q_getKey())};try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),u=a.next();!u.done;u=a.next()){var h=oZ(u.value,2);s(h[0],h[1])}}catch(L){t={error:L}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return zr.toIntArray(o)},n.prototype.getConfidence=function(t){return this.values.get(t)},n}();const yy=sZ;var aZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eT=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lZ=function(n){function t(e,r){var o=n.call(this,e)||this;return o._isLeft=r,o}return aZ(t,n),t.prototype.setRowNumbers=function(){var e,r;try{for(var o=eT(this.getCodewords()),s=o.next();!s.done;s=o.next()){var a=s.value;null!=a&&a.setRowNumberAsRowIndicatorColumn()}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);for(var o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),a=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),x=-1,M=1,L=0,W=u;W<h;W++)if(null!=r[W]){var q=r[W],ye=q.getRowNumber()-x;if(0===ye)L++;else if(1===ye)M=Math.max(M,L),L=1,x=q.getRowNumber();else if(ye<0||q.getRowNumber()>=e.getRowCount()||ye>W)r[W]=null;else{for(var Le,rt=(Le=M>2?(M-2)*ye:ye)>=W,it=1;it<=Le&&!rt;it++)rt=null!=r[W-it];rt?r[W]=null:(x=q.getRowNumber(),L=1)}}},t.prototype.getRowHeights=function(){var e,r,o=this.getBarcodeMetadata();if(null==o)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);var s=new Int32Array(o.getRowCount());try{for(var a=eT(this.getCodewords()),u=a.next();!u.done;u=a.next()){var h=u.value;if(null!=h){var x=h.getRowNumber();if(x>=s.length)continue;s[x]++}}}catch(M){e={error:M}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return s},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.getCodewords(),x=-1,M=1,L=0,W=a;W<u;W++)if(null!=h[W]){var q=h[W];q.setRowNumberAsRowIndicatorColumn();var ye=q.getRowNumber()-x;0===ye?L++:1===ye?(M=Math.max(M,L),L=1,x=q.getRowNumber()):q.getRowNumber()>=e.getRowCount()?h[W]=null:(x=q.getRowNumber(),L=1)}},t.prototype.getBarcodeMetadata=function(){var e,r,o=this.getCodewords(),s=new yy,a=new yy,u=new yy,h=new yy;try{for(var x=eT(o),M=x.next();!M.done;M=x.next()){var L=M.value;if(null!=L){L.setRowNumberAsRowIndicatorColumn();var W=L.getValue()%30,q=L.getRowNumber();switch(this._isLeft||(q+=2),q%3){case 0:a.setValue(3*W+1);break;case 1:h.setValue(W/3),u.setValue(W%3);break;case 2:s.setValue(W+1)}}}}catch(Le){e={error:Le}}finally{try{M&&!M.done&&(r=x.return)&&r.call(x)}finally{if(e)throw e.error}}if(0===s.getValue().length||0===a.getValue().length||0===u.getValue().length||0===h.getValue().length||s.getValue()[0]<1||a.getValue()[0]+u.getValue()[0]<zr.MIN_ROWS_IN_BARCODE||a.getValue()[0]+u.getValue()[0]>zr.MAX_ROWS_IN_BARCODE)return null;var ye=new eZ(s.getValue()[0],a.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(o,ye),ye},t.prototype.removeIncorrectCodewords=function(e,r){for(var o=0;o<e.length;o++){var s=e[o];if(null!=e[o]){var a=s.getValue()%30,u=s.getRowNumber();if(u>r.getRowCount()){e[o]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:3*a+1!==r.getRowCountUpperPart()&&(e[o]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(e[o]=null);break;case 2:a+1!==r.getColumnCount()&&(e[o]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+n.prototype.toString.call(this)},t}(F3);const k3=lZ;var uZ=function(){function n(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=zr.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var r=this.detectionResultColumns[e].getCodewords(),o=0;o<r.length;o++)null!=r[o]&&(r[o].hasValidRowNumber()||this.adjustRowNumbers(e,o,r));return t},n.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(null!=t[r]&&null!=e[r]&&t[r].getRowNumber()===e[r].getRowNumber())for(var o=1;o<=this.barcodeColumnCount;o++){var s=this.detectionResultColumns[o].getCodewords()[r];null!=s&&(s.setRowNumber(t[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[r]=null))}},n.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(null!=e[r])for(var o=e[r].getRowNumber(),s=0,a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){var u=this.detectionResultColumns[a].getCodewords()[r];null!=u&&(s=n.adjustRowNumberIfValid(o,s,u),u.hasValidRowNumber()||t++)}return t},n.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,e=this.detectionResultColumns[0].getCodewords(),r=0;r<e.length;r++)if(null!=e[r])for(var o=e[r].getRowNumber(),s=0,a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){var u=this.detectionResultColumns[a].getCodewords()[r];null!=u&&(s=n.adjustRowNumberIfValid(o,s,u),u.hasValidRowNumber()||t++)}return t},n.adjustRowNumberIfValid=function(t,e,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),e=0):++e),e},n.prototype.adjustRowNumbers=function(t,e,r){var o,s;if(null!=this.detectionResultColumns[t-1]){var a=r[e],u=this.detectionResultColumns[t-1].getCodewords(),h=u;null!=this.detectionResultColumns[t+1]&&(h=this.detectionResultColumns[t+1].getCodewords());var x=new Array(14);x[2]=u[e],x[3]=h[e],e>0&&(x[0]=r[e-1],x[4]=u[e-1],x[5]=h[e-1]),e>1&&(x[8]=r[e-2],x[10]=u[e-2],x[11]=h[e-2]),e<r.length-1&&(x[1]=r[e+1],x[6]=u[e+1],x[7]=h[e+1]),e<r.length-2&&(x[9]=r[e+2],x[12]=u[e+2],x[13]=h[e+2]);try{for(var M=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),L=M.next();!L.done;L=M.next())if(n.adjustRowNumber(a,L.value))return}catch(q){o={error:q}}finally{try{L&&!L.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}}},n.adjustRowNumber=function(t,e){return!(null==e||!e.hasValidRowNumber()||e.getBucket()!==t.getBucket()||(t.setRowNumber(e.getRowNumber()),0))},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(t){this.boundingBox=t},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},n.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},n.prototype.toString=function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new JD,r=0;r<t.getCodewords().length;r++){e.format("CW %3d:",r);for(var o=0;o<this.barcodeColumnCount+2;o++)if(null!=this.detectionResultColumns[o]){var s=this.detectionResultColumns[o].getCodewords()[r];null!=s?e.format(" %3d|%3d",s.getRowNumber(),s.getValue()):e.format("    |   ")}else e.format("    |   ");e.format("%n")}return e.toString()},n}();const dZ=uZ;var fZ=function(){function n(t,e,r,o){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(e),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(t){return t!==n.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(t){this.rowNumber=t},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}();const hZ=fZ;var pZ=function(){function n(){}return n.initialize=function(){for(var t=0;t<zr.SYMBOL_TABLE.length;t++)for(var e=zr.SYMBOL_TABLE[t],r=1&e,o=0;o<zr.BARS_IN_MODULE;o++){for(var s=0;(1&e)===r;)s+=1,e>>=1;r=1&e,n.RATIOS_TABLE[t]||(n.RATIOS_TABLE[t]=new Array(zr.BARS_IN_MODULE)),n.RATIOS_TABLE[t][zr.BARS_IN_MODULE-o-1]=Math.fround(s/zr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(t){var e=n.getDecodedCodewordValue(n.sampleBitCounts(t));return-1!==e?e:n.getClosestDecodedValue(t)},n.sampleBitCounts=function(t){for(var e=$r.sum(t),r=new Int32Array(zr.BARS_IN_MODULE),o=0,s=0,a=0;a<zr.MODULES_IN_CODEWORD;a++)s+t[o]<=e/(2*zr.MODULES_IN_CODEWORD)+a*e/zr.MODULES_IN_CODEWORD&&(s+=t[o],o++),r[o]++;return r},n.getDecodedCodewordValue=function(t){var e=n.getBitValue(t);return-1===zr.getCodeword(e)?-1:e},n.getBitValue=function(t){for(var e=0,r=0;r<t.length;r++)for(var o=0;o<t[r];o++)e=e<<1|(r%2==0?1:0);return Math.trunc(e)},n.getClosestDecodedValue=function(t){var e=$r.sum(t),r=new Array(zr.BARS_IN_MODULE);if(e>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(t[o]/e);var s=GD.MAX_VALUE,a=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var h=0,x=n.RATIOS_TABLE[u],M=0;M<zr.BARS_IN_MODULE;M++){var L=Math.fround(x[M]-r[M]);if((h+=Math.fround(L*L))>=s)break}h<s&&(s=h,a=zr.SYMBOL_TABLE[u])}return a},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(zr.SYMBOL_TABLE.length).map(function(t){return new Array(zr.BARS_IN_MODULE)}),n}();const gZ=pZ;var mZ=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(t){this.segmentIndex=t},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(t){this.fileId=t},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(t){this.optionalData=t},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(t){this.lastSegment=t},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(t){this.segmentCount=t},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(t){this.sender=t},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(t){this.addressee=t},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(t){this.fileName=t},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(t){this.fileSize=t},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(t){this.checksum=t},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(t){this.timestamp=t},n}();const vZ=mZ;var _Z=function(){function n(){}return n.parseLong=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},n}();const L3=_Z;var yZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bZ=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yZ(t,n),t.kind="NullPointerException",t}(sa);const wZ=bZ;var xZ=function(){function n(){}return n.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},n.prototype.writeBytesOffset=function(t,e,r){if(null==t)throw new wZ;if(e<0||e>t.length||r<0||e+r>t.length||e+r<0)throw new VD;if(0!==r)for(var o=0;o<r;o++)this.write(t[e+o])},n.prototype.flush=function(){},n.prototype.close=function(){},n}();const EZ=xZ;var CZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),SZ=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return CZ(t,n),t}(sa);const AZ=SZ;var DZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),TZ=function(n){function t(e){void 0===e&&(e=32);var r=n.call(this)||this;if(r.count=0,e<0)throw new Pn("Negative initial size: "+e);return r.buf=new Uint8Array(e),r}return DZ(t,n),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var o=this.buf.length<<1;if(o-e<0&&(o=e),o<0){if(e<0)throw new AZ;o=Or.MAX_VALUE}this.buf=aa.copyOfUint8Array(this.buf,o)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,r,o){if(r<0||r>e.length||o<0||r+o-e.length>0)throw new VD;this.ensureCapacity(this.count+o),Ti.arraycopy(e,r,this.buf,this.count,o),this.count+=o},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return aa.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(EZ);const MZ=TZ;var gE,li=(()=>(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(li||(li={})),li))();function N3(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Md(n){if(void 0===gE&&(gE=N3()),null===gE)throw new Error("BigInt is not supported!");return gE(n)}var IZ=function(){function n(){}return n.decode=function(t,e){var r=new gi(""),o=Oo.ISO8859_1;r.enableDecoding(o);for(var s=1,a=t[s++],u=new vZ;s<t[0];){switch(a){case n.TEXT_COMPACTION_MODE_LATCH:s=n.textCompaction(t,s,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:s=n.byteCompaction(a,t,o,s,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:s=n.numericCompaction(t,s,r);break;case n.ECI_CHARSET:Oo.getCharacterSetECIByValue(t[s++]);break;case n.ECI_GENERAL_PURPOSE:s+=2;break;case n.ECI_USER_DEFINED:s++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=n.decodeMacroBlock(t,s,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new Sn;default:s--,s=n.textCompaction(t,s,r)}if(!(s<t.length))throw Sn.getFormatInstance();a=t[s++]}if(0===r.length())throw Sn.getFormatInstance();var x=new oE(null,r.toString(),null,e);return x.setOther(u),x},n.decodeMacroBlock=function(t,e,r){if(e+n.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Sn.getFormatInstance();for(var o=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<n.NUMBER_OF_SEQUENCE_CODEWORDS;s++,e++)o[s]=t[e];r.setSegmentIndex(Or.parseInt(n.decodeBase900toBase10(o,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new gi;e=n.textCompaction(t,e,a),r.setFileId(a.toString());var u=-1;for(t[e]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=e+1);e<t[0];)switch(t[e]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++e]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var h=new gi;e=n.textCompaction(t,e+1,h),r.setFileName(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var x=new gi;e=n.textCompaction(t,e+1,x),r.setSender(x.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var M=new gi;e=n.textCompaction(t,e+1,M),r.setAddressee(M.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var L=new gi;e=n.numericCompaction(t,e+1,L),r.setSegmentCount(Or.parseInt(L.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var W=new gi;e=n.numericCompaction(t,e+1,W),r.setTimestamp(L3.parseLong(W.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var q=new gi;e=n.numericCompaction(t,e+1,q),r.setChecksum(Or.parseInt(q.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var ye=new gi;e=n.numericCompaction(t,e+1,ye),r.setFileSize(L3.parseLong(ye.toString()));break;default:throw Sn.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:e++,r.setLastSegment(!0);break;default:throw Sn.getFormatInstance()}if(-1!==u){var Le=e-u;r.isLastSegment()&&Le--,r.setOptionalData(aa.copyOfRange(t,u,u+Le))}return e},n.textCompaction=function(t,e,r){for(var o=new Int32Array(2*(t[0]-e)),s=new Int32Array(2*(t[0]-e)),a=0,u=!1;e<t[0]&&!u;){var h=t[e++];if(h<n.TEXT_COMPACTION_MODE_LATCH)o[a]=h/30,o[a+1]=h%30,a+=2;else switch(h){case n.TEXT_COMPACTION_MODE_LATCH:o[a++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:e--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[e++],s[a]=h,a++}}return n.decodeTextCompaction(o,s,a,r),e},n.decodeTextCompaction=function(t,e,r,o){for(var s=li.ALPHA,a=li.ALPHA,u=0;u<r;){var h=t[u],x="";switch(s){case li.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case n.LL:s=li.LOWER;break;case n.ML:s=li.MIXED;break;case n.PS:a=s,s=li.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=li.ALPHA}break;case li.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case n.AS:a=s,s=li.ALPHA_SHIFT;break;case n.ML:s=li.MIXED;break;case n.PS:a=s,s=li.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=li.ALPHA}break;case li.MIXED:if(h<n.PL)x=n.MIXED_CHARS[h];else switch(h){case n.PL:s=li.PUNCT;break;case 26:x=" ";break;case n.LL:s=li.LOWER;break;case n.AL:s=li.ALPHA;break;case n.PS:a=s,s=li.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=li.ALPHA}break;case li.PUNCT:if(h<n.PAL)x=n.PUNCT_CHARS[h];else switch(h){case n.PAL:s=li.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=li.ALPHA}break;case li.ALPHA_SHIFT:if(s=a,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:s=li.ALPHA}break;case li.PUNCT_SHIFT:if(s=a,h<n.PAL)x=n.PUNCT_CHARS[h];else switch(h){case n.PAL:s=li.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=li.ALPHA}}""!==x&&o.append(x),u++}},n.byteCompaction=function(t,e,r,o,s){var a=new MZ,u=0,h=0,x=!1;switch(t){case n.BYTE_COMPACTION_MODE_LATCH:for(var M=new Int32Array(6),L=e[o++];o<e[0]&&!x;)switch(M[u++]=L,h=900*h+L,L=e[o++],L){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:o--,x=!0;break;default:if(u%5==0&&u>0){for(var W=0;W<6;++W)a.write(Number(Md(h)>>Md(8*(5-W))));h=0,u=0}}o===e[0]&&L<n.TEXT_COMPACTION_MODE_LATCH&&(M[u++]=L);for(var q=0;q<u;q++)a.write(M[q]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;o<e[0]&&!x;){var ye=e[o++];if(ye<n.TEXT_COMPACTION_MODE_LATCH)u++,h=900*h+ye;else switch(ye){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:o--,x=!0}if(u%5==0&&u>0){for(W=0;W<6;++W)a.write(Number(Md(h)>>Md(8*(5-W))));h=0,u=0}}}return s.append(pc.decode(a.toByteArray(),r)),o},n.numericCompaction=function(t,e,r){for(var o=0,s=!1,a=new Int32Array(n.MAX_NUMERIC_CODEWORDS);e<t[0]&&!s;){var u=t[e++];if(e===t[0]&&(s=!0),u<n.TEXT_COMPACTION_MODE_LATCH)a[o]=u,o++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:e--,s=!0}(o%n.MAX_NUMERIC_CODEWORDS==0||u===n.NUMERIC_COMPACTION_MODE_LATCH||s)&&o>0&&(r.append(n.decodeBase900toBase10(a,o)),o=0)}return e},n.decodeBase900toBase10=function(t,e){for(var r=Md(0),o=0;o<e;o++)r+=n.EXP900[e-o-1]*Md(t[o]);var s=r.toString();if("1"!==s.charAt(0))throw new Sn;return s.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",n.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",n.EXP900=N3()?function OZ(){var n=[];n[0]=Md(1);var t=Md(900);n[1]=t;for(var e=2;e<16;e++)n[e]=n[e-1]*t;return n}():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}();const RZ=IZ;var by=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},PZ=function(){function n(){}return n.decode=function(t,e,r,o,s,a,u){for(var L,h=new XD(t,e,r,o,s),x=null,M=null,W=!0;;W=!1){if(null!=e&&(x=n.getRowIndicatorColumn(t,h,e,!0,a,u)),null!=o&&(M=n.getRowIndicatorColumn(t,h,o,!1,a,u)),null==(L=n.merge(x,M)))throw tn.getNotFoundInstance();var q=L.getBoundingBox();if(!W||null==q||!(q.getMinY()<h.getMinY()||q.getMaxY()>h.getMaxY()))break;h=q}L.setBoundingBox(h);var ye=L.getBarcodeColumnCount()+1;L.setDetectionResultColumn(0,x),L.setDetectionResultColumn(ye,M);for(var Le=null!=x,rt=1;rt<=ye;rt++){var it=Le?rt:ye-rt;if(void 0===L.getDetectionResultColumn(it)){var lt=void 0;lt=0===it||it===ye?new k3(h,0===it):new F3(h),L.setDetectionResultColumn(it,lt);for(var Ot=-1,Pt=Ot,rn=h.getMinY();rn<=h.getMaxY();rn++){if((Ot=n.getStartColumn(L,it,rn,Le))<0||Ot>h.getMaxX()){if(-1===Pt)continue;Ot=Pt}var gn=n.detectCodeword(t,h.getMinX(),h.getMaxX(),Le,Ot,rn,a,u);null!=gn&&(lt.setCodeword(rn,gn),Pt=Ot,a=Math.min(a,gn.getWidth()),u=Math.max(u,gn.getWidth()))}}}return n.createDecoderResult(L)},n.merge=function(t,e){if(null==t&&null==e)return null;var r=n.getBarcodeMetadata(t,e);if(null==r)return null;var o=XD.merge(n.adjustBoundingBox(t),n.adjustBoundingBox(e));return new dZ(r,o)},n.adjustBoundingBox=function(t){var e,r;if(null==t)return null;var o=t.getRowHeights();if(null==o)return null;var s=n.getMax(o),a=0;try{for(var u=by(o),h=u.next();!h.done;h=u.next()){var x=h.value;if(a+=s-x,x>0)break}}catch(q){e={error:q}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}for(var M=t.getCodewords(),L=0;a>0&&null==M[L];L++)a--;var W=0;for(L=o.length-1;L>=0&&(W+=s-o[L],!(o[L]>0));L--);for(L=M.length-1;W>0&&null==M[L];L--)W--;return t.getBoundingBox().addMissingRows(a,W,t.isLeft())},n.getMax=function(t){var e,r,o=-1;try{for(var s=by(t),a=s.next();!a.done;a=s.next())o=Math.max(o,a.value)}catch(h){e={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o},n.getBarcodeMetadata=function(t,e){var r,o;return null==t||null==(r=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(o=e.getBarcodeMetadata())?r:r.getColumnCount()!==o.getColumnCount()&&r.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&r.getRowCount()!==o.getRowCount()?null:r},n.getRowIndicatorColumn=function(t,e,r,o,s,a){for(var u=new k3(e,o),h=0;h<2;h++)for(var x=0===h?1:-1,M=Math.trunc(Math.trunc(r.getX())),L=Math.trunc(Math.trunc(r.getY()));L<=e.getMaxY()&&L>=e.getMinY();L+=x){var W=n.detectCodeword(t,0,t.getWidth(),o,M,L,s,a);null!=W&&(u.setCodeword(L,W),M=o?W.getStartX():W.getEndX())}return u},n.adjustCodewordCount=function(t,e){var r=e[0][1],o=r.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-n.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===o.length){if(s<1||s>zr.MAX_CODEWORDS_IN_BARCODE)throw tn.getNotFoundInstance();r.setValue(s)}else o[0]!==s&&r.setValue(s)},n.createDecoderResult=function(t){var e=n.createBarcodeMatrix(t);n.adjustCodewordCount(t,e);for(var r=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],a=new Array,u=0;u<t.getBarcodeRowCount();u++)for(var h=0;h<t.getBarcodeColumnCount();h++){var x=e[u][h+1].getValue(),M=u*t.getBarcodeColumnCount()+h;0===x.length?r.push(M):1===x.length?o[M]=x[0]:(a.push(M),s.push(x))}for(var L=new Array(s.length),W=0;W<L.length;W++)L[W]=s[W];return n.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,zr.toIntArray(r),zr.toIntArray(a),L)},n.createDecoderResultFromAmbiguousValues=function(t,e,r,o,s){for(var a=new Int32Array(o.length),u=100;u-- >0;){for(var h=0;h<a.length;h++)e[o[h]]=s[h][a[h]];try{return n.decodeCodewords(e,t,r)}catch(M){if(!(M instanceof bo))throw M}if(0===a.length)throw bo.getChecksumInstance();for(h=0;h<a.length;h++){if(a[h]<s[h].length-1){a[h]++;break}if(a[h]=0,h===a.length-1)throw bo.getChecksumInstance()}}throw bo.getChecksumInstance()},n.createBarcodeMatrix=function(t){for(var e,r,o,s,a=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)a[u][h]=new yy;var x=0;try{for(var M=by(t.getDetectionResultColumns()),L=M.next();!L.done;L=M.next()){var W=L.value;if(null!=W)try{for(var q=(o=void 0,by(W.getCodewords())),ye=q.next();!ye.done;ye=q.next()){var Le=ye.value;if(null!=Le){var rt=Le.getRowNumber();if(rt>=0){if(rt>=a.length)continue;a[rt][x].setValue(Le.getValue())}}}}catch(it){o={error:it}}finally{try{ye&&!ye.done&&(s=q.return)&&s.call(q)}finally{if(o)throw o.error}}x++}}catch(it){e={error:it}}finally{try{L&&!L.done&&(r=M.return)&&r.call(M)}finally{if(e)throw e.error}}return a},n.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},n.getStartColumn=function(t,e,r,o){var s,a,u=o?1:-1,h=null;if(n.isValidBarcodeColumn(t,e-u)&&(h=t.getDetectionResultColumn(e-u).getCodeword(r)),null!=h)return o?h.getEndX():h.getStartX();if(null!=(h=t.getDetectionResultColumn(e).getCodewordNearby(r)))return o?h.getStartX():h.getEndX();if(n.isValidBarcodeColumn(t,e-u)&&(h=t.getDetectionResultColumn(e-u).getCodewordNearby(r)),null!=h)return o?h.getEndX():h.getStartX();for(var x=0;n.isValidBarcodeColumn(t,e-u);){e-=u;try{for(var M=(s=void 0,by(t.getDetectionResultColumn(e).getCodewords())),L=M.next();!L.done;L=M.next()){var W=L.value;if(null!=W)return(o?W.getEndX():W.getStartX())+u*x*(W.getEndX()-W.getStartX())}}catch(q){s={error:q}}finally{try{L&&!L.done&&(a=M.return)&&a.call(M)}finally{if(s)throw s.error}}x++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},n.detectCodeword=function(t,e,r,o,s,a,u,h){s=n.adjustCodewordStartColumn(t,e,r,o,s,a);var x=n.getModuleBitCount(t,e,r,o,s,a);if(null==x)return null;var M,L=$r.sum(x);if(o)M=s+L;else{for(var W=0;W<x.length/2;W++){var q=x[W];x[W]=x[x.length-1-W],x[x.length-1-W]=q}s=(M=s)-L}if(!n.checkCodewordSkew(L,u,h))return null;var ye=gZ.getDecodedValue(x),Le=zr.getCodeword(ye);return-1===Le?null:new hZ(s,M,n.getCodewordBucketNumber(ye),Le)},n.getModuleBitCount=function(t,e,r,o,s,a){for(var u=s,h=new Int32Array(8),x=0,M=o?1:-1,L=o;(o?u<r:u>=e)&&x<h.length;)t.get(u,a)===L?(h[x]++,u+=M):(x++,L=!L);return x===h.length||u===(o?r:e)&&x===h.length-1?h:null},n.getNumberOfECCodeWords=function(t){return 2<<t},n.adjustCodewordStartColumn=function(t,e,r,o,s,a){for(var u=s,h=o?-1:1,x=0;x<2;x++){for(;(o?u>=e:u<r)&&o===t.get(u,a);){if(Math.abs(s-u)>n.CODEWORD_SKEW_SIZE)return s;u+=h}h=-h,o=!o}return u},n.checkCodewordSkew=function(t,e,r){return e-n.CODEWORD_SKEW_SIZE<=t&&t<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(t,e,r){if(0===t.length)throw Sn.getFormatInstance();var o=1<<e+1,s=n.correctErrors(t,r,o);n.verifyCodewordCount(t,o);var a=RZ.decode(t,""+e);return a.setErrorsCorrected(s),a.setErasures(r.length),a},n.correctErrors=function(t,e,r){if(null!=e&&e.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw bo.getChecksumInstance();return n.errorCorrection.decode(t,r,e)},n.verifyCodewordCount=function(t,e){if(t.length<4)throw Sn.getFormatInstance();var r=t[0];if(r>t.length)throw Sn.getFormatInstance();if(0===r){if(!(e<t.length))throw Sn.getFormatInstance();t[0]=t.length-e}},n.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),r=0,o=e.length-1;!((1&t)!==r&&(r=1&t,o--,o<0));)e[o]++,t>>=1;return e},n.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},n.getCodewordBucketNumber_number=function(t){return n.getCodewordBucketNumber(n.getBitCountForCodeword(t))},n.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},n.toString=function(t){for(var e=new JD,r=0;r<t.length;r++){e.format("Row %2d: ",r);for(var o=0;o<t[r].length;o++){var s=t[r][o];0===s.getValue().length?e.format("        ",null):e.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}e.format("%n")}return e.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new Qz,n}();const FZ=PZ;var LZ=function(){function n(){}return n.prototype.decode=function(t,e){void 0===e&&(e=null);var r=n.decode(t,e,!1);if(null==r||0===r.length||null==r[0])throw tn.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(t,e){void 0===e&&(e=null);try{return n.decode(t,e,!0)}catch(r){throw r instanceof Sn||r instanceof bo?tn.getNotFoundInstance():r}},n.decode=function(t,e,r){var o,s,a=new Array,u=Hz.detectMultiple(t,e,r);try{for(var h=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u.getPoints()),x=h.next();!x.done;x=h.next()){var M=x.value,L=FZ.decode(u.getBits(),M[4],M[5],M[6],M[7],n.getMinCodewordWidth(M),n.getMaxCodewordWidth(M)),W=new la(L.getText(),L.getRawBytes(),void 0,M,Kn.PDF_417);W.putMetadata(os.ERROR_CORRECTION_LEVEL,L.getECLevel());var q=L.getOther();null!=q&&W.putMetadata(os.PDF417_EXTRA_METADATA,q),a.push(W)}}catch(ye){o={error:ye}}finally{try{x&&!x.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return a.map(function(ye){return ye})},n.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},n.getMinWidth=function(t,e){return null==t||null==e?Or.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},n.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(n.getMaxWidth(t[0],t[4]),n.getMaxWidth(t[6],t[2])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(t[1],t[5]),n.getMaxWidth(t[7],t[3])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(n.getMinWidth(t[0],t[4]),n.getMinWidth(t[6],t[2])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(t[1],t[5]),n.getMinWidth(t[7],t[3])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}();const mE=LZ;var NZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),BZ=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return NZ(t,n),t.kind="ReaderException",t}(sa);const B3=BZ;var U3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},UZ=function(){function n(){}return n.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},n.prototype.decodeWithState=function(t){return null==this.readers&&this.setHints(null),this.decodeInternal(t)},n.prototype.setHints=function(t){this.hints=t;var e=null!=t&&void 0!==t.get(ni.TRY_HARDER),r=null==t?null:t.get(ni.POSSIBLE_FORMATS),o=new Array;if(null!=r){var s=r.some(function(a){return a===Kn.UPC_A||a===Kn.UPC_E||a===Kn.EAN_13||a===Kn.EAN_8||a===Kn.CODABAR||a===Kn.CODE_39||a===Kn.CODE_93||a===Kn.CODE_128||a===Kn.ITF||a===Kn.RSS_14||a===Kn.RSS_EXPANDED});s&&!e&&o.push(new Om(t)),r.includes(Kn.QR_CODE)&&o.push(new pE),r.includes(Kn.DATA_MATRIX)&&o.push(new hE),r.includes(Kn.AZTEC)&&o.push(new lE),r.includes(Kn.PDF_417)&&o.push(new mE),s&&e&&o.push(new Om(t))}0===o.length&&(e||o.push(new Om(t)),o.push(new pE),o.push(new hE),o.push(new lE),o.push(new mE),e&&o.push(new Om(t))),this.readers=o},n.prototype.reset=function(){var t,e;if(null!==this.readers)try{for(var r=U3(this.readers),o=r.next();!o.done;o=r.next())o.value.reset()}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},n.prototype.decodeInternal=function(t){var e,r;if(null===this.readers)throw new B3("No readers where selected, nothing can be read.");try{for(var o=U3(this.readers),s=o.next();!s.done;s=o.next()){var a=s.value;try{return a.decode(t,this.hints)}catch(u){if(u instanceof B3)continue}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}throw new tn("No MultiFormat Readers were able to detect the code.")},n}();const j3=UZ;var jZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HZ=(function(n){function t(e,r){void 0===e&&(e=null),void 0===r&&(r=500);var s=new j3;return s.setHints(e),n.call(this,s,r)||this}jZ(t,n),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)}}(Am),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),VZ=(function(n){HZ(function t(e){return void 0===e&&(e=500),n.call(this,new mE,e)||this},n)}(Am),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),vE=(function(n){VZ(function t(e){return void 0===e&&(e=500),n.call(this,new pE,e)||this},n)}(Am),(()=>(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.MIN_SIZE=3]="MIN_SIZE",n[n.MAX_SIZE=4]="MAX_SIZE",n[n.MARGIN=5]="MARGIN",n[n.PDF417_COMPACT=6]="PDF417_COMPACT",n[n.PDF417_COMPACTION=7]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=9]="AZTEC_LAYERS",n[n.QR_VERSION=10]="QR_VERSION"}(vE||(vE={})),vE))());const Mi=vE;var GZ=function(){function n(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Ad(t,Int32Array.from([1])))}return n.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var r=e[e.length-1],o=this.field,s=e.length;s<=t;s++){var a=r.multiply(new Ad(o,Int32Array.from([1,o.exp(s-1+o.getGeneratorBase())])));e.push(a),r=a}return e[t]},n.prototype.encode=function(t,e){if(0===e)throw new Pn("No error correction bytes");var r=t.length-e;if(r<=0)throw new Pn("No data bytes provided");var o=this.buildGenerator(e),s=new Int32Array(r);Ti.arraycopy(t,0,s,0,r);for(var a=new Ad(this.field,s),h=(a=a.multiplyByMonomial(e,1)).divide(o)[1].getCoefficients(),x=e-h.length,M=0;M<x;M++)t[r+M]=0;Ti.arraycopy(h,0,t,r+x,h.length)},n}();const H3=GZ;var zZ=function(){function n(){}return n.applyMaskPenaltyRule1=function(t){return n.applyMaskPenaltyRule1Internal(t,!0)+n.applyMaskPenaltyRule1Internal(t,!1)},n.applyMaskPenaltyRule2=function(t){for(var e=0,r=t.getArray(),o=t.getWidth(),s=t.getHeight(),a=0;a<s-1;a++)for(var u=r[a],h=0;h<o-1;h++){var x=u[h];x===u[h+1]&&x===r[a+1][h]&&x===r[a+1][h+1]&&e++}return n.N2*e},n.applyMaskPenaltyRule3=function(t){for(var e=0,r=t.getArray(),o=t.getWidth(),s=t.getHeight(),a=0;a<s;a++)for(var u=0;u<o;u++){var h=r[a];u+6<o&&1===h[u]&&0===h[u+1]&&1===h[u+2]&&1===h[u+3]&&1===h[u+4]&&0===h[u+5]&&1===h[u+6]&&(n.isWhiteHorizontal(h,u-4,u)||n.isWhiteHorizontal(h,u+7,u+11))&&e++,a+6<s&&1===r[a][u]&&0===r[a+1][u]&&1===r[a+2][u]&&1===r[a+3][u]&&1===r[a+4][u]&&0===r[a+5][u]&&1===r[a+6][u]&&(n.isWhiteVertical(r,u,a-4,a)||n.isWhiteVertical(r,u,a+7,a+11))&&e++}return e*n.N3},n.isWhiteHorizontal=function(t,e,r){e=Math.max(e,0),r=Math.min(r,t.length);for(var o=e;o<r;o++)if(1===t[o])return!1;return!0},n.isWhiteVertical=function(t,e,r,o){r=Math.max(r,0),o=Math.min(o,t.length);for(var s=r;s<o;s++)if(1===t[s][e])return!1;return!0},n.applyMaskPenaltyRule4=function(t){for(var e=0,r=t.getArray(),o=t.getWidth(),s=t.getHeight(),a=0;a<s;a++)for(var u=r[a],h=0;h<o;h++)1===u[h]&&e++;var x=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*e-x)/x)*n.N4},n.getDataMaskBit=function(t,e,r){var o,s;switch(t){case 0:o=r+e&1;break;case 1:o=1&r;break;case 2:o=e%3;break;case 3:o=(r+e)%3;break;case 4:o=Math.floor(r/2)+Math.floor(e/3)&1;break;case 5:o=(1&(s=r*e))+s%3;break;case 6:o=(1&(s=r*e))+s%3&1;break;case 7:o=(s=r*e)%3+(r+e&1)&1;break;default:throw new Pn("Invalid mask pattern: "+t)}return 0===o},n.applyMaskPenaltyRule1Internal=function(t,e){for(var r=0,o=e?t.getHeight():t.getWidth(),s=e?t.getWidth():t.getHeight(),a=t.getArray(),u=0;u<o;u++){for(var h=0,x=-1,M=0;M<s;M++){var L=e?a[u][M]:a[M][u];L===x?h++:(h>=5&&(r+=n.N1+(h-5)),h=1,x=L)}h>=5&&(r+=n.N1+(h-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}();const wy=zZ;var WZ=function(){function n(t,e){this.width=t,this.height=e;for(var r=new Array(e),o=0;o!==e;o++)r[o]=new Uint8Array(t);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(t,e){return this.bytes[e][t]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(t,e,r){this.bytes[e][t]=r},n.prototype.setBoolean=function(t,e,r){this.bytes[e][t]=r?1:0},n.prototype.clear=function(t){var e,r;try{for(var o=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),s=o.next();!s.done;s=o.next())aa.fill(s.value,t)}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;if(this.width!==e.width||this.height!==e.height)return!1;for(var r=0,o=this.height;r<o;++r)for(var s=this.bytes[r],a=e.bytes[r],u=0,h=this.width;u<h;++u)if(s[u]!==a[u])return!1;return!0},n.prototype.toString=function(){for(var t=new gi,e=0,r=this.height;e<r;++e){for(var o=this.bytes[e],s=0,a=this.width;s<a;++s)switch(o[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()},n}();const $Z=WZ;var qZ=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var t=new gi;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()},n.prototype.setMode=function(t){this.mode=t},n.prototype.setECLevel=function(t){this.ecLevel=t},n.prototype.setVersion=function(t){this.version=t},n.prototype.setMaskPattern=function(t){this.maskPattern=t},n.prototype.setMatrix=function(t){this.matrix=t},n.isValidMaskPattern=function(t){return t>=0&&t<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}();const tT=qZ;var YZ=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KZ=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return YZ(t,n),t.kind="WriterException",t}(sa);const Ni=KZ;var QZ=function(){function n(){}return n.clearMatrix=function(t){t.clear(255)},n.buildMatrix=function(t,e,r,o,s){n.clearMatrix(s),n.embedBasicPatterns(r,s),n.embedTypeInfo(e,o,s),n.maybeEmbedVersionInfo(r,s),n.embedDataBits(t,o,s)},n.embedBasicPatterns=function(t,e){n.embedPositionDetectionPatternsAndSeparators(e),n.embedDarkDotAtLeftBottomCorner(e),n.maybeEmbedPositionAdjustmentPatterns(t,e),n.embedTimingPatterns(e)},n.embedTypeInfo=function(t,e,r){var o=new Yo;n.makeTypeInfoBits(t,e,o);for(var s=0,a=o.getSize();s<a;++s){var u=o.get(o.getSize()-1-s),h=n.TYPE_INFO_COORDINATES[s];if(r.setBoolean(h[0],h[1],u),s<8){var L=r.getWidth()-s-1;r.setBoolean(L,W=8,u)}else{L=8;var W=r.getHeight()-7+(s-8);r.setBoolean(L,W,u)}}},n.maybeEmbedVersionInfo=function(t,e){if(!(t.getVersionNumber()<7)){var r=new Yo;n.makeVersionInfoBits(t,r);for(var o=17,s=0;s<6;++s)for(var a=0;a<3;++a){var u=r.get(o);o--,e.setBoolean(s,e.getHeight()-11+a,u),e.setBoolean(e.getHeight()-11+a,s,u)}}},n.embedDataBits=function(t,e,r){for(var o=0,s=-1,a=r.getWidth()-1,u=r.getHeight()-1;a>0;){for(6===a&&(a-=1);u>=0&&u<r.getHeight();){for(var h=0;h<2;++h){var x=a-h;if(n.isEmpty(r.get(x,u))){var M=void 0;o<t.getSize()?(M=t.get(o),++o):M=!1,255!==e&&wy.getDataMaskBit(e,x,u)&&(M=!M),r.setBoolean(x,u,M)}}u+=s}u+=s=-s,a-=2}if(o!==t.getSize())throw new Ni("Not all bits consumed: "+o+"/"+t.getSize())},n.findMSBSet=function(t){return 32-Or.numberOfLeadingZeros(t)},n.calculateBCHCode=function(t,e){if(0===e)throw new Pn("0 polynomial");var r=n.findMSBSet(e);for(t<<=r-1;n.findMSBSet(t)>=r;)t^=e<<n.findMSBSet(t)-r;return t},n.makeTypeInfoBits=function(t,e,r){if(!tT.isValidMaskPattern(e))throw new Ni("Invalid mask pattern");var o=t.getBits()<<3|e;r.appendBits(o,5);var s=n.calculateBCHCode(o,n.TYPE_INFO_POLY);r.appendBits(s,10);var a=new Yo;if(a.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new Ni("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(t,e){e.appendBits(t.getVersionNumber(),6);var r=n.calculateBCHCode(t.getVersionNumber(),n.VERSION_INFO_POLY);if(e.appendBits(r,12),18!==e.getSize())throw new Ni("should not happen but we got: "+e.getSize())},n.isEmpty=function(t){return 255===t},n.embedTimingPatterns=function(t){for(var e=8;e<t.getWidth()-8;++e){var r=(e+1)%2;n.isEmpty(t.get(e,6))&&t.setNumber(e,6,r),n.isEmpty(t.get(6,e))&&t.setNumber(6,e,r)}},n.embedDarkDotAtLeftBottomCorner=function(t){if(0===t.get(8,t.getHeight()-8))throw new Ni;t.setNumber(8,t.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(t,e,r){for(var o=0;o<8;++o){if(!n.isEmpty(r.get(t+o,e)))throw new Ni;r.setNumber(t+o,e,0)}},n.embedVerticalSeparationPattern=function(t,e,r){for(var o=0;o<7;++o){if(!n.isEmpty(r.get(t,e+o)))throw new Ni;r.setNumber(t,e+o,0)}},n.embedPositionAdjustmentPattern=function(t,e,r){for(var o=0;o<5;++o)for(var s=n.POSITION_ADJUSTMENT_PATTERN[o],a=0;a<5;++a)r.setNumber(t+a,e+o,s[a])},n.embedPositionDetectionPattern=function(t,e,r){for(var o=0;o<7;++o)for(var s=n.POSITION_DETECTION_PATTERN[o],a=0;a<7;++a)r.setNumber(t+a,e+o,s[a])},n.embedPositionDetectionPatternsAndSeparators=function(t){var e=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,t),n.embedPositionDetectionPattern(t.getWidth()-e,0,t),n.embedPositionDetectionPattern(0,t.getWidth()-e,t),n.embedHorizontalSeparationPattern(0,7,t),n.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),n.embedHorizontalSeparationPattern(0,t.getWidth()-8,t),n.embedVerticalSeparationPattern(7,0,t),n.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),n.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},n.maybeEmbedPositionAdjustmentPatterns=function(t,e){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,o=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],s=0,a=o.length;s!==a;s++){var u=o[s];if(u>=0)for(var h=0;h!==a;h++){var x=o[h];x>=0&&n.isEmpty(e.get(x,u))&&n.embedPositionAdjustmentPattern(x-2,u-2,e)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}();const V3=QZ;var XZ=function(){function n(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}();const JZ=XZ;var G3=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eW=function(){function n(){}return n.calculateMaskPenalty=function(t){return wy.applyMaskPenaltyRule1(t)+wy.applyMaskPenaltyRule2(t)+wy.applyMaskPenaltyRule3(t)+wy.applyMaskPenaltyRule4(t)},n.encode=function(t,e,r){void 0===r&&(r=null);var o=n.DEFAULT_BYTE_MODE_ENCODING,s=null!==r&&void 0!==r.get(Mi.CHARACTER_SET);s&&(o=r.get(Mi.CHARACTER_SET).toString());var a=this.chooseMode(t,o),u=new Yo;if(a===Li.BYTE&&(s||n.DEFAULT_BYTE_MODE_ENCODING!==o)){var h=Oo.getCharacterSetECIByName(o);void 0!==h&&this.appendECI(h,u)}this.appendModeInfo(a,u);var M,x=new Yo;if(this.appendBytes(t,a,x,o),null!==r&&void 0!==r.get(Mi.QR_VERSION)){var L=Number.parseInt(r.get(Mi.QR_VERSION).toString(),10);M=Ih.getVersionForNumber(L);var W=this.calculateBitsNeeded(a,u,x,M);if(!this.willFit(W,M,e))throw new Ni("Data too big for requested version")}else M=this.recommendVersion(e,a,u,x);var q=new Yo;q.appendBitArray(u);var ye=a===Li.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(ye,M,a,q),q.appendBitArray(x);var Le=M.getECBlocksForLevel(e),rt=M.getTotalCodewords()-Le.getTotalECCodewords();this.terminateBits(rt,q);var it=this.interleaveWithECBytes(q,M.getTotalCodewords(),rt,Le.getNumBlocks()),lt=new tT;lt.setECLevel(e),lt.setMode(a),lt.setVersion(M);var Ot=M.getDimensionForVersion(),Pt=new $Z(Ot,Ot),rn=this.chooseMaskPattern(it,e,M,Pt);return lt.setMaskPattern(rn),V3.buildMatrix(it,e,M,rn,Pt),lt.setMatrix(Pt),lt},n.recommendVersion=function(t,e,r,o){var s=this.calculateBitsNeeded(e,r,o,Ih.getVersionForNumber(1)),a=this.chooseVersion(s,t),u=this.calculateBitsNeeded(e,r,o,a);return this.chooseVersion(u,t)},n.calculateBitsNeeded=function(t,e,r,o){return e.getSize()+t.getCharacterCountBits(o)+r.getSize()},n.getAlphanumericCode=function(t){return t<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[t]:-1},n.chooseMode=function(t,e){if(void 0===e&&(e=null),Oo.SJIS.getName()===e&&this.isOnlyDoubleByteKanji(t))return Li.KANJI;for(var r=!1,o=!1,s=0,a=t.length;s<a;++s){var u=t.charAt(s);if(n.isDigit(u))r=!0;else{if(-1===this.getAlphanumericCode(u.charCodeAt(0)))return Li.BYTE;o=!0}}return o?Li.ALPHANUMERIC:r?Li.NUMERIC:Li.BYTE},n.isOnlyDoubleByteKanji=function(t){var e;try{e=pc.encode(t,Oo.SJIS)}catch(a){return!1}var r=e.length;if(r%2!=0)return!1;for(var o=0;o<r;o+=2){var s=255&e[o];if((s<129||s>159)&&(s<224||s>235))return!1}return!0},n.chooseMaskPattern=function(t,e,r,o){for(var s=Number.MAX_SAFE_INTEGER,a=-1,u=0;u<tT.NUM_MASK_PATTERNS;u++){V3.buildMatrix(t,e,r,u,o);var h=this.calculateMaskPenalty(o);h<s&&(s=h,a=u)}return a},n.chooseVersion=function(t,e){for(var r=1;r<=40;r++){var o=Ih.getVersionForNumber(r);if(n.willFit(t,o,e))return o}throw new Ni("Data too big")},n.willFit=function(t,e,r){return e.getTotalCodewords()-e.getECBlocksForLevel(r).getTotalECCodewords()>=(t+7)/8},n.terminateBits=function(t,e){var r=8*t;if(e.getSize()>r)throw new Ni("data bits cannot fit in the QR Code"+e.getSize()+" > "+r);for(var o=0;o<4&&e.getSize()<r;++o)e.appendBit(!1);var s=7&e.getSize();if(s>0)for(o=s;o<8;o++)e.appendBit(!1);var a=t-e.getSizeInBytes();for(o=0;o<a;++o)e.appendBits(0==(1&o)?236:17,8);if(e.getSize()!==r)throw new Ni("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(t,e,r,o,s,a){if(o>=r)throw new Ni("Block ID too large");var u=t%r,h=r-u,x=Math.floor(t/r),M=x+1,L=Math.floor(e/r),W=L+1,q=x-L,ye=M-W;if(q!==ye)throw new Ni("EC bytes mismatch");if(r!==h+u)throw new Ni("RS blocks mismatch");if(t!==(L+q)*h+(W+ye)*u)throw new Ni("Total bytes mismatch");o<h?(s[0]=L,a[0]=q):(s[0]=W,a[0]=ye)},n.interleaveWithECBytes=function(t,e,r,o){var s,a,u,h;if(t.getSizeInBytes()!==r)throw new Ni("Number of bits and data bytes does not match");for(var x=0,M=0,L=0,W=new Array,q=0;q<o;++q){var ye=new Int32Array(1),Le=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(e,r,o,q,ye,Le);var rt=ye[0],it=new Uint8Array(rt);t.toBytes(8*x,it,0,rt);var lt=n.generateECBytes(it,Le[0]);W.push(new JZ(it,lt)),M=Math.max(M,rt),L=Math.max(L,lt.length),x+=ye[0]}if(r!==x)throw new Ni("Data bytes does not match offset");var Ot=new Yo;for(q=0;q<M;++q)try{for(var Pt=(s=void 0,G3(W)),rn=Pt.next();!rn.done;rn=Pt.next())q<(it=rn.value.getDataBytes()).length&&Ot.appendBits(it[q],8)}catch(Ln){s={error:Ln}}finally{try{rn&&!rn.done&&(a=Pt.return)&&a.call(Pt)}finally{if(s)throw s.error}}for(q=0;q<L;++q)try{for(var mn=(u=void 0,G3(W)),An=mn.next();!An.done;An=mn.next())q<(lt=An.value.getErrorCorrectionBytes()).length&&Ot.appendBits(lt[q],8)}catch(Ln){u={error:Ln}}finally{try{An&&!An.done&&(h=mn.return)&&h.call(mn)}finally{if(u)throw u.error}}if(e!==Ot.getSizeInBytes())throw new Ni("Interleaving error: "+e+" and "+Ot.getSizeInBytes()+" differ.");return Ot},n.generateECBytes=function(t,e){for(var r=t.length,o=new Int32Array(r+e),s=0;s<r;s++)o[s]=255&t[s];new H3(ca.QR_CODE_FIELD_256).encode(o,e);var a=new Uint8Array(e);for(s=0;s<e;s++)a[s]=o[r+s];return a},n.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},n.appendLengthInfo=function(t,e,r,o){var s=r.getCharacterCountBits(e);if(t>=1<<s)throw new Ni(t+" is bigger than "+((1<<s)-1));o.appendBits(t,s)},n.appendBytes=function(t,e,r,o){switch(e){case Li.NUMERIC:n.appendNumericBytes(t,r);break;case Li.ALPHANUMERIC:n.appendAlphanumericBytes(t,r);break;case Li.BYTE:n.append8BitBytes(t,r,o);break;case Li.KANJI:n.appendKanjiBytes(t,r);break;default:throw new Ni("Invalid mode: "+e)}},n.getDigit=function(t){return t.charCodeAt(0)-48},n.isDigit=function(t){var e=n.getDigit(t);return e>=0&&e<=9},n.appendNumericBytes=function(t,e){for(var r=t.length,o=0;o<r;){var s=n.getDigit(t.charAt(o));if(o+2<r){var a=n.getDigit(t.charAt(o+1)),u=n.getDigit(t.charAt(o+2));e.appendBits(100*s+10*a+u,10),o+=3}else o+1<r?(a=n.getDigit(t.charAt(o+1)),e.appendBits(10*s+a,7),o+=2):(e.appendBits(s,4),o++)}},n.appendAlphanumericBytes=function(t,e){for(var r=t.length,o=0;o<r;){var s=n.getAlphanumericCode(t.charCodeAt(o));if(-1===s)throw new Ni;if(o+1<r){var a=n.getAlphanumericCode(t.charCodeAt(o+1));if(-1===a)throw new Ni;e.appendBits(45*s+a,11),o+=2}else e.appendBits(s,6),o++}},n.append8BitBytes=function(t,e,r){var o;try{o=pc.encode(t,r)}catch(h){throw new Ni(h)}for(var s=0,a=o.length;s!==a;s++)e.appendBits(o[s],8)},n.appendKanjiBytes=function(t,e){var r;try{r=pc.encode(t,Oo.SJIS)}catch(L){throw new Ni(L)}for(var o=r.length,s=0;s<o;s+=2){var h=(255&r[s])<<8&4294967295|255&r[s+1],x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),-1===x)throw new Ni("Invalid byte sequence");e.appendBits(192*(x>>8)+(255&x),13)}},n.appendECI=function(t,e){e.appendBits(Li.ECI.getBits(),4),e.appendBits(t.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=Oo.UTF8.getName(),n}();const _E=eW;!function(){function n(){}n.prototype.write=function(t,e,r,o){if(void 0===o&&(o=null),0===t.length)throw new Pn("Found empty contents");if(e<0||r<0)throw new Pn("Requested dimensions are too small: "+e+"x"+r);var s=nu.L,a=n.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(Mi.ERROR_CORRECTION)&&(s=nu.fromString(o.get(Mi.ERROR_CORRECTION).toString())),void 0!==o.get(Mi.MARGIN)&&(a=Number.parseInt(o.get(Mi.MARGIN).toString(),10)));var u=_E.encode(t,s,o);return this.renderResult(u,e,r,a)},n.prototype.writeToDom=function(t,e,r,o,s){void 0===s&&(s=null),"string"==typeof t&&(t=document.querySelector(t));var a=this.write(e,r,o,s);t&&t.appendChild(a)},n.prototype.renderResult=function(t,e,r,o){var s=t.getMatrix();if(null===s)throw new gc;for(var a=s.getWidth(),u=s.getHeight(),h=a+2*o,x=u+2*o,M=Math.max(e,h),L=Math.max(r,x),W=Math.min(Math.floor(M/h),Math.floor(L/x)),q=Math.floor((M-a*W)/2),ye=Math.floor((L-u*W)/2),Le=this.createSVGElement(M,L),rt=0,it=ye;rt<u;rt++,it+=W)for(var lt=0,Ot=q;lt<a;lt++,Ot+=W)if(1===s.get(lt,rt)){var Pt=this.createSvgRectElement(Ot,it,W,W);Le.appendChild(Pt)}return Le},n.prototype.createSVGElement=function(t,e){var r=document.createElementNS(n.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",e.toString()),r},n.prototype.createSvgRectElement=function(t,e,r,o){var s=document.createElementNS(n.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",e.toString()),s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",o.toString()),s.setAttributeNS(null,"fill","#000000"),s},n.QUIET_ZONE_SIZE=4,n.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function n(){}n.prototype.encode=function(t,e,r,o,s){if(0===t.length)throw new Pn("Found empty contents");if(e!==Kn.QR_CODE)throw new Pn("Can only encode QR_CODE, but got "+e);if(r<0||o<0)throw new Pn("Requested dimensions are too small: "+r+"x"+o);var a=nu.L,u=n.QUIET_ZONE_SIZE;null!==s&&(void 0!==s.get(Mi.ERROR_CORRECTION)&&(a=nu.fromString(s.get(Mi.ERROR_CORRECTION).toString())),void 0!==s.get(Mi.MARGIN)&&(u=Number.parseInt(s.get(Mi.MARGIN).toString(),10)));var h=_E.encode(t,a,s);return n.renderResult(h,r,o,u)},n.renderResult=function(t,e,r,o){var s=t.getMatrix();if(null===s)throw new gc;for(var a=s.getWidth(),u=s.getHeight(),h=a+2*o,x=u+2*o,M=Math.max(e,h),L=Math.max(r,x),W=Math.min(Math.floor(M/h),Math.floor(L/x)),q=Math.floor((M-a*W)/2),ye=Math.floor((L-u*W)/2),Le=new el(M,L),rt=0,it=ye;rt<u;rt++,it+=W)for(var lt=0,Ot=q;lt<a;lt++,Ot+=W)1===s.get(lt,rt)&&Le.setRegion(Ot,it,W,W);return Le},n.QUIET_ZONE_SIZE=4}();var rW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(n){function t(e,r,o,s,a,u,h,x){var M=n.call(this,u,h)||this;if(M.yuvData=e,M.dataWidth=r,M.dataHeight=o,M.left=s,M.top=a,s+u>r||a+h>o)throw new Pn("Crop rectangle does not fit within image data.");return x&&M.reverseHorizontal(u,h),M}rW(t,n),t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Pn("Requested row is outside the image: "+e);var o=this.getWidth();return(null==r||r.length<o)&&(r=new Uint8ClampedArray(o)),Ti.arraycopy(this.yuvData,(e+this.top)*this.dataWidth+this.left,r,0,o),r},t.prototype.getMatrix=function(){var e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;var o=e*r,s=new Uint8ClampedArray(o),a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Ti.arraycopy(this.yuvData,a,s,0,o),s;for(var u=0;u<r;u++)Ti.arraycopy(this.yuvData,a,s,u*e,e),a+=this.dataWidth;return s},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,o,s){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,o,s,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(e*r),s=this.yuvData,a=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var h=u*e,x=0;x<e;x++)o[h+x]=4278190080|65793*(255&s[a+x*t.THUMBNAIL_SCALE_FACTOR]);a+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return o},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,r){for(var o=this.yuvData,s=0,a=this.top*this.dataWidth+this.left;s<r;s++,a+=this.dataWidth)for(var u=a+e/2,h=a,x=a+e-1;h<u;h++,x--){var M=o[h];o[h]=o[x],o[x]=M}},t.prototype.invert=function(){return new nE(this)},t.THUMBNAIL_SCALE_FACTOR=2}(my);var iW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(n){function t(e,r,o,s,a,u,h){var x=n.call(this,r,o)||this;if(x.dataWidth=s,x.dataHeight=a,x.left=u,x.top=h,4===e.BYTES_PER_ELEMENT){for(var M=r*o,L=new Uint8ClampedArray(M),W=0;W<M;W++){var q=e[W];L[W]=((q>>16&255)+(q>>7&510)+(255&q))/4&255}x.luminances=L}else x.luminances=e;if(void 0===s&&(x.dataWidth=r),void 0===a&&(x.dataHeight=o),void 0===u&&(x.left=0),void 0===h&&(x.top=0),x.left+r>x.dataWidth||x.top+o>x.dataHeight)throw new Pn("Crop rectangle does not fit within image data.");return x}iW(t,n),t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Pn("Requested row is outside the image: "+e);var o=this.getWidth();return(null==r||r.length<o)&&(r=new Uint8ClampedArray(o)),Ti.arraycopy(this.luminances,(e+this.top)*this.dataWidth+this.left,r,0,o),r},t.prototype.getMatrix=function(){var e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;var o=e*r,s=new Uint8ClampedArray(o),a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Ti.arraycopy(this.luminances,a,s,0,o),s;for(var u=0;u<r;u++)Ti.arraycopy(this.luminances,a,s,u*e,e),a+=this.dataWidth;return s},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,o,s){return new t(this.luminances,o,s,this.dataWidth,this.dataHeight,this.left+e,this.top+r)},t.prototype.invert=function(){return new nE(this)}}(my);var oW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sW=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return oW(t,n),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(Oo);const aW=sW;var lW=function(){function n(){}return n.ISO_8859_1=Oo.ISO8859_1,n}();const cW=lW;var uW=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(t){this.compact=t},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(t){this.size=t},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(t){this.layers=t},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(t){this.codeWords=t},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(t){this.matrix=t},n}();const dW=uW;var fW=function(){function n(){}return n.singletonList=function(t){return[t]},n.min=function(t,e){return t.sort(e)[0]},n}();const z3=fW;var hW=function(){function n(t){this.previous=t}return n.prototype.getPrevious=function(){return this.previous},n}();const pW=hW;var gW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mW=function(n){function t(e,r,o){var s=n.call(this,e)||this;return s.value=r,s.bitCount=o,s}return gW(t,n),t.prototype.appendTo=function(e,r){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,r){return new t(this,e,r)},t.prototype.addBinaryShift=function(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,r)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return"<"+Or.toBinaryString((e|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},t}(pW);const nT=mW;var vW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_W=function(n){function t(e,r,o){var s=n.call(this,e,0,0)||this;return s.binaryShiftStart=r,s.binaryShiftByteCount=o,s}return vW(t,n),t.prototype.appendTo=function(e,r){for(var o=0;o<this.binaryShiftByteCount;o++)(0===o||31===o&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):e.appendBits(0===o?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+o],8)},t.prototype.addBinaryShift=function(e,r){return new t(this,e,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(nT);const yW=_W;function xy(n,t,e){return new nT(n,t,e)}var wW=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xW=new nT(null,0,0),rT=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],W3=function CW(n){var t,e;try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),o=r.next();!o.done;o=r.next())aa.fill(o.value,-1)}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n[0][4]=0,n[1][4]=0,n[1][0]=28,n[3][4]=0,n[2][4]=0,n[2][0]=15,n}(aa.createInt32Array(6,6)),AW=function(){function n(t,e,r,o){this.token=t,this.mode=e,this.binaryShiftByteCount=r,this.bitCount=o}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(t,e){var r=this.bitCount,o=this.token;if(t!==this.mode){var s=rT[this.mode][t];o=xy(o,65535&s,s>>16),r+=s>>16}var a=2===t?4:5;return new n(o=xy(o,e,a),t,0,r+a)},n.prototype.shiftAndAppend=function(t,e){var r=this.token,o=2===this.mode?4:5;return r=xy(r,W3[this.mode][t],o),new n(r=xy(r,e,5),this.mode,0,this.bitCount+o+5)},n.prototype.addBinaryShiftChar=function(t){var e=this.token,r=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){var s=rT[r][0];e=xy(e,65535&s,s>>16),o+=s>>16,r=0}var u=new n(e,r,this.binaryShiftByteCount+1,o+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===u.binaryShiftByteCount&&(u=u.endBinaryShift(t+1)),u},n.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var e=this.token;return e=function bW(n,t,e){return new yW(n,t,e)}(e,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(e,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(t){var e=this.bitCount+(rT[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?e+=n.calculateBinaryShiftCost(t)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(e+=10),e<=t.bitCount},n.prototype.toBitArray=function(t){for(var e,r,o=[],s=this.endBinaryShift(t.length).token;null!==s;s=s.getPrevious())o.unshift(s);var a=new Yo;try{for(var u=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),h=u.next();!h.done;h=u.next())h.value.appendTo(a,t)}catch(M){e={error:M}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return a},n.prototype.toString=function(){return bi.format("%s bits=%d bytes=%d",wW[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(xW,0,0,0),n}();const DW=AW;var iT=function TW(n){var t=bi.getCharCode(" "),e=bi.getCharCode("."),r=bi.getCharCode(",");n[0][t]=1;for(var o=bi.getCharCode("Z"),s=bi.getCharCode("A"),a=s;a<=o;a++)n[0][a]=a-s+2;n[1][t]=1;var u=bi.getCharCode("z"),h=bi.getCharCode("a");for(a=h;a<=u;a++)n[1][a]=a-h+2;n[2][t]=1;var x=bi.getCharCode("9"),M=bi.getCharCode("0");for(a=M;a<=x;a++)n[2][a]=a-M+2;n[2][r]=12,n[2][e]=13;for(var L=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],W=0;W<L.length;W++)n[3][bi.getCharCode(L[W])]=W;var q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(W=0;W<q.length;W++)bi.getCharCode(q[W])>0&&(n[4][bi.getCharCode(q[W])]=W);return n}(aa.createInt32Array(5,256)),bE=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MW=function(){function n(t){this.text=t}return n.prototype.encode=function(){for(var t=bi.getCharCode(" "),e=bi.getCharCode("\n"),r=z3.singletonList(DW.INITIAL_STATE),o=0;o<this.text.length;o++){var s=void 0,a=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case bi.getCharCode("\r"):s=a===e?2:0;break;case bi.getCharCode("."):s=a===t?3:0;break;case bi.getCharCode(","):s=a===t?4:0;break;case bi.getCharCode(":"):s=a===t?5:0;break;default:s=0}s>0?(r=n.updateStateListForPair(r,o,s),o++):r=this.updateStateListForChar(r,o)}return z3.min(r,function(h,x){return h.getBitCount()-x.getBitCount()}).toBitArray(this.text)},n.prototype.updateStateListForChar=function(t,e){var r,o,s=[];try{for(var a=bE(t),u=a.next();!u.done;u=a.next())this.updateStateForChar(u.value,e,s)}catch(x){r={error:x}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return n.simplifyStates(s)},n.prototype.updateStateForChar=function(t,e,r){for(var o=255&this.text[e],s=iT[t.getMode()][o]>0,a=null,u=0;u<=4;u++){var h=iT[u][o];if(h>0){if(null==a&&(a=t.endBinaryShift(e)),!s||u===t.getMode()||2===u){var x=a.latchAndAppend(u,h);r.push(x)}if(!s&&W3[t.getMode()][u]>=0){var M=a.shiftAndAppend(u,h);r.push(M)}}}if(t.getBinaryShiftByteCount()>0||0===iT[t.getMode()][o]){var L=t.addBinaryShiftChar(e);r.push(L)}},n.updateStateListForPair=function(t,e,r){var o,s,a=[];try{for(var u=bE(t),h=u.next();!h.done;h=u.next())this.updateStateForPair(h.value,e,r,a)}catch(M){o={error:M}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return this.simplifyStates(a)},n.updateStateForPair=function(t,e,r,o){var s=t.endBinaryShift(e);if(o.push(s.latchAndAppend(4,r)),4!==t.getMode()&&o.push(s.shiftAndAppend(4,r)),3===r||4===r){var a=s.latchAndAppend(2,16-r).latchAndAppend(2,1);o.push(a)}if(t.getBinaryShiftByteCount()>0){var u=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);o.push(u)}},n.simplifyStates=function(t){var e,r,o,s,a=[];try{for(var u=bE(t),h=u.next();!h.done;h=u.next()){var x=h.value,M=!0,L=function(rt){if(rt.isBetterThanOrEqualTo(x))return M=!1,"break";x.isBetterThanOrEqualTo(rt)&&(a=a.filter(function(it){return it!==rt}))};try{for(var W=(o=void 0,bE(a)),q=W.next();!q.done&&"break"!==L(q.value);q=W.next());}catch(rt){o={error:rt}}finally{try{q&&!q.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}M&&a.push(x)}}catch(rt){e={error:rt}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return a},n}();const OW=MW;var RW=function(){function n(){}return n.encodeBytes=function(t){return n.encode(t,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(t,e,r){var u,h,x,M,L,o=new OW(t).encode(),s=Or.truncDivision(o.getSize()*e,100)+11,a=o.getSize()+s;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,(h=Math.abs(r))>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Pn(bi.format("Illegal value %s for layers",r));var W=(x=n.totalBitsInLayer(h,u))-x%(M=n.WORD_SIZE[h]);if((L=n.stuffBits(o,M)).getSize()+s>W)throw new Pn("Data to large for user specified layer");if(u&&L.getSize()>64*M)throw new Pn("Data to large for user specified layer")}else{M=0,L=null;for(var q=0;;q++){if(q>n.MAX_NB_BITS)throw new Pn("Data too large for an Aztec code");if(!(a>(x=n.totalBitsInLayer(h=(u=q<=3)?q+1:q,u)))&&((null==L||M!==n.WORD_SIZE[h])&&(L=n.stuffBits(o,M=n.WORD_SIZE[h])),W=x-x%M,!(u&&L.getSize()>64*M)&&L.getSize()+s<=W))break}}var Ot,ye=n.generateCheckWords(L,x,M),Le=L.getSize()/M,rt=n.generateModeMessage(u,h,Le),it=(u?11:14)+4*h,lt=new Int32Array(it);if(u)for(Ot=it,q=0;q<lt.length;q++)lt[q]=q;else{Ot=it+1+2*Or.truncDivision(Or.truncDivision(it,2)-1,15);var Pt=Or.truncDivision(it,2),rn=Or.truncDivision(Ot,2);for(q=0;q<Pt;q++){var gn=q+Or.truncDivision(q,15);lt[Pt-q-1]=rn-gn-1,lt[Pt+q]=rn+gn+1}}for(var mn=new el(Ot),An=(q=0,0);q<h;q++){for(var or=4*(h-q)+(u?9:12),Ln=0;Ln<or;Ln++)for(var wi=2*Ln,Sr=0;Sr<2;Sr++)ye.get(An+wi+Sr)&&mn.set(lt[2*q+Sr],lt[2*q+Ln]),ye.get(An+2*or+wi+Sr)&&mn.set(lt[2*q+Ln],lt[it-1-2*q-Sr]),ye.get(An+4*or+wi+Sr)&&mn.set(lt[it-1-2*q-Sr],lt[it-1-2*q-Ln]),ye.get(An+6*or+wi+Sr)&&mn.set(lt[it-1-2*q-Ln],lt[2*q+Sr]);An+=8*or}if(n.drawModeMessage(mn,u,Ot,rt),u)n.drawBullsEye(mn,Or.truncDivision(Ot,2),5);else for(n.drawBullsEye(mn,Or.truncDivision(Ot,2),7),q=0,Ln=0;q<Or.truncDivision(it,2)-1;q+=15,Ln+=16)for(Sr=1&Or.truncDivision(Ot,2);Sr<Ot;Sr+=2)mn.set(Or.truncDivision(Ot,2)-Ln,Sr),mn.set(Or.truncDivision(Ot,2)+Ln,Sr),mn.set(Sr,Or.truncDivision(Ot,2)-Ln),mn.set(Sr,Or.truncDivision(Ot,2)+Ln);var ci=new dW;return ci.setCompact(u),ci.setSize(Ot),ci.setLayers(h),ci.setCodeWords(Le),ci.setMatrix(mn),ci},n.drawBullsEye=function(t,e,r){for(var o=0;o<r;o+=2)for(var s=e-o;s<=e+o;s++)t.set(s,e-o),t.set(s,e+o),t.set(e-o,s),t.set(e+o,s);t.set(e-r,e-r),t.set(e-r+1,e-r),t.set(e-r,e-r+1),t.set(e+r,e-r),t.set(e+r,e-r+1),t.set(e+r,e+r-1)},n.generateModeMessage=function(t,e,r){var o=new Yo;return t?(o.appendBits(e-1,2),o.appendBits(r-1,6),o=n.generateCheckWords(o,28,4)):(o.appendBits(e-1,5),o.appendBits(r-1,11),o=n.generateCheckWords(o,40,4)),o},n.drawModeMessage=function(t,e,r,o){var s=Or.truncDivision(r,2);if(e)for(var a=0;a<7;a++){var u=s-3+a;o.get(a)&&t.set(u,s-5),o.get(a+7)&&t.set(s+5,u),o.get(20-a)&&t.set(u,s+5),o.get(27-a)&&t.set(s-5,u)}else for(a=0;a<10;a++)u=s-5+a+Or.truncDivision(a,5),o.get(a)&&t.set(u,s-7),o.get(a+10)&&t.set(s+7,u),o.get(29-a)&&t.set(u,s+7),o.get(39-a)&&t.set(s-7,u)},n.generateCheckWords=function(t,e,r){var o,s,a=t.getSize()/r,u=new H3(n.getGF(r)),h=Or.truncDivision(e,r),x=n.bitsToWords(t,r,h);u.encode(x,h-a);var M=e%r,L=new Yo;L.appendBits(0,M);try{for(var W=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(x)),q=W.next();!q.done;q=W.next())L.appendBits(q.value,r)}catch(Le){o={error:Le}}finally{try{q&&!q.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}return L},n.bitsToWords=function(t,e,r){var s,a,o=new Int32Array(r);for(s=0,a=t.getSize()/e;s<a;s++){for(var u=0,h=0;h<e;h++)u|=t.get(s*e+h)?1<<e-h-1:0;o[s]=u}return o},n.getGF=function(t){switch(t){case 4:return ca.AZTEC_PARAM;case 6:return ca.AZTEC_DATA_6;case 8:return ca.AZTEC_DATA_8;case 10:return ca.AZTEC_DATA_10;case 12:return ca.AZTEC_DATA_12;default:throw new Pn("Unsupported word size "+t)}},n.stuffBits=function(t,e){for(var r=new Yo,o=t.getSize(),s=(1<<e)-2,a=0;a<o;a+=e){for(var u=0,h=0;h<e;h++)(a+h>=o||t.get(a+h))&&(u|=1<<e-1-h);(u&s)===s?(r.appendBits(u&s,e),a--):0==(u&s)?(r.appendBits(1|u,e),a--):r.appendBits(u,e)}return r},n.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n}();const oT=RW;!function(){function n(){}n.prototype.encode=function(t,e,r,o){return this.encodeWithHints(t,e,r,o,null)},n.prototype.encodeWithHints=function(t,e,r,o,s){var a=cW.ISO_8859_1,u=oT.DEFAULT_EC_PERCENT,h=oT.DEFAULT_AZTEC_LAYERS;return null!=s&&(s.has(Mi.CHARACTER_SET)&&(a=aW.forName(s.get(Mi.CHARACTER_SET).toString())),s.has(Mi.ERROR_CORRECTION)&&(u=Or.parseInt(s.get(Mi.ERROR_CORRECTION).toString())),s.has(Mi.AZTEC_LAYERS)&&(h=Or.parseInt(s.get(Mi.AZTEC_LAYERS).toString()))),n.encodeLayers(t,e,r,o,a,u,h)},n.encodeLayers=function(t,e,r,o,s,a,u){if(e!==Kn.AZTEC)throw new Pn("Can only encode AZTEC, but got "+e);var h=oT.encode(bi.getBytes(t,s),a,u);return n.renderResult(h,r,o)},n.renderResult=function(t,e,r){var o=t.getMatrix();if(null==o)throw new gc;for(var s=o.getWidth(),a=o.getHeight(),u=Math.max(e,s),h=Math.max(r,a),x=Math.min(u/s,h/a),M=(u-s*x)/2,L=(h-a*x)/2,W=new el(u,h),q=0,ye=L;q<a;q++,ye+=x)for(var Le=0,rt=M;Le<s;Le++,rt+=x)o.get(Le,q)&&W.setRegion(rt,ye,x,x);return W}}();var PW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FW=function(n){function t(e){var r=n.call(this,e.width,e.height)||this;return r.canvas=e,r.tempCanvasElement=null,r.buffer=t.makeBufferFromCanvasImageData(e),r}return PW(t,n),t.makeBufferFromCanvasImageData=function(e){var r=e.getContext("2d");if(!r)throw new Error("Couldn't get canvas context.");var o=r.getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(o.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,r,o){for(var s=new Uint8ClampedArray(r*o),a=0,u=0,h=e.length;a<h;a+=4,u++){s[u]=0===e[a+3]?255:306*e[a]+601*e[a+1]+117*e[a+2]+512>>10}return s},t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Pn("Requested row is outside the image: "+e);var o=this.getWidth(),s=e*o;return null===r?r=this.buffer.slice(s,s+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(s,s+o))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,o,s){return n.prototype.crop.call(this,e,r,o,s),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new nE(this)},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var o=e*t.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),h=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);r.width=u,r.height=h;var x=r.getContext("2d");if(!x)throw new Error("Could not create a Canvas Context element.");return x.translate(u/2,h/2),x.rotate(o),x.drawImage(this.canvas,s/-2,a/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(my);function $3(){return"undefined"!=typeof navigator}var Im=function(){return Im=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Im.apply(this,arguments)},eo=function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})},to=function(n,t){var r,o,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(x){return function(M){return function h(x){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&x[0]?o.return:x[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,x[1])).done)return s;switch(o=0,s&&(x=[2&x[0],s.value]),x[0]){case 0:case 1:s=x;break;case 4:return e.label++,{value:x[1],done:!1};case 5:e.label++,o=x[1],x=[0];continue;case 7:x=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===x[0]||2===x[0])){e=0;continue}if(3===x[0]&&(!s||x[1]>s[0]&&x[1]<s[3])){e.label=x[1];break}if(6===x[0]&&e.label<s[1]){e.label=s[1],s=x;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(x);break}s[2]&&e.ops.pop(),e.trys.pop();continue}x=t.call(n,e)}catch(M){x=[6,M],o=0}finally{r=s=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,M])}}},sT=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NW={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Id=function(){function n(t,e,r){void 0===e&&(e=new Map),void 0===r&&(r={}),this.reader=t,this.hints=e,this.options=Im(Im({},NW),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(t){this.hints.set(ni.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),n.addVideoSource=function(t,e){try{t.srcObject=e}catch(r){console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(t,e){return eo(this,void 0,void 0,function(){return to(this,function(r){switch(r.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:e?"flash":"off",torch:!!e}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(t){var e,r,o=t.getVideoTracks();try{for(var s=sT(o),a=s.next();!a.done;a=s.next())if(n.mediaStreamIsTorchCompatibleTrack(a.value))return!0}catch(h){e={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(t){try{return"torch"in t.getCapabilities()}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},n.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new mo("element with id '".concat(t,"' not found"));if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new mo("element with id '".concat(t,"' must be an ").concat(e," element"));return r},n.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if("string"==typeof t)return n.getMediaElement(t,"video");if(!t&&"undefined"!=typeof document){var e=document.createElement("video");return e.width=200,e.height=200,e}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if("string"==typeof t)return n.getMediaElement(t,"img");if(void 0===t){var e=document.createElement("img");return e.width=200,e.height=200,e}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(t){var e=n.createVideoElement(t);return e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},n.isImageLoaded=function(t){return!(!t.complete||0===t.naturalWidth)},n.createBinaryBitmapFromCanvas=function(t){var e=new FW(t),r=new a3(e);return new o3(r)},n.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},n.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(t){if(!t)throw new mo("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var e=document.createElement("canvas"),r=n.getMediaElementDimensions(t),o=r.width,s=r.height;return e.style.width=o+"px",e.style.height=s+"px",e.width=o,e.height=s,e},n.tryPlayVideo=function(t){return eo(this,void 0,void 0,function(){var e;return to(this,function(r){switch(r.label){case 0:if(null!=t&&t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[2,!0];case 3:return e=r.sent(),console.warn("It was not possible to play the video.",e),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(t){var e=n.createCaptureCanvas(t),r=e.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,t),e},n.createBinaryBitmapFromMediaElem=function(t){var e=n.createCanvasFromMediaElement(t);return n.createBinaryBitmapFromCanvas(e)},n.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},n.listVideoInputDevices=function(){return eo(this,void 0,void 0,function(){var t,e,r,o,s,a,u,h,L,W;return to(this,function(q){switch(q.label){case 0:if(!$3())throw new Error("Can't enumerate devices, navigator is not present.");if(!function LW(){return!(!function kW(){return $3()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=q.sent(),e=[];try{for(r=sT(t),o=r.next();!o.done;o=r.next())"videoinput"===(a="video"===(s=o.value).kind?"videoinput":s.kind)&&(u=s.deviceId||s.id,h=s.label||"Video device ".concat(e.length+1),e.push({deviceId:u,label:h,kind:a,groupId:s.groupId}))}catch(ye){L={error:ye}}finally{try{o&&!o.done&&(W=r.return)&&W.call(r)}finally{if(L)throw L.error}}return[2,e]}})})},n.findDeviceById=function(t){return eo(this,void 0,void 0,function(){var e;return to(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return(e=r.sent())?[2,e.find(function(o){return o.deviceId===t})]:[2]}})})},n.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch(e){t.src=""}t&&t.removeAttribute("src")}},n.releaseAllStreams=function(){0!==n.streamTracker.length&&n.streamTracker.forEach(function(t){t.getTracks().forEach(function(e){return e.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(t,e){return eo(this,void 0,void 0,function(){return to(this,function(o){switch(o.label){case 0:return[4,n.tryPlayVideo(t)];case 1:return o.sent()?[2,!0]:[2,new Promise(function(s,a){var u=setTimeout(function(){n.isVideoPlaying(t)||(a(!1),t.removeEventListener("canplay",h))},e),h=function(){n.tryPlayVideo(t).then(function(x){clearTimeout(u),t.removeEventListener("canplay",h),s(x)})};t.addEventListener("canplay",h)})]}})})},n.attachStreamToVideo=function(t,e,r){return void 0===r&&(r=5e3),eo(this,void 0,void 0,function(){var o;return to(this,function(s){switch(s.label){case 0:return o=n.prepareVideoElement(e),n.addVideoSource(o,t),[4,n.playVideoOnLoadAsync(o,r)];case 1:return s.sent(),[2,o]}})})},n._waitImageLoad=function(t){return new Promise(function(e,r){var s=setTimeout(function(){n.isImageLoaded(t)||(t.removeEventListener("load",a),r())},1e4),a=function(){clearTimeout(s),t.removeEventListener("load",a),e()};t.addEventListener("load",a)})},n.checkCallbackFnOrThrow=function(t){if(!t)throw new mo("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(e){return e.stop()}),t=void 0},n.prototype.decode=function(t){var e=n.createCanvasFromMediaElement(t);return this.decodeFromCanvas(e)},n.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},n.prototype.decodeFromCanvas=function(t){var e=n.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(e)},n.prototype.decodeFromImageElement=function(t){return eo(this,void 0,void 0,function(){var e;return to(this,function(r){switch(r.label){case 0:if(!t)throw new mo("An image element must be provided.");return e=n.prepareImageElement(t),[4,this._decodeOnLoadImage(e)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(t){return eo(this,void 0,void 0,function(){var e;return to(this,function(r){switch(r.label){case 0:if(!t)throw new mo("An URL must be provided.");(e=n.prepareImageElement()).src=t,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(e)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(e),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(t,e,r){return eo(this,void 0,void 0,function(){var o,s;return to(this,function(a){switch(a.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(t)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(o,e,r)];case 3:return[2,a.sent()];case 4:throw s=a.sent(),n.disposeMediaStream(o),s;case 5:return[2]}})})},n.prototype.decodeFromStream=function(t,e,r){return eo(this,void 0,void 0,function(){var s,u,h,x,L,W,ye=this;return to(this,function(Le){switch(Le.label){case 0:return n.checkCallbackFnOrThrow(r),[4,n.attachStreamToVideo(t,e,this.options.tryPlayVideoTimeout)];case 1:return s=Le.sent(),u=this.scan(s,r,function(){n.disposeMediaStream(t),n.cleanVideoSource(s)}),h=t.getVideoTracks(),x=Im(Im({},u),{stop:function(){u.stop()},streamVideoConstraintsApply:function(rt,it){return eo(this,void 0,void 0,function(){var lt,Ot,Pt,gn,mn,An;return to(this,function(or){switch(or.label){case 0:lt=it?h.filter(it):h,or.label=1;case 1:or.trys.push([1,6,7,8]),Ot=sT(lt),Pt=Ot.next(),or.label=2;case 2:return Pt.done?[3,5]:[4,Pt.value.applyConstraints(rt)];case 3:or.sent(),or.label=4;case 4:return Pt=Ot.next(),[3,2];case 5:return[3,8];case 6:return gn=or.sent(),mn={error:gn},[3,8];case 7:try{Pt&&!Pt.done&&(An=Ot.return)&&An.call(Ot)}finally{if(mn)throw mn.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(rt){return h.find(rt).getConstraints()},streamVideoSettingsGet:function(rt){return h.find(rt).getSettings()},streamVideoCapabilitiesGet:function(rt){return h.find(rt).getCapabilities()}}),n.mediaStreamIsTorchCompatible(t)&&(L=null==h?void 0:h.find(function(rt){return n.mediaStreamIsTorchCompatibleTrack(rt)}),x.switchTorch=W=function(rt){return eo(ye,void 0,void 0,function(){return to(this,function(it){switch(it.label){case 0:return[4,n.mediaStreamSetTorch(L,rt)];case 1:return it.sent(),[2]}})})},x.stop=function(){u.stop(),W(!1)}),[2,x]}})})},n.prototype.decodeFromVideoDevice=function(t,e,r){return eo(this,void 0,void 0,function(){return to(this,function(a){switch(a.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.decodeFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e,r)];case 1:return[2,a.sent()]}})})},n.prototype.decodeFromVideoElement=function(t,e){return eo(this,void 0,void 0,function(){var r;return to(this,function(s){switch(s.label){case 0:if(n.checkCallbackFnOrThrow(e),!t)throw new mo("A video element must be provided.");return r=n.prepareVideoElement(t),[4,n.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return s.sent(),[2,this.scan(r,e)]}})})},n.prototype.decodeFromVideoUrl=function(t,e){return eo(this,void 0,void 0,function(){var r,o;return to(this,function(u){switch(u.label){case 0:if(n.checkCallbackFnOrThrow(e),!t)throw new mo("An URL must be provided.");return(r=n.prepareVideoElement()).src=t,o=function(){n.cleanVideoSource(r)},[4,n.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return u.sent(),[2,this.scan(r,e,o)]}})})},n.prototype.decodeOnceFromConstraints=function(t,e){return eo(this,void 0,void 0,function(){var r;return to(this,function(o){switch(o.label){case 0:return[4,this.getUserMedia(t)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,o.sent()]}})})},n.prototype.decodeOnceFromStream=function(t,e){return eo(this,void 0,void 0,function(){var r,o;return to(this,function(a){switch(a.label){case 0:return r=Boolean(e),[4,n.attachStreamToVideo(t,e)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(o)];case 3:return[2,a.sent()];case 4:return r||n.cleanVideoSource(o),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(t,e){return eo(this,void 0,void 0,function(){return to(this,function(s){switch(s.label){case 0:return[4,this.decodeOnceFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e)];case 1:return[2,s.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(t){return eo(this,void 0,void 0,function(){var e;return to(this,function(o){switch(o.label){case 0:if(!t)throw new mo("A video element must be provided.");return e=n.prepareVideoElement(t),[4,n.playVideoOnLoadAsync(e,this.options.tryPlayVideoTimeout)];case 1:return o.sent(),[4,this.scanOneResult(e)];case 2:return[2,o.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(t){return eo(this,void 0,void 0,function(){var e,r;return to(this,function(o){switch(o.label){case 0:if(!t)throw new mo("An URL must be provided.");(e=n.prepareVideoElement()).src=t,r=this.decodeOnceFromVideoElement(e),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,r];case 2:return[2,o.sent()];case 3:return n.cleanVideoSource(e),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(t,e,r,o){var s=this;return void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===o&&(o=!0),new Promise(function(a,u){s.scan(t,function(h,x,M){if(h)return a(h),void M.stop();if(x){if(x instanceof tn&&e||x instanceof bo&&r||x instanceof Sn&&o)return;M.stop(),u(x)}})})},n.prototype.scan=function(t,e,r){var o=this;n.checkCallbackFnOrThrow(e);var s=n.createCaptureCanvas(t),a=s.getContext("2d");if(!a)throw new Error("Couldn't create canvas for visual element scan.");var x,u=function(){a=void 0,s=void 0},h=!1,L={stop:function(){h=!0,clearTimeout(x),u(),r&&r()}},W=function(){if(!h)try{n.drawImageOnCanvas(a,t);var q=o.decodeFromCanvas(s);e(q,void 0,L),x=setTimeout(W,o.options.delayBetweenScanSuccess)}catch(it){if(e(void 0,it,L),it instanceof bo||it instanceof Sn||it instanceof tn)return void(x=setTimeout(W,o.options.delayBetweenScanAttempts));u(),r&&r(it)}};return W(),L},n.prototype._decodeOnLoadImage=function(t){return eo(this,void 0,void 0,function(){return to(this,function(r){switch(r.label){case 0:return n.isImageLoaded(t)?[3,2]:[4,n._waitImageLoad(t)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(t)]}})})},n.prototype.getUserMedia=function(t){return eo(this,void 0,void 0,function(){var e;return to(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return e=r.sent(),n.streamTracker.push(e),[2,e]}})})},n.streamTracker=[],n}(),BW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),UW=(function(n){BW(function t(e,r){return n.call(this,new lE,e,r)||this},n)}(Id),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),jW=(function(n){UW(function t(e,r){return n.call(this,new Om(e),e,r)||this},n)}(Id),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),HW=(function(n){jW(function t(e,r){return n.call(this,new hE,e,r)||this},n)}(Id),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),VW=function(n){function t(e,r){var o=this,s=new j3;return s.setHints(e),(o=n.call(this,s,e,r)||this).reader=s,o}return HW(t,n),Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(ni.POSSIBLE_FORMATS,e),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t.prototype.setHints=function(e){this.hints=e,this.reader.setHints(this.hints)},t}(Id),GW=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zW=(function(n){GW(function t(e,r){return n.call(this,new mE,e,r)||this},n)}(Id),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),ru=(function(n){zW(function t(e,r){return n.call(this,new pE,e,r)||this},n)}(Id),"http://www.w3.org/2000/svg"),q3=(function(){function n(t){if("string"==typeof t){var e=document.getElementById(t);if(!e)throw new Error("Could not find a Container element with '".concat(t,"'."));this.containerElement=e}else this.containerElement=t}n.prototype.write=function(t,e,r,o){if(0===t.length)throw new Pn("Found empty contents");if(e<0||r<0)throw new Pn("Requested dimensions are too small: "+e+"x"+r);var s=o&&void 0!==o.get(Mi.MARGIN)?Number.parseInt(o.get(Mi.MARGIN).toString(),10):n.QUIET_ZONE_SIZE,a=this.encode(o,t);return this.renderResult(a,e,r,s)},n.prototype.createSVGElement=function(t,e){var r=document.createElementNS(n.SVG_NS,"svg");return r.setAttributeNS(ru,"width",e.toString()),r.setAttributeNS(ru,"height",t.toString()),r},n.prototype.createSvgPathPlaceholderElement=function(t,e){var r=document.createElementNS(n.SVG_NS,"path");return r.setAttributeNS(ru,"d","M0 0h".concat(t,"v").concat(e,"H0z")),r.setAttributeNS(ru,"fill","none"),r},n.prototype.createSvgRectElement=function(t,e,r,o){var s=document.createElementNS(n.SVG_NS,"rect");return s.setAttributeNS(ru,"x",t.toString()),s.setAttributeNS(ru,"y",e.toString()),s.setAttributeNS(ru,"height",r.toString()),s.setAttributeNS(ru,"width",o.toString()),s.setAttributeNS(ru,"fill","#000000"),s},n.prototype.encode=function(t,e){var r=nu.L;if(t&&void 0!==t.get(Mi.ERROR_CORRECTION)){var o=t.get(Mi.ERROR_CORRECTION).toString();r=nu.fromString(o)}return _E.encode(e,r,t)},n.prototype.renderResult=function(t,e,r,o){var s=t.getMatrix();if(null===s)throw new gc;var a=s.getWidth(),u=s.getHeight(),h=a+2*o,x=u+2*o,M=Math.max(e,h),L=Math.max(r,x),W=Math.min(Math.floor(M/h),Math.floor(L/x)),q=Math.floor((M-a*W)/2),ye=Math.floor((L-u*W)/2),Le=this.createSVGElement(M,L),rt=this.createSvgPathPlaceholderElement(e,r);Le.appendChild(rt),this.containerElement.appendChild(Le);for(var it=0,lt=ye;it<u;it++,lt+=W)for(var Ot=0,Pt=q;Ot<a;Ot++,Pt+=W)if(1===s.get(Ot,it)){var rn=this.createSvgRectElement(Pt,lt,W,W);Le.appendChild(rn)}return Le},n.QUIET_ZONE_SIZE=4,n.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function n(){}n.prototype.write=function(t,e,r,o){if(0===t.length)throw new Pn("Found empty contents");if(e<0||r<0)throw new Pn("Requested dimensions are too small: "+e+"x"+r);var s=nu.L,a=n.QUIET_ZONE_SIZE;if(o){if(void 0!==o.get(Mi.ERROR_CORRECTION)){var u=o.get(Mi.ERROR_CORRECTION).toString();s=nu.fromString(u)}void 0!==o.get(Mi.MARGIN)&&(a=Number.parseInt(o.get(Mi.MARGIN).toString(),10))}var h=_E.encode(t,s,o);return this.renderResult(h,e,r,a)},n.prototype.writeToDom=function(t,e,r,o,s){if("string"==typeof t){var a=document.querySelector(t);if(!a)throw new Error("Could no find the target HTML element.");t=a}var u=this.write(e,r,o,s);t instanceof HTMLElement&&t.appendChild(u)},n.prototype.renderResult=function(t,e,r,o){var s=t.getMatrix();if(null===s)throw new gc;for(var a=s.getWidth(),u=s.getHeight(),h=a+2*o,x=u+2*o,M=Math.max(e,h),L=Math.max(r,x),W=Math.min(Math.floor(M/h),Math.floor(L/x)),q=Math.floor((M-a*W)/2),ye=Math.floor((L-u*W)/2),Le=this.createSVGElement(M,L),rt=0,it=ye;rt<u;rt++,it+=W)for(var lt=0,Ot=q;lt<a;lt++,Ot+=W)if(1===s.get(lt,rt)){var Pt=this.createSvgRectElement(Ot,it,W,W);Le.appendChild(Pt)}return Le},n.prototype.createSVGElement=function(t,e){var r=document.createElementNS(q3,"svg"),o=t.toString(),s=e.toString();return r.setAttribute("height",s),r.setAttribute("width",o),r.setAttribute("viewBox","0 0 "+o+" "+s),r},n.prototype.createSvgRectElement=function(t,e,r,o){var s=document.createElementNS(q3,"rect");return s.setAttribute("x",t.toString()),s.setAttribute("y",e.toString()),s.setAttribute("height",r.toString()),s.setAttribute("width",o.toString()),s.setAttribute("fill","#000000"),s},n.QUIET_ZONE_SIZE=4}();const ZW=["preview"];class aT extends VW{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(t,e){var r;return zo(this,void 0,void 0,function*(){const o=new Ui.X({});let s;try{s=yield this.decodeFromVideoDevice(t,e,(a,u)=>{if(!u)return void o.next({result:a});const h=u.name;h===tn.name||h===bo.name||h===Sn.name||u.message.includes("No MultiFormat Readers were able to detect the code.")?o.next({error:u}):(o.error(u),this.scannerControls.stop(),this.scannerControls=void 0)}),this.scannerControls=Object.assign(Object.assign({},s),{stop(){s.stop(),o.complete()}})}catch(a){o.error(a),null===(r=this.scannerControls)||void 0===r||r.stop(),this.scannerControls=void 0}return o.asObservable()})}}let WW=(()=>{class n{constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this._ready=!1,this.autostarted=new i.vpe,this.autostarting=new i.vpe,this.torchCompatible=new i.vpe(!1),this.scanSuccess=new i.vpe,this.scanFailure=new i.vpe,this.scanError=new i.vpe,this.scanComplete=new i.vpe,this.camerasFound=new i.vpe,this.camerasNotFound=new i.vpe,this.permissionResponse=new i.vpe(!0),this.hasDevices=new i.vpe,this.deviceChange=new i.vpe,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[Kn.QR_CODE],this.hasNavigator="undefined"!=typeof navigator,this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}get codeReader(){return this._codeReader}set device(e){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(e)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(e):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=e}get device(){return this._device}get formats(){return this.hints.get(ni.POSSIBLE_FORMATS)}set formats(e){if("string"==typeof e)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const r=e.map(s=>this.getBarcodeFormatOrFail(s)),o=this.hints;o.set(ni.POSSIBLE_FORMATS,r),this.hints=o}get hints(){return this._hints}set hints(e){var r;this._hints=e,null===(r=this.codeReader)||void 0===r||r.setHints(this._hints)}set videoConstraints(e){var r;const o=null===(r=this.codeReader)||void 0===r?void 0:r.getScannerControls();!o||null==o||o.streamVideoConstraintsApply(e)}set isAutostarting(e){this._isAutostarting=e,this.autostarting.next(e)}get isAutostarting(){return this._isAutostarting}set torch(e){try{this.getCodeReader().getScannerControls().switchTorch(e)}catch(r){}}set enable(e){this._enabled=Boolean(e),this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():(this.reset(),aT.releaseAllStreams())}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(ni.TRY_HARDER)}set tryHarder(e){const r=this.hints;e?r.set(ni.TRY_HARDER,!0):r.delete(ni.TRY_HARDER),this.hints=r}askForPermission(){return zo(this,void 0,void 0,function*(){if(!this.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),this.setPermission(null),this.hasPermission;if(!this.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),this.setPermission(null),this.hasPermission;let e,r;try{e=yield this.getAnyVideoDevice(),r=!!e}catch(o){return this.handlePermissionException(o)}finally{this.terminateStream(e)}return this.setPermission(r),r})}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(e){e&&e.getTracks().forEach(r=>r.stop()),e=void 0}init(){return zo(this,void 0,void 0,function*(){if(!this.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),this.initAutostartOff(),void(this._ready=!0);yield this.initAutostartOn(),this._ready=!0})}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){return zo(this,void 0,void 0,function*(){let e;this.isAutostarting=!0;try{e=yield this.askForPermission()}catch(r){return void console.error("Exception occurred while asking for permission:",r)}if(e){const r=yield this.updateVideoInputDevices();yield this.autostartScanner([...r])}this.isAutostarting=!1,this.autostarted.next()})}isCurrentDevice(e){var r;return(null==e?void 0:e.deviceId)===(null===(r=this._device)||void 0===r?void 0:r.deviceId)}ngOnDestroy(){this.reset(),aT.releaseAllStreams()}ngOnInit(){this.init()}scanStop(){var e,r;this._scanSubscription&&(null===(e=this.codeReader)||void 0===e||e.getScannerControls().stop(),null===(r=this._scanSubscription)||void 0===r||r.unsubscribe(),this._scanSubscription=void 0),this.torchCompatible.next(!1)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan process running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const e=this._reset();!e||(this.device=e)}updateVideoInputDevices(){return zo(this,void 0,void 0,function*(){const e=(yield Id.listVideoInputDevices())||[],r=e&&e.length>0;return this.hasDevices.next(r),this.camerasFound.next([...e]),r||this.camerasNotFound.next(null),e})}autostartScanner(e){return zo(this,void 0,void 0,function*(){const o=e.find(({label:s})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(s))||e.pop();if(!o)throw new Error("Impossible to autostart, no input devices available.");yield this.setDevice(o),this.deviceChange.next(o)})}dispatchScanSuccess(e){this.scanSuccess.next(e.getText())}dispatchScanFailure(e){this.scanFailure.next(e)}dispatchScanError(e){this.scanError.observed||(console.error(`zxing scanner component: ${e.name}`,e),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(e)}dispatchScanComplete(e){this.scanComplete.next(e)}handlePermissionException(e){let r;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",e),e.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",e.message),r=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",e.message),r=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",e.message),r=null,this.hasDevices.next(!1),this.camerasNotFound.next(e);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),r=null,this.hasDevices.next(!1),this.camerasNotFound.next(e);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",e),r=null}return this.setPermission(r),this.permissionResponse.error(e),r}getBarcodeFormatOrFail(e){return"string"==typeof e?Kn[e.trim().toUpperCase()]:e}getCodeReader(){return this._codeReader||(this._codeReader=new aT(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}scanFromDevice(e){return zo(this,void 0,void 0,function*(){const r=this.previewElemRef.nativeElement,o=this.getCodeReader(),s=yield o.scanFromDeviceObservable(e,r);if(!s)throw new Error("Undefined decoding stream, aborting.");if(this._scanSubscription=s.subscribe(L=>this._onDecodeResult(L.result,L.error),L=>this._onDecodeError(L),()=>{}),this._scanSubscription.closed)return;const M=void 0!==o.getScannerControls().switchTorch;this.torchCompatible.next(M)})}_onDecodeError(e){this.dispatchScanError(e)}_onDecodeResult(e,r){e?this.dispatchScanSuccess(e):this.dispatchScanFailure(r),this.dispatchScanComplete(e)}_reset(){if(!this._codeReader)return;const e=this._device;return this.device=void 0,this._codeReader=void 0,e}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(e){return zo(this,void 0,void 0,function*(){this.scanStop(),this._device=e||void 0,this._device||Id.cleanVideoSource(this.previewElemRef.nativeElement),this._enabled&&e&&(yield this.scanFromDevice(e.deviceId))})}setPermission(e){this.hasPermission=e,this.permissionResponse.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["zxing-scanner"]],viewQuery:function(e,r){if(1&e&&i.Gf(ZW,7),2&e){let o;i.iGM(o=i.CRH())&&(r.previewElemRef=o.first)}},inputs:{autofocusEnabled:"autofocusEnabled",timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",autostart:"autostart",previewFitMode:"previewFitMode",device:"device",formats:"formats",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:2,consts:[["preview",""]],template:function(e,r){1&e&&(i.TgZ(0,"video",null,0)(2,"p"),i._uU(3," Your browser does not support this feature, please try to upgrade it. "),i.qZA(),i.TgZ(4,"p"),i._uU(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),i.qZA()()),2&e&&i.Udp("object-fit",r.previewFitMode)},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain}"],changeDetection:0}),n})(),$W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Wl]}),n})();const Y3=n=>{switch(n?n.substring(2,3):"C"){case"4":return 4;case"6":return 6;case"9":return 9;default:return 12}};var JW=g(4372);const lT=new rs("MQTT Dispenser");let t$=(()=>{class n{constructor(e){this.oAuthStorage=e}getLogLevel(){return"info"}getConfiguration(){return{available:!0,username:this.oAuthStorage.getItem("id_token"),password:"whatever",endPoint:dr.URL_MQTT,topic:ZI,keepAlive:120}}getClientId(){let e=localStorage.getItem("hisqool_mqtt_id");return e||(e=rD(),localStorage.setItem("hisqool_mqtt_id",e)),`powerbank_${e}`}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ac))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cT=(()=>{class n extends iD.MqttService{constructor(e,r){super(e),this.httpClient=r,this.backToHome=new i.vpe,this.batteriesInDispenserSubject=new yn.xQ,this.mqttConnectStateSubject=new yn.xQ,this.batteryStateSubject=new yn.xQ,this.batteryStateSubjectError=new yn.xQ,this.calculateTopic=(o=fy.Commands)=>`${ZI}${this.currentBatteryDispenserId}/${o}`}stop(){const e=Object.create(null,{stop:{get:()=>super.stop}});return function(n,t,e,r){return new(e||(e=Promise))(function(s,a){function u(M){try{x(r.next(M))}catch(L){a(L)}}function h(M){try{x(r.throw(M))}catch(L){a(L)}}function x(M){M.done?s(M.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(M.value).then(u,h)}x((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){this.currentBatteryDispenserId=void 0,this.batteryListInDispenser=void 0,this.subscription&&this.subscription.unsubscribe(),yield e.stop.call(this)})}ngOnDestroy(){super.onDestroy()}get clientId(){return this.configurationProvider.getClientId()}get mqttConfiguration(){return this.configurationProvider.getConfiguration()}get connectionTopic(){return`${this.mqttConfiguration.topic}connected/${this.clientId}`}get batteryDispenserId(){return this.currentBatteryDispenserId}get dispenserSize(){return Y3(this.currentBatteryDispenserId)}initListenBatteryDispenser(e){this.batteryListInDispenser=[],this.currentBatteryDispenserId=e,this.subscription&&this.subscription.unsubscribe(),this.subscription=this.start().pipe((0,ai.w)(r=>(this.mqttConnectStateSubject.next(r?Xc.Connected:Xc.ConnectError),r?this.topicObservable(this.calculateTopic(fy.All)):jo.E))).subscribe(r=>{if(r&&r.topic&&r.topic.includes("Slots")){const o=this.getBatteryIndexInBatteryDispenser(r.topic);let s=JSON.parse(r.buffer.toString());s=Object.assign(Object.assign({},s),{position:o}),this.updateBatteryListInBatteryDispenser(s)}})}borrowBattery(e){this.getborrowBattery(this.currentBatteryDispenserId,e).subscribe(r=>{r?200!==r.status?this.batteryStateSubjectError.next(r):this.batteryStateSubject.next({status:Cd.OUTPUT}):this.batteryStateSubjectError.next(null)})}getborrowBattery(e,r){const o=`${dr.URL_SELFPOWER}/getpower/${e}/${r}`;return(0,JW.H)(1e3).pipe((0,ai.w)(()=>this.httpClient.get(o)))}checkBorrowedBattery(e,r){return this.httpClient.get(`${dr.URL_SELFPOWER}/borrowed/${e}/${r}`)}refreshBatteryDispenser(){const e={cmd:"send_current",params:[50,"00"],ts:Date.now()};this.publish(e)}publish(e){this.publishToTopic(this.calculateTopic(),JSON.stringify(e))}initBatteryDispenserListener(e=""){this.mqttConnectStateSubject.next(Xc.OnScan);const r=this.getBatteryDispenserId(e);r?this.getMappingId(r).pipe((0,Cr.q)(1)).subscribe(o=>{o.dispenserId?o.dispenserId!==this.currentBatteryDispenserId?this.initListenBatteryDispenser(o.dispenserId):(lT.warn(`batteryDispenser ID  = ${o.dispenserId} existed`),this.mqttConnectStateSubject.next(Xc.QRCodeExisted)):this.mqttConnectStateSubject.next(Xc.QRCodeIncorrect)}):this.mqttConnectStateSubject.next(Xc.QRCodeIncorrect)}getBatteryDispenserId(e=""){const r=VN.exec(e);return r?r[1]:void 0}getBatteryIndexInBatteryDispenser(e){const r=HN.exec(e);return r?+r[1]:-1}getMappingId(e){return this.httpClient.get(`${dr.URL_SELFPOWER}/remap/${e}`)}updateBatteryListInBatteryDispenser(e){if(!e)return void lT.warn("battery's object is empty");this.batteryListInDispenser||(this.batteryListInDispenser=new Array);const r=e.status===Cd.INPUT,o=e.status===Cd.DEFAULT,s=e.status===Cd.OUTPUT&&e.powerbank_id;if(0===this.batteryListInDispenser.length)(r||s)&&this.batteryListInDispenser.push(e);else{if((r||s)&&this.batteryListInDispenser.includes(e))return void lT.warn("battery's object is existed");const a=new Array;this.batteryListInDispenser.forEach(u=>{u.powerbank_id!==e.powerbank_id&&a.push(u)}),(r||s||o)&&(s&&(e.activated=!0),a.push(e)),this.batteryListInDispenser=a}this.batteriesInDispenserSubject.next(this.batteryListInDispenser)}get batteriesInDispenserObservable(){return this.batteriesInDispenserSubject.asObservable().pipe((0,za.x)())}get mqttConnectStateObservable(){return this.mqttConnectStateSubject.asObservable()}get batteryState(){return this.batteryStateSubject.asObservable()}get batteryStateError(){return this.batteryStateSubjectError.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(t$),i.LFG(Ss))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wE=new rs("MQTT PowerBank");let n$=(()=>{class n{constructor(e,r){this.webApp=e,this.oAuthStorage=r}getLogLevel(){return"info"}getConfiguration(){return{available:!0,username:this.oAuthStorage.getItem("id_token"),password:"whatever",endPoint:dr.URL_MQTT,topic:"hisqool/powerbank/",keepAlive:120}}getClientId(){let e=localStorage.getItem("hisqool_mqtt_id");return e||(e=rD(),localStorage.setItem("hisqool_mqtt_id",e)),this.webApp.isAndroid?`tablet_${e}`:`desktop_${e}`}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Dl),i.LFG(ac))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K3=(()=>{class n extends iD.MqttService{constructor(e){super(e),this.borrowBatteriesSubject=new yn.xQ,this._borrowBatteries=[]}init(e){this.subscription=this.start().pipe((0,ai.w)(r=>(wE.debug(`Connected ${r}`),r?(0,Ei.T)(this.topicObservable(this.connectionTopic),this.userEventsTopicObservable(e)):jo.E))).subscribe(r=>{if(this.isPowerBankEvent(r.topic,e)){const o=r.buffer.toString();if(o.length){const s=JSON.parse(o);if(s.event){const a={ts:s.ts,dispenserId:s.dispenserId,powerbankId:s.powerbankId,uid:s.uid};switch(s.event.channel&&(a.channel=s.event.channel),s.event.status){case 0:return this.addBorrowedBattery(a);case 1:return this.removeBorrowedBattery(a.powerbankId)}}}}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.onDestroy()}publish(e,r){this.publishToTopic(e,JSON.stringify(r))}get clientId(){return this.configurationProvider.getClientId()}get mqttConfiguration(){return this.configurationProvider.getConfiguration()}get connectionTopic(){return`${this.mqttConfiguration.topic}connected/${this.clientId}`}userTopic(e){return`${this.mqttConfiguration.topic}users/${e}`}userEventsTopicObservable(e){return this.topicObservable(`${this.userTopic(e)}/#`)}isPowerBankEvent(e,r){return e.startsWith(this.userTopic(r))}get borrowBatteries(){return this.borrowBatteriesSubject.asObservable()}stop(){return this.updateBorrowedBatteries([]),this.subscription&&this.subscription.unsubscribe(),super.stop()}updateBorrowedBatteries(e){this._borrowBatteries=e,this.borrowBatteriesSubject.next(e)}addBorrowedBattery(e){this.borrowedBatteryExist(e.powerbankId)?wE.debug("battery exist ==>",e):(wE.debug("add battery ==>",e),this.updateBorrowedBatteries(this._borrowBatteries.concat([e])))}removeBorrowedBattery(e){this.borrowedBatteryExist(e)&&(wE.debug("update battery ==>",e),this.updateBorrowedBatteries(this._borrowBatteries.filter(r=>void 0!==r.powerbankId&&r.powerbankId!==`${e}`)))}borrowedBatteryExist(e){return void 0!==this._borrowBatteries.find(r=>r.powerbankId===`${e}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(n$))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.onClickMenu())}),i._uU(1,"\n      "),i.TgZ(2,"mat-icon",11),i._uU(3,"menu"),i.qZA(),i._uU(4,"\n    "),i.qZA()}}function i$(n,t){if(1&n&&(i.TgZ(0,"div",12),i._uU(1,"\n              "),i.TgZ(2,"mat-card",13),i._uU(3,"\n                "),i.TgZ(4,"mat-card-content",14),i._uU(5,"\n                  "),i.TgZ(6,"div",15),i._uU(7,"\n                    "),i.TgZ(8,"div",16),i._uU(9),i.qZA(),i._uU(10,"\n                  "),i.qZA(),i._uU(11,"\n                  "),i.TgZ(12,"p",17),i._uU(13),i.ALo(14,"translate"),i.qZA(),i._uU(15,"\n                "),i.qZA(),i._uU(16,"\n              "),i.qZA(),i._uU(17,"\n            "),i.qZA()),2&n){const e=t.$implicit;i.xp6(9),i.Oqu(e),i.xp6(4),i.Oqu(i.lcZ(14,2,"powerbank.home.instructions."+e))}}function o$(n,t){if(1&n&&(i.TgZ(0,"div",18),i._uU(1,"\n      "),i.TgZ(2,"div",19),i._uU(3,"\n        "),i.TgZ(4,"div",20),i._uU(5,"\n          "),i.TgZ(6,"div",21),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._uU(9,"\n          "),i.TgZ(10,"div",22),i._uU(11),i.ALo(12,"date"),i.qZA(),i._uU(13,"\n          "),i.TgZ(14,"div",22),i._uU(15),i.ALo(16,"translate"),i.ALo(17,"date"),i.qZA(),i._uU(18,"\n          "),i.TgZ(19,"div",23),i._uU(20),i.ALo(21,"translate"),i.qZA(),i._uU(22,"\n        "),i.qZA(),i._uU(23,"\n        "),i.TgZ(24,"div",24),i._uU(25,"\n          "),i.TgZ(26,"div",25),i._uU(27),i.ALo(28,"translate"),i.qZA(),i._uU(29,"\n        "),i.qZA(),i._uU(30,"\n      "),i.qZA(),i._uU(31,"\n    "),i.qZA()),2&n){const e=t.$implicit;i.xp6(7),i.AsE("",i.lcZ(8,8,"powerbank.home.battery.battery")," ",e.powerbankId,""),i.xp6(4),i.hij("\n            ",i.xi3(12,10,e.ts,"EEEE dd LLLL yyyy "),"\n          "),i.xp6(4),i.AsE("\n            ",i.lcZ(16,13,"powerbank.home.battery.loanDate"),"\n            ",i.xi3(17,15,e.ts,"HH:mm"),"\n          "),i.xp6(5),i.AsE("",i.lcZ(21,18,"powerbank.home.battery.slot")," ",e.channel,""),i.xp6(7),i.hij("\n            ",i.lcZ(28,20,"powerbank.home.battery.borrowed"),"\n          ")}}const s$=function(){return[1,2,3]};let a$=(()=>{class n{constructor(e,r){this.shellService=e,this.webAppService=r,this.goToScan=new i.vpe,this.getBattery=new i.vpe,this.onDestroy=new yn.xQ}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete(),this.webAppService.isAndroid&&this.webAppService.stopQrScanResult()}ngOnInit(){this.webAppService.isAndroid&&(this.webAppService.subscribeCameraPermission(),this.webAppService.qrScanResultObservable().pipe((0,zn.R)(this.onDestroy)).subscribe(e=>{e&&this.getBattery.emit(e)}))}openScan(){this.webAppService.isAndroid?this.webAppService.initQRScanner():this.goToScan.emit()}onClickMenu(){this.shellService.toggleSidenav()}get isMobileMode(){return this.shellService.isMobile}}return n.\u0275fac=function(e){return new(e||n)(i.Y36($c),i.Y36(Dl))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-powerbank-home"]],inputs:{borrowedBatteries:"borrowedBatteries",limitLoansReached:"limitLoansReached"},outputs:{goToScan:"goToScan",getBattery:"getBattery"},decls:47,vars:15,consts:[[1,"container","mat-typography"],["class","header-button","mat-icon-button","",3,"click",4,"ngIf"],["fxLayout","column",1,"container-powerbank"],["fxLayout","row","fxLayoutAlign","center start",1,"instructions-list"],[3,"expanded"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center stretch","fxLayoutAlign.xs","center center","fxLayoutGap","20px",1,"container-cards"],["ngClass.xs","content-small-card","fxFlex","0 1 33%","fxFlex.xs","0 1 100%",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center",1,"buttons-container"],["mat-raised-button","","color","primary",1,"scan-button",3,"disabled","click"],["class","borrowed-batteries",4,"ngFor","ngForOf"],["mat-icon-button","",1,"header-button",3,"click"],[1,"icon-color-change-black"],["ngClass.xs","content-small-card","fxFlex","0 1 33%","fxFlex.xs","0 1 100%"],["ngClass.xs","small-card",1,"card-instructions","mat-elevation-z0","card-outline"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","18px","fxLayout.xs","row","fxLayoutAlign.xs","flex-start center"],["fxLayoutAlign","center center","ngClass.xs","small-oval",1,"oval"],[1,"stepNumber"],["ngClass.xs","small-text"],[1,"borrowed-batteries"],["fxLayout","row","fxLayoutAlign","space-between center",1,"battery","card-outline"],[1,"battery-info"],[1,"title"],[1,"date","mat-body"],[1,"channel","mat-body"],[1,"badge-status"],[1,"mat-caption","text"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"mat-toolbar"),i._uU(3,"\n    "),i.YNc(4,r$,5,0,"button",1),i._uU(5,"\n    "),i.TgZ(6,"h2"),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._uU(9,"\n  "),i.qZA(),i._uU(10,"\n\n  "),i._UZ(11,"mat-divider"),i._uU(12,"\n\n  "),i.TgZ(13,"div",2),i._uU(14,"\n    "),i.TgZ(15,"div",3),i._uU(16,"\n      "),i.TgZ(17,"mat-accordion"),i._uU(18,"\n        "),i.TgZ(19,"mat-expansion-panel",4),i._uU(20,"\n          "),i.TgZ(21,"mat-expansion-panel-header"),i._uU(22,"\n            "),i.TgZ(23,"mat-panel-title"),i._uU(24),i.ALo(25,"translate"),i.qZA(),i._uU(26,"\n          "),i.qZA(),i._uU(27,"\n\n          "),i.TgZ(28,"div",5),i._uU(29,"\n            "),i.YNc(30,i$,18,4,"div",6),i._uU(31,"\n          "),i.qZA(),i._uU(32,"\n        "),i.qZA(),i._uU(33,"\n      "),i.qZA(),i._uU(34,"\n    "),i.qZA(),i._uU(35,"\n\n    "),i.TgZ(36,"div",7),i._uU(37,"\n      "),i.TgZ(38,"button",8),i.NdJ("click",function(){return r.openScan()}),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._uU(41,"\n    "),i.qZA(),i._uU(42,"\n\n    "),i.YNc(43,o$,32,22,"div",9),i._uU(44,"\n  "),i.qZA(),i._uU(45,"\n"),i.qZA(),i._uU(46,"\n")),2&e&&(i.xp6(4),i.Q6J("ngIf",r.isMobileMode),i.xp6(3),i.Oqu(i.lcZ(8,8,"powerbank.home.header")),i.xp6(12),i.Q6J("expanded",!r.limitLoansReached),i.xp6(5),i.hij("\n              ",i.lcZ(25,10,"powerbank.home.instructions.title"),"\n            "),i.xp6(6),i.Q6J("ngForOf",i.DdM(14,s$)),i.xp6(8),i.Q6J("disabled",r.limitLoansReached),i.xp6(1),i.hij("\n        ",i.lcZ(40,12,"powerbank.buttons.scanAndBorrow"),"\n      "),i.xp6(4),i.Q6J("ngForOf",r.borrowedBatteries))},dependencies:[Oi,Rr,$o,fA,po,Fs,Q,Sj,n3,r3,Cj,X_,mx,go,Ja,Ed,ks,Pd,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:calc(100vh - 2px);overflow:hidden;background-color:#fff}.container[_ngcontent-%COMP%]{height:100%;width:100%}.container-powerbank[_ngcontent-%COMP%]{padding:40px;height:calc(100vh - 64px);overflow:scroll}.header-button[_ngcontent-%COMP%]{margin-right:12px}.mat-expansion-panel-header[_ngcontent-%COMP%]{font-weight:400}.stepNumber[_ngcontent-%COMP%]{height:24px;width:8px;color:#295fec;font-size:16px;font-weight:500;letter-spacing:.15px;line-height:24px;text-align:center}.content-small-card[_ngcontent-%COMP%]{width:100%}.card-instructions[_ngcontent-%COMP%]{min-height:180px;height:100%;max-width:275px}.card-instructions.small-card[_ngcontent-%COMP%]{width:100%;max-width:100%;min-height:auto;padding:8px}.card-instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;text-align:center}.card-instructions[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{line-height:normal;text-align:left;max-width:80%}.card-instructions[_ngcontent-%COMP%]   .oval[_ngcontent-%COMP%]{margin-top:8px;height:48px;width:48px;background-color:#e3f2ff;border-radius:100%}.card-instructions[_ngcontent-%COMP%]   .oval.small-oval[_ngcontent-%COMP%]{margin-top:0;height:32px;width:32px}.instructions-list[_ngcontent-%COMP%]{margin:10px}.buttons-container[_ngcontent-%COMP%]{margin:0 10px}.scan-button[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:16px;height:48px;width:211px}.battery[_ngcontent-%COMP%]{height:104px;width:816px;margin-bottom:16px}.battery[_ngcontent-%COMP%]   .battery-info[_ngcontent-%COMP%]{margin-left:20px}.battery[_ngcontent-%COMP%]   .battery-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;letter-spacing:.15px;line-height:24px;margin-bottom:8px}.battery[_ngcontent-%COMP%]   .battery-info[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%], .battery[_ngcontent-%COMP%]   .battery-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0009}.battery[_ngcontent-%COMP%]   .battery-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.battery[_ngcontent-%COMP%]   .badge-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:32px;border-radius:6px;background-color:#e3f2ff;margin-right:32px}.battery[_ngcontent-%COMP%]   .badge-status[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:12px;margin-right:12px;text-transform:uppercase;color:#295fec;text-align:center;font-weight:500}"]}),n})();function l$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",7),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.onClickMenu())}),i._uU(1,"\n      "),i.TgZ(2,"mat-icon",8),i._uU(3,"menu"),i.qZA(),i._uU(4,"\n    "),i.qZA()}}let c$=(()=>{class n{constructor(e){this.shellService=e,this.getBattery=new i.vpe,this.backToHome=new i.vpe}onCodeResult(e){this.getBattery.emit(e)}goToHome(){this.backToHome.emit()}onClickMenu(){this.shellService.toggleSidenav()}get isMobileMode(){return this.shellService.isMobile}}return n.\u0275fac=function(e){return new(e||n)(i.Y36($c))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-powerbank-scanner"]],outputs:{getBattery:"getBattery",backToHome:"backToHome"},decls:33,vars:10,consts:[[1,"container","mat-typography"],["class","header-button","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",1,"header-button",2,"padding-left","0px",3,"click"],["fxFill","","fxLayoutAlign","start center","fxLayout","column",1,"container-scanner"],[1,"qr-screen",3,"scanSuccess"],[1,"mat-body-2","description"],["mat-raised-button","","color","primary",1,"button",3,"click"],["mat-icon-button","",1,"header-button",3,"click"],[1,"icon-color-change-black"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"mat-toolbar"),i._uU(3,"\n    "),i.YNc(4,l$,5,0,"button",1),i._uU(5,"\n    "),i.TgZ(6,"button",2),i.NdJ("click",function(){return r.goToHome()}),i._uU(7,"\n      "),i.TgZ(8,"mat-icon"),i._uU(9,"arrow_back"),i.qZA(),i._uU(10,"\n    "),i.qZA(),i._uU(11,"\n    "),i.TgZ(12,"h2"),i._uU(13),i.ALo(14,"translate"),i.qZA(),i._uU(15,"\n  "),i.qZA(),i._uU(16,"\n\n  "),i._UZ(17,"mat-divider"),i._uU(18,"\n\n  "),i.TgZ(19,"div",3),i._uU(20,"\n    "),i.TgZ(21,"zxing-scanner",4),i.NdJ("scanSuccess",function(s){return r.onCodeResult(s)}),i.qZA(),i._uU(22,"\n    "),i.TgZ(23,"div",5),i._uU(24),i.ALo(25,"translate"),i.qZA(),i._uU(26,"\n    "),i.TgZ(27,"button",6),i.NdJ("click",function(){return r.goToHome()}),i._uU(28),i.ALo(29,"translate"),i.qZA(),i._uU(30,"\n  "),i.qZA(),i._uU(31,"\n"),i.qZA(),i._uU(32,"\n")),2&e&&(i.xp6(4),i.Q6J("ngIf",r.isMobileMode),i.xp6(9),i.Oqu(i.lcZ(14,4,"powerbank.scanner.header")),i.xp6(11),i.Oqu(i.lcZ(25,6,"powerbank.scanner.description")),i.xp6(4),i.hij("\n      ",i.lcZ(29,8,"powerbank.buttons.scanCancel"),"\n    "))},dependencies:[Rr,$o,po,Ya,WW,go,Ja,Ed,ks,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:calc(100vh - 2px);overflow:hidden;background-color:#fff}.container[_ngcontent-%COMP%]{height:100%;width:100%}.container-scanner[_ngcontent-%COMP%]{text-align:center}.container-scanner[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{height:48px;width:102px}.container-scanner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{height:57px;width:346px;text-align:center;margin-bottom:16px}.header-button[_ngcontent-%COMP%]{margin-right:12px}.qr-screen[_ngcontent-%COMP%]{height:516px}.frame-qr-code[_ngcontent-%COMP%]{height:375px;width:740px}.button[_ngcontent-%COMP%]{height:48px;width:102px}"],data:{animation:[ts("highlightNew",[xi("void => updated",pi("2000ms",Ip([gr({backgroundColor:"initial",offset:0}),gr({backgroundColor:"#fff9c4",offset:.1}),gr({backgroundColor:"initial",offset:1})])))])]}}),n})();function u$(n,t){1&n&&i.GkF(0)}function d$(n,t){if(1&n&&(i.TgZ(0,"div",6),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.hij("",e.percentage,"%")}}function f$(n,t){1&n&&(i.TgZ(0,"div",6),i._uU(1,"-"),i.qZA())}const h$=function(n,t){return{"battery-green":n,"battery-red":t}};function p$(n,t){if(1&n&&(i._uU(0,"\n    "),i.TgZ(1,"div",4),i._uU(2,"\n      "),i.YNc(3,d$,2,1,"div",5),i._uU(4,"\n      "),i.YNc(5,f$,2,0,"div",5),i._uU(6,"\n    "),i.qZA(),i._uU(7,"\n  ")),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngClass",i.WLB(3,h$,e.percentage>e.minimalLevel&&1==e.status,e.percentage<=e.minimalLevel||e.status>1)),i.xp6(2),i.Q6J("ngIf",e.percentage),i.xp6(2),i.Q6J("ngIf",!e.percentage&&e.status>1)}}const g$=function(n){return{"battery-blue":n}};function m$(n,t){if(1&n&&(i._uU(0,"\n    "),i.TgZ(1,"div",7),i._uU(2,"\n      "),i._UZ(3,"div",8),i._uU(4,"\n    "),i.qZA(),i._uU(5,"\n  ")),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(1,g$,e.activatedSlot))}}let v$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-powerbank-slot"]],inputs:{status:"status",percentage:"percentage",minimalLevel:"minimalLevel",activatedSlot:"activatedSlot"},decls:11,vars:3,consts:[[1,"slot-background"],[4,"ngIf","ngIfThen","ngIfElse"],["thenTemplate",""],["elseTemplate",""],[3,"ngClass"],["class","percentage-charge",4,"ngIf"],[1,"percentage-charge"],[1,"slot-empty",3,"ngClass"],[1,"line"]],template:function(e,r){if(1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.YNc(2,u$,1,0,"ng-container",1),i._uU(3,"\n  "),i.YNc(4,p$,8,6,"ng-template",null,2,i.W1O),i._uU(6,"\n  "),i.YNc(7,m$,6,3,"ng-template",null,3,i.W1O),i._uU(9,"\n"),i.qZA(),i._uU(10,"\n")),2&e){const o=i.MAs(5),s=i.MAs(8);i.xp6(2),i.Q6J("ngIf",r.status)("ngIfThen",o)("ngIfElse",s)}},dependencies:[Jr,Rr,Q],styles:[".slot-background[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:44px;width:88px;border-radius:6px;background-color:#16181a66;margin-bottom:8px}.slot-empty[_ngcontent-%COMP%], .battery[_ngcontent-%COMP%], .battery-red[_ngcontent-%COMP%], .battery-green[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:32px;width:76px;border:2px solid #0B0A0B;border-radius:6px;background-color:#181a1d}.slot-empty[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .battery[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .battery-red[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .battery-green[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{box-sizing:border-box;height:1px;width:12px;border:2px solid #0B0A0B}.slot-empty.battery-blue[_ngcontent-%COMP%], .battery-blue.battery[_ngcontent-%COMP%], .battery-blue.battery-red[_ngcontent-%COMP%], .battery-blue.battery-green[_ngcontent-%COMP%]{border-color:#87cefa}.battery[_ngcontent-%COMP%], .battery-red[_ngcontent-%COMP%], .battery-green[_ngcontent-%COMP%]{box-shadow:inset 0 1px 5px #fff}.battery-green[_ngcontent-%COMP%]{background-color:#00a645}.battery-red[_ngcontent-%COMP%]{background-color:#db3c31}.percentage-charge[_ngcontent-%COMP%]{height:28px;width:36px;color:#fff;font-size:14px;font-weight:500;line-height:28px;text-align:center}"]}),n})();function _$(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n      "),i.TgZ(2,"app-powerbank-slot",4),i._uU(3,"\n      "),i.qZA(),i._uU(4,"\n    "),i.qZA()),2&n){const e=t.$implicit,r=i.oxw();i.xp6(2),i.Q6J("percentage",null==e?null:e.level)("status",null==e?null:e.status)("activatedSlot",null==e?null:e.activated)("minimalLevel",r.minimalLevel)}}let y$=(()=>{class n{constructor(e){this.mqttBatteryDispenserService=e,this.minimalLevel=75}refresh(){this.mqttBatteryDispenserService.refreshBatteryDispenser()}get styleSlotContainer(){return`height: ${58*this.nbLine}px`}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(cT))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-powerbank-ui"]],inputs:{slots:"slots",minimalLevel:"minimalLevel",borrowedBatteries:"borrowedBatteries",nbLine:"nbLine"},decls:10,vars:3,consts:[[1,"dispenser-background"],["src","assets/powerbank/headerLogo.svg",1,"header",3,"click"],[1,"slot-container"],[4,"ngFor","ngForOf"],[3,"percentage","status","activatedSlot","minimalLevel"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"img",1),i.NdJ("click",function(){return r.refresh()}),i.qZA(),i._uU(3,"\n  "),i.TgZ(4,"div",2),i._uU(5,"\n    "),i.YNc(6,_$,5,4,"div",3),i._uU(7,"\n  "),i.qZA(),i._uU(8,"\n"),i.qZA(),i._uU(9,"\n")),2&e&&(i.xp6(4),i.Akn(r.styleSlotContainer),i.xp6(2),i.Q6J("ngForOf",r.slots))},dependencies:[Oi,v$],styles:[".dispenser-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:320px;border-radius:8px;background-color:#3e444e}.slot-container[_ngcontent-%COMP%]{margin-top:12px;margin-left:20px;margin-right:20px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;align-content:space-around}.header[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-top:20px;height:32px;width:280px;border-radius:4px;background-color:#000}.header[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{height:24px;width:186px}.header[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .qr-code[_ngcontent-%COMP%]{height:20px;width:20px}.header[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .qr-code[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:16px;width:16px;background-color:#000}.header[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .sticker-logo[_ngcontent-%COMP%]{height:24px;width:132px}.header[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .sticker-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:12px;width:52px}"]}),n})();function b$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.onClickMenu())}),i._uU(1,"\n      "),i.TgZ(2,"mat-icon",14),i._uU(3,"menu"),i.qZA(),i._uU(4,"\n    "),i.qZA()}}function w$(n,t){1&n&&(i.TgZ(0,"div",17),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("\n            ",i.lcZ(2,1,"powerbank.getBattery.limitLoansReached"),"\n          "))}function x$(n,t){1&n&&(i.TgZ(0,"div",17),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("\n            ",i.lcZ(2,1,"powerbank.getBattery.unavailable"),"\n          "))}function E$(n,t){1&n&&(i.TgZ(0,"div",17),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("\n            ",i.lcZ(2,1,"powerbank.getBattery.rescan"),"\n          "))}function C$(n,t){if(1&n){const e=i.EpF();i.ynx(0),i._uU(1,"\n          "),i.TgZ(2,"button",15),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.getBattery())}),i._uU(3),i.ALo(4,"translate"),i.qZA(),i._uU(5,"\n          "),i.YNc(6,w$,3,3,"div",16),i._uU(7,"\n          "),i.YNc(8,x$,3,3,"div",16),i._uU(9,"\n          "),i.YNc(10,E$,3,3,"div",16),i._uU(11,"\n        "),i.BQk()}if(2&n){const e=i.oxw();i.xp6(2),i.Q6J("disabled",0===e.available||!e.active),i.xp6(1),i.hij("\n            ",i.lcZ(4,5,"powerbank.buttons.getBattery"),"\n          "),i.xp6(3),i.Q6J("ngIf",!e.active&&e.borrowBatteryConfirm&&!e.rescan),i.xp6(2),i.Q6J("ngIf",0===e.available&&e.active),i.xp6(2),i.Q6J("ngIf",e.rescan)}}function S$(n,t){1&n&&(i._uU(0,"\n          "),i._UZ(1,"mat-progress-spinner",18),i._uU(2,"\n        "))}let A$=(()=>{class n{constructor(e,r,o,s){this.mqttBatteryDispenserService=e,this.shellService=r,this.credentials=o,this.mqttPowerbankService=s,this.backToHome=new i.vpe,this.inCharge=0,this.batteriesInDistributor=0,this.available=0,this.minimalLevel=75,this.borrowBatteryConfirm=!1,this.errorResponse=!1,this.countClick=0,this.onDestroy=new yn.xQ,this.waiting=!1,this.rescan=!1,this.mqttBatteryDispenserService.batteryState.pipe((0,zn.R)(this.onDestroy),(0,Tn.h)(a=>a.status===Cd.OUTPUT),(0,pd.g)(500)).subscribe(()=>{this.rescan=!1,this.active=!1,this.waiting=!1,this.countClick=0}),this.mqttBatteryDispenserService.batteryStateError.pipe((0,zn.R)(this.onDestroy)).subscribe(a=>{if(a&&a.status){switch(a.status){case 400:this.rescan=!0;case 403:this.borrowBatteryConfirm=!0}this.errorResponse=!0}this.active=!1,this.waiting=!1})}ngOnInit(){this.mqttPowerbankService.borrowBatteries.pipe((0,zn.R)(this.onDestroy)).subscribe(e=>{const r=e.find(o=>o.uid===this.credentials.userProfile.uid);this.borrowBatteryConfirm=!!r})}ngDoCheck(){this.errorResponse||1!==this.available||this.active||(void 0===this.borrowedBatteries||0!==this.borrowedBatteries.length)&&void 0!==this.borrowedBatteries?void 0!==this.borrowedBatteries&&this.borrowedBatteries.length>0&&(this.active=!1,this.waiting=!1,this.countClick=0):(this.active=!0,this.waiting=!1,this.countClick=0)}refresh(){this.mqttBatteryDispenserService.refreshBatteryDispenser()}getBattery(){this.countClick++,this.available>0&&this.active&&1===this.countClick&&(this.waiting=!0,this.mqttBatteryDispenserService.borrowBattery(this.credentials.userProfile.uid)),this.countClick>1&&(this.countClick=0)}goToHome(){this.backToHome.emit()}onClickMenu(){this.shellService.toggleSidenav()}get isMobileMode(){return this.shellService.isMobile}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}get nbLine(){const e=this.mqttBatteryDispenserService.dispenserSize;return 4===e?2:e/3}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(cT),i.Y36($c),i.Y36(Wo),i.Y36(K3))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-powerbank-get-battery"]],inputs:{slots:"slots",inCharge:"inCharge",batteriesInDistributor:"batteriesInDistributor",available:"available",active:"active",minimalLevel:"minimalLevel",borrowedBatteries:"borrowedBatteries"},outputs:{backToHome:"backToHome"},decls:82,vars:26,consts:[[1,"container"],["class","header-button","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",1,"header-button",2,"padding-left","0px",3,"click"],["fxFill","","fxLayout","column","fxLayoutAlign","start center",1,"container-get-battery"],[1,"card","mat-elevation-z0","card-outline"],["fxLayout","column","fxLayoutAlign","center center"],[1,"dispenser"],[3,"slots","minimalLevel","borrowedBatteries","nbLine"],[1,"informations"],["fxLayout","row","fxLayoutAlign","space-between center",1,"info-line"],[1,"secondary-info"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-icon-button","",1,"header-button",3,"click"],[1,"icon-color-change-black"],["mat-raised-button","","color","primary",1,"get-button",3,"disabled","click"],["class","error",4,"ngIf"],[1,"error"],["diameter","48","mode","indeterminate","color","primary",1,"waiting-spinner"]],template:function(e,r){if(1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"mat-toolbar"),i._uU(3,"\n    "),i.YNc(4,b$,5,0,"button",1),i._uU(5,"\n    "),i.TgZ(6,"button",2),i.NdJ("click",function(){return r.goToHome()}),i._uU(7,"\n      "),i.TgZ(8,"mat-icon"),i._uU(9,"arrow_back"),i.qZA(),i._uU(10,"\n    "),i.qZA(),i._uU(11,"\n    "),i.TgZ(12,"h2"),i._uU(13),i.ALo(14,"translate"),i.qZA(),i._uU(15,"\n  "),i.qZA(),i._uU(16,"\n\n  "),i._UZ(17,"mat-divider"),i._uU(18,"\n\n  "),i.TgZ(19,"div",3),i._uU(20,"\n    "),i.TgZ(21,"mat-card",4),i._uU(22,"\n      "),i.TgZ(23,"mat-card-content",5),i._uU(24,"\n        "),i.TgZ(25,"div",6),i._uU(26,"\n          "),i._UZ(27,"app-powerbank-ui",7),i._uU(28,"\n        "),i.qZA(),i._uU(29,"\n\n        "),i.TgZ(30,"div",8),i._uU(31,"\n          "),i.TgZ(32,"div",9),i._uU(33,"\n            "),i.TgZ(34,"div"),i._uU(35),i.ALo(36,"translate"),i.qZA(),i._uU(37,"\n            "),i.TgZ(38,"div"),i._uU(39),i.qZA(),i._uU(40,"\n          "),i.qZA(),i._uU(41,"\n\n          "),i._UZ(42,"mat-divider"),i._uU(43,"\n\n          "),i.TgZ(44,"div",9),i._uU(45,"\n            "),i.TgZ(46,"div"),i._uU(47),i.ALo(48,"translate"),i.qZA(),i._uU(49,"\n            "),i.TgZ(50,"div"),i._uU(51),i.qZA(),i._uU(52,"\n          "),i.qZA(),i._uU(53,"\n\n          "),i._UZ(54,"mat-divider"),i._uU(55,"\n\n          "),i.TgZ(56,"div",9),i._uU(57,"\n            "),i.TgZ(58,"div"),i._uU(59),i.ALo(60,"translate"),i.qZA(),i._uU(61,"\n            "),i.TgZ(62,"div"),i._uU(63),i.qZA(),i._uU(64,"\n          "),i.qZA(),i._uU(65,"\n          "),i.TgZ(66,"div",10),i._uU(67),i.ALo(68,"translate"),i.qZA(),i._uU(69,"\n\n          "),i._UZ(70,"mat-divider"),i._uU(71,"\n        "),i.qZA(),i._uU(72,"\n\n        "),i.YNc(73,C$,12,7,"ng-container",11),i._uU(74,"\n        "),i.YNc(75,S$,3,0,"ng-template",null,12,i.W1O),i._uU(77,"\n      "),i.qZA(),i._uU(78,"\n    "),i.qZA(),i._uU(79,"\n  "),i.qZA(),i._uU(80,"\n"),i.qZA(),i._uU(81,"\n")),2&e){const o=i.MAs(76);i.xp6(4),i.Q6J("ngIf",r.isMobileMode),i.xp6(9),i.Oqu(i.lcZ(14,16,"powerbank.getBattery.header")),i.xp6(14),i.Q6J("slots",r.slots)("minimalLevel",r.minimalLevel)("borrowedBatteries",r.borrowedBatteries)("nbLine",r.nbLine),i.xp6(8),i.Oqu(i.lcZ(36,18,"powerbank.getBattery.batteriesInDistributor")),i.xp6(4),i.Oqu(r.batteriesInDistributor),i.xp6(8),i.Oqu(i.lcZ(48,20,"powerbank.getBattery.inCharge")),i.xp6(4),i.Oqu(r.inCharge),i.xp6(8),i.Oqu(i.lcZ(60,22,"powerbank.getBattery.available")),i.xp6(4),i.Oqu(r.available),i.xp6(4),i.AsE("\n            ",i.lcZ(68,24,"powerbank.getBattery.minimumBattery"),"",r.minimalLevel+1,"%\n          "),i.xp6(6),i.Q6J("ngIf",!r.waiting)("ngIfElse",o)}},dependencies:[Rr,$o,po,Ya,X_,mx,go,Ja,Ed,ks,Tl,y$,fo],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:calc(100vh - 2px);overflow:hidden;background-color:#fff}.container[_ngcontent-%COMP%]{height:100%;width:100%}.header-button[_ngcontent-%COMP%]{margin-right:12px}.card[_ngcontent-%COMP%]{margin-top:20px;width:384px}.dispenser[_ngcontent-%COMP%]{width:320px;margin:16px 32px 12px}.info-line[_ngcontent-%COMP%]{min-height:44px;width:320px}.secondary-info[_ngcontent-%COMP%]{margin-top:-8px;height:20px;width:244px;color:#00000061;font-size:12px;font-weight:500;letter-spacing:.4px;line-height:16px}.get-button[_ngcontent-%COMP%]{margin-top:20px;height:48px;width:198px}.waiting-spinner[_ngcontent-%COMP%]{margin-top:20px}.error[_ngcontent-%COMP%]{color:#b00020;text-align:center;margin-top:8px;font-size:13px}"]}),n})();function D$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"app-powerbank-scanner",4),i.NdJ("getBattery",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.goToGetBattery(o))})("backToHome",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.goToHome())}),i._uU(1,"\n  "),i.qZA()}}function T$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"app-powerbank-get-battery",5),i.NdJ("backToHome",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.goToHome())}),i.qZA()}if(2&n){const e=i.oxw();i.Q6J("slots",null==e.powerBankInfos?null:e.powerBankInfos.slots)("available",null==e.powerBankInfos?null:e.powerBankInfos.available)("inCharge",null==e.powerBankInfos?null:e.powerBankInfos.inCharge)("batteriesInDistributor",null==e.powerBankInfos?null:e.powerBankInfos.count)("borrowedBatteries",e.borrowedBatteries)("active",e.activeGetBattery)}}function M$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"app-powerbank-home",6),i.NdJ("goToScan",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.goToScanner())})("getBattery",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.goToGetBattery(o))}),i.qZA()}if(2&n){const e=i.oxw();i.Q6J("limitLoansReached",e.limitLoansReached)("borrowedBatteries",e.borrowedBatteries)}}let O$=(()=>{class n{constructor(e,r,o){this.service=e,this.mqttPowerbank=r,this.credentials=o,this.slots=[],this.borrowedBatteries=void 0,this.powerBankInfos=void 0,this.activeGetBattery=!0,this.onDestroy=new yn.xQ}ngOnInit(){this.mqttPowerbank.init(this.credentials.userInfos.uid),this.subscribeToBorrowedBatteries(),this.subscribeToBatteriesInDispenserObservable(),this.subscribeCheckBorrowedBatteries()}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete(),this.service.stop(),this.mqttPowerbank.stop()}subscribeToBorrowedBatteries(){this.mqttPowerbank.borrowBatteries.pipe((0,zn.R)(this.onDestroy)).subscribe(e=>{this.borrowedBatteries=e,this.borrowedBatteries&&0!==this.borrowedBatteries.length&&void 0!==this.borrowedBatteries[0].powerbankId&&this.subscribeCheckBorrowedBatteries(this.borrowedBatteries[0].powerbankId),this.activeGetBattery=!this.limitLoansReached})}subscribeToBatteriesInDispenserObservable(){this.service.batteriesInDispenserObservable.pipe((0,zn.R)(this.onDestroy)).subscribe(e=>{if(e){const r={size:this.service.dispenserSize,count:0,available:0,inCharge:0,missing:0,slots:[]},o=((n,t)=>{const e=Y3(t),o=((n,t=12)=>{if(n.length>=t)return n;const e=t-n.length,r=[...n],o=s=>r.findIndex(a=>a.channel===s)>-1;for(let s=1;s<=e;s++){let a=1;for(;o(a);)a+=1;r.push({channel:a,hidden:0,level:0,powerbank_id:"",status:0,updated_at:""})}return r.sort((s,a)=>s.channel-a.channel)})(n.sort((s,a)=>s.channel-a.channel),e);return 9===e?((n,t=3)=>{if(t>=n.length)return n;const e=Math.ceil(n.length/t),r=[];for(let o=0;o<e;o++)for(let s=0;s<t;s++){const a=o+s*t;a<n.length&&r.push(n[a])}return r})(o):t.startsWith("45C")?((n,t=3)=>{if(t>=n.length)return n;const e=Math.ceil(n.length/t),r=[];for(let o=0;o<e;o++)for(let s=0;s<t;s++){const a=e-1-o+s*e;a<n.length&&r.push(n[a])}return r})(o):((n,t=3)=>{if(t>=n.length)return n;const e=Math.ceil(n.length/t),r=[];for(let o=0;o<e;o++)for(let s=0;s<t;s++){const a=o+s*e;a<n.length&&r.push(n[a])}return r})(o)})(e,this.service.batteryDispenserId);o.forEach(s=>{s.status>=1&&(r.count++,1===s.status&&(s.level>75?r.available++:r.inCharge++))}),this.borrowedBatteries&&this.borrowedBatteries.forEach(s=>{const a=o.findIndex(u=>u.channel===s.channel);a>-1&&(o[a].activated=!0)}),r.slots=o,r.missing=r.size-r.count,void 0!==this.borrowedBatteries&&0===this.borrowedBatteries.length&&(this.borrowedBatteries=void 0),this.powerBankInfos=r,this.slots=o}})}subscribeCheckBorrowedBatteries(e){this.service.checkBorrowedBattery(this.credentials.userInfos.uid,e).pipe((0,zn.R)(this.onDestroy)).subscribe()}goToHome(){this.step=0}goToScanner(){this.step=1}goToGetBattery(e){this.step=2,this.service.initBatteryDispenserListener(e)}get limitLoansReached(){return this.borrowedBatteries&&this.borrowedBatteries.length>this.maxBatteriesToBorrow-1||!1}get maxBatteriesToBorrow(){return 1}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(cT),i.Y36(K3),i.Y36(Wo))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-powerbank"]],decls:9,vars:3,consts:[[3,"ngSwitch"],[3,"getBattery","backToHome",4,"ngSwitchCase"],[3,"slots","available","inCharge","batteriesInDistributor","borrowedBatteries","active","backToHome",4,"ngSwitchCase"],[3,"limitLoansReached","borrowedBatteries","goToScan","getBattery",4,"ngSwitchDefault"],[3,"getBattery","backToHome"],[3,"slots","available","inCharge","batteriesInDistributor","borrowedBatteries","active","backToHome"],[3,"limitLoansReached","borrowedBatteries","goToScan","getBattery"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.YNc(2,D$,2,0,"app-powerbank-scanner",1),i._uU(3,"\n\n  "),i.YNc(4,T$,1,6,"app-powerbank-get-battery",2),i._uU(5,"\n\n  "),i.YNc(6,M$,1,2,"app-powerbank-home",3),i._uU(7,"\n"),i.qZA(),i._uU(8,"\n")),2&e&&(i.Q6J("ngSwitch",r.step),i.xp6(2),i.Q6J("ngSwitchCase",1),i.xp6(2),i.Q6J("ngSwitchCase",2))},dependencies:[Fo,cs,ws,a$,c$,A$]}),n})();const I$=[Sd.childRoutes([{path:"powerbank",component:O$,data:{title:"titles.powerbank"}}])];let R$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(I$),Xi]}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,R$,_d,Go,$W,Aj,J_,bd,cy,dy,mm,bI]}),n})(),F$=(()=>{class n{constructor(e,r){this.sanitizer=r,this.userUid=e.userInfos.uid}ngOnInit(){}sessionsUrl(){return this.sanitizer.bypassSecurityTrustResourceUrl(`./appSchoolSession/index.html?username=${this.userUid}&institution_id=92200_lycee_test_hisqool`)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Wo),i.Y36(lr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-school-session"]],decls:2,vars:1,consts:[["width","100%","frameBorder","0",1,"iframeSession",3,"src"]],template:function(e,r){1&e&&(i._UZ(0,"iframe",0),i._uU(1,"\n")),2&e&&i.Q6J("src",r.sessionsUrl(),i.uOi)},styles:[".container[_ngcontent-%COMP%]{text-align:center;padding:1em}.iframeSession[_ngcontent-%COMP%]{height:calc(100% - 70px)}"]}),n})();const k$=[Sd.childRoutes([{path:"session",component:F$,data:{title:"School Session"}}])];let L$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(k$),Xi]}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[L$]}),n})();const B$=[Sd.childRoutes([{path:"",redirectTo:"/home",pathMatch:"full"}])];let U$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Go,_d,Xi,ym,Xi.forChild(B$),bd,mm,GA,LD,cy,rU,dy,Xi]}),n})();var vc=(()=>(function(n){n.Get="[Textbook] get text book",n.GetSuccess="[Textbook] get text book success",n.GetError="[Textbook] get text book error"}(vc||(vc={})),vc))();class j${constructor(t,e,r){this.searchKey=t,this.pageNumber=e,this.resultsPerPage=r,this.type=vc.Get}}class H${constructor(t){this.textBookResponse=t,this.type=vc.GetSuccess}}class V${constructor(t){this.error=t,this.type=vc.GetError}}let G$=(()=>{class n{dynamicSort(e){let r=1;return e.startsWith("-")&&(r=-1,e=e.substr(1)),(o,s)=>(o[e]<s[e]?-1:o[e]>s[e]?1:0)*r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z$(n,t){if(1&n&&(i.TgZ(0,"div",3,4),i._uU(2,"\n    "),i._UZ(3,"app-loader",5),i.ALo(4,"async"),i._uU(5,"\n  "),i.qZA()),2&n){const e=i.oxw();i.xp6(3),i.Q6J("isLoading",i.lcZ(4,1,e.isLoading$))}}function Z$(n,t){1&n&&(i.TgZ(0,"span",10),i._uU(1,"search.noResult"),i.qZA())}function W$(n,t){1&n&&(i.TgZ(0,"span",10),i._uU(1,"textbooks.unavailable"),i.qZA())}function $$(n,t){1&n&&(i.TgZ(0,"span",10),i._uU(1,"textbooks.oneResult"),i.qZA())}function q$(n,t){if(1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.AsE("",e.displayedBooks.length," ",i.lcZ(2,2,"textbooks.manyResult"),"")}}function Y$(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11),i._uU(1,"\n        "),i.TgZ(2,"mat-card",12),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.selectTextbook(s.url))}),i._uU(3,"\n          "),i.TgZ(4,"div",13),i._uU(5,"\n            "),i._UZ(6,"img",14),i._uU(7,"\n          "),i.qZA(),i._uU(8,"\n          "),i.TgZ(9,"mat-card-title",15),i._uU(10),i.qZA(),i._uU(11,"\n          "),i.TgZ(12,"h2",16),i._uU(13),i.qZA(),i._uU(14,"\n          "),i.TgZ(15,"mat-card-footer",17),i._uU(16),i.qZA(),i._uU(17,"\n        "),i.qZA(),i._uU(18,"\n      "),i.qZA()}if(2&n){const e=t.$implicit,r=i.oxw(2);i.xp6(6),i.s9C("alt",e.thumbnail_alt_text),i.Q6J("src",r.getImgUrl(e.thumbnail_url),i.LSH),i.xp6(4),i.Oqu(e.category),i.xp6(3),i.Oqu(e.title),i.xp6(3),i.Oqu(e.authors)}}function K$(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n    "),i.TgZ(2,"mat-toolbar",6),i._uU(3,"\n      "),i.YNc(4,Z$,2,0,"span",7),i._uU(5,"\n      "),i.YNc(6,W$,2,0,"span",7),i._uU(7,"\n      "),i.YNc(8,$$,2,0,"span",7),i._uU(9,"\n      "),i.YNc(10,q$,3,4,"span",2),i._uU(11,"\n    "),i.qZA(),i._uU(12,"\n\n    "),i.TgZ(13,"div",8),i._uU(14,"\n      "),i.YNc(15,Y$,19,5,"div",9),i._uU(16,"\n    "),i.qZA(),i._uU(17,"\n  "),i.qZA()),2&n){const e=i.oxw();i.xp6(4),i.Q6J("ngIf",0===e.displayedBooks.length&&e.isSearch()),i.xp6(2),i.Q6J("ngIf",0===e.displayedBooks.length&&!e.isSearch()),i.xp6(2),i.Q6J("ngIf",1===e.displayedBooks.length),i.xp6(2),i.Q6J("ngIf",e.displayedBooks.length>1),i.xp6(5),i.Q6J("ngForOf",e.displayedBooks)}}let Q$=(()=>{class n{constructor(e,r,o){this.searchBarService=e,this.textbookStore=r,this.dynamicFunctionService=o,this.textbooks=[],this.isSearching=!1,this.isSearch=()=>this.isSearching}ngOnInit(){this.textbooks$=this.textbookStore.select(SR),this.isLoading$=this.textbookStore.select(FB),this.getTextbooks(),this.textbooks$.subscribe(e=>{e&&(this.textbooks=e.results)}),this.searchSubscribe()}selectTextbook(e){window.open(e)}getImgUrl(e){return""===e||null===e?"./assets/textbook/textbookPlaceholder.png":`${dr.URL_BASE}${e}`}getTextbooks(e){this.textbookStore.dispatch(new j$(e||"",1,100))}sanitizeString(e,r){let o=e.trim();return o.length<r||(o=o.substr(0,r)+"..."),o}transformTextbook(e){return e.map(r=>{const o=Object.assign({},r);return o.category=this.sanitizeString(r.category,14),o.title=this.sanitizeString(r.title,20),o.authors=this.sanitizeString(r.authors,27),o})}get displayedBooks(){return this.textbooks.sort(this.dynamicFunctionService.dynamicSort("title")),this.transformTextbook(this.textbooks)}ngOnDestroy(){this.searchSubscription.unsubscribe()}searchSubscribe(){this.searchSubscription=this.searchBarService.searchAnnounced$.pipe((0,YI.G)()).subscribe(e=>{if(e&&2===e.length){const r=this.searchValue(e[0]),o=this.searchValue(e[1]),s=r.length,a=o.length;this.isSearching=!!a&&a>0,s>=3&&a<3?this.getTextbooks():a>=3&&this.getTextbooks(o)}})}searchValue(e){return"shellSearchBar"===e.searchBarName?e.search:void 0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(OD),i.Y36(Jn.yh),i.Y36(G$))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-textbook"]],decls:9,vars:6,consts:[[1,"container"],["class","loader","fxLayoutAlign","center center",4,"ngIf"],[4,"ngIf"],["fxLayoutAlign","center center",1,"loader"],["toto",""],[1,"inline-loader",3,"isLoading"],["fxLayout","row","fxLayoutAlign","start center",1,"item-count"],["translate","",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-around",1,"catalog"],["class","card-container","fxLayout","row","fxLayoutAlign","center stretch",4,"ngFor","ngForOf"],["translate",""],["fxLayout","row","fxLayoutAlign","center stretch",1,"card-container"],[1,"catalog-item",3,"click"],["fxLayoutAlign","center center",1,"img-container"],["mat-card-image","","onError","this.src='./assets/textbook/textbookPlaceholder.png'",3,"src","alt"],[1,"overline"],[1,"mat-card-content"],[1,".mat-body",".mat-card-footer"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.YNc(2,z$,6,3,"div",1),i.ALo(3,"async"),i._uU(4,"\n  "),i.YNc(5,K$,18,5,"div",2),i.ALo(6,"async"),i._uU(7,"\n"),i.qZA(),i._uU(8,"\n")),2&e&&(i.xp6(2),i.Q6J("ngIf",i.lcZ(3,2,r.isLoading$)),i.xp6(3),i.Q6J("ngIf",!i.lcZ(6,4,r.isLoading$)))},dependencies:[Oi,Rr,ra,$o,po,TD,X_,OA,IO,j4,Ed,br,fo],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:100;font-display:swap;src:url(Inter-Thin.dafaa44d99210184.woff2?v=3.19) format("woff2"),url(Inter-Thin.16325d9b0f071767.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:100;font-display:swap;src:url(Inter-ThinItalic.4fc662b3cf9885e2.woff2?v=3.19) format("woff2"),url(Inter-ThinItalic.d3d8994788dbff24.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(Inter-ExtraLight.6824177d1e0746b0.woff2?v=3.19) format("woff2"),url(Inter-ExtraLight.15c082a57d3d2a81.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:200;font-display:swap;src:url(Inter-ExtraLightItalic.05138dddf3896b19.woff2?v=3.19) format("woff2"),url(Inter-ExtraLightItalic.3beee54f59a264f0.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(Inter-Light.27083fa6375bb9ef.woff2?v=3.19) format("woff2"),url(Inter-Light.91dfddd8421c4c01.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:300;font-display:swap;src:url(Inter-LightItalic.0a783b89b32b9e6c.woff2?v=3.19) format("woff2"),url(Inter-LightItalic.f8ccf2813f0f3b48.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(Inter-Regular.f1f0c35b32161446.woff2?v=3.19) format("woff2"),url(Inter-Regular.f356e84aa04db28f.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:400;font-display:swap;src:url(Inter-Italic.d593a8df799d4ab1.woff2?v=3.19) format("woff2"),url(Inter-Italic.9beab78452e83e9b.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(Inter-Medium.dc792b508e6f91c7.woff2?v=3.19) format("woff2"),url(Inter-Medium.ec7dd2d9d89c37d7.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:500;font-display:swap;src:url(Inter-MediumItalic.84d3493a9fd22f1c.woff2?v=3.19) format("woff2"),url(Inter-MediumItalic.17301e5b40785eb0.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(Inter-SemiBold.fcb100c7607696fd.woff2?v=3.19) format("woff2"),url(Inter-SemiBold.55027e4724a1928b.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:600;font-display:swap;src:url(Inter-SemiBoldItalic.d90f295d0c348006.woff2?v=3.19) format("woff2"),url(Inter-SemiBoldItalic.ab9105ed3ba958b1.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(Inter-Bold.579e0f95cacfae57.woff2?v=3.19) format("woff2"),url(Inter-Bold.b1234477a53679d3.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:700;font-display:swap;src:url(Inter-BoldItalic.828a494e04a45cbd.woff2?v=3.19) format("woff2"),url(Inter-BoldItalic.3d0d8043234e44b1.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(Inter-ExtraBold.d65f0281654d8cfb.woff2?v=3.19) format("woff2"),url(Inter-ExtraBold.208a9e6c99a5a41a.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:800;font-display:swap;src:url(Inter-ExtraBoldItalic.8c7eac5ce3b25787.woff2?v=3.19) format("woff2"),url(Inter-ExtraBoldItalic.30429962ec2a5ba0.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:900;font-display:swap;src:url(Inter-Black.796be8d8bffb6380.woff2?v=3.19) format("woff2"),url(Inter-Black.b254104c56378fb2.woff?v=3.19) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:900;font-display:swap;src:url(Inter-BlackItalic.752f1e0aaad9c37b.woff2?v=3.19) format("woff2"),url(Inter-BlackItalic.70306b0eae435241.woff?v=3.19) format("woff")}@font-face{font-family:Inter var;font-weight:100 900;font-style:normal;font-named-instance:"Regular";font-display:swap;src:url(Inter-roman.var.b2129c009ce46d43.woff2?v=3.19) format("woff2 supports variations(gvar)"),url(Inter-roman.var.b2129c009ce46d43.woff2?v=3.19) format("woff2-variations"),url(Inter-roman.var.b2129c009ce46d43.woff2?v=3.19) format("woff2")}@font-face{font-family:Inter var;font-weight:100 900;font-style:italic;font-named-instance:"Italic";font-display:swap;src:url(Inter-italic.var.958a0b9742fb3ae8.woff2?v=3.19) format("woff2 supports variations(gvar)"),url(Inter-italic.var.958a0b9742fb3ae8.woff2?v=3.19) format("woff2-variations"),url(Inter-italic.var.958a0b9742fb3ae8.woff2?v=3.19) format("woff2")}@font-face{font-family:Inter var experimental;font-weight:100 900;font-style:oblique 0deg 10deg;font-display:swap;src:url(Inter.var.730e8169368baf37.woff2?v=3.19) format("woff2-variations"),url(Inter.var.730e8169368baf37.woff2?v=3.19) format("woff2")}.overline[_ngcontent-%COMP%], .catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:10px;font-weight:500;letter-spacing:2px;line-height:16px}.item-count[_ngcontent-%COMP%]{padding-top:8px;padding-left:24px;font-size:14px;color:#0009;background-color:#fff}.loader[_ngcontent-%COMP%]{margin-top:100px}.catalog[_ngcontent-%COMP%]{padding:0 12px 12px;background-color:#fff}.catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]{margin:0 8px 20px;max-width:200px;min-width:162px;cursor:pointer;box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f;border:1px solid #E0E0E0;padding:12px}.catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{height:240px}.catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{padding:12px;max-width:200px;min-width:162px;max-height:256px}.catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{margin-bottom:8px;color:#0009;text-transform:uppercase}.catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{max-height:48px;margin-bottom:8px;color:#000000de}.catalog[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]{height:40px;padding:0 0 12px;color:#0009;margin:0}.catalog[_ngcontent-%COMP%]:after{content:"";flex:1}@media (max-width: 453px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:100%}}@media (min-width: 453px) and (max-width: 600px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:50%}}@media (min-width: 600px) and (max-width: 768px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:33.3333333333%}}@media (min-width: 768px) and (max-width: 960px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:25%}}@media (min-width: 960px) and (max-width: 1024px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:33.3333333333%}}@media (min-width: 1024px) and (max-width: 1280px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:25%}}@media (min-width: 1280px) and (max-width: 1440px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:20%}}@media (min-width: 1440px){.catalog[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{width:16.6666666667%}}']}),n})();const X$=[Sd.childRoutes([{path:"textbook",component:Q$,data:{title:"titles.textbook"}}])];let J$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Xi.forChild(X$),Xi]}),n})();function eq(n=PB,t){switch(t.type){case vc.GetSuccess:return Object.assign(Object.assign({},n),{isLoading:!1,textBookResponse:t.textBookResponse});case vc.GetError:return Object.assign(Object.assign({},n),{isLoading:!1});case vc.Get:return Object.assign(Object.assign({},n),{isLoading:!0});default:return n}}let tq=(()=>{class n{constructor(e){this.httpClient=e}getTextbooks(e,r,o){return this.httpClient.get(`${dr.URL_TEXTBOOKS}?page=1&page_size=500&q=${e}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ss))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nq=(()=>{class n{constructor(e,r){this.actions$=e,this.textbookService=r,this.getTextbooks$=Di(()=>this.actions$.pipe(Gr(vc.Get),(0,wr.zg)(o=>this.textbookService.getTextbooks(o.searchKey,o.pageNumber,o.resultsPerPage).pipe((0,en.U)(s=>new H$(s)),(0,Vr.K)(s=>(0,Qt.of)(new V$(s)))))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(bm),i.LFG(tq))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Yr,Go,_d,J$,ym,Jn.Aw.forFeature(ER,eq),Fx.forFeature([nq]),J_,dy]}),n})();!function Us(n,t,e){(0,i.dwT)(n,t,e)}(PE);const iq={AUTH_STORE_KEY:function SU(n,t){switch(t.type){case Gi.LOGIN:return Object.assign(Object.assign({},n),{isError:!1,isLoading:!0});case Gi.LOGIN_SUCCESS:return n=Jx,Object.assign(Object.assign({},n),{isLoggedIn:!0});case Gi.LOGIN_FAILURE:return n=Jx,Object.assign(Object.assign({},n),{isError:!0});case Gi.LOGOUT_CONFIRMED:case Gi.LOGOUT:return Jx;default:return n}},statusConnection:function uN(n=cN,t){return t.type===Eh.SetIsOnline?Object.assign(Object.assign({},n),{isOnline:t.payload}):n}};function oq(n){return function(t,e){return e.type===Gi.LOGOUT_CONFIRMED&&(t=void 0),n(t,e)}}let sq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[s5]}),n.\u0275inj=i.cJS({providers:[{provide:i.soG,useValue:"fr-FR"}],imports:[_e,Wl,Jh,Go.forRoot(),cS,kN.forRoot({closeButton:!0,timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}),ym,P$,U$,yU,OU,EU,rq,N$,sj,aj,dA.forRoot(),Jn.Aw.forRoot(iq,{metaReducers:[oq],runtimeChecks:{strictStateImmutability:!1,strictActionImmutability:!1,strictStateSerializability:!1,strictActionSerializability:!1,strictActionWithinNgZone:!1}}),Fx.forRoot([CU,lN]),fN.forRoot(QI),oN.FT.instrument({maxAge:50,logOnly:dr.production}),BN]}),n})();dr.production&&(0,i.G48)(),Se().bootstrapModule(sq).catch(n=>console.error(n))},9572:(te,O,g)=>{var i={};te.exports=i,i.themes={};var F=g(8901),B=i.styles=g(3927),T=Object.defineProperties,E=new RegExp(/[\r\n]+/g);i.supportsColor=g(4074).supportsColor,void 0===i.enabled&&(i.enabled=!1!==i.supportsColor()),i.enable=function(){i.enabled=!0},i.disable=function(){i.enabled=!1},i.stripColors=i.strip=function($){return(""+$).replace(/\x1B\[\d+m/g,"")},i.stylize=function(K,z){if(!i.enabled)return K+"";var ae=B[z];return!ae&&z in i?i[z](K):ae.open+K+ae.close};var m=/[|\\{}()[\]^$+*?.]/g;function S($){var K=function z(){return P.apply(z,arguments)};return K._styles=$,K.__proto__=R,K}var $,k=($={},B.grey=B.gray,Object.keys(B).forEach(function(K){B[K].closeRe=new RegExp(function($){if("string"!=typeof $)throw new TypeError("Expected a string");return $.replace(m,"\\$&")}(B[K].close),"g"),$[K]={get:function(){return S(this._styles.concat(K))}}}),$),R=T(function(){},k);function P(){var $=Array.prototype.slice.call(arguments),K=$.map(function(fe){return null!=fe&&fe.constructor===String?fe:F.inspect(fe)}).join(" ");if(!i.enabled||!K)return K;for(var z=-1!=K.indexOf("\n"),ae=this._styles,pe=ae.length;pe--;){var ue=B[ae[pe]];K=ue.open+K.replace(ue.closeRe,ue.open)+ue.close,z&&(K=K.replace(E,function(fe){return ue.close+fe+ue.open}))}return K}i.setTheme=function($){if("string"!=typeof $)for(var K in $)!function(z){i[z]=function(ae){if("object"==typeof $[z]){var pe=ae;for(var ue in $[z])pe=i[$[z][ue]](pe);return pe}return i[$[z]](ae)}}(K);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var C=function(K,z){var ae=z.split("");return(ae=ae.map(K)).join("")};for(var U in i.trap=g(1616),i.zalgo=g(5914),i.maps={},i.maps.america=g(7552)(i),i.maps.zebra=g(1474)(i),i.maps.rainbow=g(2197)(i),i.maps.random=g(4417)(i),i.maps)!function($){i[$]=function(K){return C(i.maps[$],K)}}(U);T(i,function I(){var $={};return Object.keys(k).forEach(function(K){$[K]={get:function(){return S([K])}}}),$}())},1616:te=>{te.exports=function(g,i){var F="";g=(g=g||"Run the trap, drop the bass").split("");var B={a:["@","\u0104","\u023a","\u0245","\u0394","\u039b","\u0414"],b:["\xdf","\u0181","\u0243","\u026e","\u03b2","\u0e3f"],c:["\xa9","\u023b","\u03fe"],d:["\xd0","\u018a","\u0500","\u0501","\u0502","\u0503"],e:["\xcb","\u0115","\u018e","\u0258","\u03a3","\u03be","\u04bc","\u0a6c"],f:["\u04fa"],g:["\u0262"],h:["\u0126","\u0195","\u04a2","\u04ba","\u04c7","\u050a"],i:["\u0f0f"],j:["\u0134"],k:["\u0138","\u04a0","\u04c3","\u051e"],l:["\u0139"],m:["\u028d","\u04cd","\u04ce","\u0520","\u0521","\u0d69"],n:["\xd1","\u014b","\u019d","\u0376","\u03a0","\u048a"],o:["\xd8","\xf5","\xf8","\u01fe","\u0298","\u047a","\u05dd","\u06dd","\u0e4f"],p:["\u01f7","\u048e"],q:["\u09cd"],r:["\xae","\u01a6","\u0210","\u024c","\u0280","\u042f"],s:["\xa7","\u03de","\u03df","\u03e8"],t:["\u0141","\u0166","\u0373"],u:["\u01b1","\u054d"],v:["\u05d8"],w:["\u0428","\u0460","\u047c","\u0d70"],x:["\u04b2","\u04fe","\u04fc","\u04fd"],y:["\xa5","\u04b0","\u04cb"],z:["\u01b5","\u0240"]};return g.forEach(function(T){T=T.toLowerCase();var E=B[T]||[" "],w=Math.floor(Math.random()*E.length);F+=void 0!==B[T]?B[T][w]:T}),F}},5914:te=>{te.exports=function(g,i){g=g||"   he is here   ";var F={up:["\u030d","\u030e","\u0304","\u0305","\u033f","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030a","\u0342","\u0313","\u0308","\u034a","\u034b","\u034c","\u0303","\u0302","\u030c","\u0350","\u0300","\u0301","\u030b","\u030f","\u0312","\u0313","\u0314","\u033d","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036a","\u036b","\u036c","\u036d","\u036e","\u036f","\u033e","\u035b","\u0346","\u031a"],down:["\u0316","\u0317","\u0318","\u0319","\u031c","\u031d","\u031e","\u031f","\u0320","\u0324","\u0325","\u0326","\u0329","\u032a","\u032b","\u032c","\u032d","\u032e","\u032f","\u0330","\u0331","\u0332","\u0333","\u0339","\u033a","\u033b","\u033c","\u0345","\u0347","\u0348","\u0349","\u034d","\u034e","\u0353","\u0354","\u0355","\u0356","\u0359","\u035a","\u0323"],mid:["\u0315","\u031b","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035c","\u035d","\u035e","\u035f","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},B=[].concat(F.up,F.down,F.mid);function T(m){return Math.floor(Math.random()*m)}function E(m){var b=!1;return B.filter(function(S){b=S===m}),b}return function w(m,b){var k,R,S="";for(R in(b=b||{}).up=void 0===b.up||b.up,b.mid=void 0===b.mid||b.mid,b.down=void 0===b.down||b.down,b.size=void 0!==b.size?b.size:"maxi",m=m.split(""))if(!E(R)){switch(S+=m[R],k={up:0,down:0,mid:0},b.size){case"mini":k.up=T(8),k.mid=T(2),k.down=T(8);break;case"maxi":k.up=T(16)+3,k.mid=T(4)+1,k.down=T(64)+3;break;default:k.up=T(8)+1,k.mid=T(6)/2,k.down=T(8)+1}var P=["up","mid","down"];for(var I in P)for(var C=P[I],U=0;U<=k[C];U++)b[C]&&(S+=F[C][T(F[C].length)])}return S}(g,i)}},7552:te=>{te.exports=function(O){return function(g,i,F){if(" "===g)return g;switch(i%3){case 0:return O.red(g);case 1:return O.white(g);case 2:return O.blue(g)}}}},2197:te=>{te.exports=function(O){var g=["red","yellow","green","blue","magenta"];return function(i,F,B){return" "===i?i:O[g[F++%g.length]](i)}}},4417:te=>{te.exports=function(O){var g=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(i,F,B){return" "===i?i:O[g[Math.round(Math.random()*(g.length-2))]](i)}}},1474:te=>{te.exports=function(O){return function(g,i,F){return i%2==0?g:O.inverse(g)}}},3927:te=>{var O={};te.exports=O;var g={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(g).forEach(function(i){var F=g[i],B=O[i]=[];B.open="\x1b["+F[0]+"m",B.close="\x1b["+F[1]+"m"})},5968:(te,O,g)=>{"use strict";var i=g(1986);te.exports=function(F,B){var T=(B=B||i.argv).indexOf("--"),E=/^-{1,2}/.test(F)?"":"--",w=B.indexOf(E+F);return-1!==w&&(-1===T||w<T)}},4074:(te,O,g)=>{"use strict";var i=g(1986),F=g(2470),B=g(5968),T=i.env,E=void 0;function b(S){var k=function m(S){if(!1===E)return 0;if(B("color=16m")||B("color=full")||B("color=truecolor"))return 3;if(B("color=256"))return 2;if(S&&!S.isTTY&&!0!==E)return 0;var k=E?1:0;if("win32"===i.platform){var R=F.release().split(".");return Number(i.versions.node.split(".")[0])>=8&&Number(R[0])>=10&&Number(R[2])>=10586?Number(R[2])>=14931?3:2:1}if("CI"in T)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(I){return I in T})||"codeship"===T.CI_NAME?1:k;if("TEAMCITY_VERSION"in T)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(T.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in T){var P=parseInt((T.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(T.TERM_PROGRAM){case"iTerm.app":return P>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(T.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(T.TERM)||"COLORTERM"in T?1:k}(S);return function w(S){return 0!==S&&{level:S,hasBasic:!0,has256:S>=2,has16m:S>=3}}(k)}B("no-color")||B("no-colors")||B("color=false")?E=!1:(B("color")||B("colors")||B("color=true")||B("color=always"))&&(E=!0),"FORCE_COLOR"in T&&(E=0===T.FORCE_COLOR.length||0!==parseInt(T.FORCE_COLOR,10)),te.exports={supportsColor:b,stdout:b(i.stdout),stderr:b(i.stderr)}},9064:(te,O,g)=>{var i=g(9572);te.exports=i},9937:(te,O,g)=>{te.exports=g(5170)},5170:(te,O,g)=>{var F=g(8145)(function B(T,E){return(E=E||{}).namespace=T,E.prod=!0,E.dev=!1,E.force||B.force?B.yep(E):B.nope(E)});te.exports=F},8145:te=>{var O=[],g=[],i=function(){};function F(R){return!~O.indexOf(R)&&(O.push(R),!0)}function B(R){i=R}function T(R){for(var P=[],I=0;I<O.length;I++)if(O[I].async)P.push(O[I]);else if(O[I](R))return!0;return!!P.length&&new Promise(function(U){Promise.all(P.map(function(K){return K(R)})).then(function(K){U(K.some(Boolean))})})}function E(R){return!~g.indexOf(R)&&(g.push(R),!0)}function w(){i.apply(i,arguments)}function m(R){for(var P=0;P<g.length;P++)R=g[P].apply(g[P],arguments);return R}function b(R,P){var I=Object.prototype.hasOwnProperty;for(var C in P)I.call(P,C)&&(R[C]=P[C]);return R}function S(R){return R.enabled=!1,R.modify=E,R.set=B,R.use=F,b(function(){return!1},R)}function k(R){return R.enabled=!0,R.modify=E,R.set=B,R.use=F,b(function P(){var I=Array.prototype.slice.call(arguments,0);return w.call(w,R,m(I,R)),!0},R)}te.exports=function(P){return P.introduce=b,P.enabled=T,P.process=m,P.modify=E,P.write=w,P.nope=S,P.yep=k,P.set=B,P.use=F,P}},2045:(te,O,g)=>{"use strict";var i=g(1986);function F(Re){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Xe){return typeof Xe}:function(Xe){return Xe&&"function"==typeof Symbol&&Xe.constructor===Symbol&&Xe!==Symbol.prototype?"symbol":typeof Xe})(Re)}var pe,ue,E=g(4777).codes,w=E.ERR_AMBIGUOUS_ARGUMENT,m=E.ERR_INVALID_ARG_TYPE,b=E.ERR_INVALID_ARG_VALUE,S=E.ERR_INVALID_RETURN_VALUE,k=E.ERR_MISSING_ARGS,R=g(3389),I=g(8901).inspect,C=g(8901).types,U=C.isPromise,$=C.isRegExp,K=Object.assign?Object.assign:g(3960).assign,z=Object.is?Object.is:g(403);function me(){var Re=g(500);pe=Re.isDeepEqual,ue=Re.isDeepStrictEqual}var de=!1,ne=te.exports=Ne,ve={};function Ue(Re){throw Re.message instanceof Error?Re.message:new R(Re)}function Ie(Re,Ve,Xe,vt){if(!Xe){var Fe=!1;if(0===Ve)Fe=!0,vt="No value argument passed to `assert.ok()`";else if(vt instanceof Error)throw vt;var Ge=new R({actual:Xe,expected:!0,message:vt,operator:"==",stackStartFn:Re});throw Ge.generatedMessage=Fe,Ge}}function Ne(){for(var Re=arguments.length,Ve=new Array(Re),Xe=0;Xe<Re;Xe++)Ve[Xe]=arguments[Xe];Ie.apply(void 0,[Ne,Ve.length].concat(Ve))}ne.fail=function ke(Re,Ve,Xe,vt,Fe){var be,Ge=arguments.length;if(0===Ge)be="Failed";else if(1===Ge)Xe=Re,Re=void 0;else{if(!1===de){de=!0;var le=i.emitWarning?i.emitWarning:console.warn.bind(console);le("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===Ge&&(vt="!=")}if(Xe instanceof Error)throw Xe;var re={actual:Re,expected:Ve,operator:void 0===vt?"fail":vt,stackStartFn:Fe||ke};void 0!==Xe&&(re.message=Xe);var xe=new R(re);throw be&&(xe.message=be,xe.generatedMessage=!0),xe},ne.AssertionError=R,ne.ok=Ne,ne.equal=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");Ve!=Xe&&Ue({actual:Ve,expected:Xe,message:vt,operator:"==",stackStartFn:Re})},ne.notEqual=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");Ve==Xe&&Ue({actual:Ve,expected:Xe,message:vt,operator:"!=",stackStartFn:Re})},ne.deepEqual=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");void 0===pe&&me(),pe(Ve,Xe)||Ue({actual:Ve,expected:Xe,message:vt,operator:"deepEqual",stackStartFn:Re})},ne.notDeepEqual=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");void 0===pe&&me(),pe(Ve,Xe)&&Ue({actual:Ve,expected:Xe,message:vt,operator:"notDeepEqual",stackStartFn:Re})},ne.deepStrictEqual=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");void 0===pe&&me(),ue(Ve,Xe)||Ue({actual:Ve,expected:Xe,message:vt,operator:"deepStrictEqual",stackStartFn:Re})},ne.notDeepStrictEqual=function Te(Re,Ve,Xe){if(arguments.length<2)throw new k("actual","expected");void 0===pe&&me(),ue(Re,Ve)&&Ue({actual:Re,expected:Ve,message:Xe,operator:"notDeepStrictEqual",stackStartFn:Te})},ne.strictEqual=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");z(Ve,Xe)||Ue({actual:Ve,expected:Xe,message:vt,operator:"strictEqual",stackStartFn:Re})},ne.notStrictEqual=function Re(Ve,Xe,vt){if(arguments.length<2)throw new k("actual","expected");z(Ve,Xe)&&Ue({actual:Ve,expected:Xe,message:vt,operator:"notStrictEqual",stackStartFn:Re})};var ze=function Re(Ve,Xe,vt){var Fe=this;(function B(Re,Ve){if(!(Re instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,Re),Xe.forEach(function(Ge){Ge in Ve&&(Fe[Ge]=void 0!==vt&&"string"==typeof vt[Ge]&&$(Ve[Ge])&&Ve[Ge].test(vt[Ge])?vt[Ge]:Ve[Ge])})};function ht(Re,Ve,Xe,vt,Fe,Ge){if(!(Xe in Re)||!ue(Re[Xe],Ve[Xe])){if(!vt){var be=new ze(Re,Fe),le=new ze(Ve,Fe,Re),re=new R({actual:be,expected:le,operator:"deepStrictEqual",stackStartFn:Ge});throw re.actual=Re,re.expected=Ve,re.operator=Ge.name,re}Ue({actual:Re,expected:Ve,message:vt,operator:Ge.name,stackStartFn:Ge})}}function Ke(Re,Ve,Xe,vt){if("function"!=typeof Ve){if($(Ve))return Ve.test(Re);if(2===arguments.length)throw new m("expected",["Function","RegExp"],Ve);if("object"!==F(Re)||null===Re){var Fe=new R({actual:Re,expected:Ve,message:Xe,operator:"deepStrictEqual",stackStartFn:vt});throw Fe.operator=vt.name,Fe}var Ge=Object.keys(Ve);if(Ve instanceof Error)Ge.push("name","message");else if(0===Ge.length)throw new b("error",Ve,"may not be an empty object");return void 0===pe&&me(),Ge.forEach(function(be){"string"==typeof Re[be]&&$(Ve[be])&&Ve[be].test(Re[be])||ht(Re,Ve,be,Xe,Ge,vt)}),!0}return void 0!==Ve.prototype&&Re instanceof Ve||!Error.isPrototypeOf(Ve)&&!0===Ve.call({},Re)}function tt(Re){if("function"!=typeof Re)throw new m("fn","Function",Re);try{Re()}catch(Ve){return Ve}return ve}function qe(Re){return U(Re)||null!==Re&&"object"===F(Re)&&"function"==typeof Re.then&&"function"==typeof Re.catch}function Qe(Re){return Promise.resolve().then(function(){var Ve;if("function"==typeof Re){if(!qe(Ve=Re()))throw new S("instance of Promise","promiseFn",Ve)}else{if(!qe(Re))throw new m("promiseFn",["Function","Promise"],Re);Ve=Re}return Promise.resolve().then(function(){return Ve}).then(function(){return ve}).catch(function(Xe){return Xe})})}function We(Re,Ve,Xe,vt){if("string"==typeof Xe){if(4===arguments.length)throw new m("error",["Object","Error","Function","RegExp"],Xe);if("object"===F(Ve)&&null!==Ve){if(Ve.message===Xe)throw new w("error/message",'The error message "'.concat(Ve.message,'" is identical to the message.'))}else if(Ve===Xe)throw new w("error/message",'The error "'.concat(Ve,'" is identical to the message.'));vt=Xe,Xe=void 0}else if(null!=Xe&&"object"!==F(Xe)&&"function"!=typeof Xe)throw new m("error",["Object","Error","Function","RegExp"],Xe);if(Ve===ve){var Fe="";Xe&&Xe.name&&(Fe+=" (".concat(Xe.name,")")),Fe+=vt?": ".concat(vt):".";var Ge="rejects"===Re.name?"rejection":"exception";Ue({actual:void 0,expected:Xe,operator:Re.name,message:"Missing expected ".concat(Ge).concat(Fe),stackStartFn:Re})}if(Xe&&!Ke(Ve,Xe,vt,Re))throw Ve}function ft(Re,Ve,Xe,vt){if(Ve!==ve){if("string"==typeof Xe&&(vt=Xe,Xe=void 0),!Xe||Ke(Ve,Xe)){var Fe=vt?": ".concat(vt):".";Ue({actual:Ve,expected:Xe,operator:Re.name,message:"Got unwanted ".concat("doesNotReject"===Re.name?"rejection":"exception").concat(Fe,"\n")+'Actual message: "'.concat(Ve&&Ve.message,'"'),stackStartFn:Re})}throw Ve}}function $e(){for(var Re=arguments.length,Ve=new Array(Re),Xe=0;Xe<Re;Xe++)Ve[Xe]=arguments[Xe];Ie.apply(void 0,[$e,Ve.length].concat(Ve))}ne.throws=function Re(Ve){for(var Xe=arguments.length,vt=new Array(Xe>1?Xe-1:0),Fe=1;Fe<Xe;Fe++)vt[Fe-1]=arguments[Fe];We.apply(void 0,[Re,tt(Ve)].concat(vt))},ne.rejects=function Re(Ve){for(var Xe=arguments.length,vt=new Array(Xe>1?Xe-1:0),Fe=1;Fe<Xe;Fe++)vt[Fe-1]=arguments[Fe];return Qe(Ve).then(function(Ge){return We.apply(void 0,[Re,Ge].concat(vt))})},ne.doesNotThrow=function Re(Ve){for(var Xe=arguments.length,vt=new Array(Xe>1?Xe-1:0),Fe=1;Fe<Xe;Fe++)vt[Fe-1]=arguments[Fe];ft.apply(void 0,[Re,tt(Ve)].concat(vt))},ne.doesNotReject=function Re(Ve){for(var Xe=arguments.length,vt=new Array(Xe>1?Xe-1:0),Fe=1;Fe<Xe;Fe++)vt[Fe-1]=arguments[Fe];return Qe(Ve).then(function(Ge){return ft.apply(void 0,[Re,Ge].concat(vt))})},ne.ifError=function Re(Ve){if(null!=Ve){var Xe="ifError got unwanted exception: ";"object"===F(Ve)&&"string"==typeof Ve.message?Xe+=0===Ve.message.length&&Ve.constructor?Ve.constructor.name:Ve.message:Xe+=I(Ve);var vt=new R({actual:Ve,expected:null,operator:"ifError",message:Xe,stackStartFn:Re}),Fe=Ve.stack;if("string"==typeof Fe){var Ge=Fe.split("\n");Ge.shift();for(var be=vt.stack.split("\n"),le=0;le<Ge.length;le++){var re=be.indexOf(Ge[le]);if(-1!==re){be=be.slice(0,re);break}}vt.stack="".concat(be.join("\n"),"\n").concat(Ge.join("\n"))}throw vt}},ne.strict=K($e,ne,{equal:ne.strictEqual,deepEqual:ne.deepStrictEqual,notEqual:ne.notStrictEqual,notDeepEqual:ne.notDeepStrictEqual}),ne.strict.strict=ne.strict},3389:(te,O,g)=>{"use strict";var i=g(1986);function B(ke,Ie,Ne){return Ie in ke?Object.defineProperty(ke,Ie,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):ke[Ie]=Ne,ke}function E(ke,Ie){for(var Ne=0;Ne<Ie.length;Ne++){var Te=Ie[Ne];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(ke,Te.key,Te)}}function m(ke,Ie){return!Ie||"object"!==$(Ie)&&"function"!=typeof Ie?b(ke):Ie}function b(ke){if(void 0===ke)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ke}function k(ke){var Ie="function"==typeof Map?new Map:void 0;return k=function(Te){if(null===Te||!function I(ke){return-1!==Function.toString.call(ke).indexOf("[native code]")}(Te))return Te;if("function"!=typeof Te)throw new TypeError("Super expression must either be null or a function");if(void 0!==Ie){if(Ie.has(Te))return Ie.get(Te);Ie.set(Te,ze)}function ze(){return P(Te,arguments,U(this).constructor)}return ze.prototype=Object.create(Te.prototype,{constructor:{value:ze,enumerable:!1,writable:!0,configurable:!0}}),C(ze,Te)},k(ke)}function R(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ke){return!1}}function P(ke,Ie,Ne){return(P=R()?Reflect.construct:function(ze,ht,Ke){var tt=[null];tt.push.apply(tt,ht);var Qe=new(Function.bind.apply(ze,tt));return Ke&&C(Qe,Ke.prototype),Qe}).apply(null,arguments)}function C(ke,Ie){return(C=Object.setPrototypeOf||function(Te,ze){return Te.__proto__=ze,Te})(ke,Ie)}function U(ke){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)})(ke)}function $(ke){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ne){return typeof Ne}:function(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne})(ke)}var z=g(8901).inspect,pe=g(4777).codes.ERR_INVALID_ARG_TYPE;function ue(ke,Ie,Ne){return(void 0===Ne||Ne>ke.length)&&(Ne=ke.length),ke.substring(Ne-Ie.length,Ne)===Ie}var Y="",De="",me="",Me="",nt={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function de(ke){var Ie=Object.keys(ke),Ne=Object.create(Object.getPrototypeOf(ke));return Ie.forEach(function(Te){Ne[Te]=ke[Te]}),Object.defineProperty(Ne,"message",{value:ke.message}),Ne}function ne(ke){return z(ke,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var Ue=function(ke){function Ie(Ne){var Te;if(function T(ke,Ie){if(!(ke instanceof Ie))throw new TypeError("Cannot call a class as a function")}(this,Ie),"object"!==$(Ne)||null===Ne)throw new pe("options","Object",Ne);var ze=Ne.message,ht=Ne.operator,Ke=Ne.stackStartFn,tt=Ne.actual,qe=Ne.expected,Qe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=ze)Te=m(this,U(Ie).call(this,String(ze)));else if(i.stderr&&i.stderr.isTTY&&(i.stderr&&i.stderr.getColorDepth&&1!==i.stderr.getColorDepth()?(Y="\x1b[34m",De="\x1b[32m",Me="\x1b[39m",me="\x1b[31m"):(Y="",De="",Me="",me="")),"object"===$(tt)&&null!==tt&&"object"===$(qe)&&null!==qe&&"stack"in tt&&tt instanceof Error&&"stack"in qe&&qe instanceof Error&&(tt=de(tt),qe=de(qe)),"deepStrictEqual"===ht||"strictEqual"===ht)Te=m(this,U(Ie).call(this,function ve(ke,Ie,Ne){var Te="",ze="",ht=0,Ke="",tt=!1,qe=ne(ke),Qe=qe.split("\n"),We=ne(Ie).split("\n"),ft=0,$e="";if("strictEqual"===Ne&&"object"===$(ke)&&"object"===$(Ie)&&null!==ke&&null!==Ie&&(Ne="strictEqualObject"),1===Qe.length&&1===We.length&&Qe[0]!==We[0]){var Re=Qe[0].length+We[0].length;if(Re<=10){if(!("object"===$(ke)&&null!==ke||"object"===$(Ie)&&null!==Ie||0===ke&&0===Ie))return"".concat(nt[Ne],"\n\n")+"".concat(Qe[0]," !== ").concat(We[0],"\n")}else if("strictEqualObject"!==Ne&&Re<(i.stderr&&i.stderr.isTTY?i.stderr.columns:80)){for(;Qe[0][ft]===We[0][ft];)ft++;ft>2&&($e="\n  ".concat(function fe(ke,Ie){if(Ie=Math.floor(Ie),0==ke.length||0==Ie)return"";var Ne=ke.length*Ie;for(Ie=Math.floor(Math.log(Ie)/Math.log(2));Ie;)ke+=ke,Ie--;return ke+ke.substring(0,Ne-ke.length)}(" ",ft),"^"),ft=0)}}for(var Xe=Qe[Qe.length-1],vt=We[We.length-1];Xe===vt&&(ft++<2?Ke="\n  ".concat(Xe).concat(Ke):Te=Xe,Qe.pop(),We.pop(),0!==Qe.length&&0!==We.length);)Xe=Qe[Qe.length-1],vt=We[We.length-1];var Fe=Math.max(Qe.length,We.length);if(0===Fe){var Ge=qe.split("\n");if(Ge.length>30)for(Ge[26]="".concat(Y,"...").concat(Me);Ge.length>27;)Ge.pop();return"".concat(nt.notIdentical,"\n\n").concat(Ge.join("\n"),"\n")}ft>3&&(Ke="\n".concat(Y,"...").concat(Me).concat(Ke),tt=!0),""!==Te&&(Ke="\n  ".concat(Te).concat(Ke),Te="");var be=0,le=nt[Ne]+"\n".concat(De,"+ actual").concat(Me," ").concat(me,"- expected").concat(Me),re=" ".concat(Y,"...").concat(Me," Lines skipped");for(ft=0;ft<Fe;ft++){var xe=ft-ht;if(Qe.length<ft+1)xe>1&&ft>2&&(xe>4?(ze+="\n".concat(Y,"...").concat(Me),tt=!0):xe>3&&(ze+="\n  ".concat(We[ft-2]),be++),ze+="\n  ".concat(We[ft-1]),be++),ht=ft,Te+="\n".concat(me,"-").concat(Me," ").concat(We[ft]),be++;else if(We.length<ft+1)xe>1&&ft>2&&(xe>4?(ze+="\n".concat(Y,"...").concat(Me),tt=!0):xe>3&&(ze+="\n  ".concat(Qe[ft-2]),be++),ze+="\n  ".concat(Qe[ft-1]),be++),ht=ft,ze+="\n".concat(De,"+").concat(Me," ").concat(Qe[ft]),be++;else{var xt=We[ft],Ut=Qe[ft],Yt=Ut!==xt&&(!ue(Ut,",")||Ut.slice(0,-1)!==xt);Yt&&ue(xt,",")&&xt.slice(0,-1)===Ut&&(Yt=!1,Ut+=","),Yt?(xe>1&&ft>2&&(xe>4?(ze+="\n".concat(Y,"...").concat(Me),tt=!0):xe>3&&(ze+="\n  ".concat(Qe[ft-2]),be++),ze+="\n  ".concat(Qe[ft-1]),be++),ht=ft,ze+="\n".concat(De,"+").concat(Me," ").concat(Ut),Te+="\n".concat(me,"-").concat(Me," ").concat(xt),be+=2):(ze+=Te,Te="",(1===xe||0===ft)&&(ze+="\n  ".concat(Ut),be++))}if(be>20&&ft<Fe-2)return"".concat(le).concat(re,"\n").concat(ze,"\n").concat(Y,"...").concat(Me).concat(Te,"\n")+"".concat(Y,"...").concat(Me)}return"".concat(le).concat(tt?re:"","\n").concat(ze).concat(Te).concat(Ke).concat($e)}(tt,qe,ht)));else if("notDeepStrictEqual"===ht||"notStrictEqual"===ht){var We=nt[ht],ft=ne(tt).split("\n");if("notStrictEqual"===ht&&"object"===$(tt)&&null!==tt&&(We=nt.notStrictEqualObject),ft.length>30)for(ft[26]="".concat(Y,"...").concat(Me);ft.length>27;)ft.pop();Te=m(this,1===ft.length?U(Ie).call(this,"".concat(We," ").concat(ft[0])):U(Ie).call(this,"".concat(We,"\n\n").concat(ft.join("\n"),"\n")))}else{var $e=ne(tt),Re="",Ve=nt[ht];"notDeepEqual"===ht||"notEqual"===ht?($e="".concat(nt[ht],"\n\n").concat($e)).length>1024&&($e="".concat($e.slice(0,1021),"...")):(Re="".concat(ne(qe)),$e.length>512&&($e="".concat($e.slice(0,509),"...")),Re.length>512&&(Re="".concat(Re.slice(0,509),"...")),"deepEqual"===ht||"equal"===ht?$e="".concat(Ve,"\n\n").concat($e,"\n\nshould equal\n\n"):Re=" ".concat(ht," ").concat(Re)),Te=m(this,U(Ie).call(this,"".concat($e).concat(Re)))}return Error.stackTraceLimit=Qe,Te.generatedMessage=!ze,Object.defineProperty(b(Te),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Te.code="ERR_ASSERTION",Te.actual=tt,Te.expected=qe,Te.operator=ht,Error.captureStackTrace&&Error.captureStackTrace(b(Te),Ke),Te.name="AssertionError",m(Te)}return function S(ke,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Ie&&C(ke,Ie)}(Ie,ke),function w(ke,Ie,Ne){Ie&&E(ke.prototype,Ie),Ne&&E(ke,Ne)}(Ie,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:z.custom,value:function(Te,ze){return z(this,function F(ke){for(var Ie=1;Ie<arguments.length;Ie++){var Ne=null!=arguments[Ie]?arguments[Ie]:{},Te=Object.keys(Ne);"function"==typeof Object.getOwnPropertySymbols&&(Te=Te.concat(Object.getOwnPropertySymbols(Ne).filter(function(ze){return Object.getOwnPropertyDescriptor(Ne,ze).enumerable}))),Te.forEach(function(ze){B(ke,ze,Ne[ze])})}return ke}({},ze,{customInspect:!1,depth:0}))}}]),Ie}(k(Error));te.exports=Ue},4777:(te,O,g)=>{"use strict";function i($){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})($)}function E($){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})($)}function m($,K){return(m=Object.setPrototypeOf||function(ae,pe){return ae.__proto__=pe,ae})($,K)}var S,k,b={};function R($,K,z){z||(z=Error);var pe=function(ue){function fe(Y,De,me){var Me;return function F($,K){if(!($ instanceof K))throw new TypeError("Cannot call a class as a function")}(this,fe),Me=function B($,K){return!K||"object"!==i(K)&&"function"!=typeof K?function T($){if(void 0===$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}($):K}(this,E(fe).call(this,function ae(ue,fe,Y){return"string"==typeof K?K:K(ue,fe,Y)}(Y,De,me))),Me.code=$,Me}return function w($,K){if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(K&&K.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),K&&m($,K)}(fe,ue),fe}(z);b[$]=pe}function P($,K){if(Array.isArray($)){var z=$.length;return $=$.map(function(ae){return String(ae)}),z>2?"one of ".concat(K," ").concat($.slice(0,z-1).join(", "),", or ")+$[z-1]:2===z?"one of ".concat(K," ").concat($[0]," or ").concat($[1]):"of ".concat(K," ").concat($[0])}return"of ".concat(K," ").concat(String($))}R("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),R("ERR_INVALID_ARG_TYPE",function($,K,z){var ae,pe;if(void 0===S&&(S=g(2045)),S("string"==typeof $,"'name' must be a string"),"string"==typeof K&&function I($,K,z){return $.substr(!z||z<0?0:+z,K.length)===K}(K,"not ")?(ae="must not be",K=K.replace(/^not /,"")):ae="must be",function C($,K,z){return(void 0===z||z>$.length)&&(z=$.length),$.substring(z-K.length,z)===K}($," argument"))pe="The ".concat($," ").concat(ae," ").concat(P(K,"type"));else{var ue=function U($,K,z){return"number"!=typeof z&&(z=0),!(z+K.length>$.length)&&-1!==$.indexOf(K,z)}($,".")?"property":"argument";pe='The "'.concat($,'" ').concat(ue," ").concat(ae," ").concat(P(K,"type"))}return pe+". Received type ".concat(i(z))},TypeError),R("ERR_INVALID_ARG_VALUE",function($,K){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===k&&(k=g(8901));var ae=k.inspect(K);return ae.length>128&&(ae="".concat(ae.slice(0,128),"...")),"The argument '".concat($,"' ").concat(z,". Received ").concat(ae)},TypeError,RangeError),R("ERR_INVALID_RETURN_VALUE",function($,K,z){var ae;return ae=z&&z.constructor&&z.constructor.name?"instance of ".concat(z.constructor.name):"type ".concat(i(z)),"Expected ".concat($,' to be returned from the "').concat(K,'"')+" function but got ".concat(ae,".")},TypeError),R("ERR_MISSING_ARGS",function(){for(var $=arguments.length,K=new Array($),z=0;z<$;z++)K[z]=arguments[z];void 0===S&&(S=g(2045)),S(K.length>0,"At least one arg needs to be specified");var ae="The ",pe=K.length;switch(K=K.map(function(ue){return'"'.concat(ue,'"')}),pe){case 1:ae+="".concat(K[0]," argument");break;case 2:ae+="".concat(K[0]," and ").concat(K[1]," arguments");break;default:ae+=K.slice(0,pe-1).join(", "),ae+=", and ".concat(K[pe-1]," arguments")}return"".concat(ae," must be specified")},TypeError),te.exports.codes=b},500:(te,O,g)=>{"use strict";function i(Ct,It){return function T(Ct){if(Array.isArray(Ct))return Ct}(Ct)||function B(Ct,It){var qt=[],Gt=!0,Wt=!1,un=void 0;try{for(var Fn,Cn=Ct[Symbol.iterator]();!(Gt=(Fn=Cn.next()).done)&&(qt.push(Fn.value),!It||qt.length!==It);Gt=!0);}catch(Ye){Wt=!0,un=Ye}finally{try{!Gt&&null!=Cn.return&&Cn.return()}finally{if(Wt)throw un}}return qt}(Ct,It)||function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(Ct){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(qt){return typeof qt}:function(qt){return qt&&"function"==typeof Symbol&&qt.constructor===Symbol&&qt!==Symbol.prototype?"symbol":typeof qt})(Ct)}var w=void 0!==/a/g.flags,m=function(It){var qt=[];return It.forEach(function(Gt){return qt.push(Gt)}),qt},b=function(It){var qt=[];return It.forEach(function(Gt,Wt){return qt.push([Wt,Gt])}),qt},S=Object.is?Object.is:g(403),k=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},R=Number.isNaN?Number.isNaN:g(473);function P(Ct){return Ct.call.bind(Ct)}var I=P(Object.prototype.hasOwnProperty),C=P(Object.prototype.propertyIsEnumerable),U=P(Object.prototype.toString),$=g(8901).types,K=$.isAnyArrayBuffer,z=$.isArrayBufferView,ae=$.isDate,pe=$.isMap,ue=$.isRegExp,fe=$.isSet,Y=$.isNativeError,De=$.isBoxedPrimitive,me=$.isNumberObject,Me=$.isStringObject,nt=$.isBooleanObject,et=$.isBigIntObject,de=$.isSymbolObject,ne=$.isFloat32Array,ve=$.isFloat64Array;function Ue(Ct){if(0===Ct.length||Ct.length>10)return!0;for(var It=0;It<Ct.length;It++){var qt=Ct.charCodeAt(It);if(qt<48||qt>57)return!0}return 10===Ct.length&&Ct>=Math.pow(2,32)}function ke(Ct){return Object.keys(Ct).filter(Ue).concat(k(Ct).filter(Object.prototype.propertyIsEnumerable.bind(Ct)))}function Ie(Ct,It){if(Ct===It)return 0;for(var qt=Ct.length,Gt=It.length,Wt=0,un=Math.min(qt,Gt);Wt<un;++Wt)if(Ct[Wt]!==It[Wt]){qt=Ct[Wt],Gt=It[Wt];break}return qt<Gt?-1:Gt<qt?1:0}function Ve(Ct,It,qt,Gt){if(Ct===It)return 0!==Ct||!qt||S(Ct,It);if(qt){if("object"!==E(Ct))return"number"==typeof Ct&&R(Ct)&&R(It);if("object"!==E(It)||null===Ct||null===It||Object.getPrototypeOf(Ct)!==Object.getPrototypeOf(It))return!1}else{if(null===Ct||"object"!==E(Ct))return(null===It||"object"!==E(It))&&Ct==It;if(null===It||"object"!==E(It))return!1}var Wt=U(Ct);if(Wt!==U(It))return!1;if(Array.isArray(Ct)){if(Ct.length!==It.length)return!1;var Cn=ke(Ct),Fn=ke(It);return Cn.length===Fn.length&&vt(Ct,It,qt,Gt,1,Cn)}if("[object Object]"===Wt&&(!pe(Ct)&&pe(It)||!fe(Ct)&&fe(It)))return!1;if(ae(Ct)){if(!ae(It)||Date.prototype.getTime.call(Ct)!==Date.prototype.getTime.call(It))return!1}else if(ue(Ct)){if(!ue(It)||!function Qe(Ct,It){return w?Ct.source===It.source&&Ct.flags===It.flags:RegExp.prototype.toString.call(Ct)===RegExp.prototype.toString.call(It)}(Ct,It))return!1}else if(Y(Ct)||Ct instanceof Error){if(Ct.message!==It.message||Ct.name!==It.name)return!1}else{if(z(Ct)){if(qt||!ne(Ct)&&!ve(Ct)){if(!function ft(Ct,It){return Ct.byteLength===It.byteLength&&0===Ie(new Uint8Array(Ct.buffer,Ct.byteOffset,Ct.byteLength),new Uint8Array(It.buffer,It.byteOffset,It.byteLength))}(Ct,It))return!1}else if(!function We(Ct,It){if(Ct.byteLength!==It.byteLength)return!1;for(var qt=0;qt<Ct.byteLength;qt++)if(Ct[qt]!==It[qt])return!1;return!0}(Ct,It))return!1;var Ye=ke(Ct),Nt=ke(It);return Ye.length===Nt.length&&vt(Ct,It,qt,Gt,0,Ye)}if(fe(Ct))return!(!fe(It)||Ct.size!==It.size)&&vt(Ct,It,qt,Gt,2);if(pe(Ct))return!(!pe(It)||Ct.size!==It.size)&&vt(Ct,It,qt,Gt,3);if(K(Ct)){if(!function $e(Ct,It){return Ct.byteLength===It.byteLength&&0===Ie(new Uint8Array(Ct),new Uint8Array(It))}(Ct,It))return!1}else if(De(Ct)&&!function Re(Ct,It){return me(Ct)?me(It)&&S(Number.prototype.valueOf.call(Ct),Number.prototype.valueOf.call(It)):Me(Ct)?Me(It)&&String.prototype.valueOf.call(Ct)===String.prototype.valueOf.call(It):nt(Ct)?nt(It)&&Boolean.prototype.valueOf.call(Ct)===Boolean.prototype.valueOf.call(It):et(Ct)?et(It)&&BigInt.prototype.valueOf.call(Ct)===BigInt.prototype.valueOf.call(It):de(It)&&Symbol.prototype.valueOf.call(Ct)===Symbol.prototype.valueOf.call(It)}(Ct,It))return!1}return vt(Ct,It,qt,Gt,0)}function Xe(Ct,It){return It.filter(function(qt){return C(Ct,qt)})}function vt(Ct,It,qt,Gt,Wt,un){if(5===arguments.length){un=Object.keys(Ct);var Cn=Object.keys(It);if(un.length!==Cn.length)return!1}for(var Fn=0;Fn<un.length;Fn++)if(!I(It,un[Fn]))return!1;if(qt&&5===arguments.length){var Ye=k(Ct);if(0!==Ye.length){var Nt=0;for(Fn=0;Fn<Ye.length;Fn++){var on=Ye[Fn];if(C(Ct,on)){if(!C(It,on))return!1;un.push(on),Nt++}else if(C(It,on))return!1}var cn=k(It);if(Ye.length!==cn.length&&Xe(It,cn).length!==Nt)return!1}else{var Tt=k(It);if(0!==Tt.length&&0!==Xe(It,Tt).length)return!1}}if(0===un.length&&(0===Wt||1===Wt&&0===Ct.length||0===Ct.size))return!0;if(void 0===Gt)Gt={val1:new Map,val2:new Map,position:0};else{var Bt=Gt.val1.get(Ct);if(void 0!==Bt){var He=Gt.val2.get(It);if(void 0!==He)return Bt===He}Gt.position++}Gt.val1.set(Ct,Gt.position),Gt.val2.set(It,Gt.position);var nn=Ut(Ct,It,qt,un,Gt,Wt);return Gt.val1.delete(Ct),Gt.val2.delete(It),nn}function Fe(Ct,It,qt,Gt){for(var Wt=m(Ct),un=0;un<Wt.length;un++){var Cn=Wt[un];if(Ve(It,Cn,qt,Gt))return Ct.delete(Cn),!0}return!1}function Ge(Ct){switch(E(Ct)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ct=+Ct;case"number":if(R(Ct))return!1}return!0}function be(Ct,It,qt){var Gt=Ge(qt);return null!=Gt?Gt:It.has(Gt)&&!Ct.has(Gt)}function le(Ct,It,qt,Gt,Wt){var un=Ge(qt);if(null!=un)return un;var Cn=It.get(un);return!(void 0===Cn&&!It.has(un)||!Ve(Gt,Cn,!1,Wt))&&!Ct.has(un)&&Ve(Gt,Cn,!1,Wt)}function xe(Ct,It,qt,Gt,Wt,un){for(var Cn=m(Ct),Fn=0;Fn<Cn.length;Fn++){var Ye=Cn[Fn];if(Ve(qt,Ye,Wt,un)&&Ve(Gt,It.get(Ye),Wt,un))return Ct.delete(Ye),!0}return!1}function Ut(Ct,It,qt,Gt,Wt,un){var Cn=0;if(2===un){if(!function re(Ct,It,qt,Gt){for(var Wt=null,un=m(Ct),Cn=0;Cn<un.length;Cn++){var Fn=un[Cn];if("object"===E(Fn)&&null!==Fn)null===Wt&&(Wt=new Set),Wt.add(Fn);else if(!It.has(Fn)){if(qt||!be(Ct,It,Fn))return!1;null===Wt&&(Wt=new Set),Wt.add(Fn)}}if(null!==Wt){for(var Ye=m(It),Nt=0;Nt<Ye.length;Nt++){var on=Ye[Nt];if("object"===E(on)&&null!==on){if(!Fe(Wt,on,qt,Gt))return!1}else if(!qt&&!Ct.has(on)&&!Fe(Wt,on,qt,Gt))return!1}return 0===Wt.size}return!0}(Ct,It,qt,Wt))return!1}else if(3===un){if(!function xt(Ct,It,qt,Gt){for(var Wt=null,un=b(Ct),Cn=0;Cn<un.length;Cn++){var Fn=i(un[Cn],2),Nt=Fn[1];if("object"===E(Ye=Fn[0])&&null!==Ye)null===Wt&&(Wt=new Set),Wt.add(Ye);else{var on=It.get(Ye);if(void 0===on&&!It.has(Ye)||!Ve(Nt,on,qt,Gt)){if(qt||!le(Ct,It,Ye,Nt,Gt))return!1;null===Wt&&(Wt=new Set),Wt.add(Ye)}}}if(null!==Wt){for(var cn=b(It),Tt=0;Tt<cn.length;Tt++){var Ye,Bt=i(cn[Tt],2),He=Bt[1];if("object"===E(Ye=Bt[0])&&null!==Ye){if(!xe(Wt,Ct,Ye,He,qt,Gt))return!1}else if(!(qt||Ct.has(Ye)&&Ve(Ct.get(Ye),He,!1,Gt)||xe(Wt,Ct,Ye,He,!1,Gt)))return!1}return 0===Wt.size}return!0}(Ct,It,qt,Wt))return!1}else if(1===un)for(;Cn<Ct.length;Cn++){if(!I(Ct,Cn)){if(I(It,Cn))return!1;for(var Fn=Object.keys(Ct);Cn<Fn.length;Cn++){var Ye=Fn[Cn];if(!I(It,Ye)||!Ve(Ct[Ye],It[Ye],qt,Wt))return!1}return Fn.length===Object.keys(It).length}if(!I(It,Cn)||!Ve(Ct[Cn],It[Cn],qt,Wt))return!1}for(Cn=0;Cn<Gt.length;Cn++){var Nt=Gt[Cn];if(!Ve(Ct[Nt],It[Nt],qt,Wt))return!1}return!0}te.exports={isDeepEqual:function Yt(Ct,It){return Ve(Ct,It,!1)},isDeepStrictEqual:function xn(Ct,It){return Ve(Ct,It,!0)}}},3520:(te,O,g)=>{"use strict";const i=g(264);class F{constructor(T){this._client=T}set handleMessage(T){this._client.handleMessage=T}get handleMessage(){return this._client.handleMessage}get connected(){return this._client.connected}get reconnecting(){return this._client.reconnecting}publish(...T){return new Promise((E,w)=>{this._client.publish(...T,(m,b)=>{m?w(m):E(b)})})}subscribe(...T){return new Promise((E,w)=>{this._client.subscribe(...T,(m,b)=>{m?w(m):E(b)})})}unsubscribe(...T){return new Promise((E,w)=>{this._client.unsubscribe(...T,(m,b)=>{m?w(m):E(b)})})}end(...T){return new Promise((E,w)=>{this._client.end(...T,(m,b)=>{m?w(m):E(b)})})}reconnect(...T){return this._client.reconnect(...T)}addListener(...T){return this._client.addListener(...T)}emit(...T){return this._client.emit(...T)}eventNames(...T){return this._client.eventNames(...T)}getLastMessageId(...T){return this._client.getLastMessageId(...T)}getMaxListeners(...T){return this._client.getMaxListeners(...T)}listenerCount(...T){return this._client.listenerCount(...T)}listeners(...T){return this._client.listeners(...T)}off(...T){return this._client.off(...T)}on(...T){return this._client.on(...T)}once(...T){return this._client.once(...T)}prependListener(...T){return this._client.prependListener(...T)}prependOnceListener(...T){return this._client.prependOnceListener(...T)}rawListeners(...T){return this._client.rawListeners(...T)}removeAllListeners(...T){return this._client.removeAllListeners(...T)}removeListener(...T){return this._client.removeListener(...T)}removeOutgoingMessage(...T){return this._client.removeOutgoingMessage(...T)}setMaxListeners(...T){return this._client.setMaxListeners(...T)}}te.exports={connect(B,T){const E=i.connect(B,T);return new F(E)},connectAsync(B,T,E=!0){const w=i.connect(B,T),m=new F(w);return new Promise((b,S)=>{const k={connect:P=>{R(),b(m)},end:()=>{R(),b(m)},error:P=>{R(),w.end(),S(P)}};function R(){Object.keys(k).forEach(P=>{w.removeListener(P,k[P])})}!1===E&&(k.close=()=>{k.error("Couldn't connect to server")}),Object.keys(k).forEach(P=>{w.on(P,k[P])})})},AsyncClient:F}},9909:(te,O,g)=>{var i=g(7526).Buffer,F=g(1986),B=g(8623),T=g(7735),E=g(7326),w=g(7087),m=i.from&&i.from!==Uint8Array.from?i.from([0]):new i([0]),b=function(U,$){U._corked?U.once("uncork",$):$()},k=function(U,$){return function(K){K?function(U,$){U._autoDestroy&&U.destroy($)}(U,"premature close"===K.message?null:K):$&&!U._ended&&U.end()}},P=function(){},C=function(U,$,K){if(!(this instanceof C))return new C(U,$,K);B.Duplex.call(this,K),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!K||!1!==K.autoDestroy,this._forwardDestroy=!K||!1!==K.destroy,this._forwardEnd=!K||!1!==K.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,U&&this.setWritable(U),$&&this.setReadable($)};E(C,B.Duplex),C.obj=function(U,$,K){return K||(K={}),K.objectMode=!0,K.highWaterMark=16,new C(U,$,K)},C.prototype.cork=function(){1==++this._corked&&this.emit("cork")},C.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},C.prototype.setWritable=function(U){if(this._unwrite&&this._unwrite(),this.destroyed)U&&U.destroy&&U.destroy();else if(null!==U&&!1!==U){var $=this,K=T(U,{writable:!0,readable:!1},k(this,this._forwardEnd)),z=function(){var pe=$._ondrain;$._ondrain=null,pe&&pe()};this._unwrite&&F.nextTick(z),this._writable=U,this._writable.on("drain",z),this._unwrite=function(){$._writable.removeListener("drain",z),K()},this.uncork()}else this.end()},C.prototype.setReadable=function(U){if(this._unread&&this._unread(),this.destroyed)U&&U.destroy&&U.destroy();else{if(null===U||!1===U)return this.push(null),void this.resume();var $=this,K=T(U,{writable:!1,readable:!0},k(this)),z=function(){$._forward()},ae=function(){$.push(null)};this._drained=!0,this._readable=U,this._readable2=U._readableState?U:function(U){return new B.Readable({objectMode:!0,highWaterMark:16}).wrap(U)}(U),this._readable2.on("readable",z),this._readable2.on("end",ae),this._unread=function(){$._readable2.removeListener("readable",z),$._readable2.removeListener("end",ae),K()},this._forward()}},C.prototype._read=function(){this._drained=!0,this._forward()},C.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var U;this._drained&&null!==(U=w(this._readable2));)this.destroyed||(this._drained=this.push(U));this._forwarding=!1}},C.prototype.destroy=function(U,$){if($||($=P),this.destroyed)return $(null);this.destroyed=!0;var K=this;F.nextTick(function(){K._destroy(U),$(null)})},C.prototype._destroy=function(U){if(U){var $=this._ondrain;this._ondrain=null,$?$(U):this.emit("error",U)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},C.prototype._write=function(U,$,K){if(!this.destroyed){if(this._corked)return b(this,this._write.bind(this,U,$,K));if(U===m)return this._finish(K);if(!this._writable)return K();!1===this._writable.write(U)?this._ondrain=K:this.destroyed||K()}},C.prototype._finish=function(U){var $=this;this.emit("preend"),b(this,function(){!function(U,$){!U||U._writableState&&U._writableState.finished?$():U._writableState?U.end($):(U.end(),$())}($._forwardEnd&&$._writable,function(){!1===$._writableState.prefinished&&($._writableState.prefinished=!0),$.emit("prefinish"),b($,U)})})},C.prototype.end=function(U,$,K){return"function"==typeof U?this.end(null,null,U):"function"==typeof $?this.end(U,null,$):(this._ended=!0,U&&this.write(U),!this._writableState.ending&&!this._writableState.destroyed&&this.write(m),B.Writable.prototype.end.call(this,K))},te.exports=C},8135:(te,O,g)=>{"use strict";var i=g(1986);const F=g(9502).EventEmitter,B=g(4848),T=g(3513),E=g(4708),w=g(2269),m=g(9063),b=g(8623).Writable,S=g(7326),k=g(7689),R=g(7084),P=g(4983),I=g(7980),C=g(1748)("mqttjs:client"),U=i?i.nextTick:function(de){setTimeout(de,0)},$=global.setImmediate||function(de){U(de)},K={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},z=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],ae={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function fe(de,ne){let ve;ne.properties&&(ve=ne.properties.topicAlias);let Ue=ne.topic.toString();if(0===Ue.length){if(void 0===ve)return new Error("Unregistered Topic Alias");if(Ue=de.topicAliasSend.getTopicByAlias(ve),void 0===Ue)return new Error("Unregistered Topic Alias");ne.topic=Ue}ve&&delete ne.properties.topicAlias}function Y(de,ne,ve){C("sendPacket :: packet: %O",ne),C("sendPacket :: emitting `packetsend`"),de.emit("packetsend",ne),C("sendPacket :: writing to stream");const Ue=w.writeToStream(ne,de.stream,de.options);C("sendPacket :: writeToStream result %s",Ue),!Ue&&ve&&ve!==nt?(C("sendPacket :: handle events on `drain` once through callback."),de.stream.once("drain",ve)):ve&&(C("sendPacket :: invoking cb"),ve())}function De(de){de&&(C("flush: queue exists? %b",!!de),Object.keys(de).forEach(function(ne){"function"==typeof de[ne].cb&&(de[ne].cb(new Error("Connection closed")),delete de[ne])}))}function Me(de,ne,ve,Ue){C("storeAndSend :: store packet with cmd %s to outgoingStore",ne.cmd);let Ie,ke=ne;if("publish"===ke.cmd&&(ke=R(ne),Ie=fe(de,ke),Ie))return ve&&ve(Ie);de.outgoingStore.put(ke,function(Te){if(Te)return ve&&ve(Te);Ue(),Y(de,ne,ve)})}function nt(de){C("nop ::",de)}function et(de,ne){let ve;const Ue=this;if(!(this instanceof et))return new et(de,ne);for(ve in this.options=ne||{},K)this.options[ve]=void 0===this.options[ve]?K[ve]:ne[ve];C("MqttClient :: options.protocol",ne.protocol),C("MqttClient :: options.protocolVersion",ne.protocolVersion),C("MqttClient :: options.username",ne.username),C("MqttClient :: options.keepalive",ne.keepalive),C("MqttClient :: options.reconnectPeriod",ne.reconnectPeriod),C("MqttClient :: options.rejectUnauthorized",ne.rejectUnauthorized),C("MqttClient :: options.topicAliasMaximum",ne.topicAliasMaximum),this.options.clientId="string"==typeof ne.clientId?ne.clientId:function pe(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}(),C("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===ne.protocolVersion&&ne.customHandleAcks?ne.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=de,this.messageIdProvider=void 0===this.options.messageIdProvider?new m:this.options.messageIdProvider,this.outgoingStore=ne.outgoingStore||new B,this.incomingStore=ne.incomingStore||new B,this.queueQoSZero=void 0===ne.queueQoSZero||ne.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,ne.topicAliasMaximum>0&&(ne.topicAliasMaximum>65535?C("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new T(ne.topicAliasMaximum)),this.on("connect",function(){const ke=this.queue;C("connect :: sending queued packets"),function Ie(){const Ne=ke.shift();C("deliver :: entry %o",Ne);let Te=null;if(!Ne)return void Ue._resubscribe();Te=Ne.packet,C("deliver :: call _sendPacket for %o",Te);let ze=!0;Te.messageId&&0!==Te.messageId&&(Ue.messageIdProvider.register(Te.messageId)||(ze=!1)),ze?Ue._sendPacket(Te,function(ht){Ne.cb&&Ne.cb(ht),Ie()}):(C("messageId: %d has already used. The message is skipped and removed.",Te.messageId),Ie())}()}),this.on("close",function(){C("close :: connected set to `false`"),this.connected=!1,C("close :: clearing connackTimer"),clearTimeout(this.connackTimer),C("close :: clearing ping timer"),null!==Ue.pingTimer&&(Ue.pingTimer.clear(),Ue.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),C("close :: calling _setupReconnect"),this._setupReconnect()}),F.call(this),C("MqttClient :: setting up stream"),this._setupStream()}S(et,F),et.prototype._setupStream=function(){const de=this,ne=new b,ve=w.parser(this.options);let Ue=null;const ke=[];function Ie(){if(ke.length)U(Ne);else{const ht=Ue;Ue=null,ht()}}function Ne(){C("work :: getting next packet in queue");const ht=ke.shift();if(ht)C("work :: packet pulled from queue"),de._handlePacket(ht,Ie);else{C("work :: no packets in queue");const Ke=Ue;Ue=null,C("work :: done flag is %s",!!Ke),Ke&&Ke()}}C("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),C("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),ve.on("packet",function(ht){C("parser :: on packet push to packets array."),ke.push(ht)}),ne._write=function(ht,Ke,tt){Ue=tt,C("writable stream :: parsing buffer"),ve.parse(ht),Ne()},C("_setupStream :: pipe stream to writable stream"),this.stream.pipe(ne),this.stream.on("error",function Te(ht){C("streamErrorHandler :: error",ht.message),z.includes(ht.code)?(C("streamErrorHandler :: emitting error"),de.emit("error",ht)):nt(ht)}),this.stream.on("close",function(){C("(%s)stream :: on close",de.options.clientId),function me(de){de&&(C("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(de).forEach(function(ne){de[ne].volatile&&"function"==typeof de[ne].cb&&(de[ne].cb(new Error("Connection closed")),delete de[ne])}))}(de.outgoing),C("stream: emit close to MqttClient"),de.emit("close")}),C("_setupStream: sending packet `connect`");const ze=Object.create(this.options);if(ze.cmd="connect",this.topicAliasRecv&&(ze.properties||(ze.properties={}),this.topicAliasRecv&&(ze.properties.topicAliasMaximum=this.topicAliasRecv.max)),Y(this,ze),ve.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return de.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&Y(this,I({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){C("!!connectTimeout hit!! Calling _cleanUp with force `true`"),de._cleanUp(!0)},this.options.connectTimeout)},et.prototype._handlePacket=function(de,ne){const ve=this.options;if(5===ve.protocolVersion&&ve.properties&&ve.properties.maximumPacketSize&&ve.properties.maximumPacketSize<de.length)return this.emit("error",new Error("exceeding packets size "+de.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(C("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",de),de.cmd){case"publish":this._handlePublish(de,ne);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(de),ne();break;case"pubrel":this._handlePubrel(de,ne);break;case"connack":this._handleConnack(de),ne();break;case"auth":this._handleAuth(de),ne();break;case"pingresp":this._handlePingresp(de),ne();break;case"disconnect":this._handleDisconnect(de),ne()}},et.prototype._checkDisconnecting=function(de){return this.disconnecting&&(de&&de!==nt?de(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},et.prototype.publish=function(de,ne,ve,Ue){C("publish :: message `%s` to topic `%s`",ne,de);const ke=this.options;if("function"==typeof ve&&(Ue=ve,ve=null),ve=I({qos:0,retain:!1,dup:!1},ve),this._checkDisconnecting(Ue))return this;const Ne=this,Te=function(){let ze=0;if((1===ve.qos||2===ve.qos)&&(ze=Ne._nextId(),null===ze))return C("No messageId left"),!1;const ht={cmd:"publish",topic:de,payload:ne,qos:ve.qos,retain:ve.retain,messageId:ze,dup:ve.dup};switch(5===ke.protocolVersion&&(ht.properties=ve.properties),C("publish :: qos",ve.qos),ve.qos){case 1:case 2:Ne.outgoing[ht.messageId]={volatile:!1,cb:Ue||nt},C("MqttClient:publish: packet cmd: %s",ht.cmd),Ne._sendPacket(ht,void 0,ve.cbStorePut);break;default:C("MqttClient:publish: packet cmd: %s",ht.cmd),Ne._sendPacket(ht,Ue,ve.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Te())&&this._storeProcessingQueue.push({invoke:Te,cbStorePut:ve.cbStorePut,callback:Ue}),this},et.prototype.subscribe=function(){const de=this,ne=new Array(arguments.length);for(let tt=0;tt<arguments.length;tt++)ne[tt]=arguments[tt];const ve=[];let Ue=ne.shift();const ke=Ue.resubscribe;let Ie=ne.pop()||nt,Ne=ne.pop();const Te=this.options.protocolVersion;delete Ue.resubscribe,"string"==typeof Ue&&(Ue=[Ue]),"function"!=typeof Ie&&(Ne=Ie,Ie=nt);const ze=P.validateTopics(Ue);if(null!==ze)return $(Ie,new Error("Invalid topic "+ze)),this;if(this._checkDisconnecting(Ie))return C("subscribe: discconecting true"),this;const ht={qos:0};if(5===Te&&(ht.nl=!1,ht.rap=!1,ht.rh=0),Ne=I(ht,Ne),Array.isArray(Ue)?Ue.forEach(function(tt){if(C("subscribe: array topic %s",tt),!Object.prototype.hasOwnProperty.call(de._resubscribeTopics,tt)||de._resubscribeTopics[tt].qos<Ne.qos||ke){const qe={topic:tt,qos:Ne.qos};5===Te&&(qe.nl=Ne.nl,qe.rap=Ne.rap,qe.rh=Ne.rh,qe.properties=Ne.properties),C("subscribe: pushing topic `%s` and qos `%s` to subs list",qe.topic,qe.qos),ve.push(qe)}}):Object.keys(Ue).forEach(function(tt){if(C("subscribe: object topic %s",tt),!Object.prototype.hasOwnProperty.call(de._resubscribeTopics,tt)||de._resubscribeTopics[tt].qos<Ue[tt].qos||ke){const qe={topic:tt,qos:Ue[tt].qos};5===Te&&(qe.nl=Ue[tt].nl,qe.rap=Ue[tt].rap,qe.rh=Ue[tt].rh,qe.properties=Ne.properties),C("subscribe: pushing `%s` to subs list",qe),ve.push(qe)}}),!ve.length)return Ie(null,[]),this;const Ke=function(){const tt=de._nextId();if(null===tt)return C("No messageId left"),!1;const qe={cmd:"subscribe",subscriptions:ve,qos:1,retain:!1,dup:!1,messageId:tt};if(Ne.properties&&(qe.properties=Ne.properties),de.options.resubscribe){C("subscribe :: resubscribe true");const Qe=[];ve.forEach(function(We){if(de.options.reconnectPeriod>0){const ft={qos:We.qos};5===Te&&(ft.nl=We.nl||!1,ft.rap=We.rap||!1,ft.rh=We.rh||0,ft.properties=We.properties),de._resubscribeTopics[We.topic]=ft,Qe.push(We.topic)}}),de.messageIdToTopic[qe.messageId]=Qe}return de.outgoing[qe.messageId]={volatile:!0,cb:function(Qe,We){if(!Qe){const ft=We.granted;for(let $e=0;$e<ft.length;$e+=1)ve[$e].qos=ft[$e]}Ie(Qe,ve)}},C("subscribe :: call _sendPacket"),de._sendPacket(qe),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Ke())&&this._storeProcessingQueue.push({invoke:Ke,callback:Ie}),this},et.prototype.unsubscribe=function(){const de=this,ne=new Array(arguments.length);for(let Te=0;Te<arguments.length;Te++)ne[Te]=arguments[Te];let ve=ne.shift(),Ue=ne.pop()||nt,ke=ne.pop();"string"==typeof ve&&(ve=[ve]),"function"!=typeof Ue&&(ke=Ue,Ue=nt);const Ie=P.validateTopics(ve);if(null!==Ie)return $(Ue,new Error("Invalid topic "+Ie)),this;if(de._checkDisconnecting(Ue))return this;const Ne=function(){const Te=de._nextId();if(null===Te)return C("No messageId left"),!1;const ze={cmd:"unsubscribe",qos:1,messageId:Te};return"string"==typeof ve?ze.unsubscriptions=[ve]:Array.isArray(ve)&&(ze.unsubscriptions=ve),de.options.resubscribe&&ze.unsubscriptions.forEach(function(ht){delete de._resubscribeTopics[ht]}),"object"==typeof ke&&ke.properties&&(ze.properties=ke.properties),de.outgoing[ze.messageId]={volatile:!0,cb:Ue},C("unsubscribe: call _sendPacket"),de._sendPacket(ze),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Ne())&&this._storeProcessingQueue.push({invoke:Ne,callback:Ue}),this},et.prototype.end=function(de,ne,ve){const Ue=this;function ke(){C("end :: closeStores: closing incoming and outgoing stores"),Ue.disconnected=!0,Ue.incomingStore.close(function(Ne){Ue.outgoingStore.close(function(Te){if(C("end :: closeStores: emitting end"),Ue.emit("end"),ve){const ze=Ne||Te;C("end :: closeStores: invoking callback with args"),ve(ze)}})}),Ue._deferredReconnect&&Ue._deferredReconnect()}function Ie(){C("end :: (%s) :: finish :: calling _cleanUp with force %s",Ue.options.clientId,de),Ue._cleanUp(de,()=>{C("end :: finish :: calling process.nextTick on closeStores"),U(ke.bind(Ue))},ne)}return C("end :: (%s)",this.options.clientId),(null==de||"boolean"!=typeof de)&&(ve=ne||nt,ne=de,de=!1,"object"!=typeof ne&&(ve=ne,ne=null,"function"!=typeof ve&&(ve=nt))),"object"!=typeof ne&&(ve=ne,ne=null),C("end :: cb? %s",!!ve),ve=ve||nt,this.disconnecting?(ve(),this):(this._clearReconnect(),this.disconnecting=!0,!de&&Object.keys(this.outgoing).length>0?(C("end :: (%s) :: calling finish in 10ms once outgoing is empty",Ue.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Ie,10))):(C("end :: (%s) :: immediately calling finish",Ue.options.clientId),Ie()),this)},et.prototype.removeOutgoingMessage=function(de){const ne=this.outgoing[de]?this.outgoing[de].cb:null;return delete this.outgoing[de],this.outgoingStore.del({messageId:de},function(){ne(new Error("Message removed"))}),this},et.prototype.reconnect=function(de){C("client reconnect");const ne=this,ve=function(){de?(ne.options.incomingStore=de.incomingStore,ne.options.outgoingStore=de.outgoingStore):(ne.options.incomingStore=null,ne.options.outgoingStore=null),ne.incomingStore=ne.options.incomingStore||new B,ne.outgoingStore=ne.options.outgoingStore||new B,ne.disconnecting=!1,ne.disconnected=!1,ne._deferredReconnect=null,ne._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=ve:ve(),this},et.prototype._reconnect=function(){C("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),C("client already connected. disconnecting first.")):(C("_reconnect: calling _setupStream"),this._setupStream())},et.prototype._setupReconnect=function(){const de=this;!de.disconnecting&&!de.reconnectTimer&&de.options.reconnectPeriod>0?(this.reconnecting||(C("_setupReconnect :: emit `offline` state"),this.emit("offline"),C("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),C("_setupReconnect :: setting reconnectTimer for %d ms",de.options.reconnectPeriod),de.reconnectTimer=setInterval(function(){C("reconnectTimer :: reconnect triggered!"),de._reconnect()},de.options.reconnectPeriod)):C("_setupReconnect :: doing nothing...")},et.prototype._clearReconnect=function(){C("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},et.prototype._cleanUp=function(de,ne){const ve=arguments[2];if(ne&&(C("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",ne)),C("_cleanUp :: forced? %s",de),de)0===this.options.reconnectPeriod&&this.options.clean&&De(this.outgoing),C("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const Ue=I({cmd:"disconnect"},ve);C("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(Ue,$.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(C("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(C("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),ne&&!this.connected&&(C("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",ne),ne())},et.prototype._sendPacket=function(de,ne,ve){C("_sendPacket :: (%s) ::  start",this.options.clientId),ve=ve||nt,ne=ne||nt;const Ue=function ue(de,ne){if(5===de.options.protocolVersion&&"publish"===ne.cmd){let ve;ne.properties&&(ve=ne.properties.topicAlias);const Ue=ne.topic.toString();if(de.topicAliasSend)if(ve){if(0!==Ue.length&&(C("applyTopicAlias :: register topic: %s - alias: %d",Ue,ve),!de.topicAliasSend.put(Ue,ve)))return C("applyTopicAlias :: error out of range. topic: %s - alias: %d",Ue,ve),new Error("Sending Topic Alias out of range")}else 0!==Ue.length&&(de.options.autoAssignTopicAlias?(ve=de.topicAliasSend.getAliasByTopic(Ue),ve?(ne.topic="",ne.properties=EE(Ey({},ne.properties),{topicAlias:ve}),C("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",Ue,ve)):(ve=de.topicAliasSend.getLruAlias(),de.topicAliasSend.put(Ue,ve),ne.properties=EE(Ey({},ne.properties),{topicAlias:ve}),C("applyTopicAlias :: auto assign topic: %s - alias: %d",Ue,ve))):de.options.autoUseTopicAlias&&(ve=de.topicAliasSend.getAliasByTopic(Ue),ve&&(ne.topic="",ne.properties=EE(Ey({},ne.properties),{topicAlias:ve}),C("applyTopicAlias :: auto use topic: %s - alias: %d",Ue,ve))));else if(ve)return C("applyTopicAlias :: error out of range. topic: %s - alias: %d",Ue,ve),new Error("Sending Topic Alias out of range")}}(this,de);if(Ue)ne(Ue);else{if(!this.connected)return"auth"===de.cmd?(this._shiftPingInterval(),void Y(this,de,ne)):(C("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(de,ne,ve));switch(this._shiftPingInterval(),de.cmd){case"publish":break;case"pubrel":return void Me(this,de,ne,ve);default:return void Y(this,de,ne)}switch(de.qos){case 2:case 1:Me(this,de,ne,ve);break;default:Y(this,de,ne)}C("_sendPacket :: (%s) ::  end",this.options.clientId)}},et.prototype._storePacket=function(de,ne,ve){C("_storePacket :: packet: %o",de),C("_storePacket :: cb? %s",!!ne),ve=ve||nt;let Ue=de;if("publish"===Ue.cmd){Ue=R(de);const ke=fe(this,Ue);if(ke)return ne&&ne(ke)}0===(Ue.qos||0)&&this.queueQoSZero||"publish"!==Ue.cmd?this.queue.push({packet:Ue,cb:ne}):Ue.qos>0?(ne=this.outgoing[Ue.messageId]?this.outgoing[Ue.messageId].cb:null,this.outgoingStore.put(Ue,function(ke){if(ke)return ne&&ne(ke);ve()})):ne&&ne(new Error("No connection to broker"))},et.prototype._setupPingTimer=function(){C("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const de=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=k(function(){de._checkPing()},1e3*this.options.keepalive))},et.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},et.prototype._checkPing=function(){C("_checkPing :: checking ping..."),this.pingResp?(C("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(C("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},et.prototype._handlePingresp=function(){this.pingResp=!0},et.prototype._handleConnack=function(de){C("_handleConnack");const ne=this.options,Ue=5===ne.protocolVersion?de.reasonCode:de.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,de.properties){if(de.properties.topicAliasMaximum){if(de.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));de.properties.topicAliasMaximum>0&&(this.topicAliasSend=new E(de.properties.topicAliasMaximum))}de.properties.serverKeepAlive&&ne.keepalive&&(ne.keepalive=de.properties.serverKeepAlive,this._shiftPingInterval()),de.properties.maximumPacketSize&&(ne.properties||(ne.properties={}),ne.properties.maximumPacketSize=de.properties.maximumPacketSize)}if(0===Ue)this.reconnecting=!1,this._onConnect(de);else if(Ue>0){const ke=new Error("Connection refused: "+ae[Ue]);ke.code=Ue,this.emit("error",ke)}},et.prototype._handleAuth=function(de){const ve=this.options.protocolVersion,Ue=5===ve?de.reasonCode:de.returnCode;if(5!==ve){const Ie=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+ve);return Ie.code=Ue,void this.emit("error",Ie)}const ke=this;this.handleAuth(de,function(Ie,Ne){if(Ie)ke.emit("error",Ie);else if(24===Ue)ke.reconnecting=!1,ke._sendPacket(Ne);else{const Te=new Error("Connection refused: "+ae[Ue]);Ie.code=Ue,ke.emit("error",Te)}})},et.prototype.handleAuth=function(de,ne){ne()},et.prototype._handlePublish=function(de,ne){C("_handlePublish: packet %o",de),ne=void 0!==ne?ne:nt;let ve=de.topic.toString();const Ue=de.payload,ke=de.qos,Ie=de.messageId,Ne=this,Te=this.options,ze=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let ht;if(de.properties&&(ht=de.properties.topicAlias),void 0!==ht)if(0===ve.length){if(!(ht>0&&ht<=65535))return C("_handlePublish :: topic alias out of range. alias: %d",ht),void this.emit("error",new Error("Received Topic Alias is out of range"));{const Ke=this.topicAliasRecv.getTopicByAlias(ht);if(!Ke)return C("_handlePublish :: unregistered topic alias. alias: %d",ht),void this.emit("error",new Error("Received unregistered Topic Alias"));ve=Ke,C("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",ve,ht)}}else{if(!this.topicAliasRecv.put(ve,ht))return C("_handlePublish :: topic alias out of range. alias: %d",ht),void this.emit("error",new Error("Received Topic Alias is out of range"));C("_handlePublish :: registered topic: %s - alias: %d",ve,ht)}}switch(C("_handlePublish: qos %d",ke),ke){case 2:Te.customHandleAcks(ve,Ue,de,function(ht,Ke){return ht instanceof Error||(Ke=ht,ht=null),ht?Ne.emit("error",ht):-1===ze.indexOf(Ke)?Ne.emit("error",new Error("Wrong reason code for pubrec")):void(Ke?Ne._sendPacket({cmd:"pubrec",messageId:Ie,reasonCode:Ke},ne):Ne.incomingStore.put(de,function(){Ne._sendPacket({cmd:"pubrec",messageId:Ie},ne)}))});break;case 1:Te.customHandleAcks(ve,Ue,de,function(ht,Ke){return ht instanceof Error||(Ke=ht,ht=null),ht?Ne.emit("error",ht):-1===ze.indexOf(Ke)?Ne.emit("error",new Error("Wrong reason code for puback")):(Ke||Ne.emit("message",ve,Ue,de),void Ne.handleMessage(de,function(tt){if(tt)return ne&&ne(tt);Ne._sendPacket({cmd:"puback",messageId:Ie,reasonCode:Ke},ne)}))});break;case 0:this.emit("message",ve,Ue,de),this.handleMessage(de,ne);break;default:C("_handlePublish: unknown QoS. Doing nothing.")}},et.prototype.handleMessage=function(de,ne){ne()},et.prototype._handleAck=function(de){const ne=de.messageId,ve=de.cmd;let Ue=null;const ke=this.outgoing[ne]?this.outgoing[ne].cb:null,Ie=this;let Ne;if(ke){switch(C("_handleAck :: packet type",ve),ve){case"pubcomp":case"puback":{const Te=de.reasonCode;Te&&Te>0&&16!==Te&&(Ne=new Error("Publish error: "+ae[Te]),Ne.code=Te,ke(Ne,de)),delete this.outgoing[ne],this.outgoingStore.del(de,ke),this.messageIdProvider.deallocate(ne),this._invokeStoreProcessingQueue();break}case"pubrec":{Ue={cmd:"pubrel",qos:2,messageId:ne};const Te=de.reasonCode;Te&&Te>0&&16!==Te?(Ne=new Error("Publish error: "+ae[Te]),Ne.code=Te,ke(Ne,de)):this._sendPacket(Ue);break}case"suback":delete this.outgoing[ne],this.messageIdProvider.deallocate(ne);for(let Te=0;Te<de.granted.length;Te++)if(0!=(128&de.granted[Te])){const ze=this.messageIdToTopic[ne];ze&&ze.forEach(function(ht){delete Ie._resubscribeTopics[ht]})}this._invokeStoreProcessingQueue(),ke(null,de);break;case"unsuback":delete this.outgoing[ne],this.messageIdProvider.deallocate(ne),this._invokeStoreProcessingQueue(),ke(null);break;default:Ie.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else C("_handleAck :: Server sent an ack in error. Ignoring.")},et.prototype._handlePubrel=function(de,ne){C("handling pubrel packet"),ne=void 0!==ne?ne:nt;const Ue=this,ke={cmd:"pubcomp",messageId:de.messageId};Ue.incomingStore.get(de,function(Ie,Ne){Ie?Ue._sendPacket(ke,ne):(Ue.emit("message",Ne.topic,Ne.payload,Ne),Ue.handleMessage(Ne,function(Te){if(Te)return ne(Te);Ue.incomingStore.del(Ne,nt),Ue._sendPacket(ke,ne)}))})},et.prototype._handleDisconnect=function(de){this.emit("disconnect",de)},et.prototype._nextId=function(){return this.messageIdProvider.allocate()},et.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},et.prototype._resubscribe=function(){C("_resubscribe");const de=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&de.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){C("_resubscribe: protocolVersion 5");for(let ne=0;ne<de.length;ne++){const ve={};ve[de[ne]]=this._resubscribeTopics[de[ne]],ve.resubscribe=!0,this.subscribe(ve,{properties:ve[de[ne]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},et.prototype._onConnect=function(de){if(this.disconnected)return void this.emit("connect",de);const ne=this;this.connackPacket=de,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function ve(){let Ue=ne.outgoingStore.createStream();function ke(){ne._storeProcessing=!1,ne._packetIdsDuringStoreProcessing={}}function Ie(){Ue.destroy(),Ue=null,ne._flushStoreProcessingQueue(),ke()}ne.once("close",Ie),Ue.on("error",function(Te){ke(),ne._flushStoreProcessingQueue(),ne.removeListener("close",Ie),ne.emit("error",Te)}),Ue.on("end",function(){let Te=!0;for(const ze in ne._packetIdsDuringStoreProcessing)if(!ne._packetIdsDuringStoreProcessing[ze]){Te=!1;break}Te?(ke(),ne.removeListener("close",Ie),ne._invokeAllStoreProcessingQueue(),ne.emit("connect",de)):ve()}),function Ne(){if(!Ue)return;ne._storeProcessing=!0;const Te=Ue.read(1);let ze;Te?ne._packetIdsDuringStoreProcessing[Te.messageId]?Ne():ne.disconnecting||ne.reconnectTimer?Ue.destroy&&Ue.destroy():(ze=ne.outgoing[Te.messageId]?ne.outgoing[Te.messageId].cb:null,ne.outgoing[Te.messageId]={volatile:!1,cb:function(ht,Ke){ze&&ze(ht,Ke),Ne()}},ne._packetIdsDuringStoreProcessing[Te.messageId]=!0,ne.messageIdProvider.register(Te.messageId)?ne._sendPacket(Te):C("messageId: %d has already used.",Te.messageId)):Ue.once("readable",Ne)}()}()},et.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const de=this._storeProcessingQueue[0];if(de&&de.invoke())return this._storeProcessingQueue.shift(),!0}return!1},et.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},et.prototype._flushStoreProcessingQueue=function(){for(const de of this._storeProcessingQueue)de.cbStorePut&&de.cbStorePut(new Error("Connection closed")),de.callback&&de.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},te.exports=et},3249:(te,O,g)=>{"use strict";const{Buffer:i}=g(7526),F=g(8623).Transform,B=g(9909);let T,E,w,m=!1;te.exports=function P(I,C){if(C.hostname=C.hostname||C.host,!C.hostname)throw new Error("Could not determine host. Specify host manually.");const U="MQIsdp"===C.protocolId&&3===C.protocolVersion?"mqttv3.1":"mqtt";!function S(I){I.hostname||(I.hostname="localhost"),I.path||(I.path="/"),I.wsOptions||(I.wsOptions={})}(C);const $=function k(I,C){const U="alis"===I.protocol?"wss":"ws";let $=U+"://"+I.hostname+I.path;return I.port&&80!==I.port&&443!==I.port&&($=U+"://"+I.hostname+":"+I.port+I.path),"function"==typeof I.transformWsUrl&&($=I.transformWsUrl($,I,C)),$}(C,I);return T=C.my,T.connectSocket({url:$,protocols:U}),E=function b(){const I=new F;return I._write=function(C,U,$){T.sendSocketMessage({data:C.buffer,success:function(){$()},fail:function(){$(new Error)}})},I._flush=function(U){T.closeSocket({success:function(){U()}})},I}(),w=B.obj(),function R(){m||(m=!0,T.onSocketOpen(function(){w.setReadable(E),w.setWritable(E),w.emit("connect")}),T.onSocketMessage(function(I){if("string"==typeof I.data){const C=i.from(I.data,"base64");E.push(C)}else{const C=new FileReader;C.addEventListener("load",function(){let U=C.result;U=U instanceof ArrayBuffer?i.from(U):i.from(U,"utf8"),E.push(U)}),C.readAsArrayBuffer(I.data)}}),T.onSocketClose(function(){w.end(),w.destroy()}),T.onSocketError(function(I){w.destroy(I)}))}(),w}},264:(te,O,g)=>{"use strict";var i=g(1986);const F=g(8135),B=g(4848),T=g(6549),E=g(7980),w=g(1748)("mqttjs"),m={};function S(k,R){if(w("connecting to an MQTT broker..."),"object"==typeof k&&!R&&(R=k,k=null),R=R||{},k){const C=T.parse(k,!0);if(null!=C.port&&(C.port=Number(C.port)),null===(R=E(C,R)).protocol)throw new Error("Missing protocol");R.protocol=R.protocol.replace(/:$/,"")}if(function b(k){let R;k.auth&&(R=k.auth.match(/^(.+):(.+)$/),R?(k.username=R[1],k.password=R[2]):k.username=k.auth)}(R),R.query&&"string"==typeof R.query.clientId&&(R.clientId=R.query.clientId),R.cert&&R.key){if(!R.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(R.protocol))switch(R.protocol){case"mqtt":R.protocol="mqtts";break;case"ws":R.protocol="wss";break;case"wx":R.protocol="wxs";break;case"ali":R.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+R.protocol+'"!')}}if(!m[R.protocol]){const C=-1!==["mqtts","wss"].indexOf(R.protocol);R.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(U,$){return(!C||$%2!=0)&&"function"==typeof m[U]})[0]}if(!1===R.clean&&!R.clientId)throw new Error("Missing clientId for unclean clients");R.protocol&&(R.defaultProtocol=R.protocol);const I=new F(function P(C){return R.servers&&((!C._reconnectCount||C._reconnectCount===R.servers.length)&&(C._reconnectCount=0),R.host=R.servers[C._reconnectCount].host,R.port=R.servers[C._reconnectCount].port,R.protocol=R.servers[C._reconnectCount].protocol?R.servers[C._reconnectCount].protocol:R.defaultProtocol,R.hostname=R.host,C._reconnectCount++),w("calling streambuilder for",R.protocol),m[R.protocol](C,R)},R);return I.on("error",function(){}),I}void 0!==i&&"browser"!==i.title||"function"!=typeof g?(m.mqtt=g(8586),m.tcp=g(8586),m.ssl=g(315),m.tls=g(315),m.mqtts=g(315)):(m.wx=g(2650),m.wxs=g(2650),m.ali=g(3249),m.alis=g(3249)),m.ws=g(2599),m.wss=g(2599),te.exports=S,te.exports.connect=S,te.exports.MqttClient=F,te.exports.Store=B},8586:(te,O,g)=>{"use strict";const i=g(5556),F=g(1748)("mqttjs:tcp");te.exports=function B(T,E){E.port=E.port||1883,E.hostname=E.hostname||E.host||"localhost";const w=E.port,m=E.hostname;return F("port %d and host %s",w,m),i.createConnection(w,m)}},315:(te,O,g)=>{"use strict";const i=g(6784),F=g(5556),B=g(1748)("mqttjs:tls");te.exports=function T(E,w){w.port=w.port||8883,w.host=w.hostname||w.host||"localhost",0===F.isIP(w.host)&&(w.servername=w.host),w.rejectUnauthorized=!1!==w.rejectUnauthorized,delete w.path,B("port %d host %s rejectUnauthorized %b",w.port,w.host,w.rejectUnauthorized);const m=i.connect(w);function b(S){w.rejectUnauthorized&&E.emit("error",S),m.end()}return m.on("secureConnect",function(){w.rejectUnauthorized&&!m.authorized?m.emit("error",new Error("TLS not authorized")):m.removeListener("error",b)}),m.on("error",b),m}},2599:(te,O,g)=>{"use strict";var i=g(1986);const{Buffer:F}=g(7526),B=g(3930),T=g(1748)("mqttjs:ws"),E=g(9909),w=g(8623).Transform,m=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],b=void 0!==i&&"browser"===i.title||"function"==typeof g;function S($,K){let z=$.protocol+"://"+$.hostname+":"+$.port+$.path;return"function"==typeof $.transformWsUrl&&(z=$.transformWsUrl(z,$,K)),z}function k($){const K=$;return $.hostname||(K.hostname="localhost"),$.port||(K.port="wss"===$.protocol?443:80),$.path||(K.path="/"),$.wsOptions||(K.wsOptions={}),!b&&"wss"===$.protocol&&m.forEach(function(z){Object.prototype.hasOwnProperty.call($,z)&&!Object.prototype.hasOwnProperty.call($.wsOptions,z)&&(K.wsOptions[z]=$[z])}),K}te.exports=b?function U($,K){let z;T("browserStreamBuilder");const pe=function R($){const K=k($);if(K.hostname||(K.hostname=K.host),!K.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");const z=new URL(document.URL);K.hostname=z.hostname,K.port||(K.port=z.port)}return void 0===K.objectMode&&(K.objectMode=!(!0===K.binary||void 0===K.binary)),K}(K).browserBufferSize||524288,ue=K.browserBufferTimeout||1e3,fe=!K.objectMode,Y=function I($,K){const z="MQIsdp"===K.protocolId&&3===K.protocolVersion?"mqttv3.1":"mqtt",ae=S(K,$),pe=new WebSocket(ae,[z]);return pe.binaryType="arraybuffer",pe}($,K),De=function Me(Ie,Ne,Te){const ze=new w({objectModeMode:Ie.objectMode});return ze._write=Ne,ze._flush=Te,ze}(K,function Ue(Ie,Ne,Te){Y.bufferedAmount>pe&&setTimeout(Ue,ue,Ie,Ne,Te),fe&&"string"==typeof Ie&&(Ie=F.from(Ie,"utf8"));try{Y.send(Ie)}catch(ze){return Te(ze)}Te()},function ke(Ie){Y.close(),Ie()});K.objectMode||(De._writev=ve),De.on("close",()=>{Y.close()});const me=void 0!==Y.addEventListener;function nt(){z.setReadable(De),z.setWritable(De),z.emit("connect")}function et(){z.end(),z.destroy()}function de(Ie){z.destroy(Ie)}function ne(Ie){let Ne=Ie.data;Ne=Ne instanceof ArrayBuffer?F.from(Ne):F.from(Ne,"utf8"),De.push(Ne)}function ve(Ie,Ne){const Te=new Array(Ie.length);for(let ze=0;ze<Ie.length;ze++)Te[ze]="string"==typeof Ie[ze].chunk?F.from(Ie[ze],"utf8"):Ie[ze].chunk;this._write(F.concat(Te),"binary",Ne)}return Y.readyState===Y.OPEN?z=De:(z=z=E(void 0,void 0,K),K.objectMode||(z._writev=ve),me?Y.addEventListener("open",nt):Y.onopen=nt),z.socket=Y,me?(Y.addEventListener("close",et),Y.addEventListener("error",de),Y.addEventListener("message",ne)):(Y.onclose=et,Y.onerror=de,Y.onmessage=ne),z}:function C($,K){T("streamBuilder");const z=k(K),ae=S(z,$),pe=function P($,K,z){T("createWebSocket"),T("protocol: "+z.protocolId+" "+z.protocolVersion);const ae="MQIsdp"===z.protocolId&&3===z.protocolVersion?"mqttv3.1":"mqtt";return T("creating new Websocket for url: "+K+" and protocol: "+ae),new B(K,[ae],z.wsOptions)}(0,ae,z),ue=B.createWebSocketStream(pe,z.wsOptions);return ue.url=ae,pe.on("close",()=>{ue.destroy()}),ue}},2650:(te,O,g)=>{"use strict";const{Buffer:i}=g(7526),F=g(8623).Transform,B=g(9909);let T,E,w;te.exports=function R(P,I){if(I.hostname=I.hostname||I.host,!I.hostname)throw new Error("Could not determine host. Specify host manually.");const C="MQIsdp"===I.protocolId&&3===I.protocolVersion?"mqttv3.1":"mqtt";!function b(P){P.hostname||(P.hostname="localhost"),P.path||(P.path="/"),P.wsOptions||(P.wsOptions={})}(I);const U=function S(P,I){const C="wxs"===P.protocol?"wss":"ws";let U=C+"://"+P.hostname+P.path;return P.port&&80!==P.port&&443!==P.port&&(U=C+"://"+P.hostname+":"+P.port+P.path),"function"==typeof P.transformWsUrl&&(U=P.transformWsUrl(U,P,I)),U}(I,P);T=wx.connectSocket({url:U,protocols:[C]}),E=function m(){const P=new F;return P._write=function(I,C,U){T.send({data:I.buffer,success:function(){U()},fail:function($){U(new Error($))}})},P._flush=function(C){T.close({success:function(){C()}})},P}(),w=B.obj(),w._destroy=function(K,z){T.close({success:function(){z&&z(K)}})};const $=w.destroy;return w.destroy=function(){w.destroy=$;const K=this;setTimeout(function(){T.close({fail:function(){K._destroy(new Error)}})},0)}.bind(w),function k(){T.onOpen(function(){w.setReadable(E),w.setWritable(E),w.emit("connect")}),T.onMessage(function(P){let I=P.data;I=I instanceof ArrayBuffer?i.from(I):i.from(I,"utf8"),E.push(I)}),T.onClose(function(){w.end(),w.destroy()}),T.onError(function(P){w.destroy(new Error(P.errMsg))})}(),w}},9063:te=>{"use strict";function O(){if(!(this instanceof O))return new O;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}O.prototype.allocate=function(){const g=this.nextId++;return 65536===this.nextId&&(this.nextId=1),g},O.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},O.prototype.register=function(g){return!0},O.prototype.deallocate=function(g){},O.prototype.clear=function(){},te.exports=O},4848:(te,O,g)=>{"use strict";const i=g(7980),F=g(8623).Readable,B={objectMode:!0},T={clean:!0};function E(w){if(!(this instanceof E))return new E(w);this.options=w||{},this.options=i(T,w),this._inflights=new Map}E.prototype.put=function(w,m){return this._inflights.set(w.messageId,w),m&&m(),this},E.prototype.createStream=function(){const w=new F(B),m=[];let b=!1,S=0;return this._inflights.forEach(function(k,R){m.push(k)}),w._read=function(){this.push(!b&&S<m.length?m[S++]:null)},w.destroy=function(){if(b)return;const k=this;b=!0,setTimeout(function(){k.emit("close")},0)},w},E.prototype.del=function(w,m){return(w=this._inflights.get(w.messageId))?(this._inflights.delete(w.messageId),m(null,w)):m&&m(new Error("missing packet")),this},E.prototype.get=function(w,m){return(w=this._inflights.get(w.messageId))?m(null,w):m&&m(new Error("missing packet")),this},E.prototype.close=function(w){this.options.clean&&(this._inflights=null),w&&w()},te.exports=E},3513:te=>{"use strict";function O(g){if(!(this instanceof O))return new O(g);this.aliasToTopic={},this.max=g}O.prototype.put=function(g,i){return!(0===i||i>this.max||(this.aliasToTopic[i]=g,this.length=Object.keys(this.aliasToTopic).length,0))},O.prototype.getTopicByAlias=function(g){return this.aliasToTopic[g]},O.prototype.clear=function(){this.aliasToTopic={}},te.exports=O},4708:(te,O,g)=>{"use strict";const i=g(6051),F=g(6439).Q;function B(T){if(!(this instanceof B))return new B(T);T>0&&(this.aliasToTopic=new i({max:T}),this.topicToAlias={},this.numberAllocator=new F(1,T),this.max=T,this.length=0)}B.prototype.put=function(T,E){if(0===E||E>this.max)return!1;const w=this.aliasToTopic.get(E);return w&&delete this.topicToAlias[w],this.aliasToTopic.set(E,T),this.topicToAlias[T]=E,this.numberAllocator.use(E),this.length=this.aliasToTopic.length,!0},B.prototype.getTopicByAlias=function(T){return this.aliasToTopic.get(T)},B.prototype.getAliasByTopic=function(T){const E=this.topicToAlias[T];return void 0!==E&&this.aliasToTopic.get(E),E},B.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},B.prototype.getLruAlias=function(){return this.numberAllocator.firstVacant()||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},te.exports=B},4983:te=>{"use strict";function O(i){const F=i.split("/");for(let B=0;B<F.length;B++)if("+"!==F[B]){if("#"===F[B])return B===F.length-1;if(-1!==F[B].indexOf("+")||-1!==F[B].indexOf("#"))return!1}return!0}te.exports={validateTopics:function g(i){if(0===i.length)return"empty_topic_list";for(let F=0;F<i.length;F++)if(!O(i[F]))return i[F];return null}}},3013:(te,O)=>{"use strict";O.byteLength=function m(I){var C=w(I),$=C[1];return 3*(C[0]+$)/4-$},O.toByteArray=function S(I){var C,ue,U=w(I),$=U[0],K=U[1],z=new F(function b(I,C,U){return 3*(C+U)/4-U}(0,$,K)),ae=0,pe=K>0?$-4:$;for(ue=0;ue<pe;ue+=4)C=i[I.charCodeAt(ue)]<<18|i[I.charCodeAt(ue+1)]<<12|i[I.charCodeAt(ue+2)]<<6|i[I.charCodeAt(ue+3)],z[ae++]=C>>16&255,z[ae++]=C>>8&255,z[ae++]=255&C;return 2===K&&(C=i[I.charCodeAt(ue)]<<2|i[I.charCodeAt(ue+1)]>>4,z[ae++]=255&C),1===K&&(C=i[I.charCodeAt(ue)]<<10|i[I.charCodeAt(ue+1)]<<4|i[I.charCodeAt(ue+2)]>>2,z[ae++]=C>>8&255,z[ae++]=255&C),z},O.fromByteArray=function P(I){for(var C,U=I.length,$=U%3,K=[],z=16383,ae=0,pe=U-$;ae<pe;ae+=z)K.push(R(I,ae,ae+z>pe?pe:ae+z));return 1===$?K.push(g[(C=I[U-1])>>2]+g[C<<4&63]+"=="):2===$&&K.push(g[(C=(I[U-2]<<8)+I[U-1])>>10]+g[C>>4&63]+g[C<<2&63]+"="),K.join("")};for(var g=[],i=[],F="undefined"!=typeof Uint8Array?Uint8Array:Array,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,E=B.length;T<E;++T)g[T]=B[T],i[B.charCodeAt(T)]=T;function w(I){var C=I.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=I.indexOf("=");return-1===U&&(U=C),[U,U===C?0:4-U%4]}function k(I){return g[I>>18&63]+g[I>>12&63]+g[I>>6&63]+g[63&I]}function R(I,C,U){for(var K=[],z=C;z<U;z+=3)K.push(k((I[z]<<16&16711680)+(I[z+1]<<8&65280)+(255&I[z+2])));return K.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8248:(te,O,g)=>{"use strict";const{Buffer:i}=g(7526),F=Symbol.for("BufferList");function B(T){if(!(this instanceof B))return new B(T);B._init.call(this,T)}B._init=function(E){Object.defineProperty(this,F,{value:!0}),this._bufs=[],this.length=0,E&&this.append(E)},B.prototype._new=function(E){return new B(E)},B.prototype._offset=function(E){if(0===E)return[0,0];let w=0;for(let m=0;m<this._bufs.length;m++){const b=w+this._bufs[m].length;if(E<b||m===this._bufs.length-1)return[m,E-w];w=b}},B.prototype._reverseOffset=function(T){const E=T[0];let w=T[1];for(let m=0;m<E;m++)w+=this._bufs[m].length;return w},B.prototype.get=function(E){if(E>this.length||E<0)return;const w=this._offset(E);return this._bufs[w[0]][w[1]]},B.prototype.slice=function(E,w){return"number"==typeof E&&E<0&&(E+=this.length),"number"==typeof w&&w<0&&(w+=this.length),this.copy(null,0,E,w)},B.prototype.copy=function(E,w,m,b){if(("number"!=typeof m||m<0)&&(m=0),("number"!=typeof b||b>this.length)&&(b=this.length),m>=this.length||b<=0)return E||i.alloc(0);const S=!!E,k=this._offset(m),R=b-m;let P=R,I=S&&w||0,C=k[1];if(0===m&&b===this.length){if(!S)return 1===this._bufs.length?this._bufs[0]:i.concat(this._bufs,this.length);for(let U=0;U<this._bufs.length;U++)this._bufs[U].copy(E,I),I+=this._bufs[U].length;return E}if(P<=this._bufs[k[0]].length-C)return S?this._bufs[k[0]].copy(E,w,C,C+P):this._bufs[k[0]].slice(C,C+P);S||(E=i.allocUnsafe(R));for(let U=k[0];U<this._bufs.length;U++){const $=this._bufs[U].length-C;if(!(P>$)){this._bufs[U].copy(E,I,C,C+P),I+=$;break}this._bufs[U].copy(E,I,C),I+=$,P-=$,C&&(C=0)}return E.length>I?E.slice(0,I):E},B.prototype.shallowSlice=function(E,w){if((E=E||0)<0&&(E+=this.length),(w="number"!=typeof w?this.length:w)<0&&(w+=this.length),E===w)return this._new();const m=this._offset(E),b=this._offset(w),S=this._bufs.slice(m[0],b[0]+1);return 0===b[1]?S.pop():S[S.length-1]=S[S.length-1].slice(0,b[1]),0!==m[1]&&(S[0]=S[0].slice(m[1])),this._new(S)},B.prototype.toString=function(E,w,m){return this.slice(w,m).toString(E)},B.prototype.consume=function(E){if(E=Math.trunc(E),Number.isNaN(E)||E<=0)return this;for(;this._bufs.length;){if(!(E>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(E),this.length-=E;break}E-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},B.prototype.duplicate=function(){const E=this._new();for(let w=0;w<this._bufs.length;w++)E.append(this._bufs[w]);return E},B.prototype.append=function(E){if(null==E)return this;if(E.buffer)this._appendBuffer(i.from(E.buffer,E.byteOffset,E.byteLength));else if(Array.isArray(E))for(let w=0;w<E.length;w++)this.append(E[w]);else if(this._isBufferList(E))for(let w=0;w<E._bufs.length;w++)this.append(E._bufs[w]);else"number"==typeof E&&(E=E.toString()),this._appendBuffer(i.from(E));return this},B.prototype._appendBuffer=function(E){this._bufs.push(E),this.length+=E.length},B.prototype.indexOf=function(T,E,w){if(void 0===w&&"string"==typeof E&&(w=E,E=void 0),"function"==typeof T||Array.isArray(T))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof T?T=i.from([T]):"string"==typeof T?T=i.from(T,w):this._isBufferList(T)?T=T.slice():Array.isArray(T.buffer)?T=i.from(T.buffer,T.byteOffset,T.byteLength):i.isBuffer(T)||(T=i.from(T)),E=Number(E||0),isNaN(E)&&(E=0),E<0&&(E=this.length+E),E<0&&(E=0),0===T.length)return E>this.length?this.length:E;const m=this._offset(E);let b=m[0],S=m[1];for(;b<this._bufs.length;b++){const k=this._bufs[b];for(;S<k.length;)if(k.length-S>=T.length){const P=k.indexOf(T,S);if(-1!==P)return this._reverseOffset([b,P]);S=k.length-T.length+1}else{const P=this._reverseOffset([b,S]);if(this._match(P,T))return P;S++}S=0}return-1},B.prototype._match=function(T,E){if(this.length-T<E.length)return!1;for(let w=0;w<E.length;w++)if(this.get(T+w)!==E[w])return!1;return!0},function(){const T={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const E in T)!function(w){B.prototype[w]=null===T[w]?function(m,b){return this.slice(m,m+b)[w](0,b)}:function(m=0){return this.slice(m,m+T[w])[w](0)}}(E)}(),B.prototype._isBufferList=function(E){return E instanceof B||B.isBufferList(E)},B.isBufferList=function(E){return null!=E&&E[F]},te.exports=B},5980:(te,O,g)=>{"use strict";const i=g(8623).Duplex,F=g(7326),B=g(8248);function T(E){if(!(this instanceof T))return new T(E);if("function"==typeof E){this._callback=E;const w=function(b){this._callback&&(this._callback(b),this._callback=null)}.bind(this);this.on("pipe",function(b){b.on("error",w)}),this.on("unpipe",function(b){b.removeListener("error",w)}),E=null}B._init.call(this,E),i.call(this)}F(T,i),Object.assign(T.prototype,B.prototype),T.prototype._new=function(w){return new T(w)},T.prototype._write=function(w,m,b){this._appendBuffer(w),"function"==typeof b&&b()},T.prototype._read=function(w){if(!this.length)return this.push(null);w=Math.min(w,this.length),this.push(this.slice(0,w)),this.consume(w)},T.prototype.end=function(w){i.prototype.end.call(this,w),this._callback&&(this._callback(null,this.slice()),this._callback=null)},T.prototype._destroy=function(w,m){this._bufs.length=0,this.length=0,m(w)},T.prototype._isBufferList=function(w){return w instanceof T||w instanceof B||T.isBufferList(w)},T.isBufferList=B.isBufferList,te.exports=T,te.exports.BufferListStream=T,te.exports.BufferList=B},3634:(te,O,g)=>{"use strict";var i=g(7526).Buffer,F=g(1986),B=g(2045),T=g(1475),E=g(8878),w=g(8111),m=g(4609);for(var b in m)O[b]=m[b];function R(P){if("number"!=typeof P||P<O.DEFLATE||P>O.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=P,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}O.NONE=0,O.DEFLATE=1,O.INFLATE=2,O.GZIP=3,O.GUNZIP=4,O.DEFLATERAW=5,O.INFLATERAW=6,O.UNZIP=7,R.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,B(this.init_done,"close before init"),B(this.mode<=O.UNZIP),this.mode===O.DEFLATE||this.mode===O.GZIP||this.mode===O.DEFLATERAW?E.deflateEnd(this.strm):(this.mode===O.INFLATE||this.mode===O.GUNZIP||this.mode===O.INFLATERAW||this.mode===O.UNZIP)&&w.inflateEnd(this.strm),this.mode=O.NONE,this.dictionary=null)},R.prototype.write=function(P,I,C,U,$,K,z){return this._write(!0,P,I,C,U,$,K,z)},R.prototype.writeSync=function(P,I,C,U,$,K,z){return this._write(!1,P,I,C,U,$,K,z)},R.prototype._write=function(P,I,C,U,$,K,z,ae){if(B.equal(arguments.length,8),B(this.init_done,"write before init"),B(this.mode!==O.NONE,"already finalized"),B.equal(!1,this.write_in_progress,"write already in progress"),B.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,B.equal(!1,void 0===I,"must provide flush value"),this.write_in_progress=!0,I!==O.Z_NO_FLUSH&&I!==O.Z_PARTIAL_FLUSH&&I!==O.Z_SYNC_FLUSH&&I!==O.Z_FULL_FLUSH&&I!==O.Z_FINISH&&I!==O.Z_BLOCK)throw new Error("Invalid flush value");if(null==C&&(C=i.alloc(0),$=0,U=0),this.strm.avail_in=$,this.strm.input=C,this.strm.next_in=U,this.strm.avail_out=ae,this.strm.output=K,this.strm.next_out=z,this.flush=I,!P)return this._process(),this._checkError()?this._afterSync():void 0;var pe=this;return F.nextTick(function(){pe._process(),pe._after()}),this},R.prototype._afterSync=function(){var P=this.strm.avail_out,I=this.strm.avail_in;return this.write_in_progress=!1,[I,P]},R.prototype._process=function(){var P=null;switch(this.mode){case O.DEFLATE:case O.GZIP:case O.DEFLATERAW:this.err=E.deflate(this.strm,this.flush);break;case O.UNZIP:switch(this.strm.avail_in>0&&(P=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===P)break;if(31!==this.strm.input[P]){this.mode=O.INFLATE;break}if(this.gzip_id_bytes_read=1,P++,1===this.strm.avail_in)break;case 1:if(null===P)break;139===this.strm.input[P]?(this.gzip_id_bytes_read=2,this.mode=O.GUNZIP):this.mode=O.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case O.INFLATE:case O.GUNZIP:case O.INFLATERAW:for(this.err=w.inflate(this.strm,this.flush),this.err===O.Z_NEED_DICT&&this.dictionary&&(this.err=w.inflateSetDictionary(this.strm,this.dictionary),this.err===O.Z_OK?this.err=w.inflate(this.strm,this.flush):this.err===O.Z_DATA_ERROR&&(this.err=O.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===O.GUNZIP&&this.err===O.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=w.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},R.prototype._checkError=function(){switch(this.err){case O.Z_OK:case O.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===O.Z_FINISH)return this._error("unexpected end of file"),!1;break;case O.Z_STREAM_END:break;case O.Z_NEED_DICT:return this._error(null==this.dictionary?"Missing dictionary":"Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},R.prototype._after=function(){if(this._checkError()){var P=this.strm.avail_out,I=this.strm.avail_in;this.write_in_progress=!1,this.callback(I,P),this.pending_close&&this.close()}},R.prototype._error=function(P){this.strm.msg&&(P=this.strm.msg),this.onerror(P,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},R.prototype.init=function(P,I,C,U,$){B(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),B(P>=8&&P<=15,"invalid windowBits"),B(I>=-1&&I<=9,"invalid compression level"),B(C>=1&&C<=9,"invalid memlevel"),B(U===O.Z_FILTERED||U===O.Z_HUFFMAN_ONLY||U===O.Z_RLE||U===O.Z_FIXED||U===O.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(I,P,C,U,$),this._setDictionary()},R.prototype.params=function(){throw new Error("deflateParams Not supported")},R.prototype.reset=function(){this._reset(),this._setDictionary()},R.prototype._init=function(P,I,C,U,$){switch(this.level=P,this.windowBits=I,this.memLevel=C,this.strategy=U,this.flush=O.Z_NO_FLUSH,this.err=O.Z_OK,(this.mode===O.GZIP||this.mode===O.GUNZIP)&&(this.windowBits+=16),this.mode===O.UNZIP&&(this.windowBits+=32),(this.mode===O.DEFLATERAW||this.mode===O.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new T,this.mode){case O.DEFLATE:case O.GZIP:case O.DEFLATERAW:this.err=E.deflateInit2(this.strm,this.level,O.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case O.INFLATE:case O.GUNZIP:case O.INFLATERAW:case O.UNZIP:this.err=w.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==O.Z_OK&&this._error("Init error"),this.dictionary=$,this.write_in_progress=!1,this.init_done=!0},R.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=O.Z_OK,this.mode){case O.DEFLATE:case O.DEFLATERAW:this.err=E.deflateSetDictionary(this.strm,this.dictionary)}this.err!==O.Z_OK&&this._error("Failed to set dictionary")}},R.prototype._reset=function(){switch(this.err=O.Z_OK,this.mode){case O.DEFLATE:case O.DEFLATERAW:case O.GZIP:this.err=E.deflateReset(this.strm);break;case O.INFLATE:case O.INFLATERAW:case O.GUNZIP:this.err=w.inflateReset(this.strm)}this.err!==O.Z_OK&&this._error("Failed to reset stream")},O.Zlib=R},4338:(te,O,g)=>{"use strict";var i=g(1986),F=g(7526).Buffer,B=g(9393).Transform,T=g(3634),E=g(8901),w=g(2045).ok,m=g(7526).kMaxLength,b="Cannot create final Buffer. It would be larger than 0x"+m.toString(16)+" bytes";T.Z_MIN_WINDOWBITS=8,T.Z_MAX_WINDOWBITS=15,T.Z_DEFAULT_WINDOWBITS=15,T.Z_MIN_CHUNK=64,T.Z_MAX_CHUNK=1/0,T.Z_DEFAULT_CHUNK=16384,T.Z_MIN_MEMLEVEL=1,T.Z_MAX_MEMLEVEL=9,T.Z_DEFAULT_MEMLEVEL=8,T.Z_MIN_LEVEL=-1,T.Z_MAX_LEVEL=9,T.Z_DEFAULT_LEVEL=T.Z_DEFAULT_COMPRESSION;for(var S=Object.keys(T),k=0;k<S.length;k++){var R=S[k];R.match(/^Z/)&&Object.defineProperty(O,R,{enumerable:!0,value:T[R],writable:!1})}for(var P={Z_OK:T.Z_OK,Z_STREAM_END:T.Z_STREAM_END,Z_NEED_DICT:T.Z_NEED_DICT,Z_ERRNO:T.Z_ERRNO,Z_STREAM_ERROR:T.Z_STREAM_ERROR,Z_DATA_ERROR:T.Z_DATA_ERROR,Z_MEM_ERROR:T.Z_MEM_ERROR,Z_BUF_ERROR:T.Z_BUF_ERROR,Z_VERSION_ERROR:T.Z_VERSION_ERROR},I=Object.keys(P),C=0;C<I.length;C++){var U=I[C];P[P[U]]=U}function $(de,ne,ve){var Ue=[],ke=0;function Ie(){for(var ze;null!==(ze=de.read());)Ue.push(ze),ke+=ze.length;de.once("readable",Ie)}function Te(){var ze,ht=null;ke>=m?ht=new RangeError(b):ze=F.concat(Ue,ke),Ue=[],de.close(),ve(ht,ze)}de.on("error",function Ne(ze){de.removeListener("end",Te),de.removeListener("readable",Ie),ve(ze)}),de.on("end",Te),de.end(ne),Ie()}function K(de,ne){if("string"==typeof ne&&(ne=F.from(ne)),!F.isBuffer(ne))throw new TypeError("Not a string or buffer");return de._processChunk(ne,de._finishFlushFlag)}function z(de){if(!(this instanceof z))return new z(de);Me.call(this,de,T.DEFLATE)}function ae(de){if(!(this instanceof ae))return new ae(de);Me.call(this,de,T.INFLATE)}function pe(de){if(!(this instanceof pe))return new pe(de);Me.call(this,de,T.GZIP)}function ue(de){if(!(this instanceof ue))return new ue(de);Me.call(this,de,T.GUNZIP)}function fe(de){if(!(this instanceof fe))return new fe(de);Me.call(this,de,T.DEFLATERAW)}function Y(de){if(!(this instanceof Y))return new Y(de);Me.call(this,de,T.INFLATERAW)}function De(de){if(!(this instanceof De))return new De(de);Me.call(this,de,T.UNZIP)}function me(de){return de===T.Z_NO_FLUSH||de===T.Z_PARTIAL_FLUSH||de===T.Z_SYNC_FLUSH||de===T.Z_FULL_FLUSH||de===T.Z_FINISH||de===T.Z_BLOCK}function Me(de,ne){var ve=this;if(this._opts=de=de||{},this._chunkSize=de.chunkSize||O.Z_DEFAULT_CHUNK,B.call(this,de),de.flush&&!me(de.flush))throw new Error("Invalid flush flag: "+de.flush);if(de.finishFlush&&!me(de.finishFlush))throw new Error("Invalid flush flag: "+de.finishFlush);if(this._flushFlag=de.flush||T.Z_NO_FLUSH,this._finishFlushFlag=void 0!==de.finishFlush?de.finishFlush:T.Z_FINISH,de.chunkSize&&(de.chunkSize<O.Z_MIN_CHUNK||de.chunkSize>O.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+de.chunkSize);if(de.windowBits&&(de.windowBits<O.Z_MIN_WINDOWBITS||de.windowBits>O.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+de.windowBits);if(de.level&&(de.level<O.Z_MIN_LEVEL||de.level>O.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+de.level);if(de.memLevel&&(de.memLevel<O.Z_MIN_MEMLEVEL||de.memLevel>O.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+de.memLevel);if(de.strategy&&de.strategy!=O.Z_FILTERED&&de.strategy!=O.Z_HUFFMAN_ONLY&&de.strategy!=O.Z_RLE&&de.strategy!=O.Z_FIXED&&de.strategy!=O.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+de.strategy);if(de.dictionary&&!F.isBuffer(de.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new T.Zlib(ne);var Ue=this;this._hadError=!1,this._handle.onerror=function(Ne,Te){nt(Ue),Ue._hadError=!0;var ze=new Error(Ne);ze.errno=Te,ze.code=O.codes[Te],Ue.emit("error",ze)};var ke=O.Z_DEFAULT_COMPRESSION;"number"==typeof de.level&&(ke=de.level);var Ie=O.Z_DEFAULT_STRATEGY;"number"==typeof de.strategy&&(Ie=de.strategy),this._handle.init(de.windowBits||O.Z_DEFAULT_WINDOWBITS,ke,de.memLevel||O.Z_DEFAULT_MEMLEVEL,Ie,de.dictionary),this._buffer=F.allocUnsafe(this._chunkSize),this._offset=0,this._level=ke,this._strategy=Ie,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!ve._handle},configurable:!0,enumerable:!0})}function nt(de,ne){ne&&i.nextTick(ne),de._handle&&(de._handle.close(),de._handle=null)}function et(de){de.emit("close")}Object.defineProperty(O,"codes",{enumerable:!0,value:Object.freeze(P),writable:!1}),O.Deflate=z,O.Inflate=ae,O.Gzip=pe,O.Gunzip=ue,O.DeflateRaw=fe,O.InflateRaw=Y,O.Unzip=De,O.createDeflate=function(de){return new z(de)},O.createInflate=function(de){return new ae(de)},O.createDeflateRaw=function(de){return new fe(de)},O.createInflateRaw=function(de){return new Y(de)},O.createGzip=function(de){return new pe(de)},O.createGunzip=function(de){return new ue(de)},O.createUnzip=function(de){return new De(de)},O.deflate=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new z(ne),de,ve)},O.deflateSync=function(de,ne){return K(new z(ne),de)},O.gzip=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new pe(ne),de,ve)},O.gzipSync=function(de,ne){return K(new pe(ne),de)},O.deflateRaw=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new fe(ne),de,ve)},O.deflateRawSync=function(de,ne){return K(new fe(ne),de)},O.unzip=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new De(ne),de,ve)},O.unzipSync=function(de,ne){return K(new De(ne),de)},O.inflate=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new ae(ne),de,ve)},O.inflateSync=function(de,ne){return K(new ae(ne),de)},O.gunzip=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new ue(ne),de,ve)},O.gunzipSync=function(de,ne){return K(new ue(ne),de)},O.inflateRaw=function(de,ne,ve){return"function"==typeof ne&&(ve=ne,ne={}),$(new Y(ne),de,ve)},O.inflateRawSync=function(de,ne){return K(new Y(ne),de)},E.inherits(Me,B),Me.prototype.params=function(de,ne,ve){if(de<O.Z_MIN_LEVEL||de>O.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+de);if(ne!=O.Z_FILTERED&&ne!=O.Z_HUFFMAN_ONLY&&ne!=O.Z_RLE&&ne!=O.Z_FIXED&&ne!=O.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+ne);if(this._level!==de||this._strategy!==ne){var Ue=this;this.flush(T.Z_SYNC_FLUSH,function(){w(Ue._handle,"zlib binding closed"),Ue._handle.params(de,ne),Ue._hadError||(Ue._level=de,Ue._strategy=ne,ve&&ve())})}else i.nextTick(ve)},Me.prototype.reset=function(){return w(this._handle,"zlib binding closed"),this._handle.reset()},Me.prototype._flush=function(de){this._transform(F.alloc(0),"",de)},Me.prototype.flush=function(de,ne){var ve=this,Ue=this._writableState;("function"==typeof de||void 0===de&&!ne)&&(ne=de,de=T.Z_FULL_FLUSH),Ue.ended?ne&&i.nextTick(ne):Ue.ending?ne&&this.once("end",ne):Ue.needDrain?ne&&this.once("drain",function(){return ve.flush(de,ne)}):(this._flushFlag=de,this.write(F.alloc(0),"",ne))},Me.prototype.close=function(de){nt(this,de),i.nextTick(et,this)},Me.prototype._transform=function(de,ne,ve){var Ue,ke=this._writableState,Ne=(ke.ending||ke.ended)&&(!de||ke.length===de.length);return null===de||F.isBuffer(de)?this._handle?(Ne?Ue=this._finishFlushFlag:(Ue=this._flushFlag,de.length>=ke.length&&(this._flushFlag=this._opts.flush||T.Z_NO_FLUSH)),void this._processChunk(de,Ue,ve)):ve(new Error("zlib binding closed")):ve(new Error("invalid input"))},Me.prototype._processChunk=function(de,ne,ve){var Ue=de&&de.length,ke=this._chunkSize-this._offset,Ie=0,Ne=this,Te="function"==typeof ve;if(!Te){var Ke,ze=[],ht=0;this.on("error",function(ft){Ke=ft}),w(this._handle,"zlib binding closed");do{var tt=this._handle.writeSync(ne,de,Ie,Ue,this._buffer,this._offset,ke)}while(!this._hadError&&We(tt[0],tt[1]));if(this._hadError)throw Ke;if(ht>=m)throw nt(this),new RangeError(b);var qe=F.concat(ze,ht);return nt(this),qe}w(this._handle,"zlib binding closed");var Qe=this._handle.write(ne,de,Ie,Ue,this._buffer,this._offset,ke);function We(ft,$e){if(this&&(this.buffer=null,this.callback=null),!Ne._hadError){var Re=ke-$e;if(w(Re>=0,"have should not go down"),Re>0){var Ve=Ne._buffer.slice(Ne._offset,Ne._offset+Re);Ne._offset+=Re,Te?Ne.push(Ve):(ze.push(Ve),ht+=Ve.length)}if((0===$e||Ne._offset>=Ne._chunkSize)&&(ke=Ne._chunkSize,Ne._offset=0,Ne._buffer=F.allocUnsafe(Ne._chunkSize)),0===$e){if(Ie+=Ue-ft,Ue=ft,!Te)return!0;var Xe=Ne._handle.write(ne,de,Ie,Ue,Ne._buffer,Ne._offset,Ne._chunkSize);return Xe.callback=We,void(Xe.buffer=de)}if(!Te)return!1;ve()}}Qe.buffer=de,Qe.callback=We},E.inherits(z,Me),E.inherits(ae,Me),E.inherits(pe,Me),E.inherits(ue,Me),E.inherits(fe,Me),E.inherits(Y,Me),E.inherits(De,Me)},7526:(te,O,g)=>{"use strict";var i=g(3013),F=g(6311),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;O.Buffer=m,O.SlowBuffer=function z(be){return+be!=be&&(be=0),m.alloc(+be)},O.INSPECT_MAX_BYTES=50;var T=2147483647;function w(be){if(be>T)throw new RangeError('The value "'+be+'" is invalid for option "size"');var le=new Uint8Array(be);return Object.setPrototypeOf(le,m.prototype),le}function m(be,le,re){if("number"==typeof be){if("string"==typeof le)throw new TypeError('The "string" argument must be of type string. Received type number');return R(be)}return b(be,le,re)}function b(be,le,re){if("string"==typeof be)return function P(be,le){if(("string"!=typeof le||""===le)&&(le="utf8"),!m.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var re=0|ae(be,le),xe=w(re),xt=xe.write(be,le);return xt!==re&&(xe=xe.slice(0,xt)),xe}(be,le);if(ArrayBuffer.isView(be))return function C(be){if(vt(be,Uint8Array)){var le=new Uint8Array(be);return U(le.buffer,le.byteOffset,le.byteLength)}return I(be)}(be);if(null==be)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be);if(vt(be,ArrayBuffer)||be&&vt(be.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(vt(be,SharedArrayBuffer)||be&&vt(be.buffer,SharedArrayBuffer)))return U(be,le,re);if("number"==typeof be)throw new TypeError('The "value" argument must not be of type number. Received type number');var xe=be.valueOf&&be.valueOf();if(null!=xe&&xe!==be)return m.from(xe,le,re);var xt=function $(be){if(m.isBuffer(be)){var le=0|K(be.length),re=w(le);return 0===re.length||be.copy(re,0,0,le),re}return void 0!==be.length?"number"!=typeof be.length||Fe(be.length)?w(0):I(be):"Buffer"===be.type&&Array.isArray(be.data)?I(be.data):void 0}(be);if(xt)return xt;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof be[Symbol.toPrimitive])return m.from(be[Symbol.toPrimitive]("string"),le,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be)}function S(be){if("number"!=typeof be)throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function R(be){return S(be),w(be<0?0:0|K(be))}function I(be){for(var le=be.length<0?0:0|K(be.length),re=w(le),xe=0;xe<le;xe+=1)re[xe]=255&be[xe];return re}function U(be,le,re){if(le<0||be.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<le+(re||0))throw new RangeError('"length" is outside of buffer bounds');var xe;return xe=void 0===le&&void 0===re?new Uint8Array(be):void 0===re?new Uint8Array(be,le):new Uint8Array(be,le,re),Object.setPrototypeOf(xe,m.prototype),xe}function K(be){if(be>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|be}function ae(be,le){if(m.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||vt(be,ArrayBuffer))return be.byteLength;if("string"!=typeof be)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof be);var re=be.length,xe=arguments.length>2&&!0===arguments[2];if(!xe&&0===re)return 0;for(var xt=!1;;)switch(le){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return ft(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*re;case"hex":return re>>>1;case"base64":return Ve(be).length;default:if(xt)return xe?-1:ft(be).length;le=(""+le).toLowerCase(),xt=!0}}function pe(be,le,re){var xe=!1;if((void 0===le||le<0)&&(le=0),le>this.length||((void 0===re||re>this.length)&&(re=this.length),re<=0)||(re>>>=0)<=(le>>>=0))return"";for(be||(be="utf8");;)switch(be){case"hex":return Ne(this,le,re);case"utf8":case"utf-8":return ne(this,le,re);case"ascii":return ke(this,le,re);case"latin1":case"binary":return Ie(this,le,re);case"base64":return de(this,le,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,le,re);default:if(xe)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),xe=!0}}function ue(be,le,re){var xe=be[le];be[le]=be[re],be[re]=xe}function fe(be,le,re,xe,xt){if(0===be.length)return-1;if("string"==typeof re?(xe=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),Fe(re=+re)&&(re=xt?0:be.length-1),re<0&&(re=be.length+re),re>=be.length){if(xt)return-1;re=be.length-1}else if(re<0){if(!xt)return-1;re=0}if("string"==typeof le&&(le=m.from(le,xe)),m.isBuffer(le))return 0===le.length?-1:Y(be,le,re,xe,xt);if("number"==typeof le)return le&=255,"function"==typeof Uint8Array.prototype.indexOf?xt?Uint8Array.prototype.indexOf.call(be,le,re):Uint8Array.prototype.lastIndexOf.call(be,le,re):Y(be,[le],re,xe,xt);throw new TypeError("val must be string, number or Buffer")}function Y(be,le,re,xe,xt){var It,Ut=1,Yt=be.length,xn=le.length;if(void 0!==xe&&("ucs2"===(xe=String(xe).toLowerCase())||"ucs-2"===xe||"utf16le"===xe||"utf-16le"===xe)){if(be.length<2||le.length<2)return-1;Ut=2,Yt/=2,xn/=2,re/=2}function Ct(un,Cn){return 1===Ut?un[Cn]:un.readUInt16BE(Cn*Ut)}if(xt){var qt=-1;for(It=re;It<Yt;It++)if(Ct(be,It)===Ct(le,-1===qt?0:It-qt)){if(-1===qt&&(qt=It),It-qt+1===xn)return qt*Ut}else-1!==qt&&(It-=It-qt),qt=-1}else for(re+xn>Yt&&(re=Yt-xn),It=re;It>=0;It--){for(var Gt=!0,Wt=0;Wt<xn;Wt++)if(Ct(be,It+Wt)!==Ct(le,Wt)){Gt=!1;break}if(Gt)return It}return-1}function De(be,le,re,xe){re=Number(re)||0;var xt=be.length-re;xe?(xe=Number(xe))>xt&&(xe=xt):xe=xt;var Ut=le.length;xe>Ut/2&&(xe=Ut/2);for(var Yt=0;Yt<xe;++Yt){var xn=parseInt(le.substr(2*Yt,2),16);if(Fe(xn))return Yt;be[re+Yt]=xn}return Yt}function me(be,le,re,xe){return Xe(ft(le,be.length-re),be,re,xe)}function Me(be,le,re,xe){return Xe(function $e(be){for(var le=[],re=0;re<be.length;++re)le.push(255&be.charCodeAt(re));return le}(le),be,re,xe)}function nt(be,le,re,xe){return Xe(Ve(le),be,re,xe)}function et(be,le,re,xe){return Xe(function Re(be,le){for(var re,xe,Ut=[],Yt=0;Yt<be.length&&!((le-=2)<0);++Yt)xe=(re=be.charCodeAt(Yt))>>8,Ut.push(re%256),Ut.push(xe);return Ut}(le,be.length-re),be,re,xe)}function de(be,le,re){return i.fromByteArray(0===le&&re===be.length?be:be.slice(le,re))}function ne(be,le,re){re=Math.min(be.length,re);for(var xe=[],xt=le;xt<re;){var Ct,It,qt,Gt,Ut=be[xt],Yt=null,xn=Ut>239?4:Ut>223?3:Ut>191?2:1;if(xt+xn<=re)switch(xn){case 1:Ut<128&&(Yt=Ut);break;case 2:128==(192&(Ct=be[xt+1]))&&(Gt=(31&Ut)<<6|63&Ct)>127&&(Yt=Gt);break;case 3:It=be[xt+2],128==(192&(Ct=be[xt+1]))&&128==(192&It)&&(Gt=(15&Ut)<<12|(63&Ct)<<6|63&It)>2047&&(Gt<55296||Gt>57343)&&(Yt=Gt);break;case 4:It=be[xt+2],qt=be[xt+3],128==(192&(Ct=be[xt+1]))&&128==(192&It)&&128==(192&qt)&&(Gt=(15&Ut)<<18|(63&Ct)<<12|(63&It)<<6|63&qt)>65535&&Gt<1114112&&(Yt=Gt)}null===Yt?(Yt=65533,xn=1):Yt>65535&&(xe.push((Yt-=65536)>>>10&1023|55296),Yt=56320|1023&Yt),xe.push(Yt),xt+=xn}return function Ue(be){var le=be.length;if(le<=4096)return String.fromCharCode.apply(String,be);for(var re="",xe=0;xe<le;)re+=String.fromCharCode.apply(String,be.slice(xe,xe+=4096));return re}(xe)}function ke(be,le,re){var xe="";re=Math.min(be.length,re);for(var xt=le;xt<re;++xt)xe+=String.fromCharCode(127&be[xt]);return xe}function Ie(be,le,re){var xe="";re=Math.min(be.length,re);for(var xt=le;xt<re;++xt)xe+=String.fromCharCode(be[xt]);return xe}function Ne(be,le,re){var xe=be.length;(!le||le<0)&&(le=0),(!re||re<0||re>xe)&&(re=xe);for(var xt="",Ut=le;Ut<re;++Ut)xt+=Ge[be[Ut]];return xt}function Te(be,le,re){for(var xe=be.slice(le,re),xt="",Ut=0;Ut<xe.length-1;Ut+=2)xt+=String.fromCharCode(xe[Ut]+256*xe[Ut+1]);return xt}function ze(be,le,re){if(be%1!=0||be<0)throw new RangeError("offset is not uint");if(be+le>re)throw new RangeError("Trying to access beyond buffer length")}function ht(be,le,re,xe,xt,Ut){if(!m.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>xt||le<Ut)throw new RangeError('"value" argument is out of bounds');if(re+xe>be.length)throw new RangeError("Index out of range")}function Ke(be,le,re,xe,xt,Ut){if(re+xe>be.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function tt(be,le,re,xe,xt){return le=+le,re>>>=0,xt||Ke(be,0,re,4),F.write(be,le,re,xe,23,4),re+4}function qe(be,le,re,xe,xt){return le=+le,re>>>=0,xt||Ke(be,0,re,8),F.write(be,le,re,xe,52,8),re+8}O.kMaxLength=T,!(m.TYPED_ARRAY_SUPPORT=function E(){try{var be=new Uint8Array(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,Uint8Array.prototype),Object.setPrototypeOf(be,le),42===be.foo()}catch(re){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(be,le,re){return b(be,le,re)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(be,le,re){return function k(be,le,re){return S(be),be<=0?w(be):void 0!==le?"string"==typeof re?w(be).fill(le,re):w(be).fill(le):w(be)}(be,le,re)},m.allocUnsafe=function(be){return R(be)},m.allocUnsafeSlow=function(be){return R(be)},m.isBuffer=function(le){return null!=le&&!0===le._isBuffer&&le!==m.prototype},m.compare=function(le,re){if(vt(le,Uint8Array)&&(le=m.from(le,le.offset,le.byteLength)),vt(re,Uint8Array)&&(re=m.from(re,re.offset,re.byteLength)),!m.isBuffer(le)||!m.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(le===re)return 0;for(var xe=le.length,xt=re.length,Ut=0,Yt=Math.min(xe,xt);Ut<Yt;++Ut)if(le[Ut]!==re[Ut]){xe=le[Ut],xt=re[Ut];break}return xe<xt?-1:xt<xe?1:0},m.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(le,re){if(!Array.isArray(le))throw new TypeError('"list" argument must be an Array of Buffers');if(0===le.length)return m.alloc(0);var xe;if(void 0===re)for(re=0,xe=0;xe<le.length;++xe)re+=le[xe].length;var xt=m.allocUnsafe(re),Ut=0;for(xe=0;xe<le.length;++xe){var Yt=le[xe];if(vt(Yt,Uint8Array))Ut+Yt.length>xt.length?m.from(Yt).copy(xt,Ut):Uint8Array.prototype.set.call(xt,Yt,Ut);else{if(!m.isBuffer(Yt))throw new TypeError('"list" argument must be an Array of Buffers');Yt.copy(xt,Ut)}Ut+=Yt.length}return xt},m.byteLength=ae,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var le=this.length;if(le%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var re=0;re<le;re+=2)ue(this,re,re+1);return this},m.prototype.swap32=function(){var le=this.length;if(le%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var re=0;re<le;re+=4)ue(this,re,re+3),ue(this,re+1,re+2);return this},m.prototype.swap64=function(){var le=this.length;if(le%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var re=0;re<le;re+=8)ue(this,re,re+7),ue(this,re+1,re+6),ue(this,re+2,re+5),ue(this,re+3,re+4);return this},m.prototype.toLocaleString=m.prototype.toString=function(){var le=this.length;return 0===le?"":0===arguments.length?ne(this,0,le):pe.apply(this,arguments)},m.prototype.equals=function(le){if(!m.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le||0===m.compare(this,le)},m.prototype.inspect=function(){var le="",re=O.INSPECT_MAX_BYTES;return le=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(le+=" ... "),"<Buffer "+le+">"},B&&(m.prototype[B]=m.prototype.inspect),m.prototype.compare=function(le,re,xe,xt,Ut){if(vt(le,Uint8Array)&&(le=m.from(le,le.offset,le.byteLength)),!m.isBuffer(le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof le);if(void 0===re&&(re=0),void 0===xe&&(xe=le?le.length:0),void 0===xt&&(xt=0),void 0===Ut&&(Ut=this.length),re<0||xe>le.length||xt<0||Ut>this.length)throw new RangeError("out of range index");if(xt>=Ut&&re>=xe)return 0;if(xt>=Ut)return-1;if(re>=xe)return 1;if(this===le)return 0;for(var Yt=(Ut>>>=0)-(xt>>>=0),xn=(xe>>>=0)-(re>>>=0),Ct=Math.min(Yt,xn),It=this.slice(xt,Ut),qt=le.slice(re,xe),Gt=0;Gt<Ct;++Gt)if(It[Gt]!==qt[Gt]){Yt=It[Gt],xn=qt[Gt];break}return Yt<xn?-1:xn<Yt?1:0},m.prototype.includes=function(le,re,xe){return-1!==this.indexOf(le,re,xe)},m.prototype.indexOf=function(le,re,xe){return fe(this,le,re,xe,!0)},m.prototype.lastIndexOf=function(le,re,xe){return fe(this,le,re,xe,!1)},m.prototype.write=function(le,re,xe,xt){if(void 0===re)xt="utf8",xe=this.length,re=0;else if(void 0===xe&&"string"==typeof re)xt=re,xe=this.length,re=0;else{if(!isFinite(re))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");re>>>=0,isFinite(xe)?(xe>>>=0,void 0===xt&&(xt="utf8")):(xt=xe,xe=void 0)}var Ut=this.length-re;if((void 0===xe||xe>Ut)&&(xe=Ut),le.length>0&&(xe<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");xt||(xt="utf8");for(var Yt=!1;;)switch(xt){case"hex":return De(this,le,re,xe);case"utf8":case"utf-8":return me(this,le,re,xe);case"ascii":case"latin1":case"binary":return Me(this,le,re,xe);case"base64":return nt(this,le,re,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,le,re,xe);default:if(Yt)throw new TypeError("Unknown encoding: "+xt);xt=(""+xt).toLowerCase(),Yt=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(le,re){var xe=this.length;(le=~~le)<0?(le+=xe)<0&&(le=0):le>xe&&(le=xe),(re=void 0===re?xe:~~re)<0?(re+=xe)<0&&(re=0):re>xe&&(re=xe),re<le&&(re=le);var xt=this.subarray(le,re);return Object.setPrototypeOf(xt,m.prototype),xt},m.prototype.readUintLE=m.prototype.readUIntLE=function(le,re,xe){le>>>=0,re>>>=0,xe||ze(le,re,this.length);for(var xt=this[le],Ut=1,Yt=0;++Yt<re&&(Ut*=256);)xt+=this[le+Yt]*Ut;return xt},m.prototype.readUintBE=m.prototype.readUIntBE=function(le,re,xe){le>>>=0,re>>>=0,xe||ze(le,re,this.length);for(var xt=this[le+--re],Ut=1;re>0&&(Ut*=256);)xt+=this[le+--re]*Ut;return xt},m.prototype.readUint8=m.prototype.readUInt8=function(le,re){return le>>>=0,re||ze(le,1,this.length),this[le]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(le,re){return le>>>=0,re||ze(le,2,this.length),this[le]|this[le+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(le,re){return le>>>=0,re||ze(le,2,this.length),this[le]<<8|this[le+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(le,re){return le>>>=0,re||ze(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+16777216*this[le+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(le,re){return le>>>=0,re||ze(le,4,this.length),16777216*this[le]+(this[le+1]<<16|this[le+2]<<8|this[le+3])},m.prototype.readIntLE=function(le,re,xe){le>>>=0,re>>>=0,xe||ze(le,re,this.length);for(var xt=this[le],Ut=1,Yt=0;++Yt<re&&(Ut*=256);)xt+=this[le+Yt]*Ut;return xt>=(Ut*=128)&&(xt-=Math.pow(2,8*re)),xt},m.prototype.readIntBE=function(le,re,xe){le>>>=0,re>>>=0,xe||ze(le,re,this.length);for(var xt=re,Ut=1,Yt=this[le+--xt];xt>0&&(Ut*=256);)Yt+=this[le+--xt]*Ut;return Yt>=(Ut*=128)&&(Yt-=Math.pow(2,8*re)),Yt},m.prototype.readInt8=function(le,re){return le>>>=0,re||ze(le,1,this.length),128&this[le]?-1*(255-this[le]+1):this[le]},m.prototype.readInt16LE=function(le,re){le>>>=0,re||ze(le,2,this.length);var xe=this[le]|this[le+1]<<8;return 32768&xe?4294901760|xe:xe},m.prototype.readInt16BE=function(le,re){le>>>=0,re||ze(le,2,this.length);var xe=this[le+1]|this[le]<<8;return 32768&xe?4294901760|xe:xe},m.prototype.readInt32LE=function(le,re){return le>>>=0,re||ze(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},m.prototype.readInt32BE=function(le,re){return le>>>=0,re||ze(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},m.prototype.readFloatLE=function(le,re){return le>>>=0,re||ze(le,4,this.length),F.read(this,le,!0,23,4)},m.prototype.readFloatBE=function(le,re){return le>>>=0,re||ze(le,4,this.length),F.read(this,le,!1,23,4)},m.prototype.readDoubleLE=function(le,re){return le>>>=0,re||ze(le,8,this.length),F.read(this,le,!0,52,8)},m.prototype.readDoubleBE=function(le,re){return le>>>=0,re||ze(le,8,this.length),F.read(this,le,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(le,re,xe,xt){le=+le,re>>>=0,xe>>>=0,xt||ht(this,le,re,xe,Math.pow(2,8*xe)-1,0);var Yt=1,xn=0;for(this[re]=255&le;++xn<xe&&(Yt*=256);)this[re+xn]=le/Yt&255;return re+xe},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(le,re,xe,xt){le=+le,re>>>=0,xe>>>=0,xt||ht(this,le,re,xe,Math.pow(2,8*xe)-1,0);var Yt=xe-1,xn=1;for(this[re+Yt]=255&le;--Yt>=0&&(xn*=256);)this[re+Yt]=le/xn&255;return re+xe},m.prototype.writeUint8=m.prototype.writeUInt8=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,1,255,0),this[re]=255&le,re+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,2,65535,0),this[re]=255&le,this[re+1]=le>>>8,re+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,2,65535,0),this[re]=le>>>8,this[re+1]=255&le,re+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,4,4294967295,0),this[re+3]=le>>>24,this[re+2]=le>>>16,this[re+1]=le>>>8,this[re]=255&le,re+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,4,4294967295,0),this[re]=le>>>24,this[re+1]=le>>>16,this[re+2]=le>>>8,this[re+3]=255&le,re+4},m.prototype.writeIntLE=function(le,re,xe,xt){if(le=+le,re>>>=0,!xt){var Ut=Math.pow(2,8*xe-1);ht(this,le,re,xe,Ut-1,-Ut)}var Yt=0,xn=1,Ct=0;for(this[re]=255&le;++Yt<xe&&(xn*=256);)le<0&&0===Ct&&0!==this[re+Yt-1]&&(Ct=1),this[re+Yt]=(le/xn>>0)-Ct&255;return re+xe},m.prototype.writeIntBE=function(le,re,xe,xt){if(le=+le,re>>>=0,!xt){var Ut=Math.pow(2,8*xe-1);ht(this,le,re,xe,Ut-1,-Ut)}var Yt=xe-1,xn=1,Ct=0;for(this[re+Yt]=255&le;--Yt>=0&&(xn*=256);)le<0&&0===Ct&&0!==this[re+Yt+1]&&(Ct=1),this[re+Yt]=(le/xn>>0)-Ct&255;return re+xe},m.prototype.writeInt8=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,1,127,-128),le<0&&(le=255+le+1),this[re]=255&le,re+1},m.prototype.writeInt16LE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,2,32767,-32768),this[re]=255&le,this[re+1]=le>>>8,re+2},m.prototype.writeInt16BE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,2,32767,-32768),this[re]=le>>>8,this[re+1]=255&le,re+2},m.prototype.writeInt32LE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,4,2147483647,-2147483648),this[re]=255&le,this[re+1]=le>>>8,this[re+2]=le>>>16,this[re+3]=le>>>24,re+4},m.prototype.writeInt32BE=function(le,re,xe){return le=+le,re>>>=0,xe||ht(this,le,re,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),this[re]=le>>>24,this[re+1]=le>>>16,this[re+2]=le>>>8,this[re+3]=255&le,re+4},m.prototype.writeFloatLE=function(le,re,xe){return tt(this,le,re,!0,xe)},m.prototype.writeFloatBE=function(le,re,xe){return tt(this,le,re,!1,xe)},m.prototype.writeDoubleLE=function(le,re,xe){return qe(this,le,re,!0,xe)},m.prototype.writeDoubleBE=function(le,re,xe){return qe(this,le,re,!1,xe)},m.prototype.copy=function(le,re,xe,xt){if(!m.isBuffer(le))throw new TypeError("argument should be a Buffer");if(xe||(xe=0),!xt&&0!==xt&&(xt=this.length),re>=le.length&&(re=le.length),re||(re=0),xt>0&&xt<xe&&(xt=xe),xt===xe||0===le.length||0===this.length)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(xe<0||xe>=this.length)throw new RangeError("Index out of range");if(xt<0)throw new RangeError("sourceEnd out of bounds");xt>this.length&&(xt=this.length),le.length-re<xt-xe&&(xt=le.length-re+xe);var Ut=xt-xe;return this===le&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(re,xe,xt):Uint8Array.prototype.set.call(le,this.subarray(xe,xt),re),Ut},m.prototype.fill=function(le,re,xe,xt){if("string"==typeof le){if("string"==typeof re?(xt=re,re=0,xe=this.length):"string"==typeof xe&&(xt=xe,xe=this.length),void 0!==xt&&"string"!=typeof xt)throw new TypeError("encoding must be a string");if("string"==typeof xt&&!m.isEncoding(xt))throw new TypeError("Unknown encoding: "+xt);if(1===le.length){var Ut=le.charCodeAt(0);("utf8"===xt&&Ut<128||"latin1"===xt)&&(le=Ut)}}else"number"==typeof le?le&=255:"boolean"==typeof le&&(le=Number(le));if(re<0||this.length<re||this.length<xe)throw new RangeError("Out of range index");if(xe<=re)return this;var Yt;if(re>>>=0,xe=void 0===xe?this.length:xe>>>0,le||(le=0),"number"==typeof le)for(Yt=re;Yt<xe;++Yt)this[Yt]=le;else{var xn=m.isBuffer(le)?le:m.from(le,xt),Ct=xn.length;if(0===Ct)throw new TypeError('The value "'+le+'" is invalid for argument "value"');for(Yt=0;Yt<xe-re;++Yt)this[Yt+re]=xn[Yt%Ct]}return this};var Qe=/[^+/0-9A-Za-z-_]/g;function ft(be,le){le=le||1/0;for(var re,xe=be.length,xt=null,Ut=[],Yt=0;Yt<xe;++Yt){if((re=be.charCodeAt(Yt))>55295&&re<57344){if(!xt){if(re>56319){(le-=3)>-1&&Ut.push(239,191,189);continue}if(Yt+1===xe){(le-=3)>-1&&Ut.push(239,191,189);continue}xt=re;continue}if(re<56320){(le-=3)>-1&&Ut.push(239,191,189),xt=re;continue}re=65536+(xt-55296<<10|re-56320)}else xt&&(le-=3)>-1&&Ut.push(239,191,189);if(xt=null,re<128){if((le-=1)<0)break;Ut.push(re)}else if(re<2048){if((le-=2)<0)break;Ut.push(re>>6|192,63&re|128)}else if(re<65536){if((le-=3)<0)break;Ut.push(re>>12|224,re>>6&63|128,63&re|128)}else{if(!(re<1114112))throw new Error("Invalid code point");if((le-=4)<0)break;Ut.push(re>>18|240,re>>12&63|128,re>>6&63|128,63&re|128)}}return Ut}function Ve(be){return i.toByteArray(function We(be){if((be=(be=be.split("=")[0]).trim().replace(Qe,"")).length<2)return"";for(;be.length%4!=0;)be+="=";return be}(be))}function Xe(be,le,re,xe){for(var xt=0;xt<xe&&!(xt+re>=le.length||xt>=be.length);++xt)le[xt+re]=be[xt];return xt}function vt(be,le){return be instanceof le||null!=be&&null!=be.constructor&&null!=be.constructor.name&&be.constructor.name===le.name}function Fe(be){return be!=be}var Ge=function(){for(var be="0123456789abcdef",le=new Array(256),re=0;re<16;++re)for(var xe=16*re,xt=0;xt<16;++xt)le[xe+xt]=be[re]+be[xt];return le}()},8314:te=>{te.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},6354:(te,O,g)=>{"use strict";var i=g(379),F=g(3312),B=F(i("String.prototype.indexOf"));te.exports=function(E,w){var m=i(E,!!w);return"function"==typeof m&&B(E,".prototype.")>-1?F(m):m}},3312:(te,O,g)=>{"use strict";var i=g(2169),F=g(379),B=F("%Function.prototype.apply%"),T=F("%Function.prototype.call%"),E=F("%Reflect.apply%",!0)||i.call(T,B),w=F("%Object.getOwnPropertyDescriptor%",!0),m=F("%Object.defineProperty%",!0),b=F("%Math.max%");if(m)try{m({},"a",{value:1})}catch(k){m=null}te.exports=function(R){var P=E(i,T,arguments);if(w&&m){var I=w(P,"length");I.configurable&&m(P,"length",{value:1+b(0,R.length-(arguments.length-1))})}return P};var S=function(){return E(i,B,arguments)};m?m(te.exports,"apply",{value:S}):te.exports.apply=S},6652:te=>{var O=1e3,g=60*O,i=60*g,F=24*i;function b(S,k,R,P){var I=k>=1.5*R;return Math.round(S/R)+" "+P+(I?"s":"")}te.exports=function(S,k){k=k||{};var R=typeof S;if("string"===R&&S.length>0)return function E(S){if(!((S=String(S)).length>100)){var k=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(S);if(k){var R=parseFloat(k[1]);switch((k[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*R;case"weeks":case"week":case"w":return 6048e5*R;case"days":case"day":case"d":return R*F;case"hours":case"hour":case"hrs":case"hr":case"h":return R*i;case"minutes":case"minute":case"mins":case"min":case"m":return R*g;case"seconds":case"second":case"secs":case"sec":case"s":return R*O;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}(S);if("number"===R&&isFinite(S))return k.long?function m(S){var k=Math.abs(S);return k>=F?b(S,k,F,"day"):k>=i?b(S,k,i,"hour"):k>=g?b(S,k,g,"minute"):k>=O?b(S,k,O,"second"):S+" ms"}(S):function w(S){var k=Math.abs(S);return k>=F?Math.round(S/F)+"d":k>=i?Math.round(S/i)+"h":k>=g?Math.round(S/g)+"m":k>=O?Math.round(S/O)+"s":S+"ms"}(S);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},1748:(te,O,g)=>{var i=g(1986);O.formatArgs=function B(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+te.exports.humanize(this.diff),!this.useColors)return;const S="color: "+this.color;b.splice(1,0,S,"color: inherit");let k=0,R=0;b[0].replace(/%[a-zA-Z%]/g,P=>{"%%"!==P&&(k++,"%c"===P&&(R=k))}),b.splice(R,0,S)},O.save=function T(b){try{b?O.storage.setItem("debug",b):O.storage.removeItem("debug")}catch(S){}},O.load=function E(){let b;try{b=O.storage.getItem("debug")}catch(S){}return!b&&void 0!==i&&"env"in i&&(b=i.env.DEBUG),b},O.useColors=function F(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},O.storage=function w(){try{return localStorage}catch(b){}}(),O.destroy=(()=>{let b=!1;return()=>{b||(b=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),O.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],O.log=console.debug||console.log||(()=>{}),te.exports=g(305)(O);const{formatters:m}=te.exports;m.j=function(b){try{return JSON.stringify(b)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}}},305:(te,O,g)=>{te.exports=function i(F){function T(P){let I,U,$,C=null;function K(...z){if(!K.enabled)return;const ae=K,pe=Number(new Date);ae.diff=pe-(I||pe),ae.prev=I,ae.curr=pe,I=pe,z[0]=T.coerce(z[0]),"string"!=typeof z[0]&&z.unshift("%O");let fe=0;z[0]=z[0].replace(/%([a-zA-Z%])/g,(De,me)=>{if("%%"===De)return"%";fe++;const Me=T.formatters[me];return"function"==typeof Me&&(De=Me.call(ae,z[fe]),z.splice(fe,1),fe--),De}),T.formatArgs.call(ae,z),(ae.log||T.log).apply(ae,z)}return K.namespace=P,K.useColors=T.useColors(),K.color=T.selectColor(P),K.extend=E,K.destroy=T.destroy,Object.defineProperty(K,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==C?C:(U!==T.namespaces&&(U=T.namespaces,$=T.enabled(P)),$),set:z=>{C=z}}),"function"==typeof T.init&&T.init(K),K}function E(P,I){const C=T(this.namespace+(void 0===I?":":I)+P);return C.log=this.log,C}function S(P){return P.toString().substring(2,P.toString().length-2).replace(/\.\*\?$/,"*")}return T.debug=T,T.default=T,T.coerce=function k(P){return P instanceof Error?P.stack||P.message:P},T.disable=function m(){const P=[...T.names.map(S),...T.skips.map(S).map(I=>"-"+I)].join(",");return T.enable(""),P},T.enable=function w(P){let I;T.save(P),T.namespaces=P,T.names=[],T.skips=[];const C=("string"==typeof P?P:"").split(/[\s,]+/),U=C.length;for(I=0;I<U;I++)!C[I]||("-"===(P=C[I].replace(/\*/g,".*?"))[0]?T.skips.push(new RegExp("^"+P.slice(1)+"$")):T.names.push(new RegExp("^"+P+"$")))},T.enabled=function b(P){if("*"===P[P.length-1])return!0;let I,C;for(I=0,C=T.skips.length;I<C;I++)if(T.skips[I].test(P))return!1;for(I=0,C=T.names.length;I<C;I++)if(T.names[I].test(P))return!0;return!1},T.humanize=g(6652),T.destroy=function R(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(F).forEach(P=>{T[P]=F[P]}),T.names=[],T.skips=[],T.formatters={},T.selectColor=function B(P){let I=0;for(let C=0;C<P.length;C++)I=(I<<5)-I+P.charCodeAt(C),I|=0;return T.colors[Math.abs(I)%T.colors.length]},T.enable(T.load()),T}},3420:(te,O,g)=>{"use strict";var i=g(2500),F="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),B=Object.prototype.toString,T=Array.prototype.concat,E=Object.defineProperty,m=g(3052)(),b=E&&m,S=function(R,P,I,C){P in R&&(!function(R){return"function"==typeof R&&"[object Function]"===B.call(R)}(C)||!C())||(b?E(R,P,{configurable:!0,enumerable:!1,value:I,writable:!0}):R[P]=I)},k=function(R,P){var I=arguments.length>2?arguments[2]:{},C=i(P);F&&(C=T.call(C,Object.getOwnPropertySymbols(P)));for(var U=0;U<C.length;U+=1)S(R,C[U],P[C[U]],I[C[U]])};k.supportsDescriptors=!!b,te.exports=k},7735:(te,O,g)=>{var i=g(1986),F=g(896),B=function(){},w=function(m,b,S){if("function"==typeof b)return w(m,null,b);b||(b={}),S=F(S||B);var k=m._writableState,R=m._readableState,P=b.readable||!1!==b.readable&&m.readable,I=b.writable||!1!==b.writable&&m.writable,C=!1,U=function(){m.writable||$()},$=function(){I=!1,P||S.call(m)},K=function(){P=!1,I||S.call(m)},z=function(Y){S.call(m,Y?new Error("exited with error code: "+Y):null)},ae=function(Y){S.call(m,Y)},pe=function(){i.nextTick(ue)},ue=function(){if(!C){if(P&&(!R||!R.ended||R.destroyed))return S.call(m,new Error("premature close"));if(I&&(!k||!k.ended||k.destroyed))return S.call(m,new Error("premature close"))}},fe=function(){m.req.on("finish",$)};return function(m){return m.setHeader&&"function"==typeof m.abort}(m)?(m.on("complete",$),m.on("abort",pe),m.req?fe():m.on("request",fe)):I&&!k&&(m.on("end",U),m.on("close",U)),function(m){return m.stdio&&Array.isArray(m.stdio)&&3===m.stdio.length}(m)&&m.on("exit",z),m.on("end",K),m.on("finish",$),!1!==b.error&&m.on("error",ae),m.on("close",pe),function(){C=!0,m.removeListener("complete",$),m.removeListener("abort",pe),m.removeListener("request",fe),m.req&&m.req.removeListener("finish",$),m.removeListener("end",U),m.removeListener("close",U),m.removeListener("finish",$),m.removeListener("exit",z),m.removeListener("end",K),m.removeListener("error",ae),m.removeListener("close",pe)}};te.exports=w},3960:te=>{"use strict";function O(i,F){if(null==i)throw new TypeError("Cannot convert first argument to object");for(var B=Object(i),T=1;T<arguments.length;T++){var E=arguments[T];if(null!=E)for(var w=Object.keys(Object(E)),m=0,b=w.length;m<b;m++){var S=w[m],k=Object.getOwnPropertyDescriptor(E,S);void 0!==k&&k.enumerable&&(B[S]=E[S])}}return B}te.exports={assign:O,polyfill:function g(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:O})}}},9502:te=>{"use strict";var i,O="object"==typeof Reflect?Reflect:null,g=O&&"function"==typeof O.apply?O.apply:function(pe,ue,fe){return Function.prototype.apply.call(pe,ue,fe)};i=O&&"function"==typeof O.ownKeys?O.ownKeys:Object.getOwnPropertySymbols?function(pe){return Object.getOwnPropertyNames(pe).concat(Object.getOwnPropertySymbols(pe))}:function(pe){return Object.getOwnPropertyNames(pe)};var B=Number.isNaN||function(pe){return pe!=pe};function T(){T.init.call(this)}te.exports=T,te.exports.once=function $(ae,pe){return new Promise(function(ue,fe){function Y(me){ae.removeListener(pe,De),fe(me)}function De(){"function"==typeof ae.removeListener&&ae.removeListener("error",Y),ue([].slice.call(arguments))}z(ae,pe,De,{once:!0}),"error"!==pe&&function K(ae,pe,ue){"function"==typeof ae.on&&z(ae,"error",pe,ue)}(ae,Y,{once:!0})})},T.EventEmitter=T,T.prototype._events=void 0,T.prototype._eventsCount=0,T.prototype._maxListeners=void 0;var E=10;function w(ae){if("function"!=typeof ae)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ae)}function m(ae){return void 0===ae._maxListeners?T.defaultMaxListeners:ae._maxListeners}function b(ae,pe,ue,fe){var Y,De,me;if(w(ue),void 0===(De=ae._events)?(De=ae._events=Object.create(null),ae._eventsCount=0):(void 0!==De.newListener&&(ae.emit("newListener",pe,ue.listener?ue.listener:ue),De=ae._events),me=De[pe]),void 0===me)me=De[pe]=ue,++ae._eventsCount;else if("function"==typeof me?me=De[pe]=fe?[ue,me]:[me,ue]:fe?me.unshift(ue):me.push(ue),(Y=m(ae))>0&&me.length>Y&&!me.warned){me.warned=!0;var Me=new Error("Possible EventEmitter memory leak detected. "+me.length+" "+String(pe)+" listeners added. Use emitter.setMaxListeners() to increase limit");Me.name="MaxListenersExceededWarning",Me.emitter=ae,Me.type=pe,Me.count=me.length,function F(ae){console&&console.warn&&console.warn(ae)}(Me)}return ae}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(ae,pe,ue){var fe={fired:!1,wrapFn:void 0,target:ae,type:pe,listener:ue},Y=S.bind(fe);return Y.listener=ue,fe.wrapFn=Y,Y}function R(ae,pe,ue){var fe=ae._events;if(void 0===fe)return[];var Y=fe[pe];return void 0===Y?[]:"function"==typeof Y?ue?[Y.listener||Y]:[Y]:ue?function U(ae){for(var pe=new Array(ae.length),ue=0;ue<pe.length;++ue)pe[ue]=ae[ue].listener||ae[ue];return pe}(Y):I(Y,Y.length)}function P(ae){var pe=this._events;if(void 0!==pe){var ue=pe[ae];if("function"==typeof ue)return 1;if(void 0!==ue)return ue.length}return 0}function I(ae,pe){for(var ue=new Array(pe),fe=0;fe<pe;++fe)ue[fe]=ae[fe];return ue}function z(ae,pe,ue,fe){if("function"==typeof ae.on)fe.once?ae.once(pe,ue):ae.on(pe,ue);else{if("function"!=typeof ae.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ae);ae.addEventListener(pe,function Y(De){fe.once&&ae.removeEventListener(pe,Y),ue(De)})}}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(ae){if("number"!=typeof ae||ae<0||B(ae))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ae+".");E=ae}}),T.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(pe){if("number"!=typeof pe||pe<0||B(pe))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+pe+".");return this._maxListeners=pe,this},T.prototype.getMaxListeners=function(){return m(this)},T.prototype.emit=function(pe){for(var ue=[],fe=1;fe<arguments.length;fe++)ue.push(arguments[fe]);var Y="error"===pe,De=this._events;if(void 0!==De)Y=Y&&void 0===De.error;else if(!Y)return!1;if(Y){var me;if(ue.length>0&&(me=ue[0]),me instanceof Error)throw me;var Me=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw Me.context=me,Me}var nt=De[pe];if(void 0===nt)return!1;if("function"==typeof nt)g(nt,this,ue);else{var et=nt.length,de=I(nt,et);for(fe=0;fe<et;++fe)g(de[fe],this,ue)}return!0},T.prototype.on=T.prototype.addListener=function(pe,ue){return b(this,pe,ue,!1)},T.prototype.prependListener=function(pe,ue){return b(this,pe,ue,!0)},T.prototype.once=function(pe,ue){return w(ue),this.on(pe,k(this,pe,ue)),this},T.prototype.prependOnceListener=function(pe,ue){return w(ue),this.prependListener(pe,k(this,pe,ue)),this},T.prototype.off=T.prototype.removeListener=function(pe,ue){var fe,Y,De,me,Me;if(w(ue),void 0===(Y=this._events))return this;if(void 0===(fe=Y[pe]))return this;if(fe===ue||fe.listener===ue)0==--this._eventsCount?this._events=Object.create(null):(delete Y[pe],Y.removeListener&&this.emit("removeListener",pe,fe.listener||ue));else if("function"!=typeof fe){for(De=-1,me=fe.length-1;me>=0;me--)if(fe[me]===ue||fe[me].listener===ue){Me=fe[me].listener,De=me;break}if(De<0)return this;0===De?fe.shift():function C(ae,pe){for(;pe+1<ae.length;pe++)ae[pe]=ae[pe+1];ae.pop()}(fe,De),1===fe.length&&(Y[pe]=fe[0]),void 0!==Y.removeListener&&this.emit("removeListener",pe,Me||ue)}return this},T.prototype.removeAllListeners=function(pe){var ue,fe,Y;if(void 0===(fe=this._events))return this;if(void 0===fe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==fe[pe]&&(0==--this._eventsCount?this._events=Object.create(null):delete fe[pe]),this;if(0===arguments.length){var me,De=Object.keys(fe);for(Y=0;Y<De.length;++Y)"removeListener"!==(me=De[Y])&&this.removeAllListeners(me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ue=fe[pe]))this.removeListener(pe,ue);else if(void 0!==ue)for(Y=ue.length-1;Y>=0;Y--)this.removeListener(pe,ue[Y]);return this},T.prototype.listeners=function(pe){return R(this,pe,!0)},T.prototype.rawListeners=function(pe){return R(this,pe,!1)},T.listenerCount=function(ae,pe){return"function"==typeof ae.listenerCount?ae.listenerCount(pe):P.call(ae,pe)},T.prototype.listenerCount=P,T.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},9053:(te,O,g)=>{"use strict";g.r(O),g.d(O,{assign:()=>k,default:()=>Ue,defaultI18n:()=>U,format:()=>de,parse:()=>ne,setGlobalDateI18n:()=>K,setGlobalDateMasks:()=>et});var i=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,F="\\d\\d?",B="\\d\\d",w="[^\\s]+",m=/\[([^]*?)\]/gm;function b(ke,Ie){for(var Ne=[],Te=0,ze=ke.length;Te<ze;Te++)Ne.push(ke[Te].substr(0,Ie));return Ne}var S=function(ke){return function(Ie,Ne){var ze=Ne[ke].map(function(ht){return ht.toLowerCase()}).indexOf(Ie.toLowerCase());return ze>-1?ze:null}};function k(ke){for(var Ie=[],Ne=1;Ne<arguments.length;Ne++)Ie[Ne-1]=arguments[Ne];for(var Te=0,ze=Ie;Te<ze.length;Te++){var ht=ze[Te];for(var Ke in ht)ke[Ke]=ht[Ke]}return ke}var R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=["January","February","March","April","May","June","July","August","September","October","November","December"],I=b(P,3),U={dayNamesShort:b(R,3),dayNames:R,monthNamesShort:I,monthNames:P,amPm:["am","pm"],DoFn:function(ke){return ke+["th","st","nd","rd"][ke%10>3?0:(ke-ke%10!=10?1:0)*ke%10]}},$=k({},U),K=function(ke){return $=k($,ke)},z=function(ke){return ke.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},ae=function(ke,Ie){for(void 0===Ie&&(Ie=2),ke=String(ke);ke.length<Ie;)ke="0"+ke;return ke},pe={D:function(ke){return String(ke.getDate())},DD:function(ke){return ae(ke.getDate())},Do:function(ke,Ie){return Ie.DoFn(ke.getDate())},d:function(ke){return String(ke.getDay())},dd:function(ke){return ae(ke.getDay())},ddd:function(ke,Ie){return Ie.dayNamesShort[ke.getDay()]},dddd:function(ke,Ie){return Ie.dayNames[ke.getDay()]},M:function(ke){return String(ke.getMonth()+1)},MM:function(ke){return ae(ke.getMonth()+1)},MMM:function(ke,Ie){return Ie.monthNamesShort[ke.getMonth()]},MMMM:function(ke,Ie){return Ie.monthNames[ke.getMonth()]},YY:function(ke){return ae(String(ke.getFullYear()),4).substr(2)},YYYY:function(ke){return ae(ke.getFullYear(),4)},h:function(ke){return String(ke.getHours()%12||12)},hh:function(ke){return ae(ke.getHours()%12||12)},H:function(ke){return String(ke.getHours())},HH:function(ke){return ae(ke.getHours())},m:function(ke){return String(ke.getMinutes())},mm:function(ke){return ae(ke.getMinutes())},s:function(ke){return String(ke.getSeconds())},ss:function(ke){return ae(ke.getSeconds())},S:function(ke){return String(Math.round(ke.getMilliseconds()/100))},SS:function(ke){return ae(Math.round(ke.getMilliseconds()/10),2)},SSS:function(ke){return ae(ke.getMilliseconds(),3)},a:function(ke,Ie){return ke.getHours()<12?Ie.amPm[0]:Ie.amPm[1]},A:function(ke,Ie){return ke.getHours()<12?Ie.amPm[0].toUpperCase():Ie.amPm[1].toUpperCase()},ZZ:function(ke){var Ie=ke.getTimezoneOffset();return(Ie>0?"-":"+")+ae(100*Math.floor(Math.abs(Ie)/60)+Math.abs(Ie)%60,4)},Z:function(ke){var Ie=ke.getTimezoneOffset();return(Ie>0?"-":"+")+ae(Math.floor(Math.abs(Ie)/60),2)+":"+ae(Math.abs(Ie)%60,2)}},ue=function(ke){return+ke-1},fe=[null,F],Y=[null,w],De=["isPm",w,function(ke,Ie){var Ne=ke.toLowerCase();return Ne===Ie.amPm[0]?0:Ne===Ie.amPm[1]?1:null}],me=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(ke){var Ie=(ke+"").match(/([+-]|\d\d)/gi);if(Ie){var Ne=60*+Ie[1]+parseInt(Ie[2],10);return"+"===Ie[0]?Ne:-Ne}return 0}],Me={D:["day",F],DD:["day",B],Do:["day",F+w,function(ke){return parseInt(ke,10)}],M:["month",F,ue],MM:["month",B,ue],YY:["year",B,function(ke){var Ne=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+ke>68?Ne-1:Ne)+ke)}],h:["hour",F,void 0,"isPm"],hh:["hour",B,void 0,"isPm"],H:["hour",F],HH:["hour",B],m:["minute",F],mm:["minute",B],s:["second",F],ss:["second",B],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(ke){return 100*+ke}],SS:["millisecond",B,function(ke){return 10*+ke}],SSS:["millisecond","\\d{3}"],d:fe,dd:fe,ddd:Y,dddd:Y,MMM:["month",w,S("monthNamesShort")],MMMM:["month",w,S("monthNames")],a:De,A:De,ZZ:me,Z:me},nt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},et=function(ke){return k(nt,ke)},de=function(ke,Ie,Ne){if(void 0===Ie&&(Ie=nt.default),void 0===Ne&&(Ne={}),"number"==typeof ke&&(ke=new Date(ke)),"[object Date]"!==Object.prototype.toString.call(ke)||isNaN(ke.getTime()))throw new Error("Invalid Date pass to format");var Te=[];Ie=(Ie=nt[Ie]||Ie).replace(m,function(ht,Ke){return Te.push(Ke),"@@@"});var ze=k(k({},$),Ne);return(Ie=Ie.replace(i,function(ht){return pe[ht](ke,ze)})).replace(/@@@/g,function(){return Te.shift()})};function ne(ke,Ie,Ne){if(void 0===Ne&&(Ne={}),"string"!=typeof Ie)throw new Error("Invalid format in fecha parse");if(Ie=nt[Ie]||Ie,ke.length>1e3)return null;var ze={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},ht=[],Ke=[],tt=Ie.replace(m,function(le,re){return Ke.push(z(re)),"@@@"}),qe={},Qe={};tt=z(tt).replace(i,function(le){var re=Me[le],xe=re[0],xt=re[1],Ut=re[3];if(qe[xe])throw new Error("Invalid format. "+xe+" specified twice in format");return qe[xe]=!0,Ut&&(Qe[Ut]=!0),ht.push(re),"("+xt+")"}),Object.keys(Qe).forEach(function(le){if(!qe[le])throw new Error("Invalid format. "+le+" is required in specified format")}),tt=tt.replace(/@@@/g,function(){return Ke.shift()});var Fe,We=ke.match(new RegExp(tt,"i"));if(!We)return null;for(var ft=k(k({},$),Ne),$e=1;$e<We.length;$e++){var Re=ht[$e-1],Ve=Re[0],Xe=Re[2],vt=Xe?Xe(We[$e],ft):+We[$e];if(null==vt)return null;ze[Ve]=vt}if(1===ze.isPm&&null!=ze.hour&&12!=+ze.hour?ze.hour=+ze.hour+12:0===ze.isPm&&12==+ze.hour&&(ze.hour=0),null==ze.timezoneOffset){Fe=new Date(ze.year,ze.month,ze.day,ze.hour,ze.minute,ze.second,ze.millisecond);for(var Ge=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],be=($e=0,Ge.length);$e<be;$e++)if(qe[Ge[$e][0]]&&ze[Ge[$e][0]]!==Fe[Ge[$e][1]]())return null}else if(Fe=new Date(Date.UTC(ze.year,ze.month,ze.day,ze.hour,ze.minute-ze.timezoneOffset,ze.second,ze.millisecond)),ze.month>11||ze.month<0||ze.day>31||ze.day<1||ze.hour>23||ze.hour<0||ze.minute>59||ze.minute<0||ze.second>59||ze.second<0)return null;return Fe}const Ue={format:de,parse:ne,defaultI18n:U,setGlobalDateI18n:K,setGlobalDateMasks:et}},1730:function(te){te.exports=function(){"use strict";function O(z){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(z)}var g="array",i="bits",F="byte",B="bytes",T="",E="exponent",w="function",m="iec",b="Invalid number",S="Invalid rounding method",k="jedec",R="object",P=".",I="round",C="kbit",U="string",$={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function K(z){var ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},pe=ae.bits,ue=void 0!==pe&&pe,fe=ae.pad,Y=void 0!==fe&&fe,De=ae.base,me=void 0===De?-1:De,Me=ae.round,nt=void 0===Me?2:Me,et=ae.locale,de=void 0===et?T:et,ne=ae.localeOptions,ve=void 0===ne?{}:ne,Ue=ae.separator,ke=void 0===Ue?T:Ue,Ie=ae.spacer,Ne=void 0===Ie?" ":Ie,Te=ae.symbols,ze=void 0===Te?{}:Te,ht=ae.standard,Ke=void 0===ht?T:ht,tt=ae.output,qe=void 0===tt?U:tt,Qe=ae.fullform,We=void 0!==Qe&&Qe,ft=ae.fullforms,$e=void 0===ft?[]:ft,Re=ae.exponent,Ve=void 0===Re?-1:Re,Xe=ae.roundingMethod,vt=void 0===Xe?I:Xe,Fe=ae.precision,Ge=void 0===Fe?0:Fe,be=Ve,le=Number(z),re=[],xe=0,xt=T;-1===me&&0===Ke.length?(me=10,Ke=k):-1===me&&Ke.length>0?me=(Ke=Ke===m?m:k)===m?2:10:Ke=10==(me=2===me?2:10)||Ke===k?k:m;var Ut=10===me?1e3:1024,Yt=!0===We,xn=le<0,Ct=Math[vt];if(isNaN(z))throw new TypeError(b);if(O(Ct)!==w)throw new TypeError(S);if(xn&&(le=-le),(-1===be||isNaN(be))&&(be=Math.floor(Math.log(le)/Math.log(Ut)))<0&&(be=0),be>8&&(Ge>0&&(Ge+=8-be),be=8),qe===E)return be;if(0===le)re[0]=0,xt=re[1]=$.symbol[Ke][ue?i:B][be];else{xe=le/(2===me?Math.pow(2,10*be):Math.pow(1e3,be)),ue&&(xe*=8)>=Ut&&be<8&&(xe/=Ut,be++);var It=Math.pow(10,be>0?nt:0);re[0]=Ct(xe*It)/It,re[0]===Ut&&be<8&&-1===Ve&&(re[0]=1,be++),xt=re[1]=10===me&&1===be?ue?C:"kB":$.symbol[Ke][ue?i:B][be]}if(xn&&(re[0]=-re[0]),Ge>0&&(re[0]=re[0].toPrecision(Ge)),re[1]=ze[re[1]]||re[1],!0===de?re[0]=re[0].toLocaleString():de.length>0?re[0]=re[0].toLocaleString(de,ve):ke.length>0&&(re[0]=re[0].toString().replace(P,ke)),Y&&!1===Number.isInteger(re[0])&&nt>0){var qt=ke||P,Gt=re[0].toString().split(qt),Wt=Gt[1]||T,un=Wt.length,Cn=nt-un;re[0]="".concat(Gt[0]).concat(qt).concat(Wt.padEnd(un+Cn,"0"))}return Yt&&(re[1]=$e[be]?$e[be]:$.fullform[Ke][be]+(ue?"bit":F)+(1===re[0]?T:"s")),qe===g?re:qe===R?{value:re[0],symbol:re[1],exponent:be,unit:xt}:re.join(Ne)}return K.partial=function(z){return function(ae){return K(ae,z)}},K}()},5879:te=>{"use strict";var O=Object.prototype.toString;te.exports=function(i){if("string"==typeof i.displayName&&i.constructor.name)return i.displayName;if("string"==typeof i.name&&i.name)return i.name;if("object"==typeof i&&i.constructor&&"string"==typeof i.constructor.name)return i.constructor.name;var F=i.toString(),B=O.call(i).slice(8,-1);return(F="Function"===B?F.substring(F.indexOf("(")+1,F.indexOf(")")):B)||"anonymous"}},8879:(te,O,g)=>{"use strict";var i=g(2428),F=Object.prototype.toString,B=Object.prototype.hasOwnProperty,T=function(S,k,R){for(var P=0,I=S.length;P<I;P++)B.call(S,P)&&(null==R?k(S[P],P,S):k.call(R,S[P],P,S))},E=function(S,k,R){for(var P=0,I=S.length;P<I;P++)null==R?k(S.charAt(P),P,S):k.call(R,S.charAt(P),P,S)},w=function(S,k,R){for(var P in S)B.call(S,P)&&(null==R?k(S[P],P,S):k.call(R,S[P],P,S))};te.exports=function(S,k,R){if(!i(k))throw new TypeError("iterator must be a function");var P;arguments.length>=3&&(P=R),"[object Array]"===F.call(S)?T(S,k,P):"string"==typeof S?E(S,k,P):w(S,k,P)}},1958:te=>{"use strict";var O="Function.prototype.bind called on incompatible ",g=Array.prototype.slice,i=Object.prototype.toString,F="[object Function]";te.exports=function(T){var E=this;if("function"!=typeof E||i.call(E)!==F)throw new TypeError(O+E);for(var m,w=g.call(arguments,1),b=function(){if(this instanceof m){var I=E.apply(this,w.concat(g.call(arguments)));return Object(I)===I?I:this}return E.apply(T,w.concat(g.call(arguments)))},S=Math.max(0,E.length-w.length),k=[],R=0;R<S;R++)k.push("$"+R);if(m=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(b),E.prototype){var P=function(){};P.prototype=E.prototype,m.prototype=new P,P.prototype=null}return m}},2169:(te,O,g)=>{"use strict";var i=g(1958);te.exports=Function.prototype.bind||i},379:(te,O,g)=>{"use strict";var i,F=SyntaxError,B=Function,T=TypeError,E=function(nt){try{return B('"use strict"; return ('+nt+").constructor;")()}catch(et){}},w=Object.getOwnPropertyDescriptor;if(w)try{w({},"")}catch(nt){w=null}var m=function(){throw new T},b=w?function(){try{return m}catch(nt){try{return w(arguments,"callee").get}catch(et){return m}}}():m,S=g(7663)(),k=Object.getPrototypeOf||function(nt){return nt.__proto__},R={},P="undefined"==typeof Uint8Array?i:k(Uint8Array),I={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":S?k([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":B,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S?k(k([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S?k((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S?k((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S?k(""[Symbol.iterator]()):i,"%Symbol%":S?Symbol:i,"%SyntaxError%":F,"%ThrowTypeError%":b,"%TypedArray%":P,"%TypeError%":T,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},C=function nt(et){var de;if("%AsyncFunction%"===et)de=E("async function () {}");else if("%GeneratorFunction%"===et)de=E("function* () {}");else if("%AsyncGeneratorFunction%"===et)de=E("async function* () {}");else if("%AsyncGenerator%"===et){var ne=nt("%AsyncGeneratorFunction%");ne&&(de=ne.prototype)}else if("%AsyncIteratorPrototype%"===et){var ve=nt("%AsyncGenerator%");ve&&(de=k(ve.prototype))}return I[et]=de,de},U={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$=g(2169),K=g(5018),z=$.call(Function.call,Array.prototype.concat),ae=$.call(Function.apply,Array.prototype.splice),pe=$.call(Function.call,String.prototype.replace),ue=$.call(Function.call,String.prototype.slice),fe=$.call(Function.call,RegExp.prototype.exec),Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,De=/\\(\\)?/g,me=function(et){var de=ue(et,0,1),ne=ue(et,-1);if("%"===de&&"%"!==ne)throw new F("invalid intrinsic syntax, expected closing `%`");if("%"===ne&&"%"!==de)throw new F("invalid intrinsic syntax, expected opening `%`");var ve=[];return pe(et,Y,function(Ue,ke,Ie,Ne){ve[ve.length]=Ie?pe(Ne,De,"$1"):ke||Ue}),ve},Me=function(et,de){var ve,ne=et;if(K(U,ne)&&(ne="%"+(ve=U[ne])[0]+"%"),K(I,ne)){var Ue=I[ne];if(Ue===R&&(Ue=C(ne)),void 0===Ue&&!de)throw new T("intrinsic "+et+" exists, but is not available. Please file an issue!");return{alias:ve,name:ne,value:Ue}}throw new F("intrinsic "+et+" does not exist!")};te.exports=function(et,de){if("string"!=typeof et||0===et.length)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof de)throw new T('"allowMissing" argument must be a boolean');if(null===fe(/^%?[^%]*%?$/,et))throw new F("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=me(et),ve=ne.length>0?ne[0]:"",Ue=Me("%"+ve+"%",de),ke=Ue.name,Ie=Ue.value,Ne=!1,Te=Ue.alias;Te&&(ve=Te[0],ae(ne,z([0,1],Te)));for(var ze=1,ht=!0;ze<ne.length;ze+=1){var Ke=ne[ze],tt=ue(Ke,0,1),qe=ue(Ke,-1);if(('"'===tt||"'"===tt||"`"===tt||'"'===qe||"'"===qe||"`"===qe)&&tt!==qe)throw new F("property names with quotes must have matching quotes");if(("constructor"===Ke||!ht)&&(Ne=!0),K(I,ke="%"+(ve+="."+Ke)+"%"))Ie=I[ke];else if(null!=Ie){if(!(Ke in Ie)){if(!de)throw new T("base intrinsic for "+et+" exists, but the property is not available.");return}if(w&&ze+1>=ne.length){var Qe=w(Ie,Ke);Ie=(ht=!!Qe)&&"get"in Qe&&!("originalValue"in Qe.get)?Qe.get:Ie[Ke]}else ht=K(Ie,Ke),Ie=Ie[Ke];ht&&!Ne&&(I[ke]=Ie)}}return Ie}},7608:(te,O,g)=>{"use strict";var F=g(379)("%Object.getOwnPropertyDescriptor%",!0);if(F)try{F([],"length")}catch(B){F=null}te.exports=F},3052:(te,O,g)=>{"use strict";var F=g(379)("%Object.defineProperty%",!0),B=function(){if(F)try{return F({},"a",{value:1}),!0}catch(E){return!1}return!1};B.hasArrayLengthDefineBug=function(){if(!B())return null;try{return 1!==F([],"length",{value:1}).length}catch(E){return!0}},te.exports=B},7663:(te,O,g)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,F=g(2810);te.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&F()}},2810:te=>{"use strict";te.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var g={},i=Symbol("test"),F=Object(i);if("string"==typeof i||"[object Symbol]"!==Object.prototype.toString.call(i)||"[object Symbol]"!==Object.prototype.toString.call(F))return!1;for(i in g[i]=42,g)return!1;if("function"==typeof Object.keys&&0!==Object.keys(g).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(g).length)return!1;var T=Object.getOwnPropertySymbols(g);if(1!==T.length||T[0]!==i||!Object.prototype.propertyIsEnumerable.call(g,i))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var E=Object.getOwnPropertyDescriptor(g,i);if(42!==E.value||!0!==E.enumerable)return!1}return!0}},3153:(te,O,g)=>{"use strict";var i=g(2810);te.exports=function(){return i()&&!!Symbol.toStringTag}},5018:(te,O,g)=>{"use strict";var i=g(2169);te.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},2137:(te,O,g)=>{var i=g(5305),F=g(6549),B=te.exports;for(var T in i)i.hasOwnProperty(T)&&(B[T]=i[T]);function E(w){if("string"==typeof w&&(w=F.parse(w)),w.protocol||(w.protocol="https:"),"https:"!==w.protocol)throw new Error('Protocol "'+w.protocol+'" not supported. Expected "https:"');return w}B.request=function(w,m){return w=E(w),i.request.call(this,w,m)},B.get=function(w,m){return w=E(w),i.get.call(this,w,m)}},6311:(te,O)=>{O.read=function(g,i,F,B,T){var E,w,m=8*T-B-1,b=(1<<m)-1,S=b>>1,k=-7,R=F?T-1:0,P=F?-1:1,I=g[i+R];for(R+=P,E=I&(1<<-k)-1,I>>=-k,k+=m;k>0;E=256*E+g[i+R],R+=P,k-=8);for(w=E&(1<<-k)-1,E>>=-k,k+=B;k>0;w=256*w+g[i+R],R+=P,k-=8);if(0===E)E=1-S;else{if(E===b)return w?NaN:1/0*(I?-1:1);w+=Math.pow(2,B),E-=S}return(I?-1:1)*w*Math.pow(2,E-B)},O.write=function(g,i,F,B,T,E){var w,m,b,S=8*E-T-1,k=(1<<S)-1,R=k>>1,P=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,I=B?0:E-1,C=B?1:-1,U=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(m=isNaN(i)?1:0,w=k):(w=Math.floor(Math.log(i)/Math.LN2),i*(b=Math.pow(2,-w))<1&&(w--,b*=2),(i+=w+R>=1?P/b:P*Math.pow(2,1-R))*b>=2&&(w++,b/=2),w+R>=k?(m=0,w=k):w+R>=1?(m=(i*b-1)*Math.pow(2,T),w+=R):(m=i*Math.pow(2,R-1)*Math.pow(2,T),w=0));T>=8;g[F+I]=255&m,I+=C,m/=256,T-=8);for(w=w<<T|m,S+=T;S>0;g[F+I]=255&w,I+=C,w/=256,S-=8);g[F+I-C]|=128*U}},7326:te=>{te.exports="function"==typeof Object.create?function(g,i){i&&(g.super_=i,g.prototype=Object.create(i.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}))}:function(g,i){if(i){g.super_=i;var F=function(){};F.prototype=i.prototype,g.prototype=new F,g.prototype.constructor=g}}},9563:(te,O,g)=>{"use strict";var i=g(3153)(),B=g(6354)("Object.prototype.toString"),T=function(b){return!(i&&b&&"object"==typeof b&&Symbol.toStringTag in b)&&"[object Arguments]"===B(b)},E=function(b){return!!T(b)||null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&"[object Array]"!==B(b)&&"[object Function]"===B(b.callee)},w=function(){return T(arguments)}();T.isLegacyArguments=E,te.exports=w?T:E},2428:te=>{"use strict";var i,F,O=Function.prototype.toString,g="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof g&&"function"==typeof Object.defineProperty)try{i=Object.defineProperty({},"length",{get:function(){throw F}}),F={},g(function(){throw 42},null,i)}catch(K){K!==F&&(g=null)}else g=null;var B=/^\s*class\b/,T=function(z){try{var ae=O.call(z);return B.test(ae)}catch(pe){return!1}},E=function(z){try{return!T(z)&&(O.call(z),!0)}catch(ae){return!1}},w=Object.prototype.toString,I="function"==typeof Symbol&&!!Symbol.toStringTag,C=!(0 in[,]),U=function(){return!1};if("object"==typeof document){var $=document.all;w.call($)===w.call(document.all)&&(U=function(z){if((C||!z)&&(void 0===z||"object"==typeof z))try{var ae=w.call(z);return("[object HTMLAllCollection]"===ae||"[object HTML document.all class]"===ae||"[object HTMLCollection]"===ae||"[object Object]"===ae)&&null==z("")}catch(pe){}return!1})}te.exports=g?function(z){if(U(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;try{g(z,null,i)}catch(ae){if(ae!==F)return!1}return!T(z)&&E(z)}:function(z){if(U(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;if(I)return E(z);if(T(z))return!1;var ae=w.call(z);return!("[object Function]"!==ae&&"[object GeneratorFunction]"!==ae&&!/^\[object HTML/.test(ae))&&E(z)}},2004:(te,O,g)=>{"use strict";var m,i=Object.prototype.toString,F=Function.prototype.toString,B=/^\s*(?:function)?\*/,T=g(3153)(),E=Object.getPrototypeOf;te.exports=function(S){if("function"!=typeof S)return!1;if(B.test(F.call(S)))return!0;if(!T)return"[object GeneratorFunction]"===i.call(S);if(!E)return!1;if(void 0===m){var R=function(){if(!T)return!1;try{return Function("return function*() {}")()}catch(b){}}();m=!!R&&E(R)}return E(S)===m}},9739:te=>{"use strict";te.exports=function(g){return g!=g}},473:(te,O,g)=>{"use strict";var i=g(3312),F=g(3420),B=g(9739),T=g(4840),E=g(3890),w=i(T(),Number);F(w,{getPolyfill:T,implementation:B,shim:E}),te.exports=w},4840:(te,O,g)=>{"use strict";var i=g(9739);te.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:i}},3890:(te,O,g)=>{"use strict";var i=g(3420),F=g(4840);te.exports=function(){var T=F();return i(Number,{isNaN:T},{isNaN:function(){return Number.isNaN!==T}}),T}},1263:te=>{"use strict";const O=g=>null!==g&&"object"==typeof g&&"function"==typeof g.pipe;O.writable=g=>O(g)&&!1!==g.writable&&"function"==typeof g._write&&"object"==typeof g._writableState,O.readable=g=>O(g)&&!1!==g.readable&&"function"==typeof g._read&&"object"==typeof g._readableState,O.duplex=g=>O.writable(g)&&O.readable(g),O.transform=g=>O.duplex(g)&&"function"==typeof g._transform,te.exports=O},3769:(te,O,g)=>{"use strict";var i=g(8879),F=g(790),B=g(6354),T=B("Object.prototype.toString"),E=g(3153)(),w=g(7608),m="undefined"==typeof globalThis?global:globalThis,b=F(),S=B("Array.prototype.indexOf",!0)||function(U,$){for(var K=0;K<U.length;K+=1)if(U[K]===$)return K;return-1},k=B("String.prototype.slice"),R={},P=Object.getPrototypeOf;E&&w&&P&&i(b,function(C){var U=new m[C];if(Symbol.toStringTag in U){var $=P(U),K=w($,Symbol.toStringTag);if(!K){var z=P($);K=w(z,Symbol.toStringTag)}R[C]=K.get}}),te.exports=function(U){if(!U||"object"!=typeof U)return!1;if(!E||!(Symbol.toStringTag in U)){var $=k(T(U),8,-1);return S(b,$)>-1}return!!w&&function(U){var $=!1;return i(R,function(K,z){if(!$)try{$=K.call(U)===z}catch(ae){}}),$}(U)}},1612:(te,O,g)=>{var f,_,A,j,V,G,Z,ie,he,Se,J,v,F=g(7526).Buffer,B={userAgent:!1},T={},E=E||(f=Math,A=(_={}).lib={},j=A.Base=function(){function X(){}return{extend:function(_e){X.prototype=this;var se=new X;return _e&&se.mixIn(_e),se.hasOwnProperty("init")||(se.init=function(){se.$super.init.apply(this,arguments)}),se.init.prototype=se,se.$super=this,se},create:function(){var _e=this.extend();return _e.init.apply(_e,arguments),_e},init:function(){},mixIn:function(_e){for(var se in _e)_e.hasOwnProperty(se)&&(this[se]=_e[se]);_e.hasOwnProperty("toString")&&(this.toString=_e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),V=A.WordArray=j.extend({init:function(X,_e){X=this.words=X||[],this.sigBytes=null!=_e?_e:4*X.length},toString:function(X){return(X||Z).stringify(this)},concat:function(X){var _e=this.words,se=X.words,Ae=this.sigBytes,ge=X.sigBytes;if(this.clamp(),Ae%4)for(var Be=0;Be<ge;Be++)_e[Ae+Be>>>2]|=(se[Be>>>2]>>>24-Be%4*8&255)<<24-(Ae+Be)%4*8;else for(Be=0;Be<ge;Be+=4)_e[Ae+Be>>>2]=se[Be>>>2];return this.sigBytes+=ge,this},clamp:function(){var X=this.words,_e=this.sigBytes;X[_e>>>2]&=4294967295<<32-_e%4*8,X.length=f.ceil(_e/4)},clone:function(){var X=j.clone.call(this);return X.words=this.words.slice(0),X},random:function(X){for(var _e=[],se=0;se<X;se+=4)_e.push(4294967296*f.random()|0);return new V.init(_e,X)}}),G=_.enc={},Z=G.Hex={stringify:function(X){for(var _e=X.words,se=X.sigBytes,Ae=[],ge=0;ge<se;ge++){var Be=_e[ge>>>2]>>>24-ge%4*8&255;Ae.push((Be>>>4).toString(16)),Ae.push((15&Be).toString(16))}return Ae.join("")},parse:function(X){for(var _e=X.length,se=[],Ae=0;Ae<_e;Ae+=2)se[Ae>>>3]|=parseInt(X.substr(Ae,2),16)<<24-Ae%8*4;return new V.init(se,_e/2)}},ie=G.Latin1={stringify:function(X){for(var _e=X.words,se=X.sigBytes,Ae=[],ge=0;ge<se;ge++)Ae.push(String.fromCharCode(_e[ge>>>2]>>>24-ge%4*8&255));return Ae.join("")},parse:function(X){for(var _e=X.length,se=[],Ae=0;Ae<_e;Ae++)se[Ae>>>2]|=(255&X.charCodeAt(Ae))<<24-Ae%4*8;return new V.init(se,_e)}},he=G.Utf8={stringify:function(X){try{return decodeURIComponent(escape(ie.stringify(X)))}catch(_e){throw new Error("Malformed UTF-8 data")}},parse:function(X){return ie.parse(unescape(encodeURIComponent(X)))}},Se=A.BufferedBlockAlgorithm=j.extend({reset:function(){this._data=new V.init,this._nDataBytes=0},_append:function(X){"string"==typeof X&&(X=he.parse(X)),this._data.concat(X),this._nDataBytes+=X.sigBytes},_process:function(X){var _e=this._data,se=_e.words,Ae=_e.sigBytes,ge=this.blockSize,Je=Ae/(4*ge),at=(Je=X?f.ceil(Je):f.max((0|Je)-this._minBufferSize,0))*ge,st=f.min(4*at,Ae);if(at){for(var kt=0;kt<at;kt+=ge)this._doProcessBlock(se,kt);var jt=se.splice(0,at);_e.sigBytes-=st}return new V.init(jt,st)},clone:function(){var X=j.clone.call(this);return X._data=this._data.clone(),X},_minBufferSize:0}),A.Hasher=Se.extend({cfg:j.extend(),init:function(X){this.cfg=this.cfg.extend(X),this.reset()},reset:function(){Se.reset.call(this),this._doReset()},update:function(X){return this._append(X),this._process(),this},finalize:function(X){return X&&this._append(X),this._doFinalize()},blockSize:16,_createHelper:function(X){return function(_e,se){return new X.init(se).finalize(_e)}},_createHmacHelper:function(X){return function(_e,se){return new J.HMAC.init(X,se).finalize(_e)}}}),J=_.algo={},_);(function(f){var j,v=(j=E).lib,_=v.Base,A=v.WordArray;(j=j.x64={}).Word=_.extend({init:function(V,G){this.high=V,this.low=G}}),j.WordArray=_.extend({init:function(V,G){V=this.words=V||[],this.sigBytes=null!=G?G:8*V.length},toX32:function(){for(var V=this.words,G=V.length,Z=[],ie=0;ie<G;ie++){var he=V[ie];Z.push(he.high),Z.push(he.low)}return A.create(Z,this.sigBytes)},clone:function(){for(var V=_.clone.call(this),G=V.words=this.words.slice(0),Z=G.length,ie=0;ie<Z;ie++)G[ie]=G[ie].clone();return V}})})(),E.lib.Cipher||function(f){var v=(X=E).lib,_=v.Base,A=v.WordArray,j=v.BufferedBlockAlgorithm,V=X.enc.Base64,G=X.algo.EvpKDF,Z=v.Cipher=j.extend({cfg:_.extend(),createEncryptor:function(se,Ae){return this.create(this._ENC_XFORM_MODE,se,Ae)},createDecryptor:function(se,Ae){return this.create(this._DEC_XFORM_MODE,se,Ae)},init:function(se,Ae,ge){this.cfg=this.cfg.extend(ge),this._xformMode=se,this._key=Ae,this.reset()},reset:function(){j.reset.call(this),this._doReset()},process:function(se){return this._append(se),this._process()},finalize:function(se){return se&&this._append(se),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(se){return{encrypt:function(Ae,ge,Be){return("string"==typeof ge?_e:J).encrypt(se,Ae,ge,Be)},decrypt:function(Ae,ge,Be){return("string"==typeof ge?_e:J).decrypt(se,Ae,ge,Be)}}}});v.StreamCipher=Z.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var Ce=X.mode={},ie=function(se,Ae,ge){var Be=this._iv;Be?this._iv=void 0:Be=this._prevBlock;for(var Je=0;Je<ge;Je++)se[Ae+Je]^=Be[Je]},he=(v.BlockCipherMode=_.extend({createEncryptor:function(se,Ae){return this.Encryptor.create(se,Ae)},createDecryptor:function(se,Ae){return this.Decryptor.create(se,Ae)},init:function(se,Ae){this._cipher=se,this._iv=Ae}})).extend();he.Encryptor=he.extend({processBlock:function(se,Ae){var ge=this._cipher,Be=ge.blockSize;ie.call(this,se,Ae,Be),ge.encryptBlock(se,Ae),this._prevBlock=se.slice(Ae,Ae+Be)}}),he.Decryptor=he.extend({processBlock:function(se,Ae){var ge=this._cipher,Be=ge.blockSize,Je=se.slice(Ae,Ae+Be);ge.decryptBlock(se,Ae),ie.call(this,se,Ae,Be),this._prevBlock=Je}}),Ce=Ce.CBC=he,he=(X.pad={}).Pkcs7={pad:function(se,Ae){for(var ge,Be=(ge=(ge=4*Ae)-se.sigBytes%ge)<<24|ge<<16|ge<<8|ge,Je=[],at=0;at<ge;at+=4)Je.push(Be);ge=A.create(Je,ge),se.concat(ge)},unpad:function(se){se.sigBytes-=255&se.words[se.sigBytes-1>>>2]}},v.BlockCipher=Z.extend({cfg:Z.cfg.extend({mode:Ce,padding:he}),reset:function(){Z.reset.call(this);var se=(Ae=this.cfg).iv,Ae=Ae.mode;if(this._xformMode==this._ENC_XFORM_MODE)var ge=Ae.createEncryptor;else ge=Ae.createDecryptor,this._minBufferSize=1;this._mode=ge.call(Ae,this,se&&se.words)},_doProcessBlock:function(se,Ae){this._mode.processBlock(se,Ae)},_doFinalize:function(){var se=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){se.pad(this._data,this.blockSize);var Ae=this._process(!0)}else Ae=this._process(!0),se.unpad(Ae);return Ae},blockSize:4});var Se=v.CipherParams=_.extend({init:function(se){this.mixIn(se)},toString:function(se){return(se||this.formatter).stringify(this)}}),J=(Ce=(X.format={}).OpenSSL={stringify:function(se){var Ae=se.ciphertext;return((se=se.salt)?A.create([1398893684,1701076831]).concat(se).concat(Ae):Ae).toString(V)},parse:function(se){var Ae=(se=V.parse(se)).words;if(1398893684==Ae[0]&&1701076831==Ae[1]){var ge=A.create(Ae.slice(2,4));Ae.splice(0,4),se.sigBytes-=16}return Se.create({ciphertext:se,salt:ge})}},v.SerializableCipher=_.extend({cfg:_.extend({format:Ce}),encrypt:function(se,Ae,ge,Be){Be=this.cfg.extend(Be);var Je=se.createEncryptor(ge,Be);return Ae=Je.finalize(Ae),Se.create({ciphertext:Ae,key:ge,iv:(Je=Je.cfg).iv,algorithm:se,mode:Je.mode,padding:Je.padding,blockSize:se.blockSize,formatter:Be.format})},decrypt:function(se,Ae,ge,Be){return Be=this.cfg.extend(Be),Ae=this._parse(Ae,Be.format),se.createDecryptor(ge,Be).finalize(Ae.ciphertext)},_parse:function(se,Ae){return"string"==typeof se?Ae.parse(se,this):se}})),X=(X.kdf={}).OpenSSL={execute:function(se,Ae,ge,Be){return Be||(Be=A.random(8)),se=G.create({keySize:Ae+ge}).compute(se,Be),ge=A.create(se.words.slice(Ae),4*ge),se.sigBytes=4*Ae,Se.create({key:se,iv:ge,salt:Be})}},_e=v.PasswordBasedCipher=J.extend({cfg:J.cfg.extend({kdf:X}),encrypt:function(se,Ae,ge,Be){return ge=(Be=this.cfg.extend(Be)).kdf.execute(ge,se.keySize,se.ivSize),Be.iv=ge.iv,(se=J.encrypt.call(this,se,Ae,ge.key,Be)).mixIn(ge),se},decrypt:function(se,Ae,ge,Be){return Be=this.cfg.extend(Be),Ae=this._parse(Ae,Be.format),ge=Be.kdf.execute(ge,se.keySize,se.ivSize,Ae.salt),Be.iv=ge.iv,J.decrypt.call(this,se,Ae,ge.key,Be)}})}(),function(){for(var f=E,v=f.lib.BlockCipher,kt=f.algo,_=[],A=[],j=[],V=[],G=[],Z=[],ie=[],he=[],Se=[],Ce=[],J=[],X=0;256>X;X++)J[X]=128>X?X<<1:X<<1^283;var _e=0,se=0;for(X=0;256>X;X++){var Ae;_[_e]=Ae=(Ae=se^se<<1^se<<2^se<<3^se<<4)>>>8^255&Ae^99,A[Ae]=_e;var ge=J[_e],Be=J[ge],Je=J[Be],at=257*J[Ae]^16843008*Ae;j[_e]=at<<24|at>>>8,V[_e]=at<<16|at>>>16,G[_e]=at<<8|at>>>24,Z[_e]=at,ie[Ae]=(at=16843009*Je^65537*Be^257*ge^16843008*_e)<<24|at>>>8,he[Ae]=at<<16|at>>>16,Se[Ae]=at<<8|at>>>24,Ce[Ae]=at,_e?(_e=ge^J[J[J[Je^ge]]],se^=J[J[se]]):_e=se=1}var st=[0,1,2,4,8,16,32,64,128,27,54];kt=kt.AES=v.extend({_doReset:function(){for(var jt=(je=this._key).words,Oe=je.sigBytes/4,je=4*((this._nRounds=Oe+6)+1),ut=this._keySchedule=[],pt=0;pt<je;pt++)if(pt<Oe)ut[pt]=jt[pt];else{var Et=ut[pt-1];pt%Oe?6<Oe&&pt%Oe==4&&(Et=_[Et>>>24]<<24|_[Et>>>16&255]<<16|_[Et>>>8&255]<<8|_[255&Et]):(Et=_[(Et=Et<<8|Et>>>24)>>>24]<<24|_[Et>>>16&255]<<16|_[Et>>>8&255]<<8|_[255&Et],Et^=st[pt/Oe|0]<<24),ut[pt]=ut[pt-Oe]^Et}for(jt=this._invKeySchedule=[],Oe=0;Oe<je;Oe++)pt=je-Oe,Et=Oe%4?ut[pt]:ut[pt-4],jt[Oe]=4>Oe||4>=pt?Et:ie[_[Et>>>24]]^he[_[Et>>>16&255]]^Se[_[Et>>>8&255]]^Ce[_[255&Et]]},encryptBlock:function(jt,Oe){this._doCryptBlock(jt,Oe,this._keySchedule,j,V,G,Z,_)},decryptBlock:function(jt,Oe){var je=jt[Oe+1];jt[Oe+1]=jt[Oe+3],jt[Oe+3]=je,this._doCryptBlock(jt,Oe,this._invKeySchedule,ie,he,Se,Ce,A),je=jt[Oe+1],jt[Oe+1]=jt[Oe+3],jt[Oe+3]=je},_doCryptBlock:function(jt,Oe,je,ut,pt,Et,Ft,bt){for(var St=this._nRounds,Dn=jt[Oe]^je[0],Kr=jt[Oe+1]^je[1],Wr=jt[Oe+2]^je[2],hr=jt[Oe+3]^je[3],Mt=4,Vt=1;Vt<St;Vt++){var Mn=ut[Dn>>>24]^pt[Kr>>>16&255]^Et[Wr>>>8&255]^Ft[255&hr]^je[Mt++],Rn=ut[Kr>>>24]^pt[Wr>>>16&255]^Et[hr>>>8&255]^Ft[255&Dn]^je[Mt++],Bn=ut[Wr>>>24]^pt[hr>>>16&255]^Et[Dn>>>8&255]^Ft[255&Kr]^je[Mt++];hr=ut[hr>>>24]^pt[Dn>>>16&255]^Et[Kr>>>8&255]^Ft[255&Wr]^je[Mt++],Dn=Mn,Kr=Rn,Wr=Bn}Mn=(bt[Dn>>>24]<<24|bt[Kr>>>16&255]<<16|bt[Wr>>>8&255]<<8|bt[255&hr])^je[Mt++],Rn=(bt[Kr>>>24]<<24|bt[Wr>>>16&255]<<16|bt[hr>>>8&255]<<8|bt[255&Dn])^je[Mt++],Bn=(bt[Wr>>>24]<<24|bt[hr>>>16&255]<<16|bt[Dn>>>8&255]<<8|bt[255&Kr])^je[Mt++],hr=(bt[hr>>>24]<<24|bt[Dn>>>16&255]<<16|bt[Kr>>>8&255]<<8|bt[255&Wr])^je[Mt++],jt[Oe]=Mn,jt[Oe+1]=Rn,jt[Oe+2]=Bn,jt[Oe+3]=hr},keySize:8}),f.AES=v._createHelper(kt)}(),function(){function f(J,X){var _e=(this._lBlock>>>J^this._rBlock)&X;this._rBlock^=_e,this._lBlock^=_e<<J}function v(J,X){var _e=(this._rBlock>>>J^this._lBlock)&X;this._lBlock^=_e,this._rBlock^=_e<<J}var j,_=E,A=(j=_.lib).WordArray,V=_.algo,G=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Z=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],ie=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],he=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Se=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ce=V.DES=(j=j.BlockCipher).extend({_doReset:function(){for(var J=this._key.words,X=[],_e=0;56>_e;_e++){var se=G[_e]-1;X[_e]=J[se>>>5]>>>31-se%32&1}for(J=this._subKeys=[],se=0;16>se;se++){var Ae=J[se]=[],ge=ie[se];for(_e=0;24>_e;_e++)Ae[_e/6|0]|=X[(Z[_e]-1+ge)%28]<<31-_e%6,Ae[4+(_e/6|0)]|=X[28+(Z[_e+24]-1+ge)%28]<<31-_e%6;for(Ae[0]=Ae[0]<<1|Ae[0]>>>31,_e=1;7>_e;_e++)Ae[_e]>>>=4*(_e-1)+3;Ae[7]=Ae[7]<<5|Ae[7]>>>27}for(X=this._invSubKeys=[],_e=0;16>_e;_e++)X[_e]=J[15-_e]},encryptBlock:function(J,X){this._doCryptBlock(J,X,this._subKeys)},decryptBlock:function(J,X){this._doCryptBlock(J,X,this._invSubKeys)},_doCryptBlock:function(J,X,_e){this._lBlock=J[X],this._rBlock=J[X+1],f.call(this,4,252645135),f.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),f.call(this,1,1431655765);for(var se=0;16>se;se++){for(var Ae=_e[se],ge=this._lBlock,Be=this._rBlock,Je=0,at=0;8>at;at++)Je|=he[at][((Be^Ae[at])&Se[at])>>>0];this._lBlock=Be,this._rBlock=ge^Je}_e=this._lBlock,this._lBlock=this._rBlock,this._rBlock=_e,f.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),J[X]=this._lBlock,J[X+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});_.DES=j._createHelper(Ce),V=V.TripleDES=j.extend({_doReset:function(){var J=this._key.words;this._des1=Ce.createEncryptor(A.create(J.slice(0,2))),this._des2=Ce.createEncryptor(A.create(J.slice(2,4))),this._des3=Ce.createEncryptor(A.create(J.slice(4,6)))},encryptBlock:function(J,X){this._des1.encryptBlock(J,X),this._des2.decryptBlock(J,X),this._des3.encryptBlock(J,X)},decryptBlock:function(J,X){this._des3.decryptBlock(J,X),this._des2.encryptBlock(J,X),this._des1.decryptBlock(J,X)},keySize:6,ivSize:2,blockSize:2}),_.TripleDES=j._createHelper(V)}(),v=E.lib.WordArray,E.enc.Base64={stringify:function(_){var A=_.words,j=_.sigBytes,V=this._map;_.clamp(),_=[];for(var G=0;G<j;G+=3)for(var Z=(A[G>>>2]>>>24-G%4*8&255)<<16|(A[G+1>>>2]>>>24-(G+1)%4*8&255)<<8|A[G+2>>>2]>>>24-(G+2)%4*8&255,ie=0;4>ie&&G+.75*ie<j;ie++)_.push(V.charAt(Z>>>6*(3-ie)&63));if(A=V.charAt(64))for(;_.length%4;)_.push(A);return _.join("")},parse:function(_){var A=_.length,j=this._map;(V=j.charAt(64))&&-1!=(V=_.indexOf(V))&&(A=V);for(var V=[],G=0,Z=0;Z<A;Z++)if(Z%4){var ie=j.indexOf(_.charAt(Z-1))<<Z%4*2,he=j.indexOf(_.charAt(Z))>>>6-Z%4*2;V[G>>>2]|=(ie|he)<<24-G%4*8,G++}return v.create(V,G)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(f){function v(Ce,J,X,_e,se,Ae,ge){return((Ce=Ce+(J&X|~J&_e)+se+ge)<<Ae|Ce>>>32-Ae)+J}function _(Ce,J,X,_e,se,Ae,ge){return((Ce=Ce+(J&_e|X&~_e)+se+ge)<<Ae|Ce>>>32-Ae)+J}function A(Ce,J,X,_e,se,Ae,ge){return((Ce=Ce+(J^X^_e)+se+ge)<<Ae|Ce>>>32-Ae)+J}function j(Ce,J,X,_e,se,Ae,ge){return((Ce=Ce+(X^(J|~_e))+se+ge)<<Ae|Ce>>>32-Ae)+J}for(var V=E,G=(ie=V.lib).WordArray,Z=ie.Hasher,ie=V.algo,he=[],Se=0;64>Se;Se++)he[Se]=4294967296*f.abs(f.sin(Se+1))|0;ie=ie.MD5=Z.extend({_doReset:function(){this._hash=new G.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ce,J){for(var X=0;16>X;X++)Ce[_e=J+X]=16711935&((se=Ce[_e])<<8|se>>>24)|4278255360&(se<<24|se>>>8);var _e,se=Ce[J+1],Ae=Ce[J+2],ge=Ce[J+3],Be=Ce[J+4],Je=Ce[J+5],at=Ce[J+6],st=Ce[J+7],kt=Ce[J+8],jt=Ce[J+9],Oe=Ce[J+10],je=Ce[J+11],ut=Ce[J+12],pt=Ce[J+13],Et=Ce[J+14],Ft=Ce[J+15],bt=v(bt=(X=this._hash.words)[0],Vt=X[1],Mt=X[2],St=X[3],_e=Ce[J+0],7,he[0]),St=v(St,bt,Vt,Mt,se,12,he[1]),Mt=v(Mt,St,bt,Vt,Ae,17,he[2]),Vt=v(Vt,Mt,St,bt,ge,22,he[3]);bt=v(bt,Vt,Mt,St,Be,7,he[4]),St=v(St,bt,Vt,Mt,Je,12,he[5]),Mt=v(Mt,St,bt,Vt,at,17,he[6]),Vt=v(Vt,Mt,St,bt,st,22,he[7]),bt=v(bt,Vt,Mt,St,kt,7,he[8]),St=v(St,bt,Vt,Mt,jt,12,he[9]),Mt=v(Mt,St,bt,Vt,Oe,17,he[10]),Vt=v(Vt,Mt,St,bt,je,22,he[11]),bt=v(bt,Vt,Mt,St,ut,7,he[12]),St=v(St,bt,Vt,Mt,pt,12,he[13]),Mt=v(Mt,St,bt,Vt,Et,17,he[14]),bt=_(bt,Vt=v(Vt,Mt,St,bt,Ft,22,he[15]),Mt,St,se,5,he[16]),St=_(St,bt,Vt,Mt,at,9,he[17]),Mt=_(Mt,St,bt,Vt,je,14,he[18]),Vt=_(Vt,Mt,St,bt,_e,20,he[19]),bt=_(bt,Vt,Mt,St,Je,5,he[20]),St=_(St,bt,Vt,Mt,Oe,9,he[21]),Mt=_(Mt,St,bt,Vt,Ft,14,he[22]),Vt=_(Vt,Mt,St,bt,Be,20,he[23]),bt=_(bt,Vt,Mt,St,jt,5,he[24]),St=_(St,bt,Vt,Mt,Et,9,he[25]),Mt=_(Mt,St,bt,Vt,ge,14,he[26]),Vt=_(Vt,Mt,St,bt,kt,20,he[27]),bt=_(bt,Vt,Mt,St,pt,5,he[28]),St=_(St,bt,Vt,Mt,Ae,9,he[29]),Mt=_(Mt,St,bt,Vt,st,14,he[30]),bt=A(bt,Vt=_(Vt,Mt,St,bt,ut,20,he[31]),Mt,St,Je,4,he[32]),St=A(St,bt,Vt,Mt,kt,11,he[33]),Mt=A(Mt,St,bt,Vt,je,16,he[34]),Vt=A(Vt,Mt,St,bt,Et,23,he[35]),bt=A(bt,Vt,Mt,St,se,4,he[36]),St=A(St,bt,Vt,Mt,Be,11,he[37]),Mt=A(Mt,St,bt,Vt,st,16,he[38]),Vt=A(Vt,Mt,St,bt,Oe,23,he[39]),bt=A(bt,Vt,Mt,St,pt,4,he[40]),St=A(St,bt,Vt,Mt,_e,11,he[41]),Mt=A(Mt,St,bt,Vt,ge,16,he[42]),Vt=A(Vt,Mt,St,bt,at,23,he[43]),bt=A(bt,Vt,Mt,St,jt,4,he[44]),St=A(St,bt,Vt,Mt,ut,11,he[45]),Mt=A(Mt,St,bt,Vt,Ft,16,he[46]),bt=j(bt,Vt=A(Vt,Mt,St,bt,Ae,23,he[47]),Mt,St,_e,6,he[48]),St=j(St,bt,Vt,Mt,st,10,he[49]),Mt=j(Mt,St,bt,Vt,Et,15,he[50]),Vt=j(Vt,Mt,St,bt,Je,21,he[51]),bt=j(bt,Vt,Mt,St,ut,6,he[52]),St=j(St,bt,Vt,Mt,ge,10,he[53]),Mt=j(Mt,St,bt,Vt,Oe,15,he[54]),Vt=j(Vt,Mt,St,bt,se,21,he[55]),bt=j(bt,Vt,Mt,St,kt,6,he[56]),St=j(St,bt,Vt,Mt,Ft,10,he[57]),Mt=j(Mt,St,bt,Vt,at,15,he[58]),Vt=j(Vt,Mt,St,bt,pt,21,he[59]),bt=j(bt,Vt,Mt,St,Be,6,he[60]),St=j(St,bt,Vt,Mt,je,10,he[61]),Mt=j(Mt,St,bt,Vt,Ae,15,he[62]),Vt=j(Vt,Mt,St,bt,jt,21,he[63]),X[0]=X[0]+bt|0,X[1]=X[1]+Vt|0,X[2]=X[2]+Mt|0,X[3]=X[3]+St|0},_doFinalize:function(){var Ce=this._data,J=Ce.words,X=8*this._nDataBytes,_e=8*Ce.sigBytes;J[_e>>>5]|=128<<24-_e%32;var se=f.floor(X/4294967296);for(J[15+(_e+64>>>9<<4)]=16711935&(se<<8|se>>>24)|4278255360&(se<<24|se>>>8),J[14+(_e+64>>>9<<4)]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8),Ce.sigBytes=4*(J.length+1),this._process(),J=(Ce=this._hash).words,X=0;4>X;X++)J[X]=16711935&((_e=J[X])<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8);return Ce},clone:function(){var Ce=Z.clone.call(this);return Ce._hash=this._hash.clone(),Ce}}),V.MD5=Z._createHelper(ie),V.HmacMD5=Z._createHmacHelper(ie)}(Math),function(){var f=E,v=(j=f.lib).WordArray,_=j.Hasher,A=[],j=f.algo.SHA1=_.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(V,G){for(var Z=this._hash.words,ie=Z[0],he=Z[1],Se=Z[2],Ce=Z[3],J=Z[4],X=0;80>X;X++){if(16>X)A[X]=0|V[G+X];else{var _e=A[X-3]^A[X-8]^A[X-14]^A[X-16];A[X]=_e<<1|_e>>>31}_e=(ie<<5|ie>>>27)+J+A[X],_e=20>X?_e+(1518500249+(he&Se|~he&Ce)):40>X?_e+(1859775393+(he^Se^Ce)):60>X?_e+((he&Se|he&Ce|Se&Ce)-1894007588):_e+((he^Se^Ce)-899497514),J=Ce,Ce=Se,Se=he<<30|he>>>2,he=ie,ie=_e}Z[0]=Z[0]+ie|0,Z[1]=Z[1]+he|0,Z[2]=Z[2]+Se|0,Z[3]=Z[3]+Ce|0,Z[4]=Z[4]+J|0},_doFinalize:function(){var V=this._data,G=V.words,Z=8*this._nDataBytes,ie=8*V.sigBytes;return G[ie>>>5]|=128<<24-ie%32,G[14+(ie+64>>>9<<4)]=Math.floor(Z/4294967296),G[15+(ie+64>>>9<<4)]=Z,V.sigBytes=4*G.length,this._process(),this._hash},clone:function(){var V=_.clone.call(this);return V._hash=this._hash.clone(),V}});f.SHA1=_._createHelper(j),f.HmacSHA1=_._createHmacHelper(j)}(),function(f){for(var v=E,_=(X=v.lib).WordArray,A=X.Hasher,X=v.algo,j=[],V=[],G=function(se){return 4294967296*(se-(0|se))|0},Z=2,ie=0;64>ie;){var he;e:{for(var Se=f.sqrt(he=Z),Ce=2;Ce<=Se;Ce++)if(!(he%Ce)){he=!1;break e}he=!0}he&&(8>ie&&(j[ie]=G(f.pow(Z,.5))),V[ie]=G(f.pow(Z,1/3)),ie++),Z++}var J=[];X=X.SHA256=A.extend({_doReset:function(){this._hash=new _.init(j.slice(0))},_doProcessBlock:function(_e,se){for(var Ae=this._hash.words,ge=Ae[0],Be=Ae[1],Je=Ae[2],at=Ae[3],st=Ae[4],kt=Ae[5],jt=Ae[6],Oe=Ae[7],je=0;64>je;je++){if(16>je)J[je]=0|_e[se+je];else{var ut=J[je-15],pt=J[je-2];J[je]=((ut<<25|ut>>>7)^(ut<<14|ut>>>18)^ut>>>3)+J[je-7]+((pt<<15|pt>>>17)^(pt<<13|pt>>>19)^pt>>>10)+J[je-16]}ut=Oe+((st<<26|st>>>6)^(st<<21|st>>>11)^(st<<7|st>>>25))+(st&kt^~st&jt)+V[je]+J[je],pt=((ge<<30|ge>>>2)^(ge<<19|ge>>>13)^(ge<<10|ge>>>22))+(ge&Be^ge&Je^Be&Je),Oe=jt,jt=kt,kt=st,st=at+ut|0,at=Je,Je=Be,Be=ge,ge=ut+pt|0}Ae[0]=Ae[0]+ge|0,Ae[1]=Ae[1]+Be|0,Ae[2]=Ae[2]+Je|0,Ae[3]=Ae[3]+at|0,Ae[4]=Ae[4]+st|0,Ae[5]=Ae[5]+kt|0,Ae[6]=Ae[6]+jt|0,Ae[7]=Ae[7]+Oe|0},_doFinalize:function(){var _e=this._data,se=_e.words,Ae=8*this._nDataBytes,ge=8*_e.sigBytes;return se[ge>>>5]|=128<<24-ge%32,se[14+(ge+64>>>9<<4)]=f.floor(Ae/4294967296),se[15+(ge+64>>>9<<4)]=Ae,_e.sigBytes=4*se.length,this._process(),this._hash},clone:function(){var _e=A.clone.call(this);return _e._hash=this._hash.clone(),_e}}),v.SHA256=A._createHelper(X),v.HmacSHA256=A._createHmacHelper(X)}(Math),function(){var f=E,v=f.lib.WordArray,_=(A=f.algo).SHA256,A=A.SHA224=_.extend({_doReset:function(){this._hash=new v.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var j=_._doFinalize.call(this);return j.sigBytes-=4,j}});f.SHA224=_._createHelper(A),f.HmacSHA224=_._createHmacHelper(A)}(),function(){function f(){return A.create.apply(A,arguments)}for(var v=E,_=v.lib.Hasher,A=(V=v.x64).Word,j=V.WordArray,V=v.algo,G=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],Z=[],ie=0;80>ie;ie++)Z[ie]=f();V=V.SHA512=_.extend({_doReset:function(){this._hash=new j.init([new A.init(1779033703,4089235720),new A.init(3144134277,2227873595),new A.init(1013904242,4271175723),new A.init(2773480762,1595750129),new A.init(1359893119,2917565137),new A.init(2600822924,725511199),new A.init(528734635,4215389547),new A.init(1541459225,327033209)])},_doProcessBlock:function(he,Se){for(var Be,Ce=(Be=this._hash.words)[0],J=Be[1],X=Be[2],_e=Be[3],se=Be[4],Ae=Be[5],ge=Be[6],Je=Ce.high,at=Ce.low,st=J.high,kt=J.low,jt=X.high,Oe=X.low,je=_e.high,ut=_e.low,pt=se.high,Et=se.low,Ft=Ae.high,bt=Ae.low,St=ge.high,Mt=ge.low,Vt=(Be=Be[7]).high,Mn=Be.low,Rn=Je,Bn=at,hr=st,Dn=kt,Kr=jt,Wr=Oe,Lo=je,Cs=ut,No=pt,es=Et,fs=Ft,lr=bt,qi=St,fi=Mt,pr=Vt,Qt=Mn,cr=0;80>cr;cr++){var Ma=Z[cr];if(16>cr)var Fi=Ma.high=0|he[Se+2*cr],Br=Ma.low=0|he[Se+2*cr+1];else{Fi=((Br=(Fi=Z[cr-15]).high)>>>1|(hs=Fi.low)<<31)^(Br>>>8|hs<<24)^Br>>>7;var hs=(hs>>>1|Br<<31)^(hs>>>8|Br<<24)^(hs>>>7|Br<<25),Fr=((Br=(Fr=Z[cr-2]).high)>>>19|(si=Fr.low)<<13)^(Br<<3|si>>>29)^Br>>>6,si=(si>>>19|Br<<13)^(si<<3|Br>>>29)^(si>>>6|Br<<26);Ma.high=Fi=(Fi=(Fi=Fi+(Tn=(Br=Z[cr-7]).high)+((Br=hs+Br.low)>>>0<hs>>>0?1:0))+Fr+((Br+=si)>>>0<si>>>0?1:0))+(qs=(en=Z[cr-16]).high)+((Br+=en=en.low)>>>0<en>>>0?1:0),Ma.low=Br}var Tn=No&fs^~No&qi,en=es&lr^~es&fi,$s=(Ma=Rn&hr^Rn&Kr^hr&Kr,Bn&Dn^Bn&Wr^Dn&Wr),_u=(si=G[cr]).high,$d=si.low,qs=pr+((No>>>14|es<<18)^(No>>>18|es<<14)^(No<<23|es>>>9))+((si=Qt+((es>>>14|No<<18)^(es>>>18|No<<14)^(es<<23|No>>>9)))>>>0<Qt>>>0?1:0);pr=qi,Qt=fi,qi=fs,fi=lr,fs=No,lr=es,No=Lo+(qs=(qs=(qs=qs+Tn+((si+=en)>>>0<en>>>0?1:0))+_u+((si+=$d)>>>0<$d>>>0?1:0))+Fi+((si+=Br)>>>0<Br>>>0?1:0))+((es=Cs+si|0)>>>0<Cs>>>0?1:0)|0,Lo=Kr,Cs=Wr,Kr=hr,Wr=Dn,hr=Rn,Dn=Bn,Rn=qs+(Ma=(hs=(Rn>>>28|Bn<<4)^(Rn<<30|Bn>>>2)^(Rn<<25|Bn>>>7))+Ma+((Br=(Fr=(Bn>>>28|Rn<<4)^(Bn<<30|Rn>>>2)^(Bn<<25|Rn>>>7))+$s)>>>0<Fr>>>0?1:0))+((Bn=si+Br|0)>>>0<si>>>0?1:0)|0}at=Ce.low=at+Bn,Ce.high=Je+Rn+(at>>>0<Bn>>>0?1:0),kt=J.low=kt+Dn,J.high=st+hr+(kt>>>0<Dn>>>0?1:0),Oe=X.low=Oe+Wr,X.high=jt+Kr+(Oe>>>0<Wr>>>0?1:0),ut=_e.low=ut+Cs,_e.high=je+Lo+(ut>>>0<Cs>>>0?1:0),Et=se.low=Et+es,se.high=pt+No+(Et>>>0<es>>>0?1:0),bt=Ae.low=bt+lr,Ae.high=Ft+fs+(bt>>>0<lr>>>0?1:0),Mt=ge.low=Mt+fi,ge.high=St+qi+(Mt>>>0<fi>>>0?1:0),Mn=Be.low=Mn+Qt,Be.high=Vt+pr+(Mn>>>0<Qt>>>0?1:0)},_doFinalize:function(){var he=this._data,Se=he.words,Ce=8*this._nDataBytes,J=8*he.sigBytes;return Se[J>>>5]|=128<<24-J%32,Se[30+(J+128>>>10<<5)]=Math.floor(Ce/4294967296),Se[31+(J+128>>>10<<5)]=Ce,he.sigBytes=4*Se.length,this._process(),this._hash.toX32()},clone:function(){var he=_.clone.call(this);return he._hash=this._hash.clone(),he},blockSize:32}),v.SHA512=_._createHelper(V),v.HmacSHA512=_._createHmacHelper(V)}(),function(){var f=E,v=(j=f.x64).Word,_=j.WordArray,A=(j=f.algo).SHA512,j=j.SHA384=A.extend({_doReset:function(){this._hash=new _.init([new v.init(3418070365,3238371032),new v.init(1654270250,914150663),new v.init(2438529370,812702999),new v.init(355462360,4144912697),new v.init(1731405415,4290775857),new v.init(2394180231,1750603025),new v.init(3675008525,1694076839),new v.init(1203062813,3204075428)])},_doFinalize:function(){var V=A._doFinalize.call(this);return V.sigBytes-=16,V}});f.SHA384=A._createHelper(j),f.HmacSHA384=A._createHmacHelper(j)}(),function(){var f=E,v=(he=f.lib).WordArray,_=he.Hasher,he=f.algo,A=v.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),j=v.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),V=v.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),G=v.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Z=v.create([0,1518500249,1859775393,2400959708,2840853838]),ie=v.create([1352829926,1548603684,1836072691,2053994217,0]);he=he.RIPEMD160=_.extend({_doReset:function(){this._hash=v.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Se,Ce){for(var J=0;16>J;J++)Se[X=Ce+J]=16711935&((_e=Se[X])<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8);var X,at,st,kt,jt,Oe,je,ut,pt,Et,Ft,bt,_e=Z.words,se=ie.words,Ae=A.words,ge=j.words,Be=V.words,Je=G.words;for(je=at=(X=this._hash.words)[0],ut=st=X[1],pt=kt=X[2],Et=jt=X[3],Ft=Oe=X[4],J=0;80>J;J+=1)bt=at+Se[Ce+Ae[J]]|0,bt=16>J?bt+((st^kt^jt)+_e[0]):32>J?bt+((st&kt|~st&jt)+_e[1]):48>J?bt+(((st|~kt)^jt)+_e[2]):64>J?bt+((st&jt|kt&~jt)+_e[3]):bt+((st^(kt|~jt))+_e[4]),bt=(bt=(bt|=0)<<Be[J]|bt>>>32-Be[J])+Oe|0,at=Oe,Oe=jt,jt=kt<<10|kt>>>22,kt=st,st=bt,bt=je+Se[Ce+ge[J]]|0,bt=16>J?bt+((ut^(pt|~Et))+se[0]):32>J?bt+((ut&Et|pt&~Et)+se[1]):48>J?bt+(((ut|~pt)^Et)+se[2]):64>J?bt+((ut&pt|~ut&Et)+se[3]):bt+((ut^pt^Et)+se[4]),bt=(bt=(bt|=0)<<Je[J]|bt>>>32-Je[J])+Ft|0,je=Ft,Ft=Et,Et=pt<<10|pt>>>22,pt=ut,ut=bt;bt=X[1]+kt+Et|0,X[1]=X[2]+jt+Ft|0,X[2]=X[3]+Oe+je|0,X[3]=X[4]+at+ut|0,X[4]=X[0]+st+pt|0,X[0]=bt},_doFinalize:function(){var Se=this._data,Ce=Se.words,J=8*this._nDataBytes,X=8*Se.sigBytes;for(Ce[X>>>5]|=128<<24-X%32,Ce[14+(X+64>>>9<<4)]=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8),Se.sigBytes=4*(Ce.length+1),this._process(),Ce=(Se=this._hash).words,J=0;5>J;J++)Ce[J]=16711935&((X=Ce[J])<<8|X>>>24)|4278255360&(X<<24|X>>>8);return Se},clone:function(){var Se=_.clone.call(this);return Se._hash=this._hash.clone(),Se}}),f.RIPEMD160=_._createHelper(he),f.HmacRIPEMD160=_._createHmacHelper(he)}(Math),function(){var v=E.enc.Utf8;E.algo.HMAC=E.lib.Base.extend({init:function(_,A){_=this._hasher=new _.init,"string"==typeof A&&(A=v.parse(A));var j=_.blockSize,V=4*j;A.sigBytes>V&&(A=_.finalize(A)),A.clamp();for(var G=this._oKey=A.clone(),Z=this._iKey=A.clone(),ie=G.words,he=Z.words,Se=0;Se<j;Se++)ie[Se]^=1549556828,he[Se]^=909522486;G.sigBytes=Z.sigBytes=V,this.reset()},reset:function(){var _=this._hasher;_.reset(),_.update(this._iKey)},update:function(_){return this._hasher.update(_),this},finalize:function(_){var A=this._hasher;return _=A.finalize(_),A.reset(),A.finalize(this._oKey.clone().concat(_))}})}(),function(){var A,f=E,v=(A=f.lib).Base,_=A.WordArray,j=(A=f.algo).HMAC,V=A.PBKDF2=v.extend({cfg:v.extend({keySize:4,hasher:A.SHA1,iterations:1}),init:function(G){this.cfg=this.cfg.extend(G)},compute:function(G,Z){for(var ie=j.create((_e=this.cfg).hasher,G),he=_.create(),Se=_.create([1]),Ce=he.words,J=Se.words,X=_e.keySize,_e=_e.iterations;Ce.length<X;){var se=ie.update(Z).finalize(Se);ie.reset();for(var Ae=se.words,ge=Ae.length,Be=se,Je=1;Je<_e;Je++){Be=ie.finalize(Be),ie.reset();for(var at=Be.words,st=0;st<ge;st++)Ae[st]^=at[st]}he.concat(se),J[0]++}return he.sigBytes=4*X,he}});f.PBKDF2=function(G,Z,ie){return V.create(ie).compute(G,Z)}}();var R,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(f){var v,_,A="";for(v=0;v+3<=f.length;v+=3)_=parseInt(f.substring(v,v+3),16),A+=w.charAt(_>>6)+w.charAt(63&_);for(v+1==f.length?(_=parseInt(f.substring(v,v+1),16),A+=w.charAt(_<<2)):v+2==f.length&&(_=parseInt(f.substring(v,v+2),16),A+=w.charAt(_>>2)+w.charAt((3&_)<<4));(3&A.length)>0;)A+="=";return A}function S(f){var _,j,V,v="",A=0;for(_=0;_<f.length&&"="!=f.charAt(_);++_)!((V=w.indexOf(f.charAt(_)))<0)&&(0==A?(v+=De(V>>2),j=3&V,A=1):1==A?(v+=De(j<<2|V>>4),j=15&V,A=2):2==A?(v+=De(j),v+=De(V>>2),j=3&V,A=3):(v+=De(j<<2|V>>4),v+=De(15&V),A=0));return 1==A&&(v+=De(j<<2)),v}function C(f,v,_){null!=f&&("number"==typeof f?this.fromNumber(f,v,_):this.fromString(f,null==v&&"string"!=typeof f?256:v))}function U(){return new C(null)}"Microsoft Internet Explorer"==B.appName?(C.prototype.am=function K(f,v,_,A,j,V){for(var G=32767&v,Z=v>>15;--V>=0;){var ie=32767&this[f],he=this[f++]>>15,Se=Z*ie+he*G;j=((ie=G*ie+((32767&Se)<<15)+_[A]+(1073741823&j))>>>30)+(Se>>>15)+Z*he+(j>>>30),_[A++]=1073741823&ie}return j},R=30):"Netscape"!=B.appName?(C.prototype.am=function $(f,v,_,A,j,V){for(;--V>=0;){var G=v*this[f++]+_[A]+j;j=Math.floor(G/67108864),_[A++]=67108863&G}return j},R=26):(C.prototype.am=function z(f,v,_,A,j,V){for(var G=16383&v,Z=v>>14;--V>=0;){var ie=16383&this[f],he=this[f++]>>14,Se=Z*ie+he*G;j=((ie=G*ie+((16383&Se)<<14)+_[A]+j)>>28)+(Se>>14)+Z*he,_[A++]=268435455&ie}return j},R=28),C.prototype.DB=R,C.prototype.DM=(1<<R)-1,C.prototype.DV=1<<R,C.prototype.FV=Math.pow(2,52),C.prototype.F1=52-R,C.prototype.F2=2*R-52;var fe,Y,ue=new Array;for(fe="0".charCodeAt(0),Y=0;Y<=9;++Y)ue[fe++]=Y;for(fe="a".charCodeAt(0),Y=10;Y<36;++Y)ue[fe++]=Y;for(fe="A".charCodeAt(0),Y=10;Y<36;++Y)ue[fe++]=Y;function De(f){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(f)}function me(f,v){var _=ue[f.charCodeAt(v)];return null==_?-1:_}function et(f){var v=U();return v.fromInt(f),v}function Ne(f){var _,v=1;return 0!=(_=f>>>16)&&(f=_,v+=16),0!=(_=f>>8)&&(f=_,v+=8),0!=(_=f>>4)&&(f=_,v+=4),0!=(_=f>>2)&&(f=_,v+=2),0!=(_=f>>1)&&(f=_,v+=1),v}function Re(f){this.m=f}function le(f){this.m=f,this.mp=f.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<f.DB-15)-1,this.mt2=2*f.t}function kn(f,v){return f&v}function yt(f,v){return f|v}function Pe(f,v){return f^v}function Dt(f,v){return f&~v}function Wn(f){if(0==f)return-1;var v=0;return 0==(65535&f)&&(f>>=16,v+=16),0==(255&f)&&(f>>=8,v+=8),0==(15&f)&&(f>>=4,v+=4),0==(3&f)&&(f>>=2,v+=2),0==(1&f)&&++v,v}function rr(f){for(var v=0;0!=f;)f&=f-1,++v;return v}function Lr(){}function ls(f){return f}function Jr(f){this.r2=U(),this.q3=U(),C.ONE.dlShiftTo(2*f.t,this.r2),this.mu=this.r2.divide(f),this.m=f}Re.prototype.convert=function Ve(f){return f.s<0||f.compareTo(this.m)>=0?f.mod(this.m):f},Re.prototype.revert=function Xe(f){return f},Re.prototype.reduce=function vt(f){f.divRemTo(this.m,null,f)},Re.prototype.mulTo=function Fe(f,v,_){f.multiplyTo(v,_),this.reduce(_)},Re.prototype.sqrTo=function Ge(f,v){f.squareTo(v),this.reduce(v)},le.prototype.convert=function re(f){var v=U();return f.abs().dlShiftTo(this.m.t,v),v.divRemTo(this.m,null,v),f.s<0&&v.compareTo(C.ZERO)>0&&this.m.subTo(v,v),v},le.prototype.revert=function xe(f){var v=U();return f.copyTo(v),this.reduce(v),v},le.prototype.reduce=function xt(f){for(;f.t<=this.mt2;)f[f.t++]=0;for(var v=0;v<this.m.t;++v){var _=32767&f[v],A=_*this.mpl+((_*this.mph+(f[v]>>15)*this.mpl&this.um)<<15)&f.DM;for(f[_=v+this.m.t]+=this.m.am(0,A,f,v,0,this.m.t);f[_]>=f.DV;)f[_]-=f.DV,f[++_]++}f.clamp(),f.drShiftTo(this.m.t,f),f.compareTo(this.m)>=0&&f.subTo(this.m,f)},le.prototype.mulTo=function Yt(f,v,_){f.multiplyTo(v,_),this.reduce(_)},le.prototype.sqrTo=function Ut(f,v){f.squareTo(v),this.reduce(v)},C.prototype.copyTo=function Me(f){for(var v=this.t-1;v>=0;--v)f[v]=this[v];f.t=this.t,f.s=this.s},C.prototype.fromInt=function nt(f){this.t=1,this.s=f<0?-1:0,f>0?this[0]=f:f<-1?this[0]=f+this.DV:this.t=0},C.prototype.fromString=function de(f,v){var _;if(16==v)_=4;else if(8==v)_=3;else if(256==v)_=8;else if(2==v)_=1;else if(32==v)_=5;else{if(4!=v)return void this.fromRadix(f,v);_=2}this.t=0,this.s=0;for(var A=f.length,j=!1,V=0;--A>=0;){var G=8==_?255&f[A]:me(f,A);G<0?"-"==f.charAt(A)&&(j=!0):(j=!1,0==V?this[this.t++]=G:V+_>this.DB?(this[this.t-1]|=(G&(1<<this.DB-V)-1)<<V,this[this.t++]=G>>this.DB-V):this[this.t-1]|=G<<V,(V+=_)>=this.DB&&(V-=this.DB))}8==_&&0!=(128&f[0])&&(this.s=-1,V>0&&(this[this.t-1]|=(1<<this.DB-V)-1<<V)),this.clamp(),j&&C.ZERO.subTo(this,this)},C.prototype.clamp=function ne(){for(var f=this.s&this.DM;this.t>0&&this[this.t-1]==f;)--this.t},C.prototype.dlShiftTo=function ze(f,v){var _;for(_=this.t-1;_>=0;--_)v[_+f]=this[_];for(_=f-1;_>=0;--_)v[_]=0;v.t=this.t+f,v.s=this.s},C.prototype.drShiftTo=function ht(f,v){for(var _=f;_<this.t;++_)v[_-f]=this[_];v.t=Math.max(this.t-f,0),v.s=this.s},C.prototype.lShiftTo=function Ke(f,v){var Z,_=f%this.DB,A=this.DB-_,j=(1<<A)-1,V=Math.floor(f/this.DB),G=this.s<<_&this.DM;for(Z=this.t-1;Z>=0;--Z)v[Z+V+1]=this[Z]>>A|G,G=(this[Z]&j)<<_;for(Z=V-1;Z>=0;--Z)v[Z]=0;v[V]=G,v.t=this.t+V+1,v.s=this.s,v.clamp()},C.prototype.rShiftTo=function tt(f,v){v.s=this.s;var _=Math.floor(f/this.DB);if(_>=this.t)v.t=0;else{var A=f%this.DB,j=this.DB-A,V=(1<<A)-1;v[0]=this[_]>>A;for(var G=_+1;G<this.t;++G)v[G-_-1]|=(this[G]&V)<<j,v[G-_]=this[G]>>A;A>0&&(v[this.t-_-1]|=(this.s&V)<<j),v.t=this.t-_,v.clamp()}},C.prototype.subTo=function qe(f,v){for(var _=0,A=0,j=Math.min(f.t,this.t);_<j;)A+=this[_]-f[_],v[_++]=A&this.DM,A>>=this.DB;if(f.t<this.t){for(A-=f.s;_<this.t;)A+=this[_],v[_++]=A&this.DM,A>>=this.DB;A+=this.s}else{for(A+=this.s;_<f.t;)A-=f[_],v[_++]=A&this.DM,A>>=this.DB;A-=f.s}v.s=A<0?-1:0,A<-1?v[_++]=this.DV+A:A>0&&(v[_++]=A),v.t=_,v.clamp()},C.prototype.multiplyTo=function Qe(f,v){var _=this.abs(),A=f.abs(),j=_.t;for(v.t=j+A.t;--j>=0;)v[j]=0;for(j=0;j<A.t;++j)v[j+_.t]=_.am(0,A[j],v,j,0,_.t);v.s=0,v.clamp(),this.s!=f.s&&C.ZERO.subTo(v,v)},C.prototype.squareTo=function We(f){for(var v=this.abs(),_=f.t=2*v.t;--_>=0;)f[_]=0;for(_=0;_<v.t-1;++_){var A=v.am(_,v[_],f,2*_,0,1);(f[_+v.t]+=v.am(_+1,2*v[_],f,2*_+1,A,v.t-_-1))>=v.DV&&(f[_+v.t]-=v.DV,f[_+v.t+1]=1)}f.t>0&&(f[f.t-1]+=v.am(_,v[_],f,2*_,0,1)),f.s=0,f.clamp()},C.prototype.divRemTo=function ft(f,v,_){var A=f.abs();if(!(A.t<=0)){var j=this.abs();if(j.t<A.t)return null!=v&&v.fromInt(0),void(null!=_&&this.copyTo(_));null==_&&(_=U());var V=U(),G=this.s,Z=f.s,ie=this.DB-Ne(A[A.t-1]);ie>0?(A.lShiftTo(ie,V),j.lShiftTo(ie,_)):(A.copyTo(V),j.copyTo(_));var he=V.t,Se=V[he-1];if(0!=Se){var Ce=Se*(1<<this.F1)+(he>1?V[he-2]>>this.F2:0),J=this.FV/Ce,X=(1<<this.F1)/Ce,_e=1<<this.F2,se=_.t,Ae=se-he,ge=null==v?U():v;for(V.dlShiftTo(Ae,ge),_.compareTo(ge)>=0&&(_[_.t++]=1,_.subTo(ge,_)),C.ONE.dlShiftTo(he,ge),ge.subTo(V,V);V.t<he;)V[V.t++]=0;for(;--Ae>=0;){var Be=_[--se]==Se?this.DM:Math.floor(_[se]*J+(_[se-1]+_e)*X);if((_[se]+=V.am(0,Be,_,Ae,0,he))<Be)for(V.dlShiftTo(Ae,ge),_.subTo(ge,_);_[se]<--Be;)_.subTo(ge,_)}null!=v&&(_.drShiftTo(he,v),G!=Z&&C.ZERO.subTo(v,v)),_.t=he,_.clamp(),ie>0&&_.rShiftTo(ie,_),G<0&&C.ZERO.subTo(_,_)}}},C.prototype.invDigit=function be(){if(this.t<1)return 0;var f=this[0];if(0==(1&f))return 0;var v=3&f;return(v=(v=(v=(v=v*(2-(15&f)*v)&15)*(2-(255&f)*v)&255)*(2-((65535&f)*v&65535))&65535)*(2-f*v%this.DV)%this.DV)>0?this.DV-v:-v},C.prototype.isEven=function xn(){return 0==(this.t>0?1&this[0]:this.s)},C.prototype.exp=function Ct(f,v){if(f>4294967295||f<1)return C.ONE;var _=U(),A=U(),j=v.convert(this),V=Ne(f)-1;for(j.copyTo(_);--V>=0;)if(v.sqrTo(_,A),(f&1<<V)>0)v.mulTo(A,j,_);else{var G=_;_=A,A=G}return v.revert(_)},C.prototype.toString=function ve(f){if(this.s<0)return"-"+this.negate().toString(f);var v;if(16==f)v=4;else if(8==f)v=3;else if(2==f)v=1;else if(32==f)v=5;else{if(4!=f)return this.toRadix(f);v=2}var A,_=(1<<v)-1,j=!1,V="",G=this.t,Z=this.DB-G*this.DB%v;if(G-- >0)for(Z<this.DB&&(A=this[G]>>Z)>0&&(j=!0,V=De(A));G>=0;)Z<v?(A=(this[G]&(1<<Z)-1)<<v-Z,A|=this[--G]>>(Z+=this.DB-v)):(A=this[G]>>(Z-=v)&_,Z<=0&&(Z+=this.DB,--G)),A>0&&(j=!0),j&&(V+=De(A));return j?V:"0"},C.prototype.negate=function Ue(){var f=U();return C.ZERO.subTo(this,f),f},C.prototype.abs=function ke(){return this.s<0?this.negate():this},C.prototype.compareTo=function Ie(f){var v=this.s-f.s;if(0!=v)return v;var _=this.t;if(0!=(v=_-f.t))return this.s<0?-v:v;for(;--_>=0;)if(0!=(v=this[_]-f[_]))return v;return 0},C.prototype.bitLength=function Te(){return this.t<=0?0:this.DB*(this.t-1)+Ne(this[this.t-1]^this.s&this.DM)},C.prototype.mod=function $e(f){var v=U();return this.abs().divRemTo(f,null,v),this.s<0&&v.compareTo(C.ZERO)>0&&f.subTo(v,v),v},C.prototype.modPowInt=function It(f,v){var _;return _=f<256||v.isEven()?new Re(v):new le(v),this.exp(f,_)},C.ZERO=et(0),C.ONE=et(1),Lr.prototype.convert=ls,Lr.prototype.revert=ls,Lr.prototype.mulTo=function bs(f,v,_){f.multiplyTo(v,_)},Lr.prototype.sqrTo=function Gn(f,v){f.squareTo(v)},Jr.prototype.convert=function Bi(f){if(f.s<0||f.t>2*this.m.t)return f.mod(this.m);if(f.compareTo(this.m)<0)return f;var v=U();return f.copyTo(v),this.reduce(v),v},Jr.prototype.revert=function js(f){return f},Jr.prototype.reduce=function Hs(f){for(f.drShiftTo(this.m.t-1,this.r2),f.t>this.m.t+1&&(f.t=this.m.t+1,f.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);f.compareTo(this.r2)<0;)f.dAddOffset(1,this.m.t+1);for(f.subTo(this.r2,f);f.compareTo(this.m)>=0;)f.subTo(this.m,f)},Jr.prototype.mulTo=function Oi(f,v,_){f.multiplyTo(v,_),this.reduce(_)},Jr.prototype.sqrTo=function _o(f,v){f.squareTo(v),this.reduce(v)};var $t,wn,ln,Ar=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Zi=(1<<26)/Ar[Ar.length-1];function ws(){this.i=0,this.j=0,this.S=new Array}function di(){!function yr(f){wn[ln++]^=255&f,wn[ln++]^=f>>8&255,wn[ln++]^=f>>16&255,wn[ln++]^=f>>24&255,ln>=256&&(ln-=256)}((new Date).getTime())}if(C.prototype.chunkSize=function Cn(f){return Math.floor(Math.LN2*this.DB/Math.log(f))},C.prototype.toRadix=function Ye(f){if(null==f&&(f=10),0==this.signum()||f<2||f>36)return"0";var v=this.chunkSize(f),_=Math.pow(f,v),A=et(_),j=U(),V=U(),G="";for(this.divRemTo(A,j,V);j.signum()>0;)G=(_+V.intValue()).toString(f).substr(1)+G,j.divRemTo(A,j,V);return V.intValue().toString(f)+G},C.prototype.fromRadix=function Nt(f,v){this.fromInt(0),null==v&&(v=10);for(var _=this.chunkSize(v),A=Math.pow(v,_),j=!1,V=0,G=0,Z=0;Z<f.length;++Z){var ie=me(f,Z);ie<0?"-"==f.charAt(Z)&&0==this.signum()&&(j=!0):(G=v*G+ie,++V>=_&&(this.dMultiply(A),this.dAddOffset(G,0),V=0,G=0))}V>0&&(this.dMultiply(Math.pow(v,V)),this.dAddOffset(G,0)),j&&C.ZERO.subTo(this,this)},C.prototype.fromNumber=function on(f,v,_){if("number"==typeof v)if(f<2)this.fromInt(1);else for(this.fromNumber(f,_),this.testBit(f-1)||this.bitwiseTo(C.ONE.shiftLeft(f-1),yt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(v);)this.dAddOffset(2,0),this.bitLength()>f&&this.subTo(C.ONE.shiftLeft(f-1),this);else{var A=new Array,j=7&f;A.length=1+(f>>3),v.nextBytes(A),j>0?A[0]&=(1<<j)-1:A[0]=0,this.fromString(A,256)}},C.prototype.bitwiseTo=function nn(f,v,_){var A,j,V=Math.min(f.t,this.t);for(A=0;A<V;++A)_[A]=v(this[A],f[A]);if(f.t<this.t){for(j=f.s&this.DM,A=V;A<this.t;++A)_[A]=v(this[A],j);_.t=this.t}else{for(j=this.s&this.DM,A=V;A<f.t;++A)_[A]=v(j,f[A]);_.t=f.t}_.s=v(this.s,f.s),_.clamp()},C.prototype.changeBit=function Xr(f,v){var _=C.ONE.shiftLeft(f);return this.bitwiseTo(_,v,_),_},C.prototype.addTo=function _r(f,v){for(var _=0,A=0,j=Math.min(f.t,this.t);_<j;)A+=this[_]+f[_],v[_++]=A&this.DM,A>>=this.DB;if(f.t<this.t){for(A+=f.s;_<this.t;)A+=this[_],v[_++]=A&this.DM,A>>=this.DB;A+=this.s}else{for(A+=this.s;_<f.t;)A+=f[_],v[_++]=A&this.DM,A>>=this.DB;A+=f.s}v.s=A<0?-1:0,A>0?v[_++]=A:A<-1&&(v[_++]=this.DV+A),v.t=_,v.clamp()},C.prototype.dMultiply=function ui(f){this[this.t]=this.am(0,f-1,this,0,0,this.t),++this.t,this.clamp()},C.prototype.dAddOffset=function as(f,v){if(0!=f){for(;this.t<=v;)this[this.t++]=0;for(this[v]+=f;this[v]>=this.DV;)this[v]-=this.DV,++v>=this.t&&(this[this.t++]=0),++this[v]}},C.prototype.multiplyLowerTo=function Us(f,v,_){var j,A=Math.min(this.t+f.t,v);for(_.s=0,_.t=A;A>0;)_[--A]=0;for(j=_.t-this.t;A<j;++A)_[A+this.t]=this.am(0,f[A],_,A,0,this.t);for(j=Math.min(f.t,v);A<j;++A)this.am(0,f[A],_,A,0,v-A);_.clamp()},C.prototype.multiplyUpperTo=function rl(f,v,_){--v;var A=_.t=this.t+f.t-v;for(_.s=0;--A>=0;)_[A]=0;for(A=Math.max(v-this.t,0);A<f.t;++A)_[this.t+A-v]=this.am(v-A,f[A],_,0,0,this.t+A-v);_.clamp(),_.drShiftTo(1,_)},C.prototype.modInt=function Rr(f){if(f<=0)return 0;var v=this.DV%f,_=this.s<0?f-1:0;if(this.t>0)if(0==v)_=this[0]%f;else for(var A=this.t-1;A>=0;--A)_=(v*_+this[A])%f;return _},C.prototype.millerRabin=function cs(f){var v=this.subtract(C.ONE),_=v.getLowestSetBit();if(_<=0)return!1;var A=v.shiftRight(_);(f=f+1>>1)>Ar.length&&(f=Ar.length);for(var j=U(),V=0;V<f;++V){j.fromInt(Ar[Math.floor(Math.random()*Ar.length)]);var G=j.modPow(A,this);if(0!=G.compareTo(C.ONE)&&0!=G.compareTo(v)){for(var Z=1;Z++<_&&0!=G.compareTo(v);)if(0==(G=G.modPowInt(2,this)).compareTo(C.ONE))return!1;if(0!=G.compareTo(v))return!1}}return!0},C.prototype.clone=function qt(){var f=U();return this.copyTo(f),f},C.prototype.intValue=function Gt(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},C.prototype.byteValue=function Wt(){return 0==this.t?this.s:this[0]<<24>>24},C.prototype.shortValue=function un(){return 0==this.t?this.s:this[0]<<16>>16},C.prototype.signum=function Fn(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},C.prototype.toByteArray=function cn(){var f=this.t,v=new Array;v[0]=this.s;var A,_=this.DB-f*this.DB%8,j=0;if(f-- >0)for(_<this.DB&&(A=this[f]>>_)!=(this.s&this.DM)>>_&&(v[j++]=A|this.s<<this.DB-_);f>=0;)_<8?(A=(this[f]&(1<<_)-1)<<8-_,A|=this[--f]>>(_+=this.DB-8)):(A=this[f]>>(_-=8)&255,_<=0&&(_+=this.DB,--f)),0!=(128&A)&&(A|=-256),0==j&&(128&this.s)!=(128&A)&&++j,(j>0||A!=this.s)&&(v[j++]=A);return v},C.prototype.equals=function Tt(f){return 0==this.compareTo(f)},C.prototype.min=function Bt(f){return this.compareTo(f)<0?this:f},C.prototype.max=function He(f){return this.compareTo(f)>0?this:f},C.prototype.and=function ee(f){var v=U();return this.bitwiseTo(f,kn,v),v},C.prototype.or=function wt(f){var v=U();return this.bitwiseTo(f,yt,v),v},C.prototype.xor=function ct(f){var v=U();return this.bitwiseTo(f,Pe,v),v},C.prototype.andNot=function vn(f){var v=U();return this.bitwiseTo(f,Dt,v),v},C.prototype.not=function Jt(){for(var f=U(),v=0;v<this.t;++v)f[v]=this.DM&~this[v];return f.t=this.t,f.s=~this.s,f},C.prototype.shiftLeft=function hn(f){var v=U();return f<0?this.rShiftTo(-f,v):this.lShiftTo(f,v),v},C.prototype.shiftRight=function pn(f){var v=U();return f<0?this.lShiftTo(-f,v):this.rShiftTo(f,v),v},C.prototype.getLowestSetBit=function $n(){for(var f=0;f<this.t;++f)if(0!=this[f])return f*this.DB+Wn(this[f]);return this.s<0?this.t*this.DB:-1},C.prototype.bitCount=function vr(){for(var f=0,v=this.s&this.DM,_=0;_<this.t;++_)f+=rr(this[_]^v);return f},C.prototype.testBit=function qr(f){var v=Math.floor(f/this.DB);return v>=this.t?0!=this.s:0!=(this[v]&1<<f%this.DB)},C.prototype.setBit=function Qi(f){return this.changeBit(f,yt)},C.prototype.clearBit=function Qo(f){return this.changeBit(f,Dt)},C.prototype.flipBit=function xr(f){return this.changeBit(f,Pe)},C.prototype.add=function oi(f){var v=U();return this.addTo(f,v),v},C.prototype.subtract=function Ir(f){var v=U();return this.subTo(f,v),v},C.prototype.multiply=function bn(f){var v=U();return this.multiplyTo(f,v),v},C.prototype.divide=function Zr(f){var v=U();return this.divRemTo(f,v,null),v},C.prototype.remainder=function zi(f){var v=U();return this.divRemTo(f,null,v),v},C.prototype.divideAndRemainder=function vo(f){var v=U(),_=U();return this.divRemTo(f,v,_),new Array(v,_)},C.prototype.modPow=function ro(f,v){var A,V,_=f.bitLength(),j=et(1);if(_<=0)return j;A=_<18?1:_<48?3:_<144?4:_<768?5:6,V=_<8?new Re(v):v.isEven()?new Jr(v):new le(v);var G=new Array,Z=3,ie=A-1,he=(1<<A)-1;if(G[1]=V.convert(this),A>1){var Se=U();for(V.sqrTo(G[1],Se);Z<=he;)G[Z]=U(),V.mulTo(Se,G[Z-2],G[Z]),Z+=2}var J,se,Ce=f.t-1,X=!0,_e=U();for(_=Ne(f[Ce])-1;Ce>=0;){for(_>=ie?J=f[Ce]>>_-ie&he:(J=(f[Ce]&(1<<_+1)-1)<<ie-_,Ce>0&&(J|=f[Ce-1]>>this.DB+_-ie)),Z=A;0==(1&J);)J>>=1,--Z;if((_-=Z)<0&&(_+=this.DB,--Ce),X)G[J].copyTo(j),X=!1;else{for(;Z>1;)V.sqrTo(j,_e),V.sqrTo(_e,j),Z-=2;Z>0?V.sqrTo(j,_e):(se=j,j=_e,_e=se),V.mulTo(_e,G[J],j)}for(;Ce>=0&&0==(f[Ce]&1<<_);)V.sqrTo(j,_e),se=j,j=_e,_e=se,--_<0&&(_=this.DB-1,--Ce)}return V.revert(j)},C.prototype.modInverse=function yc(f){var v=f.isEven();if(this.isEven()&&v||0==f.signum())return C.ZERO;for(var _=f.clone(),A=this.clone(),j=et(1),V=et(0),G=et(0),Z=et(1);0!=_.signum();){for(;_.isEven();)_.rShiftTo(1,_),v?((!j.isEven()||!V.isEven())&&(j.addTo(this,j),V.subTo(f,V)),j.rShiftTo(1,j)):V.isEven()||V.subTo(f,V),V.rShiftTo(1,V);for(;A.isEven();)A.rShiftTo(1,A),v?((!G.isEven()||!Z.isEven())&&(G.addTo(this,G),Z.subTo(f,Z)),G.rShiftTo(1,G)):Z.isEven()||Z.subTo(f,Z),Z.rShiftTo(1,Z);_.compareTo(A)>=0?(_.subTo(A,_),v&&j.subTo(G,j),V.subTo(Z,V)):(A.subTo(_,A),v&&G.subTo(j,G),Z.subTo(V,Z))}return 0!=A.compareTo(C.ONE)?C.ZERO:Z.compareTo(f)>=0?Z.subtract(f):Z.signum()<0?(Z.addTo(f,Z),Z.signum()<0?Z.add(f):Z):Z},C.prototype.pow=function Bs(f){return this.exp(f,new Lr)},C.prototype.gcd=function Ur(f){var v=this.s<0?this.negate():this.clone(),_=f.s<0?f.negate():f.clone();if(v.compareTo(_)<0){var A=v;v=_,_=A}var j=v.getLowestSetBit(),V=_.getLowestSetBit();if(V<0)return v;for(j<V&&(V=j),V>0&&(v.rShiftTo(V,v),_.rShiftTo(V,_));v.signum()>0;)(j=v.getLowestSetBit())>0&&v.rShiftTo(j,v),(j=_.getLowestSetBit())>0&&_.rShiftTo(j,_),v.compareTo(_)>=0?(v.subTo(_,v),v.rShiftTo(1,v)):(_.subTo(v,_),_.rShiftTo(1,_));return V>0&&_.lShiftTo(V,_),_},C.prototype.isProbablePrime=function Fo(f){var v,_=this.abs();if(1==_.t&&_[0]<=Ar[Ar.length-1]){for(v=0;v<Ar.length;++v)if(_[0]==Ar[v])return!0;return!1}if(_.isEven())return!1;for(v=1;v<Ar.length;){for(var A=Ar[v],j=v+1;j<Ar.length&&A<Zi;)A*=Ar[j++];for(A=_.modInt(A);v<j;)if(A%Ar[v++]==0)return!1}return _.millerRabin(f)},C.prototype.square=function Qn(){var f=U();return this.squareTo(f),f},ws.prototype.init=function Xo(f){var v,_,A;for(v=0;v<256;++v)this.S[v]=v;for(_=0,v=0;v<256;++v)A=this.S[v],this.S[v]=this.S[_=_+this.S[v]+f[v%f.length]&255],this.S[_]=A;this.i=0,this.j=0},ws.prototype.next=function _t(){var f;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,f=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=f,this.S[f+this.S[this.i]&255]},null==wn){var Dr;if(wn=new Array,ln=0,void 0!==T&&(void 0!==T.crypto||void 0!==T.msCrypto)){var yo=T.crypto||T.msCrypto;if(yo.getRandomValues){var br=new Uint8Array(32);for(yo.getRandomValues(br),Dr=0;Dr<32;++Dr)wn[ln++]=br[Dr]}else if("Netscape"==B.appName&&B.appVersion<"5"){var xo=T.crypto.random(32);for(Dr=0;Dr<xo.length;++Dr)wn[ln++]=255&xo.charCodeAt(Dr)}}for(;ln<256;)Dr=Math.floor(65536*Math.random()),wn[ln++]=Dr>>>8,wn[ln++]=255&Dr;ln=0,di()}function iu(){if(null==$t){for(di(),($t=function Zt(){return new ws}()).init(wn),ln=0;ln<wn.length;++ln)wn[ln]=0;ln=0}return $t.next()}function Eo(){}function io(f,v){return new C(f,v)}function Rl(f,v,_){for(var A="",j=0;A.length<v;)A+=_(String.fromCharCode.apply(String,f.concat([(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j]))),j+=1;return A}function Nn(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Pl(f,v,_){for(var A="",j=0;A.length<v;)A+=_(f+String.fromCharCode.apply(String,[(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j])),j+=1;return A}function mi(f,v){this.x=v,this.q=f}function Xn(f,v,_,A){this.curve=f,this.x=v,this.y=_,this.z=null==A?C.ONE:A,this.zinv=null}function Jo(f,v,_){this.q=f,this.a=this.fromBigInteger(v),this.b=this.fromBigInteger(_),this.infinity=new Xn(this,null,null)}Eo.prototype.nextBytes=function bc(f){var v;for(v=0;v<f.length;++v)f[v]=iu()},Nn.prototype.doPublic=function Vs(f){return f.modPowInt(this.e,this.n)},Nn.prototype.setPublic=function kh(f,v){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof f)this.n=f,this.e=v;else{if(!(null!=f&&null!=v&&f.length>0&&v.length>0))throw"Invalid RSA public key";this.n=io(f,16),this.e=parseInt(v,16)}},Nn.prototype.encrypt=function Fd(f){var v=function ou(f,v){if(v<f.length+11)throw"Message too long for RSA";for(var _=new Array,A=f.length-1;A>=0&&v>0;){var j=f.charCodeAt(A--);j<128?_[--v]=j:j>127&&j<2048?(_[--v]=63&j|128,_[--v]=j>>6|192):(_[--v]=63&j|128,_[--v]=j>>6&63|128,_[--v]=j>>12|224)}_[--v]=0;for(var V=new Eo,G=new Array;v>2;){for(G[0]=0;0==G[0];)V.nextBytes(G);_[--v]=G[0]}return _[--v]=2,_[--v]=0,new C(_)}(f,this.n.bitLength()+7>>3);if(null==v)return null;var _=this.doPublic(v);if(null==_)return null;var A=_.toString(16);return 0==(1&A.length)?A:"0"+A},Nn.prototype.encryptOAEP=function wc(f,v,_){var A=function Fh(f,v,_,A){var j=N.crypto.MessageDigest,V=N.crypto.Util,G=null;if(_||(_="sha1"),"string"==typeof _&&(G=j.getCanonicalAlgName(_),A=j.getHashLength(G),_=function(se){return Wi(V.hashHex(gt(se),G))}),f.length+2*A+2>v)throw"Message too long for RSA";var ie,Z="";for(ie=0;ie<v-f.length-2*A-2;ie+=1)Z+="\0";var he=_("")+Z+"\x01"+f,Se=new Array(A);(new Eo).nextBytes(Se);var Ce=Rl(Se,he.length,_),J=[];for(ie=0;ie<he.length;ie+=1)J[ie]=he.charCodeAt(ie)^Ce.charCodeAt(ie);var X=Rl(J,Se.length,_),_e=[0];for(ie=0;ie<Se.length;ie+=1)_e[ie+1]=Se[ie]^X.charCodeAt(ie);return new C(_e.concat(J))}(f,this.n.bitLength()+7>>3,v,_);if(null==A)return null;var j=this.doPublic(A);if(null==j)return null;var V=j.toString(16);return 0==(1&V.length)?V:"0"+V},Nn.prototype.type="RSA",Nn.prototype.doPrivate=function Fl(f){if(null==this.p||null==this.q)return f.modPow(this.d,this.n);for(var v=f.mod(this.p).modPow(this.dmp1,this.p),_=f.mod(this.q).modPow(this.dmq1,this.q);v.compareTo(_)<0;)v=v.add(this.p);return v.subtract(_).multiply(this.coeff).mod(this.p).multiply(this.q).add(_)},Nn.prototype.setPrivate=function au(f,v,_){if(this.isPrivate=!0,"string"!=typeof f)this.n=f,this.e=v,this.d=_;else{if(!(null!=f&&null!=v&&f.length>0&&v.length>0))throw"Invalid RSA private key";this.n=io(f,16),this.e=parseInt(v,16),this.d=io(_,16)}},Nn.prototype.setPrivateEx=function kd(f,v,_,A,j,V,G,Z){if(this.isPrivate=!0,this.isPublic=!1,null==f)throw"RSASetPrivateEx N == null";if(null==v)throw"RSASetPrivateEx E == null";if(0==f.length)throw"RSASetPrivateEx N.length == 0";if(0==v.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=f&&null!=v&&f.length>0&&v.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=io(f,16),this.e=parseInt(v,16),this.d=io(_,16),this.p=io(A,16),this.q=io(j,16),this.dmp1=io(V,16),this.dmq1=io(G,16),this.coeff=io(Z,16)},Nn.prototype.generate=function Yr(f,v){var _=new Eo,A=f>>1;this.e=parseInt(v,16);for(var j=new C(v,16),V=f/2-100,G=C.ONE.shiftLeft(V);;){for(;this.p=new C(f-A,1,_),0!=this.p.subtract(C.ONE).gcd(j).compareTo(C.ONE)||!this.p.isProbablePrime(10););for(;this.q=new C(A,1,_),0!=this.q.subtract(C.ONE).gcd(j).compareTo(C.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var Z=this.p;this.p=this.q,this.q=Z}var ie=this.q.subtract(this.p).abs();if(!(ie.bitLength()<V||ie.compareTo(G)<=0)){var he=this.p.subtract(C.ONE),Se=this.q.subtract(C.ONE),Ce=he.multiply(Se);if(0==Ce.gcd(j).compareTo(C.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==f)){this.d=j.modInverse(Ce),this.dmp1=this.d.mod(he),this.dmq1=this.d.mod(Se),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},Nn.prototype.decrypt=function Ld(f){if(f.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var v=io(f,16),_=this.doPrivate(v);return null==_?null:function su(f,v){for(var _=f.toByteArray(),A=0;A<_.length&&0==_[A];)++A;if(_.length-A!=v-1||2!=_[A])return null;for(++A;0!=_[A];)if(++A>=_.length)return null;for(var j="";++A<_.length;){var V=255&_[A];V<128?j+=String.fromCharCode(V):V>191&&V<224?(j+=String.fromCharCode((31&V)<<6|63&_[A+1]),++A):(j+=String.fromCharCode((15&V)<<12|(63&_[A+1])<<6|63&_[A+2]),A+=2)}return j}(_,this.n.bitLength()+7>>3)},Nn.prototype.decryptOAEP=function ko(f,v,_){if(f.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var A=io(f,16),j=this.doPrivate(A);return null==j?null:function xc(f,v,_,A){var j=N.crypto.MessageDigest,V=N.crypto.Util,G=null;for(_||(_="sha1"),"string"==typeof _&&(G=j.getCanonicalAlgName(_),A=j.getHashLength(G),_=function(Ae){return Wi(V.hashHex(gt(Ae),G))}),f=f.toByteArray(),Ce=0;Ce<f.length;Ce+=1)f[Ce]&=255;for(;f.length<v;)f.unshift(0);if((f=String.fromCharCode.apply(String,f)).length<2*A+2)throw"Cipher too short";var Ce,Z=f.substr(1,A),ie=f.substr(A+1),he=Pl(ie,A,_),Se=[];for(Ce=0;Ce<Z.length;Ce+=1)Se[Ce]=Z.charCodeAt(Ce)^he.charCodeAt(Ce);var J=Pl(String.fromCharCode.apply(String,Se),f.length-A,_),X=[];for(Ce=0;Ce<ie.length;Ce+=1)X[Ce]=ie.charCodeAt(Ce)^J.charCodeAt(Ce);if((X=String.fromCharCode.apply(String,X)).substr(0,A)!==_(""))throw"Hash mismatch";var _e=(X=X.substr(A)).indexOf("\x01");if((-1!=_e?X.substr(0,_e).lastIndexOf("\0"):-1)+1!=_e)throw"Malformed data";return X.substr(_e+1)}(j,this.n.bitLength()+7>>3,v,_)},mi.prototype.equals=function da(f){return f==this||this.q.equals(f.q)&&this.x.equals(f.x)},mi.prototype.toBigInteger=function Gs(){return this.x},mi.prototype.negate=function Lh(){return new mi(this.q,this.x.negate().mod(this.q))},mi.prototype.add=function Pm(f){return new mi(this.q,this.x.add(f.toBigInteger()).mod(this.q))},mi.prototype.subtract=function Ii(f){return new mi(this.q,this.x.subtract(f.toBigInteger()).mod(this.q))},mi.prototype.multiply=function Nd(f){return new mi(this.q,this.x.multiply(f.toBigInteger()).mod(this.q))},mi.prototype.square=function lu(){return new mi(this.q,this.x.square().mod(this.q))},mi.prototype.divide=function fa(f){return new mi(this.q,this.x.multiply(f.toBigInteger().modInverse(this.q)).mod(this.q))},mi.prototype.sqrt=function(){return new mi(this.q,this.x.sqrt().mod(this.q))},Xn.prototype.getX=function Nh(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Xn.prototype.getY=function kl(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Xn.prototype.equals=function zs(f){return f==this||(this.isInfinity()?f.isInfinity():f.isInfinity()?this.isInfinity():!!f.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(f.z)).mod(this.curve.q).equals(C.ZERO)&&f.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(f.z)).mod(this.curve.q).equals(C.ZERO))},Xn.prototype.isInfinity=function Nr(){return null==this.x&&null==this.y||this.z.equals(C.ZERO)&&!this.y.toBigInteger().equals(C.ZERO)},Xn.prototype.negate=function Bh(){return new Xn(this.curve,this.x,this.y.negate(),this.z)},Xn.prototype.add=function Ta(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var v=f.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(f.z)).mod(this.curve.q),_=f.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(f.z)).mod(this.curve.q);if(C.ZERO.equals(_))return C.ZERO.equals(v)?this.twice():this.curve.getInfinity();var A=new C("3"),j=this.x.toBigInteger(),V=this.y.toBigInteger(),ie=(f.x.toBigInteger(),f.y.toBigInteger(),_.square()),he=ie.multiply(_),Se=j.multiply(ie),Ce=v.square().multiply(this.z),J=Ce.subtract(Se.shiftLeft(1)).multiply(f.z).subtract(he).multiply(_).mod(this.curve.q),X=Se.multiply(A).multiply(v).subtract(V.multiply(he)).subtract(Ce.multiply(v)).multiply(f.z).add(v.multiply(he)).mod(this.curve.q),_e=he.multiply(this.z).multiply(f.z).mod(this.curve.q);return new Xn(this.curve,this.curve.fromBigInteger(J),this.curve.fromBigInteger(X),_e)},Xn.prototype.twice=function Uh(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var f=new C("3"),v=this.x.toBigInteger(),_=this.y.toBigInteger(),A=_.multiply(this.z),j=A.multiply(_).mod(this.curve.q),V=this.curve.a.toBigInteger(),G=v.square().multiply(f);C.ZERO.equals(V)||(G=G.add(this.z.square().multiply(V)));var Z=(G=G.mod(this.curve.q)).square().subtract(v.shiftLeft(3).multiply(j)).shiftLeft(1).multiply(A).mod(this.curve.q),ie=G.multiply(f).multiply(v).subtract(j.shiftLeft(1)).shiftLeft(2).multiply(j).subtract(G.square().multiply(G)).mod(this.curve.q),he=A.square().multiply(A).shiftLeft(3).mod(this.curve.q);return new Xn(this.curve,this.curve.fromBigInteger(Z),this.curve.fromBigInteger(ie),he)},Xn.prototype.multiply=function Zs(f){if(this.isInfinity())return this;if(0==f.signum())return this.curve.getInfinity();var he,v=f,_=v.multiply(new C("3")),A=this.negate(),j=this,V=this.curve.q.subtract(f),G=V.multiply(new C("3")),Z=new Xn(this.curve,this.x,this.y),ie=Z.negate();for(he=_.bitLength()-2;he>0;--he){j=j.twice();var Se=_.testBit(he);Se!=v.testBit(he)&&(j=j.add(Se?this:A))}for(he=G.bitLength()-2;he>0;--he){Z=Z.twice();var J=G.testBit(he);J!=V.testBit(he)&&(Z=Z.add(J?Z:ie))}return j},Xn.prototype.multiplyTwo=function cu(f,v,_){var A;A=f.bitLength()>_.bitLength()?f.bitLength()-1:_.bitLength()-1;for(var j=this.curve.getInfinity(),V=this.add(v);A>=0;)j=j.twice(),f.testBit(A)?j=_.testBit(A)?j.add(V):j.add(this):_.testBit(A)&&(j=j.add(v)),--A;return j},Jo.prototype.getQ=function tr(){return this.q},Jo.prototype.getA=function Bd(){return this.a},Jo.prototype.getB=function Fm(){return this.b},Jo.prototype.equals=function Ud(f){return f==this||this.q.equals(f.q)&&this.a.equals(f.a)&&this.b.equals(f.b)},Jo.prototype.getInfinity=function jd(){return this.infinity},Jo.prototype.fromBigInteger=function Hd(f){return new mi(this.q,f)},Jo.prototype.decodePointHex=function il(f){switch(parseInt(f.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var v=f.substr(0,2),A=(f.substr(2),this.fromBigInteger(new C(he,16))),j=this.getA(),V=this.getB(),Z=A.square().add(j).multiply(A).add(V).sqrt();return"03"==v&&(Z=Z.negate()),new Xn(this,A,Z);case 4:case 6:case 7:var ie=(f.length-2)/2,he=f.substr(2,ie),Se=f.substr(ie+2,ie);return new Xn(this,this.fromBigInteger(new C(he,16)),this.fromBigInteger(new C(Se,16)));default:return null}},mi.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Xn.prototype.getEncoded=function(f){var v=function(V,G){var Z=V.toByteArrayUnsigned();if(G<Z.length)Z=Z.slice(Z.length-G);else for(;G>Z.length;)Z.unshift(0);return Z},_=this.getX().toBigInteger(),A=this.getY().toBigInteger(),j=v(_,32);return f?A.isEven()?j.unshift(2):j.unshift(3):(j.unshift(4),j=j.concat(v(A,32))),j},Xn.decodeFrom=function(f,v){var A=v.length-1,j=v.slice(1,1+A/2),V=v.slice(1+A/2,1+A);j.unshift(0),V.unshift(0);var G=new C(j),Z=new C(V);return new Xn(f,f.fromBigInteger(G),f.fromBigInteger(Z))},Xn.decodeFromHex=function(f,v){v.substr(0,2);var A=v.length-2,j=v.substr(2,A/2),V=v.substr(2+A/2,A/2),G=new C(j,16),Z=new C(V,16);return new Xn(f,f.fromBigInteger(G),f.fromBigInteger(Z))},Xn.prototype.add2D=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;if(this.x.equals(f.x))return this.y.equals(f.y)?this.twice():this.curve.getInfinity();var v=f.x.subtract(this.x),A=f.y.subtract(this.y).divide(v),j=A.square().subtract(this.x).subtract(f.x),V=A.multiply(this.x.subtract(j)).subtract(this.y);return new Xn(this.curve,j,V)},Xn.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var f=this.curve.fromBigInteger(C.valueOf(2)),v=this.curve.fromBigInteger(C.valueOf(3)),_=this.x.square().multiply(v).add(this.curve.a).divide(this.y.multiply(f)),A=_.square().subtract(this.x.multiply(f)),j=_.multiply(this.x.subtract(A)).subtract(this.y);return new Xn(this.curve,A,j)},Xn.prototype.multiply2D=function(f){if(this.isInfinity())return this;if(0==f.signum())return this.curve.getInfinity();var V,v=f,_=v.multiply(new C("3")),A=this.negate(),j=this;for(V=_.bitLength()-2;V>0;--V){j=j.twice();var G=_.testBit(V);G!=v.testBit(V)&&(j=j.add2D(G?this:A))}return j},Xn.prototype.isOnCurve=function(){var f=this.getX().toBigInteger(),v=this.getY().toBigInteger(),_=this.curve.getA().toBigInteger(),A=this.curve.getB().toBigInteger(),j=this.curve.getQ(),V=v.multiply(v).mod(j),G=f.multiply(f).multiply(f).add(_.multiply(f)).add(A).mod(j);return V.equals(G)},Xn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Xn.prototype.validate=function(){var f=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var v=this.getX().toBigInteger(),_=this.getY().toBigInteger();if(v.compareTo(C.ONE)<0||v.compareTo(f.subtract(C.ONE))>0)throw new Error("x coordinate out of bounds");if(_.compareTo(C.ONE)<0||_.compareTo(f.subtract(C.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(f).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var uu=function(){var A=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),j=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),V={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function G(Ce,J,X){return J?V[J]:String.fromCharCode(parseInt(X,16))}var Z=new String(""),Se=Object.hasOwnProperty;return function(Ce,J){var _e,X=Ce.match(A),se=X[0],Ae=!1;"{"===se?_e={}:"["===se?_e=[]:(_e=[],Ae=!0);for(var ge,Be=[_e],Je=1-Ae,at=X.length;Je<at;++Je){var st;switch((se=X[Je]).charCodeAt(0)){default:(st=Be[0])[ge||st.length]=+se,ge=void 0;break;case 34:if(-1!==(se=se.substring(1,se.length-1)).indexOf("\\")&&(se=se.replace(j,G)),st=Be[0],!ge){if(!(st instanceof Array)){ge=se||Z;break}ge=st.length}st[ge]=se,ge=void 0;break;case 91:Be.unshift((st=Be[0])[ge||st.length]=[]),ge=void 0;break;case 93:case 125:Be.shift();break;case 102:(st=Be[0])[ge||st.length]=!1,ge=void 0;break;case 110:(st=Be[0])[ge||st.length]=null,ge=void 0;break;case 116:(st=Be[0])[ge||st.length]=!0,ge=void 0;break;case 123:Be.unshift((st=Be[0])[ge||st.length]={}),ge=void 0}}if(Ae){if(1!==Be.length)throw new Error;_e=_e[0]}else if(Be.length)throw new Error;if(J){var kt=function(jt,Oe){var je=jt[Oe];if(je&&"object"==typeof je){var ut=null;for(var pt in je)if(Se.call(je,pt)&&je!==jt){var Et=kt(je,pt);void 0!==Et?je[pt]=Et:(ut||(ut=[]),ut.push(pt))}if(ut)for(var Ft=ut.length;--Ft>=0;)delete je[ut[Ft]]}return J.call(jt,Oe,je)};_e=kt({"":_e},"")}return _e}}();(void 0===N||!N)&&(N={}),(void 0===N.asn1||!N.asn1)&&(N.asn1={}),N.asn1.ASN1Util=new function(){this.integerToByteHex=function(f){var v=f.toString(16);return v.length%2==1&&(v="0"+v),v},this.bigIntToMinTwosComplementsHex=function(f){var v=f.toString(16);if("-"!=v.substr(0,1))v.length%2==1?v="0"+v:v.match(/^[0-7]/)||(v="00"+v);else{var A=v.substr(1).length;A%2==1?A+=1:v.match(/^[0-7]/)||(A+=2);for(var j="",V=0;V<A;V++)j+="f";v=new C(j,16).xor(f).add(C.ONE).toString(16).replace(/^-/,"")}return v},this.getPEMStringFromHex=function(f,v){return zt(f,v)},this.newObject=function(f){var _=N.asn1,A=_.ASN1Object,j=_.DERBoolean,V=_.DERInteger,G=_.DERBitString,Z=_.DEROctetString,ie=_.DERNull,he=_.DERObjectIdentifier,Se=_.DEREnumerated,Ce=_.DERUTF8String,J=_.DERNumericString,X=_.DERPrintableString,_e=_.DERTeletexString,se=_.DERIA5String,Ae=_.DERUTCTime,ge=_.DERGeneralizedTime,Be=_.DERVisibleString,Je=_.DERBMPString,at=_.DERSequence,st=_.DERSet,kt=_.DERTaggedObject,jt=_.ASN1Util.newObject;if(f instanceof _.ASN1Object)return f;var Oe=Object.keys(f);if(1!=Oe.length)throw new Error("key of param shall be only one.");var je=Oe[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+je+":"))throw new Error("undefined key: "+je);if("bool"==je)return new j(f[je]);if("int"==je)return new V(f[je]);if("bitstr"==je)return new G(f[je]);if("octstr"==je)return new Z(f[je]);if("null"==je)return new ie(f[je]);if("oid"==je)return new he(f[je]);if("enum"==je)return new Se(f[je]);if("utf8str"==je)return new Ce(f[je]);if("numstr"==je)return new J(f[je]);if("prnstr"==je)return new X(f[je]);if("telstr"==je)return new _e(f[je]);if("ia5str"==je)return new se(f[je]);if("utctime"==je)return new Ae(f[je]);if("gentime"==je)return new ge(f[je]);if("visstr"==je)return new Be(f[je]);if("bmpstr"==je)return new Je(f[je]);if("asn1"==je)return new A(f[je]);if("seq"==je){for(var ut=f[je],pt=[],Et=0;Et<ut.length;Et++){var Ft=jt(ut[Et]);pt.push(Ft)}return new at({array:pt})}if("set"==je){for(ut=f[je],pt=[],Et=0;Et<ut.length;Et++)Ft=jt(ut[Et]),pt.push(Ft);return new st({array:pt})}if("tag"==je){var bt=f[je];if("[object Array]"===Object.prototype.toString.call(bt)&&3==bt.length){var St=jt(bt[2]);return new kt({tag:bt[0],explicit:bt[1],obj:St})}return new kt(bt)}},this.jsonToASN1HEX=function(f){return this.newObject(f).tohex()}},N.asn1.ASN1Util.oidHexToInt=function(f){for(var j="",v=parseInt(f.substr(0,2),16),V=(j=Math.floor(v/40)+"."+v%40,""),G=2;G<f.length;G+=2){var ie=("00000000"+parseInt(f.substr(G,2),16).toString(2)).slice(-8);V+=ie.substr(1,7),"0"==ie.substr(0,1)&&(j=j+"."+new C(V,2).toString(10),V="")}return j},N.asn1.ASN1Util.oidIntToHex=function(f){var v=function(Z){var ie=Z.toString(16);return 1==ie.length&&(ie="0"+ie),ie},_=function(Z){var ie="",Se=new C(Z,10).toString(2),Ce=7-Se.length%7;7==Ce&&(Ce=0);for(var J="",X=0;X<Ce;X++)J+="0";for(Se=J+Se,X=0;X<Se.length-1;X+=7){var _e=Se.substr(X,7);X!=Se.length-7&&(_e="1"+_e),ie+=v(parseInt(_e,2))}return ie};if(!f.match(/^[0-9.]+$/))throw"malformed oid string: "+f;var A="",j=f.split("."),V=40*parseInt(j[0])+parseInt(j[1]);A+=v(V),j.splice(0,2);for(var G=0;G<j.length;G++)A+=_(j[G]);return A},N.asn1.ASN1Object=function(f){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var G=this.hV.length/2,Z=G.toString(16);if(Z.length%2==1&&(Z="0"+Z),G<128)return Z;var ie=Z.length/2;if(ie>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+G.toString(16));return(128+ie).toString(16)+Z},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(G){this.params=G},null!=f&&null!=f.tlv&&(this.hTLV=f.tlv,this.isModified=!1)},N.asn1.DERAbstractString=function(f){N.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(A){this.hTLV=null,this.isModified=!0,this.s=A,this.hV=Es(this.s).toLowerCase()},this.setStringHex=function(A){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.getFreshValueHex=function(){return this.hV},void 0!==f&&("string"==typeof f?this.setString(f):void 0!==f.str?this.setString(f.str):void 0!==f.hex&&this.setStringHex(f.hex))},Kt(N.asn1.DERAbstractString,N.asn1.ASN1Object),N.asn1.DERAbstractTime=function(f){N.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(A){var j=A.getTime()+6e4*A.getTimezoneOffset();return new Date(j)},this.formatDate=function(A,j,V){var G=this.zeroPadding,Z=this.localDateToUTC(A),ie=String(Z.getFullYear());"utc"==j&&(ie=ie.substr(2,2));var _e=ie+G(String(Z.getMonth()+1),2)+G(String(Z.getDate()),2)+G(String(Z.getHours()),2)+G(String(Z.getMinutes()),2)+G(String(Z.getSeconds()),2);if(!0===V){var se=Z.getMilliseconds();if(0!=se){var Ae=G(String(se),3);_e=_e+"."+(Ae=Ae.replace(/[0]+$/,""))}}return _e+"Z"},this.zeroPadding=function(A,j){return A.length>=j?A:new Array(j-A.length+1).join("0")+A},this.setByParam=function(A){this.hV=null,this.hTLV=null,this.params=A},this.getString=function(){},this.setString=function(A){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=A},this.setByDate=function(A){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=A},this.setByDateValue=function(A,j,V,G,Z,ie){var he=new Date(Date.UTC(A,j-1,V,G,Z,ie,0));this.setByDate(he)},this.getFreshValueHex=function(){return this.hV}},Kt(N.asn1.DERAbstractTime,N.asn1.ASN1Object),N.asn1.DERAbstractStructured=function(f){N.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(_){this.hTLV=null,this.isModified=!0,this.asn1Array=_},this.appendASN1Object=function(_){this.hTLV=null,this.isModified=!0,this.asn1Array.push(_)},this.asn1Array=new Array,void 0!==f&&void 0!==f.array&&(this.asn1Array=f.array)},Kt(N.asn1.DERAbstractStructured,N.asn1.ASN1Object),N.asn1.DERBoolean=function(f){N.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==f?"010100":"0101ff"},Kt(N.asn1.DERBoolean,N.asn1.ASN1Object),N.asn1.DERInteger=function(f){N.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=N.asn1.ASN1Util.bigIntToMinTwosComplementsHex(v)},this.setByInteger=function(v){var _=new C(String(v),10);this.setByBigInteger(_)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},void 0!==f&&(void 0!==f.bigint?this.setByBigInteger(f.bigint):void 0!==f.int?this.setByInteger(f.int):"number"==typeof f?this.setByInteger(f):void 0!==f.hex&&this.setValueHex(f.hex))},Kt(N.asn1.DERInteger,N.asn1.ASN1Object),N.asn1.DERBitString=function(f){if(void 0!==f&&void 0!==f.obj){var v=N.asn1.ASN1Util.newObject(f.obj);f.hex="00"+v.tohex()}N.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(_){this.hTLV=null,this.isModified=!0,this.hV=_},this.setUnusedBitsAndHexValue=function(_,A){if(_<0||7<_)throw"unused bits shall be from 0 to 7: u = "+_;var j="0"+_;this.hTLV=null,this.isModified=!0,this.hV=j+A},this.setByBinaryString=function(_){var A=8-(_=_.replace(/0+$/,"")).length%8;8==A&&(A=0),_+="0000000".substr(0,A);for(var j="",V=0;V<_.length-1;V+=8){var G=_.substr(V,8),Z=parseInt(G,2).toString(16);1==Z.length&&(Z="0"+Z),j+=Z}this.hTLV=null,this.isModified=!0,this.hV="0"+A+j},this.setByBooleanArray=function(_){for(var A="",j=0;j<_.length;j++)A+=1==_[j]?"1":"0";this.setByBinaryString(A)},this.newFalseArray=function(_){for(var A=new Array(_),j=0;j<_;j++)A[j]=!1;return A},this.getFreshValueHex=function(){return this.hV},void 0!==f&&("string"==typeof f&&f.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(f):void 0!==f.hex?this.setHexValueIncludingUnusedBits(f.hex):void 0!==f.bin?this.setByBinaryString(f.bin):void 0!==f.array&&this.setByBooleanArray(f.array))},Kt(N.asn1.DERBitString,N.asn1.ASN1Object),N.asn1.DEROctetString=function(f){if(void 0!==f&&void 0!==f.obj){var v=N.asn1.ASN1Util.newObject(f.obj);f.hex=v.tohex()}N.asn1.DEROctetString.superclass.constructor.call(this,f),this.hT="04"},Kt(N.asn1.DEROctetString,N.asn1.DERAbstractString),N.asn1.DERNull=function(){N.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Kt(N.asn1.DERNull,N.asn1.ASN1Object),N.asn1.DERObjectIdentifier=function(f){N.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.setValueOidString=function(v){var _=function ll(f){var v=function(Z){var ie=Z.toString(16);return 1==ie.length&&(ie="0"+ie),ie},_=function(Z){var ie="",Se=parseInt(Z,10).toString(2),Ce=7-Se.length%7;7==Ce&&(Ce=0);for(var J="",X=0;X<Ce;X++)J+="0";for(Se=J+Se,X=0;X<Se.length-1;X+=7){var _e=Se.substr(X,7);X!=Se.length-7&&(_e="1"+_e),ie+=v(parseInt(_e,2))}return ie};try{if(!f.match(/^[0-9.]+$/))return null;var A="",j=f.split("."),V=40*parseInt(j[0],10)+parseInt(j[1],10);A+=v(V),j.splice(0,2);for(var G=0;G<j.length;G++)A+=_(j[G]);return A}catch(Z){return null}}(v);if(null==_)throw new Error("malformed oid string: "+v);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=_},this.setValueName=function(v){var _=N.asn1.x509.OID.name2oid(v);if(""===_)throw new Error("DERObjectIdentifier oidName undefined: "+v);this.setValueOidString(_)},this.setValueNameOrOid=function(v){v.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(v):this.setValueName(v)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(v){"string"==typeof v?this.setValueNameOrOid(v):void 0!==v.oid?this.setValueNameOrOid(v.oid):void 0!==v.name?this.setValueNameOrOid(v.name):void 0!==v.hex&&this.setValueHex(v.hex)},void 0!==f&&this.setByParam(f)},Kt(N.asn1.DERObjectIdentifier,N.asn1.ASN1Object),N.asn1.DEREnumerated=function(f){N.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=N.asn1.ASN1Util.bigIntToMinTwosComplementsHex(v)},this.setByInteger=function(v){var _=new C(String(v),10);this.setByBigInteger(_)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},void 0!==f&&(void 0!==f.int?this.setByInteger(f.int):"number"==typeof f?this.setByInteger(f):void 0!==f.hex&&this.setValueHex(f.hex))},Kt(N.asn1.DEREnumerated,N.asn1.ASN1Object),N.asn1.DERUTF8String=function(f){N.asn1.DERUTF8String.superclass.constructor.call(this,f),this.hT="0c"},Kt(N.asn1.DERUTF8String,N.asn1.DERAbstractString),N.asn1.DERNumericString=function(f){N.asn1.DERNumericString.superclass.constructor.call(this,f),this.hT="12"},Kt(N.asn1.DERNumericString,N.asn1.DERAbstractString),N.asn1.DERPrintableString=function(f){N.asn1.DERPrintableString.superclass.constructor.call(this,f),this.hT="13"},Kt(N.asn1.DERPrintableString,N.asn1.DERAbstractString),N.asn1.DERTeletexString=function(f){N.asn1.DERTeletexString.superclass.constructor.call(this,f),this.hT="14"},Kt(N.asn1.DERTeletexString,N.asn1.DERAbstractString),N.asn1.DERIA5String=function(f){N.asn1.DERIA5String.superclass.constructor.call(this,f),this.hT="16"},Kt(N.asn1.DERIA5String,N.asn1.DERAbstractString),N.asn1.DERVisibleString=function(f){N.asn1.DERIA5String.superclass.constructor.call(this,f),this.hT="1a"},Kt(N.asn1.DERVisibleString,N.asn1.DERAbstractString),N.asn1.DERBMPString=function(f){N.asn1.DERBMPString.superclass.constructor.call(this,f),this.hT="1e"},Kt(N.asn1.DERBMPString,N.asn1.DERAbstractString),N.asn1.DERUTCTime=function(f){N.asn1.DERUTCTime.superclass.constructor.call(this,f),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var v=this.params;if(null==this.params&&(v={date:new Date}),"string"==typeof v){if(!v.match(/^[0-9]{12}Z$/)&&!v.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+v);this.hV=oo(v)}else if(null!=v.str)this.hV=oo(v.str);else if(null==v.date&&1==v.millis){var _=new Date;this.hV=oo(this.formatDate(_,"utc",!0))}else null!=v.date&&v.date instanceof Date?this.hV=oo(this.formatDate(v.date,"utc",!0===v.millis)):v instanceof Date&&(this.hV=oo(this.formatDate(v,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=f&&this.setByParam(f)},Kt(N.asn1.DERUTCTime,N.asn1.DERAbstractTime),N.asn1.DERGeneralizedTime=function(f){N.asn1.DERGeneralizedTime.superclass.constructor.call(this,f),this.hT="18",this.params=f,this.getFreshValueHex=function(){var v=this.params;if(null==this.params&&(v={date:new Date}),"string"==typeof v){if(!v.match(/^[0-9]{14}Z$/)&&!v.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+v);this.hV=oo(v)}else if(null!=v.str)this.hV=oo(v.str);else if(null==v.date&&1==v.millis){var _=new Date;this.hV=oo(this.formatDate(_,"gen",!0))}else null!=v.date&&v.date instanceof Date?this.hV=oo(this.formatDate(v.date,"gen",!0===v.millis)):v instanceof Date&&(this.hV=oo(this.formatDate(v,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=f&&this.setByParam(f)},Kt(N.asn1.DERGeneralizedTime,N.asn1.DERAbstractTime),N.asn1.DERSequence=function(f){N.asn1.DERSequence.superclass.constructor.call(this,f),this.hT="30",this.getFreshValueHex=function(){for(var v="",_=0;_<this.asn1Array.length;_++)v+=this.asn1Array[_].tohex();return this.hV=v,this.hV}},Kt(N.asn1.DERSequence,N.asn1.DERAbstractStructured),N.asn1.DERSet=function(f){N.asn1.DERSet.superclass.constructor.call(this,f),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var v=new Array,_=0;_<this.asn1Array.length;_++)v.push(this.asn1Array[_].tohex());return 1==this.sortFlag&&v.sort(),this.hV=v.join(""),this.hV},void 0!==f&&void 0!==f.sortflag&&0==f.sortflag&&(this.sortFlag=!1)},Kt(N.asn1.DERSet,N.asn1.DERAbstractStructured),N.asn1.DERTaggedObject=function(f){N.asn1.DERTaggedObject.superclass.constructor.call(this);var v=N.asn1,A=dn.getV,V=v.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(G,Z,ie){this.params={tag:Z,explicit:G,obj:ie}},this.getFreshValueHex=function(){var G=this.params;if(null==G.explicit&&(G.explicit=!0),null!=G.tage&&(G.tag=G.tage,G.explicit=!0),null!=G.tagi&&(G.tag=G.tagi,G.explicit=!1),null!=G.str)this.hV=Es(G.str);else if(null!=G.hex)this.hV=G.hex;else{if(null==G.obj)throw new Error("str, hex nor obj not specified");var Z;G.obj instanceof v.ASN1Object?Z=G.obj.tohex():"object"==typeof G.obj&&(Z=V(G.obj).tohex()),this.hV=G.explicit?Z:A(Z,0)}return null==G.tag&&(G.tag="a0"),this.hT=G.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(G){this.params=G},void 0!==f&&this.setByParam(f)},Kt(N.asn1.DERTaggedObject,N.asn1.ASN1Object);var N,xs,Pr,dn=new function(){};function vi(f){for(var v="",_=0;_<f.length;_++){var A=f[_].toString(16);1==A.length&&(A="0"+A),v+=A}return v}function oo(f){return vi(function du(f){for(var v=new Array,_=0;_<f.length;_++)v[_]=f.charCodeAt(_);return v}(f))}function ha(f){return(f=(f=f.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ol(f){return f.length%4==2?f+="==":f.length%4==3&&(f+="="),(f=f.replace(/-/g,"+")).replace(/_/g,"/")}function Ri(f){return f.length%2==1&&(f="0"+f),ha(b(f))}function ei(f){return S(ol(f))}function Es(f){return hu(al(f)).toLowerCase()}function ar(f){try{return decodeURIComponent(Pi(f))}catch(v){return null}}function jh(f){return ar(function Vd(f){for(var v=f.match(/.{1,2}/g),_=[],A=0;A<v.length;A++){var j=parseInt(v[A],16);161<=j&&j<=191?(_.push("c2"),_.push(v[A])):192<=j&&j<=255?(_.push("c3"),_.push((j-64).toString(16))):_.push(v[A])}return _.join("")}(f))}function Wi(f){for(var v="",_=0;_<f.length-1;_+=2)v+=String.fromCharCode(parseInt(f.substr(_,2),16));return v}function gt(f){for(var v="",_=0;_<f.length;_++)v+=("0"+f.charCodeAt(_).toString(16)).slice(-2);return v}function Ee(f){var _=function oe(f){return b(f)}(f).replace(/(.{64})/g,"$1\r\n");return _.replace(/\r\n$/,"")}function zt(f,v){return"-----BEGIN "+v+"-----\r\n"+Ee(f)+"\r\n-----END "+v+"-----\r\n"}function sn(f,v){if(-1==f.indexOf("-----BEGIN "))throw"can't find PEM header: "+v;return function mt(f){return S(f.replace(/[^0-9A-Za-z\/+=]*/g,""))}(f=void 0!==v?(f=f.replace(new RegExp("^[^]*-----BEGIN "+v+"-----"),"")).replace(new RegExp("-----END "+v+"-----[^]*$"),""):(f=f.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function sl(f){return Math.round(function $i(f){var v,_,A,j,V,G,Z,he,Se,Ce,J;if(J=f.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return he=J[1],v=parseInt(he),2===he.length&&(50<=v&&v<100?v=1900+v:0<=v&&v<50&&(v=2e3+v)),_=parseInt(J[2])-1,A=parseInt(J[3]),j=parseInt(J[4]),V=parseInt(J[5]),G=parseInt(J[6]),Z=0,""!==(Se=J[7])&&(Ce=(Se.substr(1)+"00").substr(0,3),Z=parseInt(Ce)),Date.UTC(v,_,A,j,V,G,Z);throw new Error("unsupported zulu format: "+f)}(f)/1e3)}function hu(f){return f.replace(/%/g,"")}function Pi(f){return f.replace(/(..)/g,"%$1")}function Ws(f){var v="malformed IPv6 address";if(!f.match(/^[0-9A-Fa-f:]+$/))throw v;var _=(f=f.toLowerCase()).split(":").length-1;if(_<2)throw v;var A=":".repeat(7-_+2),j=(f=f.replace("::",A)).split(":");if(8!=j.length)throw v;for(var V=0;V<8;V++)j[V]=("0000"+j[V]).slice(-4);return j.join("")}function ti(f){if(!f.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+f);var v=(f=f.toLowerCase()).match(/.{1,4}/g);v=v.map(function(j){return j.replace(/^0+/,"")}),v=v.map(function(j){return""==j?"0":j});var _=(f=":"+v.join(":")+":").match(/:(0:){2,}/g);if(null==_)return f.slice(1,-1);var A=_.sort().slice(-1)[0];return"::"!=(f=f.replace(A.substr(0,A.length-1),":")).substr(0,2)&&(f=f.substr(1)),"::"!=f.substr(-2,2)&&(f=f.substr(0,f.length-1)),f}function Sc(f){var v=new Error("malformed hex value");if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw v;if(8==f.length)try{return parseInt(f.substr(0,2),16)+"."+parseInt(f.substr(2,2),16)+"."+parseInt(f.substr(4,2),16)+"."+parseInt(f.substr(6,2),16)}catch(A){throw v}else{if(16!=f.length){if(32==f.length)return ti(f);if(64==f.length){try{return ti(f.substr(0,32))+"/"+Gh(f.substr(32))}catch(A){throw v}return}return f}try{return Sc(f.substr(0,8))+"/"+Gh(f.substr(8))}catch(A){throw v}}}function Gh(f){var _,v=new Error("malformed mask");try{_=new C(f,16).toString(2)}catch(A){throw v}if(!_.match(/^1*0*$/))throw v;return _.replace(/0+$/,"").length}function pu(f){var v=new Error("malformed IP address");if(!(f=f.toLowerCase(f)).match(/^[0-9a-f.:/]+$/))throw v;if(!f.match(/^[0-9.]+$/)){var G;if(f.match(/^[0-9.]+\/[0-9]+$/))return pu((G=f.split("/"))[0])+zh(parseInt(G[1]),32);if(f.match(/^[0-9a-f:]+$/)&&-1!==f.indexOf(":"))return Ws(f);if(f.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==f.indexOf(":"))return Ws((G=f.split("/"))[0])+zh(parseInt(G[1]),128);throw v}var _=f.split(".");if(4!==_.length)throw v;var A="";try{for(var j=0;j<4;j++)A+=("0"+parseInt(_[j]).toString(16)).slice(-2);return A}catch(Z){throw v}}function zh(f,v){return 32==v&&0==f?"00000000":128==v&&0==f?"00000000000000000000000000000000":new C(Array(f+1).join("1")+Array(v-f+1).join("0"),2).toString(16)}function Nl(f){var A=f.match(/.{4}/g).map(function v(j){var V=parseInt(j.substr(0,2),16),G=parseInt(j.substr(2),16);if(0==V&G<128)return String.fromCharCode(G);if(V<8){var ie=128|63&G;return ar((192|(7&V)<<3|(192&G)>>6).toString(16)+ie.toString(16))}ie=128|(15&V)<<2|(192&G)>>6;var he=128|63&G;return ar((224|(240&V)>>4).toString(16)+ie.toString(16)+he.toString(16))});return A.join("")}function al(f){for(var v=encodeURIComponent(f),_="",A=0;A<v.length;A++)"%"==v[A]?(_+=v.substr(A,3),A+=2):_=_+"%"+oo(v[A]);return _}function ma(f){return!(f.length%2!=0||!f.match(/^[0-9a-f]+$/)&&!f.match(/^[0-9A-F]+$/))}function Bl(f){return!!f.match(/^[0-9A-Za-z-_.]+$/)}function Ul(f){return f.length%2==1?"0"+f:f.substr(0,1)>"7"?"00"+f:f}function gu(f){if(!ma(f))return null;try{var v=[],_=f.substr(0,2),A=parseInt(_,16);v[0]=new String(Math.floor(A/40)),v[1]=new String(A%40);for(var j=f.substr(2),V=[],G=0;G<j.length/2;G++)V.push(parseInt(j.substr(2*G,2),16));var Z=[],ie="";for(G=0;G<V.length;G++)128&V[G]?ie+=mu((127&V[G]).toString(2),7):(ie+=mu((127&V[G]).toString(2),7),Z.push(new String(parseInt(ie,2))),ie="");var he=v.join(".");return Z.length>0&&(he=he+"."+Z.join(".")),he}catch(Se){return null}}dn.getLblen=function(f,v){if("8"!=f.substr(v+2,1))return 1;var _=parseInt(f.substr(v+3,1));return 0==_?-1:0<_&&_<10?_+1:-2},dn.getL=function(f,v){var _=dn.getLblen(f,v);return _<1?"":f.substr(v+2,2*_)},dn.getVblen=function(f,v){var _;return""==(_=dn.getL(f,v))?-1:("8"===_.substr(0,1)?new C(_.substr(2),16):new C(_,16)).intValue()},dn.getVidx=function(f,v){var _=dn.getLblen(f,v);return _<0?_:v+2*(_+1)},dn.getV=function(f,v){var _=dn.getVidx(f,v),A=dn.getVblen(f,v);return f.substr(_,2*A)},dn.getTLV=function(f,v){return f.substr(v,2)+dn.getL(f,v)+dn.getV(f,v)},dn.getTLVblen=function(f,v){return 2+2*dn.getLblen(f,v)+2*dn.getVblen(f,v)},dn.getNextSiblingIdx=function(f,v){return dn.getVidx(f,v)+2*dn.getVblen(f,v)},dn.getChildIdx=function(f,v){var j,V,G,_=dn,A=[];j=_.getVidx(f,v),V=2*_.getVblen(f,v),"03"==f.substr(v,2)&&(j+=2,V-=2),G=0;for(var Z=j;G<=V;){var ie=_.getTLVblen(f,Z);if((G+=ie)<=V&&A.push(Z),Z+=ie,G>=V)break}return A},dn.getNthChildIdx=function(f,v,_){return dn.getChildIdx(f,v)[_]},dn.getIdxbyList=function(f,v,_,A){var V,G,j=dn;return 0==_.length?void 0!==A&&f.substr(v,2)!==A?-1:v:(V=_.shift())>=(G=j.getChildIdx(f,v)).length?-1:j.getIdxbyList(f,G[V],_,A)},dn.getIdxbyListEx=function(f,v,_,A){var V,G,j=dn;if(0==_.length)return void 0!==A&&f.substr(v,2)!==A?-1:v;V=_.shift(),G=j.getChildIdx(f,v);for(var Z=0,ie=0;ie<G.length;ie++){var he=f.substr(G[ie],2);if("number"==typeof V&&!j.isContextTag(he)&&Z==V||"string"==typeof V&&j.isContextTag(he,V))return j.getIdxbyListEx(f,G[ie],_,A);j.isContextTag(he)||Z++}return-1},dn.getTLVbyList=function(f,v,_,A){var j=dn,V=j.getIdxbyList(f,v,_,A);return-1==V||V>=f.length?null:j.getTLV(f,V)},dn.getTLVbyListEx=function(f,v,_,A){var j=dn,V=j.getIdxbyListEx(f,v,_,A);return-1==V?null:j.getTLV(f,V)},dn.getVbyList=function(f,v,_,A,j){var G,Z,V=dn;return-1==(G=V.getIdxbyList(f,v,_,A))||G>=f.length?null:(Z=V.getV(f,G),!0===j&&(Z=Z.substr(2)),Z)},dn.getVbyListEx=function(f,v,_,A,j){var G,ie,V=dn;return-1==(G=V.getIdxbyListEx(f,v,_,A))?null:(ie=V.getV(f,G),"03"==f.substr(G,2)&&!1!==j&&(ie=ie.substr(2)),ie)},dn.getInt=function(f,v,_){null==_&&(_=-1);try{var A=f.substr(v,2);if("02"!=A&&"03"!=A)return _;var j=dn.getV(f,v);return"02"==A?parseInt(j,16):function jl(f){if(f.length%2!=0||null==(f=f.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var v=f.substr(0,2);if("00"==v)return parseInt(f.substr(2),16);var _=parseInt(v,16);if(_>7)return-1;var A=f.substr(2),j=parseInt(A,16).toString(2);"0"==j&&(j="00000000"),j=j.slice(0,0-_);var V=parseInt(j,2);return NaN==V?-1:V}catch(G){return-1}}(j)}catch(V){return _}},dn.getOID=function(f,v,_){null==_&&(_=null);try{return"06"!=f.substr(v,2)?_:gu(dn.getV(f,v))}catch(j){return _}},dn.getOIDName=function(f,v,_){null==_&&(_=null);try{var A=dn.getOID(f,v,_);if(A==_)return _;var j=N.asn1.x509.OID.oid2name(A);return""==j?A:j}catch(V){return _}},dn.getString=function(f,v,_){null==_&&(_=null);try{return Wi(dn.getV(f,v))}catch(j){return _}},dn.hextooidstr=function(f){var v=function(Ce,J){return Ce.length>=J?Ce:new Array(J-Ce.length+1).join("0")+Ce},_=[],A=f.substr(0,2),j=parseInt(A,16);_[0]=new String(Math.floor(j/40)),_[1]=new String(j%40);for(var V=f.substr(2),G=[],Z=0;Z<V.length/2;Z++)G.push(parseInt(V.substr(2*Z,2),16));var ie=[],he="";for(Z=0;Z<G.length;Z++)128&G[Z]?he+=v((127&G[Z]).toString(2),7):(he+=v((127&G[Z]).toString(2),7),ie.push(new String(parseInt(he,2))),he="");var Se=_.join(".");return ie.length>0&&(Se=Se+"."+ie.join(".")),Se},dn.dump=function(f,v,_,A){var j=dn,V=j.getV,G=j.dump,Z=j.getChildIdx,ie=f;f instanceof N.asn1.ASN1Object&&(ie=f.tohex());var he=function(jt,Oe){return jt.length<=2*Oe?jt:jt.substr(0,Oe)+"..(total "+jt.length/2+"bytes).."+jt.substr(jt.length-Oe,Oe)};void 0===v&&(v={ommit_long_octet:32}),void 0===_&&(_=0),void 0===A&&(A="");var st,Se=v.ommit_long_octet;if("01"==(st=ie.substr(_,2)))return"00"==(Ce=V(ie,_))?A+"BOOLEAN FALSE\n":A+"BOOLEAN TRUE\n";if("02"==st)return A+"INTEGER "+he(Ce=V(ie,_),Se)+"\n";if("03"==st){var Ce=V(ie,_);return j.isASN1HEX(Ce.substr(2))?(J=A+"BITSTRING, encapsulates\n")+G(Ce.substr(2),v,0,A+"  "):A+"BITSTRING "+he(Ce,Se)+"\n"}if("04"==st)return Ce=V(ie,_),j.isASN1HEX(Ce)?(J=A+"OCTETSTRING, encapsulates\n")+G(Ce,v,0,A+"  "):A+"OCTETSTRING "+he(Ce,Se)+"\n";if("05"==st)return A+"NULL\n";if("06"==st){var X=V(ie,_),_e=N.asn1.ASN1Util.oidHexToInt(X),se=N.asn1.x509.OID.oid2name(_e),Ae=_e.replace(/\./g," ");return""!=se?A+"ObjectIdentifier "+se+" ("+Ae+")\n":A+"ObjectIdentifier ("+Ae+")\n"}if("0a"==st)return A+"ENUMERATED "+parseInt(V(ie,_))+"\n";if("0c"==st)return A+"UTF8String '"+ar(V(ie,_))+"'\n";if("13"==st)return A+"PrintableString '"+ar(V(ie,_))+"'\n";if("14"==st)return A+"TeletexString '"+ar(V(ie,_))+"'\n";if("16"==st)return A+"IA5String '"+ar(V(ie,_))+"'\n";if("17"==st)return A+"UTCTime "+ar(V(ie,_))+"\n";if("18"==st)return A+"GeneralizedTime "+ar(V(ie,_))+"\n";if("1a"==st)return A+"VisualString '"+ar(V(ie,_))+"'\n";if("1e"==st)return A+"BMPString '"+Nl(V(ie,_))+"'\n";if("30"==st){if("3000"==ie.substr(_,4))return A+"SEQUENCE {}\n";J=A+"SEQUENCE\n";var Be=v;if((2==(ge=Z(ie,_)).length||3==ge.length)&&"06"==ie.substr(ge[0],2)&&"04"==ie.substr(ge[ge.length-1],2)){se=j.oidname(V(ie,ge[0]));var Je=JSON.parse(JSON.stringify(v));Je.x509ExtName=se,Be=Je}for(var at=0;at<ge.length;at++)J+=G(ie,Be,ge[at],A+"  ");return J}if("31"==st){J=A+"SET\n";var ge=Z(ie,_);for(at=0;at<ge.length;at++)J+=G(ie,v,ge[at],A+"  ");return J}if(0!=(128&(st=parseInt(st,16)))){var J,kt=31&st;if(0!=(32&st)){for(J=A+"["+kt+"]\n",ge=Z(ie,_),at=0;at<ge.length;at++)J+=G(ie,v,ge[at],A+"  ");return J}return Ce=V(ie,_),dn.isASN1HEX(Ce)?(J=A+"["+kt+"]\n")+G(Ce,v,0,A+"  "):(("68747470"==Ce.substr(0,8)||"subjectAltName"===v.x509ExtName&&2==kt)&&(Ce=ar(Ce)),A+"["+kt+"] "+Ce+"\n")}return A+"UNKNOWN("+st+") "+V(ie,_)+"\n"},dn.parse=function(f){var _=dn.parse,A=dn.isASN1HEX,j=dn.getV,V=dn.getTLV,G=dn.getChildIdx,Z=N.asn1,ie=Z.ASN1Util.oidHexToInt,he=Z.x509.OID.oid2name,Se=ar,Ce=Nl,J=jh,X={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},se=f.substr(0,2),Ae={},ge=j(f,0);if("01"==se)return"0101ff"==f?{bool:!0}:{bool:!1};if("02"==se)return{int:{hex:ge}};if("03"==se)try{if("00"!=ge.substr(0,2))throw"not encap";var Be=ge.substr(2);if(!A(Be))throw"not encap";return{bitstr:{obj:_(Be)}}}catch(je){var Je=null;return ge.length<=10&&(Je=function Tc(f){if("string"!=typeof f||f.length%2!=0||!f.match(/^[0-9a-f]+$/))return null;try{var v=parseInt(f.substr(0,2),16);if(v<0||7<v)return null;for(var _=f.substr(2),A="",j=0;j<_.length;j+=2){var V=_.substr(j,2),G=parseInt(V,16).toString(2);A+=G=("0000000"+G).slice(-8)}return A.substr(0,A.length-v)}catch(Z){return null}}(ge)),null==Je?{bitstr:{hex:ge}}:{bitstr:{bin:Je}}}else if("04"==se)try{if(!A(ge))throw"not encap";return{octstr:{obj:_(ge)}}}catch(je){return{octstr:{hex:ge}}}else{if("05"==se)return{null:""};if("06"==se){var at=ie(ge),st=he(at);return""==st?{oid:at}:{oid:st}}if("0a"==se)return ge.length>4?{enum:{hex:ge}}:{enum:parseInt(ge,16)};if("30"==se||"31"==se)return Ae[X[se]]=function(je){for(var ut=[],pt=G(je,0),Et=0;Et<pt.length;Et++){var bt=V(je,pt[Et]),St=_(bt);ut.push(St)}return ut}(f),Ae;if("14"==se){var kt=J(ge);return Ae[X[se]]={str:kt},Ae}if("1e"==se)return kt=Ce(ge),Ae[X[se]]={str:kt},Ae;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(se))return kt=Se(ge),Ae[X[se]]={str:kt},Ae;if(se.match(/^8[0-9]$/))return null==(kt=Se(ge))|""==kt||null!=kt.match(/[\x00-\x1F\x7F-\x9F]/)||null!=kt.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:se,explicit:!1,hex:ge}}:{tag:{tag:se,explicit:!1,str:kt}};if(!se.match(/^a[0-9]$/)){var jt=new N.asn1.ASN1Object;return jt.hV=ge,{asn1:{tlv:se+jt.getLengthHexFromValue()+ge}}}try{if(!A(ge))throw new Error("not encap");return{tag:{tag:se,explicit:!0,obj:_(ge)}}}catch(je){return{tag:{tag:se,explicit:!0,hex:ge}}}}},dn.isContextTag=function(f,v){var _,A;f=f.toLowerCase();try{_=parseInt(f,16)}catch(V){return-1}if(void 0===v)return 128==(192&_);try{return!(null==v.match(/^\[[0-9]+\]$/)||(A=parseInt(v.substr(1,v.length-1),10),A>31))&&128==(192&_)&&(31&_)==A}catch(V){return!1}},dn.isASN1HEX=function(f){var v=dn;if(f.length%2==1)return!1;var _=v.getVblen(f,0),A=f.substr(0,2),j=v.getL(f,0);return f.length-A.length-j.length==2*_},dn.checkStrictDER=function(f,v,_,A,j){var V=dn;if(void 0===_){if("string"!=typeof f)throw new Error("not hex string");if(f=f.toLowerCase(),!N.lang.String.isHex(f))throw new Error("not hex string");_=f.length,j=(A=f.length/2)<128?1:Math.ceil(A.toString(16))+1}if(V.getL(f,v).length>2*j)throw new Error("L of TLV too long: idx="+v);var Z=V.getVblen(f,v);if(Z>A)throw new Error("value of L too long than hex: idx="+v);var ie=V.getTLV(f,v),he=ie.length-2-V.getL(f,v).length;if(he!==2*Z)throw new Error("V string length and L's value not the same:"+he+"/"+2*Z);if(0===v&&f.length!=ie.length)throw new Error("total length and TLV length unmatch:"+f.length+"!="+ie.length);var Se=f.substr(v,2);if("02"===Se){var Ce=V.getVidx(f,v);if("00"==f.substr(Ce,2)&&f.charCodeAt(Ce+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Se,16)){for(var J=V.getVblen(f,v),X=0,_e=V.getChildIdx(f,v),se=0;se<_e.length;se++)X+=V.getTLV(f,_e[se]).length,V.checkStrictDER(f,_e[se],_,A,j);if(2*J!=X)throw new Error("sum of children's TLV length and L unmatch: "+2*J+"!="+X)}},dn.oidname=function(f){var v=N.asn1;N.lang.String.isHex(f)&&(f=v.ASN1Util.oidHexToInt(f));var _=v.x509.OID.oid2name(f);return""===_&&(_=f),_},(void 0===N||!N)&&(N={}),(void 0===N.asn1||!N.asn1)&&(N.asn1={}),(void 0===N.asn1.x509||!N.asn1.x509)&&(N.asn1.x509={}),N.asn1.x509.Certificate=function(f){N.asn1.x509.Certificate.superclass.constructor.call(this);var _=N.asn1,A=_.DERBitString,j=_.DERSequence,V=_.x509,G=V.TBSCertificate,Z=V.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(ie){this.params=ie},this.sign=function(){var ie=this.params,he=ie.sigalg;null!=ie.sigalg.name&&(he=ie.sigalg.name);var Se=ie.tbsobj.tohex(),Ce=new N.crypto.Signature({alg:he});Ce.init(ie.cakey),Ce.updateHex(Se),ie.sighex=Ce.sign()},this.getPEM=function(){return zt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var ie=this.params;if((null==ie.tbsobj||null==ie.tbsobj)&&(ie.tbsobj=new G(ie)),null==ie.sighex&&null!=ie.cakey&&this.sign(),null==ie.sighex)throw new Error("sighex or cakey parameter not defined");var he=[];return he.push(ie.tbsobj),he.push(new Z({name:ie.sigalg})),he.push(new A({hex:"00"+ie.sighex})),new j({array:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&(this.params=f)},Kt(N.asn1.x509.Certificate,N.asn1.ASN1Object),N.asn1.x509.TBSCertificate=function(f){N.asn1.x509.TBSCertificate.superclass.constructor.call(this);var _=N.asn1,A=_.x509,j=_.DERTaggedObject,V=_.DERInteger,G=_.DERSequence,Z=A.AlgorithmIdentifier,ie=A.Time,he=A.X500Name,Se=A.Extensions,Ce=A.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(J){this.params=J},this.tohex=function(){var J=[],X=this.params;if(null!=X.version||1!=X.version){var _e=2;null!=X.version&&(_e=X.version-1);var se=new j({obj:new V({int:_e})});J.push(se)}return J.push(new V(X.serial)),J.push(new Z({name:X.sigalg})),J.push(new he(X.issuer)),J.push(new G({array:[new ie(X.notbefore),new ie(X.notafter)]})),J.push(new he(X.subject)),J.push(new Ce(fr.getKey(X.sbjpubkey))),void 0!==X.ext&&X.ext.length>0&&J.push(new j({tag:"a3",obj:new Se(X.ext)})),new N.asn1.DERSequence({array:J}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.TBSCertificate,N.asn1.ASN1Object),N.asn1.x509.Extensions=function(f){N.asn1.x509.Extensions.superclass.constructor.call(this);var _=N.asn1,A=_.DERSequence,j=_.x509;this.aParam=[],this.setByParam=function(V){this.aParam=V},this.tohex=function(){for(var V=[],G=0;G<this.aParam.length;G++){var Z=this.aParam[G],ie=Z.extname,he=null;if(null!=Z.extn)he=new j.PrivateExtension(Z);else if("subjectKeyIdentifier"==ie)he=new j.SubjectKeyIdentifier(Z);else if("keyUsage"==ie)he=new j.KeyUsage(Z);else if("subjectAltName"==ie)he=new j.SubjectAltName(Z);else if("issuerAltName"==ie)he=new j.IssuerAltName(Z);else if("basicConstraints"==ie)he=new j.BasicConstraints(Z);else if("nameConstraints"==ie)he=new j.NameConstraints(Z);else if("cRLDistributionPoints"==ie)he=new j.CRLDistributionPoints(Z);else if("certificatePolicies"==ie)he=new j.CertificatePolicies(Z);else if("policyMappings"==ie)he=new j.PolicyMappings(Z);else if("policyConstraints"==ie)he=new j.PolicyConstraints(Z);else if("inhibitAnyPolicy"==ie)he=new j.InhibitAnyPolicy(Z);else if("authorityKeyIdentifier"==ie)he=new j.AuthorityKeyIdentifier(Z);else if("extKeyUsage"==ie)he=new j.ExtKeyUsage(Z);else if("authorityInfoAccess"==ie)he=new j.AuthorityInfoAccess(Z);else if("cRLNumber"==ie)he=new j.CRLNumber(Z);else if("cRLReason"==ie)he=new j.CRLReason(Z);else if("ocspNonce"==ie)he=new j.OCSPNonce(Z);else if("ocspNoCheck"==ie)he=new j.OCSPNoCheck(Z);else if("adobeTimeStamp"==ie)he=new j.AdobeTimeStamp(Z);else{if("subjectDirectoryAttributes"!=ie)throw new Error("extension not supported:"+JSON.stringify(Z));he=new j.SubjectDirectoryAttributes(Z)}null!=he&&V.push(he)}return new A({array:V}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.x509.Extensions,N.asn1.ASN1Object),N.asn1.x509.Extension=function(f){N.asn1.x509.Extension.superclass.constructor.call(this);var A=N.asn1,j=A.DERObjectIdentifier,V=A.DEROctetString,Z=A.DERBoolean,ie=A.DERSequence;this.tohex=function(){var he=new j({oid:this.oid}),Se=new V({hex:this.getExtnValueHex()}),Ce=new Array;return Ce.push(he),this.critical&&Ce.push(new Z),Ce.push(Se),new ie({array:Ce}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==f&&void 0!==f.critical&&(this.critical=f.critical)},Kt(N.asn1.x509.Extension,N.asn1.ASN1Object),N.asn1.x509.KeyUsage=function(f){N.asn1.x509.KeyUsage.superclass.constructor.call(this,f);var v=Error,_={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var A=this.getBinValue();return this.asn1ExtnValue=new N.asn1.DERBitString({bin:A}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var A=this.params;if("object"!=typeof A||"object"!=typeof A.names&&"string"!=typeof A.bin)throw new v("parameter not yet set");if(null!=A.names)return Wh(A.names,_);if(null!=A.bin)return A.bin;throw new v("parameter not set properly")},this.oid="2.5.29.15",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.KeyUsage,N.asn1.x509.Extension),N.asn1.x509.BasicConstraints=function(f){N.asn1.x509.BasicConstraints.superclass.constructor.call(this,f);var v=N.asn1,_=v.DERBoolean,A=v.DERInteger,j=v.DERSequence;this.getExtnValueHex=function(){var Z=new Array;this.cA&&Z.push(new _),this.pathLen>-1&&Z.push(new A({int:this.pathLen}));var ie=new j({array:Z});return this.asn1ExtnValue=ie,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==f&&(void 0!==f.cA&&(this.cA=f.cA),void 0!==f.pathLen&&(this.pathLen=f.pathLen))},Kt(N.asn1.x509.BasicConstraints,N.asn1.x509.Extension),N.asn1.x509.CRLDistributionPoints=function(f){N.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,f);var _=N.asn1,A=_.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(j){for(var V=[],G=0;G<j.length;G++)if(j[G]instanceof N.asn1.ASN1Object)V.push(j[G]);else{var Z=new A.DistributionPoint(j[G]);V.push(Z)}this.asn1ExtnValue=new _.DERSequence({array:V})},this.setByOneURI=function(j){var V=new A.DistributionPoint({fulluri:j});this.setByDPArray([V])},this.oid="2.5.29.31",void 0!==f&&(void 0!==f.array?this.setByDPArray(f.array):void 0!==f.uri&&this.setByOneURI(f.uri))},Kt(N.asn1.x509.CRLDistributionPoints,N.asn1.x509.Extension),N.asn1.x509.DistributionPoint=function(f){N.asn1.x509.DistributionPoint.superclass.constructor.call(this);var A=N.asn1,j=A.x509.DistributionPointName;this.tohex=function(){var V=new A.DERSequence;if(null!=this.asn1DP){var G=new A.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});V.appendASN1Object(G)}return this.hTLV=V.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(void 0!==f.dpobj?this.asn1DP=f.dpobj:void 0!==f.dpname?this.asn1DP=new j(f.dpname):void 0!==f.fulluri&&(this.asn1DP=new j({full:[{uri:f.fulluri}]})))},Kt(N.asn1.x509.DistributionPoint,N.asn1.ASN1Object),N.asn1.x509.DistributionPointName=function(f){N.asn1.x509.DistributionPointName.superclass.constructor.call(this);var G=N.asn1,Z=G.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new Z({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f)if(G.x509.GeneralNames.prototype.isPrototypeOf(f))this.type="full",this.tag="a0",this.asn1V=f;else{if(void 0===f.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new G.x509.GeneralNames(f.full)}},Kt(N.asn1.x509.DistributionPointName,N.asn1.ASN1Object),N.asn1.x509.CertificatePolicies=function(f){N.asn1.x509.CertificatePolicies.superclass.constructor.call(this,f);var _=N.asn1,j=_.DERSequence,V=_.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var G=[],Z=0;Z<this.params.array.length;Z++)G.push(new V(this.params.array[Z]));var ie=new j({array:G});return this.asn1ExtnValue=ie,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.CertificatePolicies,N.asn1.x509.Extension),N.asn1.x509.PolicyInformation=function(f){N.asn1.x509.PolicyInformation.superclass.constructor.call(this,f);var v=N.asn1,_=v.DERSequence,A=v.DERObjectIdentifier,j=v.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var V=[new A(this.params.policyoid)];if(void 0!==this.params.array){for(var G=[],Z=0;Z<this.params.array.length;Z++)G.push(new j(this.params.array[Z]));G.length>0&&V.push(new _({array:G}))}return new _({array:V}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(this.params=f)},Kt(N.asn1.x509.PolicyInformation,N.asn1.ASN1Object),N.asn1.x509.PolicyQualifierInfo=function(f){N.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,f);var v=N.asn1,_=v.DERSequence,A=v.DERIA5String,j=v.DERObjectIdentifier,V=v.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new _({array:[new j({oid:"1.3.6.1.5.5.7.2.1"}),new A({str:this.params.cps})]}).tohex():null!=this.params.unotice?new _({array:[new j({oid:"1.3.6.1.5.5.7.2.2"}),new V(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(this.params=f)},Kt(N.asn1.x509.PolicyQualifierInfo,N.asn1.ASN1Object),N.asn1.x509.UserNotice=function(f){N.asn1.x509.UserNotice.superclass.constructor.call(this,f);var v=N.asn1.DERSequence,A=N.asn1.x509.DisplayText,j=N.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var V=[];return void 0!==this.params.noticeref&&V.push(new j(this.params.noticeref)),void 0!==this.params.exptext&&V.push(new A(this.params.exptext)),new v({array:V}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(this.params=f)},Kt(N.asn1.x509.UserNotice,N.asn1.ASN1Object),N.asn1.x509.NoticeReference=function(f){N.asn1.x509.NoticeReference.superclass.constructor.call(this,f);var v=N.asn1.DERSequence,_=N.asn1.DERInteger,A=N.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var j=[];if(void 0!==this.params.org&&j.push(new A(this.params.org)),void 0!==this.params.noticenum){for(var V=[],G=this.params.noticenum,Z=0;Z<G.length;Z++)V.push(new _(G[Z]));j.push(new v({array:V}))}if(0==j.length)throw new Error("parameter is empty");return new v({array:j}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(this.params=f)},Kt(N.asn1.x509.NoticeReference,N.asn1.ASN1Object),N.asn1.x509.DisplayText=function(f){N.asn1.x509.DisplayText.superclass.constructor.call(this,f),this.hT="0c",void 0!==f&&("ia5"===f.type?this.hT="16":"vis"===f.type?this.hT="1a":"bmp"===f.type&&(this.hT="1e"))},Kt(N.asn1.x509.DisplayText,N.asn1.DERAbstractString),N.asn1.x509.PolicyMappings=function(f){N.asn1.x509.PolicyMappings.superclass.constructor.call(this,f);var j=N.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var V=this.params,G=[],Z=0;Z<V.array.length;Z++){var ie=V.array[Z];G.push({seq:[{oid:ie[0]},{oid:ie[1]}]})}return this.asn1ExtnValue=j({seq:G}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.PolicyMappings,N.asn1.x509.Extension),N.asn1.x509.PolicyConstraints=function(f){N.asn1.x509.PolicyConstraints.superclass.constructor.call(this,f);var j=N.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var V=this.params,G=[];return null!=V.reqexp&&G.push({tag:{tagi:"80",obj:{int:V.reqexp}}}),null!=V.inhibit&&G.push({tag:{tagi:"81",obj:{int:V.inhibit}}}),this.asn1ExtnValue=j({seq:G}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.PolicyConstraints,N.asn1.x509.Extension),N.asn1.x509.InhibitAnyPolicy=function(f){N.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,f);var j=N.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=j({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.InhibitAnyPolicy,N.asn1.x509.Extension),N.asn1.x509.NameConstraints=function(f){N.asn1.x509.NameConstraints.superclass.constructor.call(this,f);var _=N.asn1,j=_.ASN1Util.newObject,V=_.x509.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var G=this.params,Z=[];if(null!=G.permit&&null!=G.permit.length){for(var ie=[],he=0;he<G.permit.length;he++)ie.push(new V(G.permit[he]));Z.push({tag:{tagi:"a0",obj:{seq:ie}}})}if(null!=G.exclude&&null!=G.exclude.length){var Se=[];for(he=0;he<G.exclude.length;he++)Se.push(new V(G.exclude[he]));Z.push({tag:{tagi:"a1",obj:{seq:Se}}})}return this.asn1ExtnValue=j({seq:Z}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.NameConstraints,N.asn1.x509.Extension),N.asn1.x509.GeneralSubtree=function(f){N.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var v=N.asn1,A=v.x509.GeneralName,j=v.ASN1Util.newObject;this.params=null,this.setByParam=function(V){this.params=V},this.tohex=function(){var V=this.params,G=[new A(V)];return null!=V.min&&G.push({tag:{tagi:"80",obj:{int:V.min}}}),null!=V.max&&G.push({tag:{tagi:"81",obj:{int:V.max}}}),j({seq:G}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.GeneralSubtree,N.asn1.ASN1Object),N.asn1.x509.ExtKeyUsage=function(f){N.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,f);var _=N.asn1;this.setPurposeArray=function(A){this.asn1ExtnValue=new _.DERSequence;for(var j=0;j<A.length;j++){var V=new _.DERObjectIdentifier(A[j]);this.asn1ExtnValue.appendASN1Object(V)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==f&&void 0!==f.array&&this.setPurposeArray(f.array)},Kt(N.asn1.x509.ExtKeyUsage,N.asn1.x509.Extension),N.asn1.x509.AuthorityKeyIdentifier=function(f){N.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,f);var _=N.asn1,A=_.DERTaggedObject,j=_.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var G=new Array;this.asn1KID&&G.push(new A({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&G.push(new A({explicit:!1,tag:"a1",obj:new j([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&G.push(new A({explicit:!1,tag:"82",obj:this.asn1CertSN}));var Z=new _.DERSequence({array:G});return this.asn1ExtnValue=Z,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(G){if(void 0!==G.str||void 0!==G.hex)this.asn1KID=new N.asn1.DEROctetString(G);else if("object"==typeof G&&N.crypto.Util.isKey(G)||"string"==typeof G&&-1!=G.indexOf("BEGIN ")){var Z=G;"string"==typeof G&&(Z=fr.getKey(G));var ie=fr.getKeyID(Z);this.asn1KID=new N.asn1.DEROctetString({hex:ie})}},this.setCertIssuerByParam=function(G){void 0!==G.str||void 0!==G.ldapstr||void 0!==G.hex||void 0!==G.certsubject||void 0!==G.certissuer?this.asn1CertIssuer=new N.asn1.x509.X500Name(G):"string"==typeof G&&-1!=G.indexOf("BEGIN ")&&-1!=G.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new N.asn1.x509.X500Name({certissuer:G}))},this.setCertSNByParam=function(G){if(void 0!==G.str||void 0!==G.bigint||void 0!==G.hex)this.asn1CertSN=new N.asn1.DERInteger(G);else if("string"==typeof G&&-1!=G.indexOf("BEGIN ")&&G.indexOf("CERTIFICATE")){var Z=new Hn;Z.readCertPEM(G);var ie=Z.getSerialNumberHex();this.asn1CertSN=new N.asn1.DERInteger({hex:ie})}},this.oid="2.5.29.35",void 0!==f&&(void 0!==f.kid&&this.setKIDByParam(f.kid),void 0!==f.issuer&&this.setCertIssuerByParam(f.issuer),void 0!==f.sn&&this.setCertSNByParam(f.sn),void 0!==f.issuersn&&"string"==typeof f.issuersn&&-1!=f.issuersn.indexOf("BEGIN ")&&f.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(f.issuersn),this.setCertIssuerByParam(f.issuersn)))},Kt(N.asn1.x509.AuthorityKeyIdentifier,N.asn1.x509.Extension),N.asn1.x509.SubjectKeyIdentifier=function(f){N.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,f);var A=N.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(j){if(void 0!==j.str||void 0!==j.hex)this.asn1KID=new A(j);else if("object"==typeof j&&N.crypto.Util.isKey(j)||"string"==typeof j&&-1!=j.indexOf("BEGIN")){var V=j;"string"==typeof j&&(V=fr.getKey(j));var G=fr.getKeyID(V);this.asn1KID=new N.asn1.DEROctetString({hex:G})}},this.oid="2.5.29.14",void 0!==f&&void 0!==f.kid&&this.setKIDByParam(f.kid)},Kt(N.asn1.x509.SubjectKeyIdentifier,N.asn1.x509.Extension),N.asn1.x509.AuthorityInfoAccess=function(f){N.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,f),this.setAccessDescriptionArray=function(v){for(var _=new Array,j=N.asn1,V=j.DERSequence,G=j.DERObjectIdentifier,Z=j.x509.GeneralName,ie=0;ie<v.length;ie++){var he,Se=v[ie];if(void 0!==Se.ocsp)he=new V({array:[new G({oid:"1.3.6.1.5.5.7.48.1"}),new Z({uri:Se.ocsp})]});else{if(void 0===Se.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(Se));he=new V({array:[new G({oid:"1.3.6.1.5.5.7.48.2"}),new Z({uri:Se.caissuer})]})}_.push(he)}this.asn1ExtnValue=new V({array:_})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==f&&void 0!==f.array&&this.setAccessDescriptionArray(f.array)},Kt(N.asn1.x509.AuthorityInfoAccess,N.asn1.x509.Extension),N.asn1.x509.SubjectAltName=function(f){N.asn1.x509.SubjectAltName.superclass.constructor.call(this,f),this.setNameArray=function(v){this.asn1ExtnValue=new N.asn1.x509.GeneralNames(v)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==f&&void 0!==f.array&&this.setNameArray(f.array)},Kt(N.asn1.x509.SubjectAltName,N.asn1.x509.Extension),N.asn1.x509.IssuerAltName=function(f){N.asn1.x509.IssuerAltName.superclass.constructor.call(this,f),this.setNameArray=function(v){this.asn1ExtnValue=new N.asn1.x509.GeneralNames(v)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==f&&void 0!==f.array&&this.setNameArray(f.array)},Kt(N.asn1.x509.IssuerAltName,N.asn1.x509.Extension),N.asn1.x509.SubjectDirectoryAttributes=function(f){N.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,f);var v=N.asn1,_=v.DERSequence,A=v.ASN1Util.newObject,j=v.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var V=[],G=0;G<this.params.array.length;G++){var Z=this.params.array[G],ie={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==Z.attr)ie.seq[0].oid=j(Z.attr),ie.seq[1].set[0]={gentime:Z.str};else if("placeOfBirth"==Z.attr)ie.seq[0].oid=j(Z.attr),ie.seq[1].set[0]={utf8str:Z.str};else if("gender"==Z.attr)ie.seq[0].oid=j(Z.attr),ie.seq[1].set[0]={prnstr:Z.str};else if("countryOfCitizenship"==Z.attr)ie.seq[0].oid=j(Z.attr),ie.seq[1].set[0]={prnstr:Z.str};else{if("countryOfResidence"!=Z.attr)throw new Error("unsupported attribute: "+Z.attr);ie.seq[0].oid=j(Z.attr),ie.seq[1].set[0]={prnstr:Z.str}}V.push(new A(ie))}var he=new _({array:V});return this.asn1ExtnValue=he,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==f&&(this.params=f)},Kt(N.asn1.x509.SubjectDirectoryAttributes,N.asn1.x509.Extension),N.asn1.x509.PrivateExtension=function(f){N.asn1.x509.PrivateExtension.superclass.constructor.call(this,f);var _=N.lang.String.isHex,A=N.asn1,j=A.x509.OID.name2oid,V=A.ASN1Util.newObject;this.params=null,this.setByParam=function(G){this.oid=j(G.extname),this.params=G},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var G=this.params.extn;if("string"==typeof G&&_(G))return G;if("object"==typeof G)try{return V(G).tohex()}catch(Z){}throw new Error("unsupported extn value")},null!=f&&this.setByParam(f)},Kt(N.asn1.x509.PrivateExtension,N.asn1.x509.Extension),N.asn1.x509.CRL=function(f){N.asn1.x509.CRL.superclass.constructor.call(this);var _=N.asn1,A=_.DERSequence,j=_.DERBitString,V=_.x509,G=V.AlgorithmIdentifier,Z=V.TBSCertList;this.params=void 0,this.setByParam=function(ie){this.params=ie},this.sign=function(){var ie=new Z(this.params).tohex(),he=new N.crypto.Signature({alg:this.params.sigalg});he.init(this.params.cakey),he.updateHex(ie);var Se=he.sign();this.params.sighex=Se},this.getPEM=function(){return zt(this.tohex(),"X509 CRL")},this.tohex=function(){var ie=this.params;if(null==ie.tbsobj&&(ie.tbsobj=new Z(ie)),null==ie.sighex&&null!=ie.cakey&&this.sign(),null==ie.sighex)throw new Error("sighex or cakey parameter not defined");var he=[];return he.push(ie.tbsobj),he.push(new G({name:ie.sigalg})),he.push(new j({hex:"00"+ie.sighex})),new A({array:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&(this.params=f)},Kt(N.asn1.x509.CRL,N.asn1.ASN1Object),N.asn1.x509.TBSCertList=function(f){N.asn1.x509.TBSCertList.superclass.constructor.call(this);var _=N.asn1,A=_.DERInteger,j=_.DERSequence,V=_.DERTaggedObject,Z=_.x509,ie=Z.AlgorithmIdentifier,he=Z.Time,Se=Z.Extensions,Ce=Z.X500Name;this.params=null,this.setByParam=function(J){this.params=J},this.getRevCertSequence=function(){for(var J=[],X=this.params.revcert,_e=0;_e<X.length;_e++){var se=[new A(X[_e].sn),new he(X[_e].date)];null!=X[_e].ext&&se.push(new Se(X[_e].ext)),J.push(new j({array:se}))}return new j({array:J})},this.tohex=function(){var J=[],X=this.params;if(null!=X.version){var se=new A({int:X.version-1});J.push(se)}if(J.push(new ie({name:X.sigalg})),J.push(new Ce(X.issuer)),J.push(new he(X.thisupdate)),null!=X.nextupdate&&J.push(new he(X.nextupdate)),null!=X.revcert&&J.push(this.getRevCertSequence()),null!=X.ext){var Ae=new Se(X.ext);J.push(new V({tag:"a0",explicit:!0,obj:Ae}))}return new j({array:J}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.TBSCertList,N.asn1.ASN1Object),N.asn1.x509.CRLEntry=function(f){N.asn1.x509.CRLEntry.superclass.constructor.call(this);var j=N.asn1;this.setCertSerial=function(V){this.sn=new j.DERInteger(V)},this.setRevocationDate=function(V){this.time=new j.x509.Time(V)},this.tohex=function(){var V=new j.DERSequence({array:[this.sn,this.time]});return this.TLV=V.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(void 0!==f.time&&this.setRevocationDate(f.time),void 0!==f.sn&&this.setCertSerial(f.sn))},Kt(N.asn1.x509.CRLEntry,N.asn1.ASN1Object),N.asn1.x509.CRLNumber=function(f){N.asn1.x509.CRLNumber.superclass.constructor.call(this,f),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new N.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=f&&(this.params=f)},Kt(N.asn1.x509.CRLNumber,N.asn1.x509.Extension),N.asn1.x509.CRLReason=function(f){N.asn1.x509.CRLReason.superclass.constructor.call(this,f),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new N.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=f&&(this.params=f)},Kt(N.asn1.x509.CRLReason,N.asn1.x509.Extension),N.asn1.x509.OCSPNonce=function(f){N.asn1.x509.OCSPNonce.superclass.constructor.call(this,f),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new N.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=f&&(this.params=f)},Kt(N.asn1.x509.OCSPNonce,N.asn1.x509.Extension),N.asn1.x509.OCSPNoCheck=function(f){N.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,f),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new N.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=f&&(this.params=f)},Kt(N.asn1.x509.OCSPNoCheck,N.asn1.x509.Extension),N.asn1.x509.AdobeTimeStamp=function(f){N.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,f);var _=N.asn1,A=_.DERInteger,j=_.DERBoolean,V=_.DERSequence,G=_.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var Z=this.params,ie=[new A(1)];return ie.push(new G({uri:Z.uri})),null!=Z.reqauth&&ie.push(new j(Z.reqauth)),this.asn1ExtnValue=new V({array:ie}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.AdobeTimeStamp,N.asn1.x509.Extension),N.asn1.x509.X500Name=function(f){N.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var _=N.asn1,A=_.x509,j=A.RDN;this.setByString=function(G,Z){void 0!==Z&&(this.sRule=Z);var ie=G.split("/");ie.shift();for(var he=[],Se=0;Se<ie.length;Se++)if(ie[Se].match(/^[^=]+=.+$/))he.push(ie[Se]);else{var Ce=he.length-1;he[Ce]=he[Ce]+"/"+ie[Se]}for(Se=0;Se<he.length;Se++)this.asn1Array.push(new j({str:he[Se],rule:this.sRule}))},this.setByLdapString=function(G,Z){void 0!==Z&&(this.sRule=Z);var ie=A.X500Name.ldapToCompat(G);this.setByString(ie,Z)},this.setByObject=function(G,Z){for(var ie in void 0!==Z&&(this.sRule=Z),G)if(G.hasOwnProperty(ie)){var he=new j({str:ie+"="+G[ie],rule:this.sRule});this.asn1Array?this.asn1Array.push(he):this.asn1Array=[he]}},this.setByParam=function(G){if(void 0!==G.rule&&(this.sRule=G.rule),void 0!==G.array)this.paramArray=G.array;else if(void 0!==G.str)this.setByString(G.str);else if(void 0!==G.ldapstr)this.setByLdapString(G.ldapstr);else if(void 0!==G.hex)this.hTLV=G.hex;else if(void 0!==G.certissuer)(Z=new Hn).readCertPEM(G.certissuer),this.hTLV=Z.getIssuerHex();else if(void 0!==G.certsubject){var Z;(Z=new Hn).readCertPEM(G.certsubject),this.hTLV=Z.getSubjectHex()}else"object"==typeof G&&void 0===G.certsubject&&void 0===G.certissuer&&this.setByObject(G)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var G=0;G<this.paramArray.length;G++){var Z={array:this.paramArray[G]};"utf8"!=this.sRule&&(Z.rule=this.sRule);var ie=new j(Z);this.asn1Array.push(ie)}var he=new _.DERSequence({array:this.asn1Array});return this.hTLV=he.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.X500Name,N.asn1.ASN1Object),N.asn1.x509.X500Name.compatToLDAP=function(f){if("/"!==f.substr(0,1))throw"malformed input";var _=(f=f.substr(1)).split("/");return _.reverse(),_=_.map(function(A){return A.replace(/,/,"\\,")}),_.join(",")},N.asn1.x509.X500Name.onelineToLDAP=function(f){return N.asn1.x509.X500Name.compatToLDAP(f)},N.asn1.x509.X500Name.ldapToCompat=function(f){for(var v=f.split(","),_=!1,A=[],j=0;v.length>0;j++){var V=v.shift();if(!0===_){var Z=(A.pop()+","+V).replace(/\\,/g,",");A.push(Z),_=!1}else A.push(V);"\\"===V.substr(-1,1)&&(_=!0)}return A=A.map(function(ie){return ie.replace("/","\\/")}),A.reverse(),"/"+A.join("/")},N.asn1.x509.X500Name.ldapToOneline=function(f){return N.asn1.x509.X500Name.ldapToCompat(f)},N.asn1.x509.RDN=function(f){N.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var v=N.asn1.x509.AttributeTypeAndValue;this.setByParam=function(_){void 0!==_.rule&&(this.sRule=_.rule),void 0!==_.str&&this.addByMultiValuedString(_.str),void 0!==_.array&&(this.paramArray=_.array)},this.addByString=function(_){this.asn1Array.push(new N.asn1.x509.AttributeTypeAndValue({str:_,rule:this.sRule}))},this.addByMultiValuedString=function(_){for(var A=N.asn1.x509.RDN.parseString(_),j=0;j<A.length;j++)this.addByString(A[j])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var _=0;_<this.paramArray.length;_++){var A=this.paramArray[_];void 0!==A.rule&&"utf8"!=this.sRule&&(A.rule=this.sRule);var j=new v(A);this.asn1Array.push(j)}var V=new N.asn1.DERSet({array:this.asn1Array});return this.TLV=V.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.RDN,N.asn1.ASN1Object),N.asn1.x509.RDN.parseString=function(f){for(var v=f.split(/\+/),_=!1,A=[],j=0;v.length>0;j++){var V=v.shift();if(!0===_){var Z=(A.pop()+"+"+V).replace(/\\\+/g,"+");A.push(Z),_=!1}else A.push(V);"\\"===V.substr(-1,1)&&(_=!0)}var ie=!1,he=[];for(j=0;A.length>0;j++){if(V=A.shift(),!0===ie){var Se=he.pop();V.match(/"$/)?(Z=(Se+"+"+V).replace(/^([^=]+)="(.*)"$/,"$1=$2"),he.push(Z),ie=!1):he.push(Se+"+"+V)}else he.push(V);V.match(/^[^=]+="/)&&(ie=!0)}return he},N.asn1.x509.AttributeTypeAndValue=function(f){N.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var _=N.asn1,A=_.DERSequence,j=_.DERUTF8String,V=_.DERPrintableString,G=_.DERTeletexString,Z=_.DERIA5String,ie=_.DERVisibleString,he=_.DERBMPString,Se=N.lang.String.isMail,Ce=N.lang.String.isPrintable;this.setByParam=function(J){if(void 0!==J.rule&&(this.sRule=J.rule),void 0!==J.ds&&(this.dsType=J.ds),void 0===J.value&&void 0!==J.str){var _e=J.str.match(/^([^=]+)=(.+)$/);if(!_e)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=_e[1],this.sValue=_e[2]}else this.sType=J.type,this.sValue=J.value},this.setByString=function(J,X){void 0!==X&&(this.sRule=X);var _e=J.match(/^([^=]+)=(.+)$/);if(!_e)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(_e[1],_e[2])},this._getDsType=function(){var J=this.sType,X=this.sValue,_e=this.sRule;return"prn"===_e?"CN"==J&&Se(X)?"ia5":Ce(X)?"prn":"utf8":"utf8"===_e?"CN"==J&&Se(X)?"ia5":"C"==J?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(J,X,_e){void 0!==_e&&(this.sRule=_e),this.sType=J,this.sValue=X},this.getValueObj=function(J,X){if("utf8"==J)return new j({str:X});if("prn"==J)return new V({str:X});if("tel"==J)return new G({str:X});if("ia5"==J)return new Z({str:X});if("vis"==J)return new ie({str:X});if("bmp"==J)return new he({str:X});throw new Error("unsupported directory string type: type="+J+" value="+X)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var J=N.asn1.x509.OID.atype2obj(this.sType),X=this.getValueObj(this.dsType,this.sValue),_e=new A({array:[J,X]});return this.TLV=_e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.AttributeTypeAndValue,N.asn1.ASN1Object),N.asn1.x509.SubjectPublicKeyInfo=function(f){N.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var j=N.asn1,V=j.DERInteger,G=j.DERBitString,Z=j.DERObjectIdentifier,ie=j.DERSequence,he=j.ASN1Util.newObject,Ce=j.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new ie({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var se=this.getASN1Object();return this.hTLV=se.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(se){try{if(se instanceof Nn){var ge=he({seq:[{int:{bigint:se.n}},{int:{int:se.e}}]}).tohex();this.asn1AlgId=new Ce({name:"rsaEncryption"}),this.asn1SubjPKey=new G({hex:"00"+ge})}}catch(at){}try{if(se instanceof N.crypto.ECDSA){var Be=new Z({name:se.curveName});this.asn1AlgId=new Ce({name:"ecPublicKey",asn1params:Be}),this.asn1SubjPKey=new G({hex:"00"+se.pubKeyHex})}}catch(at){}try{if(se instanceof N.crypto.DSA){Be=new he({seq:[{int:{bigint:se.p}},{int:{bigint:se.q}},{int:{bigint:se.g}}]}),this.asn1AlgId=new Ce({name:"dsa",asn1params:Be});var Je=new V({bigint:se.y});this.asn1SubjPKey=new G({hex:"00"+Je.tohex()})}}catch(at){}},void 0!==f&&this.setPubKey(f)},Kt(N.asn1.x509.SubjectPublicKeyInfo,N.asn1.ASN1Object),N.asn1.x509.Time=function(f){N.asn1.x509.Time.superclass.constructor.call(this);var j=N.asn1,V=j.DERUTCTime,G=j.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(Z){this.timeParams=Z},this.setByParam=function(Z){this.params=Z},this.getType=function(Z){return Z.match(/^[0-9]{12}Z$/)?"utc":Z.match(/^[0-9]{14}Z$/)?"gen":Z.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":Z.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var Z=this.params,ie=null;if("string"==typeof Z&&(Z={str:Z}),null!=Z&&Z.str&&(null==Z.type||null==Z.type)&&(Z.type=this.getType(Z.str)),null!=Z&&Z.str?("utc"==Z.type&&(ie=new V(Z.str)),"gen"==Z.type&&(ie=new G(Z.str))):ie="gen"==this.type?new G:new V,null==ie)throw new Error("wrong setting for Time");return this.TLV=ie.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},N.asn1.x509.Time_bak=function(f){N.asn1.x509.Time_bak.superclass.constructor.call(this);var j=N.asn1,V=j.DERUTCTime,G=j.DERGeneralizedTime;this.setTimeParams=function(Z){this.timeParams=Z},this.tohex=function(){var Z=null;return Z=null!=this.timeParams?"utc"==this.type?new V(this.timeParams):new G(this.timeParams):"utc"==this.type?new V:new G,this.TLV=Z.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==f&&(void 0!==f.type?this.type=f.type:void 0!==f.str&&(f.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),f.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=f)},Kt(N.asn1.x509.Time,N.asn1.ASN1Object),N.asn1.x509.AlgorithmIdentifier=function(f){N.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var _=N.asn1,A=_.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var V=null;for(var G in A)G===this.nameAlg&&(V=A[G]);if(null!==V)return this.hTLV=V,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=_.x509.OID.name2obj(this.nameAlg));var Z=[this.asn1Alg];null!==this.asn1Params&&Z.push(this.asn1Params);var ie=new _.DERSequence({array:Z});return this.hTLV=ie.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&(void 0!==f.name&&(this.nameAlg=f.name),void 0!==f.asn1params&&(this.asn1Params=f.asn1params),void 0!==f.paramempty&&(this.paramEmpty=f.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var j=this.nameAlg.toLowerCase();"withdsa"!==j.substr(-7,7)&&"withecdsa"!==j.substr(-9,9)&&(this.asn1Params=new _.DERNull)}},Kt(N.asn1.x509.AlgorithmIdentifier,N.asn1.ASN1Object),N.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},N.asn1.x509.GeneralName=function(f){N.asn1.x509.GeneralName.superclass.constructor.call(this);var A=N.asn1,j=A.x509,V=j.X500Name,G=j.OtherName,Z=A.DERIA5String,he=A.DEROctetString,Se=A.DERTaggedObject,Ce=A.ASN1Object,J=Error;this.params=null,this.setByParam=function(X){this.params=X},this.tohex=function(){var _e,se,X=this.params,Ae=!1;if(void 0!==X.other)_e="a0",se=new G(X.other);else if(void 0!==X.rfc822)_e="81",se=new Z({str:X.rfc822});else if(void 0!==X.dns)_e="82",se=new Z({str:X.dns});else if(void 0!==X.dn)_e="a4",Ae=!0,se="string"==typeof X.dn?new V({str:X.dn}):X.dn instanceof N.asn1.x509.X500Name?X.dn:new V(X.dn);else if(void 0!==X.ldapdn)_e="a4",Ae=!0,se=new V({ldapstr:X.ldapdn});else if(void 0!==X.certissuer||void 0!==X.certsubj){_e="a4",Ae=!0;var ge,Be,Je=null;if(void 0!==X.certsubj?(ge=!1,Be=X.certsubj):(ge=!0,Be=X.certissuer),Be.match(/^[0-9A-Fa-f]+$/),-1!=Be.indexOf("-----BEGIN ")&&(Je=sn(Be)),null==Je)throw new Error("certsubj/certissuer not cert");var st,at=new Hn;at.hex=Je,st=ge?at.getIssuerHex():at.getSubjectHex(),(se=new Ce).hTLV=st}else if(void 0!==X.uri)_e="86",se=new Z({str:X.uri});else{if(void 0===X.ip)throw new J("improper params");_e="87";var kt,jt=X.ip;try{if(jt.match(/^[0-9a-f]+$/)){var Oe=jt.length;if(8!=Oe&&16!=Oe&&32!=Oe&&64!=Oe)throw"err";kt=jt}else kt=pu(jt)}catch(ut){throw new J("malformed IP address: "+X.ip+":"+ut.message)}se=new he({hex:kt})}return new Se({tag:_e,explicit:Ae,obj:se}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.GeneralName,N.asn1.ASN1Object),N.asn1.x509.GeneralNames=function(f){N.asn1.x509.GeneralNames.superclass.constructor.call(this);var A=N.asn1;this.setByParamArray=function(j){for(var V=0;V<j.length;V++){var G=new A.x509.GeneralName(j[V]);this.asn1Array.push(G)}},this.tohex=function(){return new A.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==f&&this.setByParamArray(f)},Kt(N.asn1.x509.GeneralNames,N.asn1.ASN1Object),N.asn1.x509.OtherName=function(f){N.asn1.x509.OtherName.superclass.constructor.call(this);var j=N.asn1,V=j.DERObjectIdentifier,G=j.DERSequence,Z=j.ASN1Util.newObject;this.params=null,this.setByParam=function(ie){this.params=ie},this.tohex=function(){var ie=this.params;if(null==ie.oid||null==ie.value)throw new Error("oid or value not specified");var he=new V({oid:ie.oid}),Se=Z({tag:{tag:"a0",explicit:!0,obj:ie.value}});return new G({array:[he,Se]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.x509.OtherName,N.asn1.ASN1Object),N.asn1.x509.OID=new function(){var f=N.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(v){if(void 0!==this.objCache[v])return this.objCache[v];if(void 0===this.name2oidList[v])throw"Name of ObjectIdentifier not defined: "+v;var A=new f({oid:this.name2oidList[v]});return this.objCache[v]=A,A},this.atype2obj=function(v){if(void 0!==this.objCache[v])return this.objCache[v];var _;if(v.match(/^\d+\.\d+\.[0-9.]+$/))_=v;else if(void 0!==this.atype2oidList[v])_=this.atype2oidList[v];else{if(void 0===this.name2oidList[v])throw new Error("AttributeType name undefined: "+v);_=this.name2oidList[v]}var A=new f({oid:_});return this.objCache[v]=A,A},this.registerOIDs=function(v){if(this.checkOIDs(v))for(var _ in v)this.name2oidList[_]=v[_]},this.checkOIDs=function(v){try{var _=Object.keys(v);return 0!=_.length&&(_.map(function(A,j,V){if(!this[A].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},v),!0)}catch(A){return!1}}},N.asn1.x509.OID.oid2name=function(f){var v=N.asn1.x509.OID.name2oidList;for(var _ in v)if(v[_]==f)return _;return""},N.asn1.x509.OID.oid2atype=function(f){var v=N.asn1.x509.OID.atype2oidList;for(var _ in v)if(v[_]==f)return _;return f},N.asn1.x509.OID.name2oid=function(f){if(f.match(/^[0-9.]+$/))return f;var v=N.asn1.x509.OID.name2oidList;return void 0===v[f]?"":v[f]},N.asn1.x509.X509Util={},N.asn1.x509.X509Util.newCertPEM=function(f){return new(0,N.asn1.x509.Certificate)(f).getPEM()},(void 0===N||!N)&&(N={}),(void 0===N.asn1||!N.asn1)&&(N.asn1={}),(void 0===N.asn1.cms||!N.asn1.cms)&&(N.asn1.cms={}),N.asn1.cms.Attribute=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.DERSet,G=A.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(Z){this.params=Z},this.getValueArray=function(){throw new v("not yet implemented abstract")},this.tohex=function(){var Z=new G({oid:this.typeOid}),ie=new V({array:this.getValueArray()});return new j({array:[Z,ie]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Kt(N.asn1.cms.Attribute,N.asn1.ASN1Object),N.asn1.cms.ContentType=function(f){var _=N.asn1;_.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new _.DERObjectIdentifier(this.params.type)]},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.ContentType,N.asn1.cms.Attribute),N.asn1.cms.MessageDigest=function(f){var _=N.asn1,A=_.DEROctetString;_.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new A(this.params)]},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.MessageDigest,N.asn1.cms.Attribute),N.asn1.cms.SigningTime=function(f){var _=N.asn1;_.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new _.x509.Time(this.params)]},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SigningTime,N.asn1.cms.Attribute),N.asn1.cms.SigningCertificate=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.cms,G=V.ESSCertID;V.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new v("parameter 'array' not specified");for(var ie=this.params.array,he=[],Se=0;Se<ie.length;Se++){var Ce=ie[Se];0==f.hasis&&"string"==typeof Ce&&(-1!=Ce.indexOf("-----BEGIN")||dn.isASN1HEX(Ce))&&(Ce={cert:Ce}),0!=Ce.hasis&&0==f.hasis&&(Ce.hasis=!1),he.push(new G(Ce))}var J=new j({array:he});return[new j({array:[J]})]},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SigningCertificate,N.asn1.cms.Attribute),N.asn1.cms.ESSCertID=function(f){N.asn1.cms.ESSCertID.superclass.constructor.call(this);var v=Error,_=N,A=_.asn1,j=A.DEROctetString,V=A.DERSequence,G=A.cms.IssuerSerial;this.params=null,this.getCertHash=function(Z,ie){if(null!=Z.hash)return Z.hash;if("string"==typeof Z&&-1==Z.indexOf("-----BEGIN")&&!dn.isASN1HEX(Z))return Z;var he,Se,Ce;if("string"==typeof Z)he=Z;else{if(null==Z.cert)throw new v("hash nor cert unspecified");he=Z.cert}if(Se=-1!=he.indexOf("-----BEGIN")?sn(he):he,"string"==typeof Z&&(-1!=Z.indexOf("-----BEGIN")?Se=sn(Z):dn.isASN1HEX(Z)&&(Se=Z)),null!=Z.alg)Ce=Z.alg;else{if(null==ie)throw new v("hash alg unspecified");Ce=ie}return _.crypto.Util.hashHex(Se,Ce)},this.tohex=function(){var Z=this.params,ie=this.getCertHash(Z,"sha1"),he=[];return he.push(new j({hex:ie})),("string"==typeof Z&&-1!=Z.indexOf("-----BEGIN")||null!=Z.cert&&0!=Z.hasis||null!=Z.issuer&&null!=Z.serial)&&he.push(new G(Z)),new V({array:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.ESSCertID,N.asn1.ASN1Object),N.asn1.cms.SigningCertificateV2=function(f){var v=Error,A=N.asn1,j=A.DERSequence,G=A.cms,Z=G.ESSCertIDv2;G.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new v("parameter 'array' not specified");for(var he=this.params.array,Se=[],Ce=0;Ce<he.length;Ce++){var J=he[Ce];(null!=f.alg||0==f.hasis)&&"string"==typeof J&&(-1!=J.indexOf("-----BEGIN")||dn.isASN1HEX(J))&&(J={cert:J}),null==J.alg&&null!=f.alg&&(J.alg=f.alg),0!=J.hasis&&0==f.hasis&&(J.hasis=!1),Se.push(new Z(J))}var X=new j({array:Se});return[new j({array:[X]})]},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SigningCertificateV2,N.asn1.cms.Attribute),N.asn1.cms.ESSCertIDv2=function(f){N.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var A=N.asn1,j=A.DEROctetString,V=A.DERSequence,G=A.cms.IssuerSerial,Z=A.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var ie=this.params,he=this.getCertHash(ie,"sha256"),Se=[];return null!=ie.alg&&"sha256"!=ie.alg&&Se.push(new Z({name:ie.alg})),Se.push(new j({hex:he})),("string"==typeof ie&&-1!=ie.indexOf("-----BEGIN")||null!=ie.cert&&0!=ie.hasis||null!=ie.issuer&&null!=ie.serial)&&Se.push(new G(ie)),new V({array:Se}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.ESSCertIDv2,N.asn1.cms.ESSCertID),N.asn1.cms.IssuerSerial=function(f){var v=Error,A=N.asn1,j=A.DERInteger,V=A.DERSequence,ie=A.x509.GeneralNames,he=Hn;A.cms.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(Se){this.params=Se},this.tohex=function(){var Ce,J,Se=this.params;if("string"==typeof Se&&-1!=Se.indexOf("-----BEGIN")||null!=Se.cert){var X;X=null!=Se.cert?Se.cert:Se;var _e=new he;_e.readCertPEM(X),Ce=_e.getIssuer(),J={hex:_e.getSerialNumberHex()}}else{if(null==Se.issuer||!Se.serial)throw new v("cert or issuer and serial parameter not specified");Ce=Se.issuer,J=Se.serial}var se=new ie([{dn:Ce}]),Ae=new j(J);return new V({array:[se,Ae]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.IssuerSerial,N.asn1.ASN1Object),N.asn1.cms.SignerIdentifier=function(f){var V=N.asn1.cms,G=V.IssuerAndSerialNumber,Z=V.SubjectKeyIdentifier;Error,V.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var J=this.params;if("isssn"==J.type)return new G(J).tohex();if("skid"==J.type)return new Z(J).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SignerIdentifier,N.asn1.ASN1Object),N.asn1.cms.IssuerAndSerialNumber=function(f){var _=N.asn1,A=_.DERInteger,j=_.DERSequence,Z=_.x509.X500Name,ie=Hn,he=Error;_.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Ce,J,Se=this.params;if("string"==typeof Se&&-1!=Se.indexOf("-----BEGIN")||null!=Se.cert){var X;X=null!=Se.cert?Se.cert:Se;var _e=new ie;_e.readCertPEM(X),Ce=_e.getIssuer(),J={hex:_e.getSerialNumberHex()}}else{if(null==Se.issuer||!Se.serial)throw new he("cert or issuer and serial parameter not specified");Ce=Se.issuer,J=Se.serial}var se=new Z(Ce),Ae=new A(J);return new j({array:[se,Ae]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(Se){this.params=Se},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.IssuerAndSerialNumber,N.asn1.ASN1Object),N.asn1.cms.SubjectKeyIdentifier=function(f){var _=N.asn1,V=_.ASN1Util.newObject,Ce=Hn,J=Error;_.cms.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var _e,X=this.params;if(null==X.cert&&null==X.skid)throw new J("property cert nor skid undefined");return null!=X.cert?_e=new Ce(X.cert).getExtSubjectKeyIdentifier().kid.hex:null!=X.skid&&(_e=X.skid),V({tag:{tage:"a0",obj:{octstr:{hex:_e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SubjectKeyIdentifier,N.asn1.ASN1Object),N.asn1.cms.AttributeList=function(f){var v=Error,A=N.asn1,j=A.DERSet,V=A.cms;V.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(G){this.params=G},this.tohex=function(){var G=this.params;if(null!=this.hTLV)return this.hTLV;var Z=!0;null!=G.sortflag&&(Z=G.sortflag);for(var ie=G.array,he=[],Se=0;Se<ie.length;Se++){var Ce=ie[Se],J=Ce.attr;if("contentType"==J)he.push(new V.ContentType(Ce));else if("messageDigest"==J)he.push(new V.MessageDigest(Ce));else if("signingTime"==J)he.push(new V.SigningTime(Ce));else if("signingCertificate"==J)he.push(new V.SigningCertificate(Ce));else if("signingCertificateV2"==J)he.push(new V.SigningCertificateV2(Ce));else if("signaturePolicyIdentifier"==J)he.push(new N.asn1.cades.SignaturePolicyIdentifier(Ce));else{if("signatureTimeStamp"!=J&&"timeStampToken"!=J)throw new v("unknown attr: "+J);he.push(new N.asn1.cades.SignatureTimeStamp(Ce))}}var X=new j({array:he,sortflag:Z});return this.hTLV=X.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.AttributeList,N.asn1.ASN1Object),N.asn1.cms.SignerInfo=function(f){var v=Error,A=N.asn1,j=A.DERInteger,V=A.DEROctetString,G=A.DERSequence,Z=A.DERTaggedObject,ie=A.cms,he=ie.SignerIdentifier,Se=ie.AttributeList,Ae=A.x509.AlgorithmIdentifier,ge=N.crypto,Be=fr;ie.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var Je=this.params,at=Je.sigalg,st=new Se(Je.sattrs).tohex(),kt=Be.getKey(Je.signkey),jt=new ge.Signature({alg:at});jt.init(kt),jt.updateHex(st);var Oe=jt.sign();Je.sighex=Oe},this.tohex=function(){var Je=this.params,at=[];if(at.push(new j({int:Je.version})),at.push(new he(Je.id)),at.push(new Ae({name:Je.hashalg})),null!=Je.sattrs){var st=new Se(Je.sattrs);try{at.push(new Z({tag:"a0",explicit:!1,obj:st}))}catch(jt){throw new v("si sattr error: "+jt)}}if(at.push(new Ae(null!=Je.sigalgfield?{name:Je.sigalgfield}:{name:Je.sigalg})),null==Je.sighex&&null!=Je.signkey&&this.sign(),at.push(new V({hex:Je.sighex})),null!=Je.uattrs){st=new Se(Je.uattrs);try{at.push(new Z({tag:"a1",explicit:!1,obj:st}))}catch(Oe){throw new v("si uattr error: "+Oe)}}return new G({array:at}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SignerInfo,N.asn1.ASN1Object),N.asn1.cms.EncapsulatedContentInfo=function(f){var _=N.asn1,A=_.DERTaggedObject,j=_.DERSequence,V=_.DERObjectIdentifier,G=_.DEROctetString;_.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var ie=this.params,he=[];if(he.push(new V(ie.type)),null!=ie.content&&(null!=ie.content.hex||null!=ie.content.str)&&1!=ie.isDetached){var Se=new G(ie.content),Ce=new A({tag:"a0",explicit:!0,obj:Se});he.push(Ce)}return new j({array:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(ie){this.params=ie},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.EncapsulatedContentInfo,N.asn1.ASN1Object),N.asn1.cms.ContentInfo=function(f){var _=N.asn1,A=_.DERTaggedObject,j=_.DERSequence,V=_.DERObjectIdentifier;N.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var ie=this.params,he=[];he.push(new V(ie.type));var Se=new A({tag:"a0",explicit:!0,obj:ie.obj});return he.push(Se),new j({array:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(ie){this.params=ie},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.ContentInfo,N.asn1.ASN1Object),N.asn1.cms.SignedData=function(f){Error;var A=N.asn1,V=A.DERInteger,G=A.DERSet,Z=A.DERSequence,he=A.cms,Se=he.EncapsulatedContentInfo,Ce=he.SignerInfo,J=he.ContentInfo,X=he.CertificateSet,_e=he.RevocationInfoChoices,Ae=A.x509.AlgorithmIdentifier;N.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var ge=this.params;this._setDigestAlgs(ge),this._setContentTypeByEContent(ge),this._setMessageDigestByEContent(ge),this._setSignerInfoVersion(ge),this._setSignedDataVersion(ge)},this._setDigestAlgs=function(ge){for(var Be={},Je=ge.sinfos,at=0;at<Je.length;at++)Be[Je[at].hashalg]=1;ge.hashalgs=Object.keys(Be).sort()},this._setContentTypeByEContent=function(ge){for(var Be=ge.econtent.type,Je=ge.sinfos,at=0;at<Je.length;at++)this._getAttrParamByName(Je[at],"contentType").type=Be},this._setMessageDigestByEContent=function(ge){var Be=ge.econtent,at=Be.content.hex;null==at&&"data"==Be.type&&null!=Be.content.str&&(at=gt(Be.content.str));for(var st=ge.sinfos,kt=0;kt<st.length;kt++){var jt=st[kt],Oe=jt.hashalg,je=this._getAttrParamByName(jt,"messageDigest"),ut=N.crypto.Util.hashHex(at,Oe);je.hex=ut}},this._getAttrParamByName=function(ge,Be){for(var Je=ge.sattrs.array,at=0;at<Je.length;at++)if(Je[at].attr==Be)return Je[at]},this._setSignerInfoVersion=function(ge){for(var Be=ge.sinfos,Je=0;Je<Be.length;Je++){var at=Be[Je],st=1;"skid"==at.id.type&&(st=3),at.version=st}},this._setSignedDataVersion=function(ge){var Be=this._getSignedDataVersion(ge);ge.version=Be},this._getSignedDataVersion=function(ge){if(null!=ge.revinfos)for(var Be=ge.revinfos,Je=0;Je<Be.length;Je++)if(null!=Be[Je].ocsp)return 5;var st=ge.sinfos;for(Je=0;Je<st.length;Je++)if(3==ge.sinfos[Je].version)return 3;return"data"!=ge.econtent.type?3:1},this.tohex=function(){var ge=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=ge.fixed&&this.checkAndFixParam();var Be=[];Be.push(new V({int:ge.version}));for(var Je=[],at=0;at<ge.hashalgs.length;at++)Je.push(new Ae({name:ge.hashalgs[at]}));Be.push(new G({array:Je})),Be.push(new Se(ge.econtent)),null!=ge.certs&&Be.push(new X(ge.certs)),null!=ge.revinfos&&Be.push(new _e(ge.revinfos));var kt=[];for(at=0;at<ge.sinfos.length;at++)kt.push(new Ce(ge.sinfos[at]));return Be.push(new G({array:kt})),new Z({array:Be}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new J({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.SignedData,N.asn1.ASN1Object),N.asn1.cms.CertificateSet=function(f){N.asn1.cms.CertificateSet.superclass.constructor.call(this);var v=Error,_=N.asn1,A=_.DERTaggedObject,j=_.DERSet,V=_.ASN1Object;this.params=null,this.tohex=function(){var ie,G=this.params,Z=[];if(G instanceof Array)ie=G;else{if(null==G.array)throw new v("cert array not specified");ie=G.array}for(var he=0;he<ie.length;he++){var Ce=sn(ie[he]),J=new V;J.hTLV=Ce,Z.push(J)}var X={array:Z};0==G.sortflag&&(X.sortflag=!1);var _e=new j(X);return new A({tag:"a0",explicit:!1,obj:_e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.CertificateSet,N.asn1.ASN1Object),N.asn1.cms.RevocationInfoChoices=function(f){N.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(!v instanceof Array)throw new Error("params is not array");for(var _=[],A=0;A<v.length;A++)_.push(new N.asn1.cms.RevocationInfoChoice(v[A]));return N.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:_}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.RevocationInfoChoices,N.asn1.ASN1Object),N.asn1.cms.RevocationInfoChoice=function(f){N.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(null!=v.crl&&"string"==typeof v.crl){var _=v.crl;return-1!=v.crl.indexOf("-----BEGIN")&&(_=sn(v.crl)),_}if(null!=v.ocsp)return N.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new N.asn1.cms.OtherRevocationFormat(v)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.RevocationInfoChoice,N.asn1.ASN1Object),N.asn1.cms.OtherRevocationFormat=function(f){N.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var v=Error,j=N.asn1.ASN1Util.newObject,V=N.lang.String.isHex;this.params=null,this.tohex=function(){var G=this.params;if(null==G.ocsp)throw new v("property ocsp not specified");if(!V(G.ocsp)||!dn.isASN1HEX(G.ocsp))throw new v("ocsp value not ASN.1 hex string");return j({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:G.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cms.OtherRevocationFormat,N.asn1.ASN1Object),N.asn1.cms.CMSUtil=new function(){},N.asn1.cms.CMSUtil.newSignedData=function(f){return new N.asn1.cms.SignedData(f)},N.asn1.cms.CMSUtil.verifySignedData=function(f){var X=dn.getVbyList,_e=dn.getTLVbyList,se=dn.getIdxbyList,Ae=dn.getChildIdx,ge=dn.getTLV,Be=dn.oidname,Je=N.crypto.Util.hashHex;void 0===f.cms&&(0,N.lang.String.isHex)(f.cms);var at=f.cms,jt=function(St,Mt){var Vt=Mt.idx;Mt.signerid_issuer1=_e(St,Vt,[1,0],"30"),Mt.signerid_serial1=X(St,Vt,[1,1],"02"),Mt.hashalg=Be(X(St,Vt,[2,0],"06"));var Mn=se(St,Vt,[3],"a0");Mt.idxSignedAttrs=Mn,Oe(St,Mt,Mn);var Bn=Ae(St,Vt).length;if(Bn<6)throw"malformed SignerInfo";Mt.sigalg=Be(X(St,Vt,[Bn-2,0],"06")),Mt.sigval=X(St,Vt,[Bn-1],"04")},Oe=function(St,Mt,Vt){var Mn=Ae(St,Vt);Mt.signedAttrIdxList=Mn;for(var Rn=0;Rn<Mn.length;Rn++){var Dn,Bn=Mn[Rn],hr=X(St,Bn,[0],"06");"2a864886f70d010905"===hr?(Dn=ar(X(St,Bn,[1,0])),Mt.saSigningTime=Dn):"2a864886f70d010904"===hr&&(Dn=X(St,Bn,[1,0],"04"),Mt.saMessageDigest=Dn)}},Et=function(St,Mt,Vt,Mn){Vt.verifyDetail={};var Rn=Vt.verifyDetail,Bn=Mt.parse.econtent,hr=Vt.hashalg,Dn=Vt.saMessageDigest;Rn.validMessageDigest=!1,Je(Bn,hr)===Dn&&(Rn.validMessageDigest=!0),function(St,Mt,Vt,Mn){var Bn,Rn=Mt.parse.certsIdx;if(void 0===Mt.certs){Bn=[],Mt.certkeys=[];for(var hr=Ae(St,Rn),Dn=0;Dn<hr.length;Dn++){var Kr=ge(St,hr[Dn]),Wr=new Hn;Wr.readCertHex(Kr),Bn[Dn]=Wr,Mt.certkeys[Dn]=Wr.getPublicKey()}Mt.certs=Bn}else Bn=Mt.certs;for(Mt.cccc=Bn.length,Mt.cccci=hr.length,Dn=0;Dn<Bn.length;Dn++){var Lo=Wr.getIssuerHex(),Cs=Wr.getSerialNumberHex();Vt.signerid_issuer1===Lo&&Vt.signerid_serial1===Cs&&(Vt.certkey_idx=Dn)}}(St,Mt,Vt),Rn.validSignatureValue=!1;var Kr=Vt.sigalg,Wr="31"+ge(St,Vt.idxSignedAttrs).substr(2);Vt.signedattrshex=Wr;var Lo=Mt.certs[Vt.certkey_idx].getPublicKey(),Cs=new N.crypto.Signature({alg:Kr});Cs.init(Lo),Cs.updateHex(Wr);var No=Cs.verify(Vt.sigval);Rn.validSignatureValue_isValid=No,!0===No&&(Rn.validSignatureValue=!0),Vt.isValid=!1,Rn.validMessageDigest&&Rn.validSignatureValue&&(Vt.isValid=!0)},bt={isValid:!1,parse:{}};return function(St,Mt){if("2a864886f70d010702"!==X(St,0,[0],"06"))return Mt;Mt.cmsType="signedData",Mt.econtent=X(St,0,[1,0,2,1,0]),function(St,Mt){for(var Vt,Mn=3;Mn<6;Mn++)if(void 0!==(Vt=se(St,0,[1,0,Mn]))){var Rn=St.substr(Vt,2);"a0"===Rn&&(Mt.certsIdx=Vt),"a1"===Rn&&(Mt.revinfosIdx=Vt),"31"===Rn&&(Mt.signerinfosIdx=Vt)}}(St,Mt),Mt.signerInfos=[],function(St,Mt){var Vt=Mt.signerinfosIdx;if(void 0!==Vt){var Mn=Ae(St,Vt);Mt.signerInfoIdxList=Mn;for(var Rn=0;Rn<Mn.length;Rn++){var hr={idx:Mn[Rn]};jt(St,hr),Mt.signerInfos.push(hr)}}}(St,Mt)}(at,bt.parse),function(St,Mt){for(var Vt=Mt.parse.signerInfos,Mn=Vt.length,Rn=!0,Bn=0;Bn<Mn;Bn++){var hr=Vt[Bn];Et(St,Mt,hr),hr.isValid||(Rn=!1)}Mt.isValid=Rn}(at,bt),bt},N.asn1.cms.CMSParser=function(){var f=Error,v=Hn,_=new v,A=dn,j=A.getV,V=A.getTLV,Z=A.getTLVbyList,ie=A.getTLVbyListEx,he=A.getVbyList,Se=A.getVbyListEx,Ce=A.getChildIdx;this.getCMSSignedData=function(J){var X=Z(J,0,[1,0]);return this.getSignedData(X)},this.getSignedData=function(J){var X=Ce(J,0),_e={},se=j(J,X[0]),Ae=parseInt(se,16);_e.version=Ae;var ge=V(J,X[1]);_e.hashalgs=this.getHashAlgArray(ge);var Be=V(J,X[2]);_e.econtent=this.getEContent(Be);var Je=ie(J,0,["[0]"]);null!=Je&&(_e.certs=this.getCertificateSet(Je)),ie(J,0,["[1]"]);var st=ie(J,0,[3]);return _e.sinfos=this.getSignerInfos(st),_e},this.getHashAlgArray=function(J){for(var X=Ce(J,0),_e=new v,se=[],Ae=0;Ae<X.length;Ae++){var ge=V(J,X[Ae]),Be=_e.getAlgorithmIdentifierName(ge);se.push(Be)}return se},this.getEContent=function(J){var X={},_e=he(J,0,[0]),se=he(J,0,[1,0]);return X.type=N.asn1.x509.OID.oid2name(dn.hextooidstr(_e)),X.content={hex:se},X},this.getSignerInfos=function(J){for(var X=[],_e=Ce(J,0),se=0;se<_e.length;se++){var Ae=V(J,_e[se]),ge=this.getSignerInfo(Ae);X.push(ge)}return X},this.getSignerInfo=function(J){var X={},_e=Ce(J,0),se=A.getInt(J,_e[0],-1);-1!=se&&(X.version=se);var Ae=V(J,_e[1]),ge=this.getIssuerAndSerialNumber(Ae);X.id=ge;var Be=V(J,_e[2]),Je=_.getAlgorithmIdentifierName(Be);X.hashalg=Je;var at=ie(J,0,["[0]"]);if(null!=at){var st=this.getAttributeList(at);X.sattrs=st}var kt=ie(J,0,[3]),jt=_.getAlgorithmIdentifierName(kt);X.sigalg=jt;var Oe=Se(J,0,[4]);X.sighex=Oe;var je=ie(J,0,["[1]"]);if(null!=je){var ut=this.getAttributeList(je);X.uattrs=ut}return X},this.getSignerIdentifier=function(J){if("30"==J.substr(0,2))return this.getIssuerAndSerialNumber(J);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(J){var X={type:"isssn"},_e=Ce(J,0),se=V(J,_e[0]);X.issuer=_.getX500Name(se);var Ae=j(J,_e[1]);return X.serial={hex:Ae},X},this.getAttributeList=function(J){for(var X=[],_e=Ce(J,0),se=0;se<_e.length;se++){var Ae=V(J,_e[se]),ge=this.getAttribute(Ae);X.push(ge)}return{array:X}},this.getAttribute=function(J){var X={},_e=Ce(J,0),se=A.getOID(J,_e[0]),Ae=N.asn1.x509.OID.oid2name(se);X.attr=Ae;var ge=V(J,_e[1]),Be=Ce(ge,0);if(1==Be.length)X.valhex=V(ge,Be[0]);else{for(var Je=[],at=0;at<Be.length;at++)Je.push(V(ge,Be[at]));X.valhex=Je}return"contentType"==Ae?this.setContentType(X):"messageDigest"==Ae?this.setMessageDigest(X):"signingTime"==Ae?this.setSigningTime(X):"signingCertificate"==Ae?this.setSigningCertificate(X):"signingCertificateV2"==Ae?this.setSigningCertificateV2(X):"signaturePolicyIdentifier"==Ae&&this.setSignaturePolicyIdentifier(X),X},this.setContentType=function(J){var X=A.getOIDName(J.valhex,0,null);null!=X&&(J.type=X,delete J.valhex)},this.setSigningTime=function(J){var _e=ar(j(J.valhex,0));J.str=_e,delete J.valhex},this.setMessageDigest=function(J){var X=j(J.valhex,0);J.hex=X,delete J.valhex},this.setSigningCertificate=function(J){var X=Ce(J.valhex,0);if(X.length>0){for(var _e=V(J.valhex,X[0]),se=Ce(_e,0),Ae=[],ge=0;ge<se.length;ge++){var Be=V(_e,se[ge]),Je=this.getESSCertID(Be);Ae.push(Je)}J.array=Ae}if(X.length>1){var at=V(J.valhex,X[1]);J.polhex=at}delete J.valhex},this.setSignaturePolicyIdentifier=function(J){var X=Ce(J.valhex,0);if(X.length>0){var _e=A.getOID(J.valhex,X[0]);J.oid=_e}if(X.length>1){var se=new v,Ae=Ce(J.valhex,X[1]),ge=V(J.valhex,Ae[0]),Be=se.getAlgorithmIdentifierName(ge);J.alg=Be;var Je=j(J.valhex,Ae[1]);J.hash=Je}delete J.valhex},this.setSigningCertificateV2=function(J){var X=Ce(J.valhex,0);if(X.length>0){for(var _e=V(J.valhex,X[0]),se=Ce(_e,0),Ae=[],ge=0;ge<se.length;ge++){var Be=V(_e,se[ge]),Je=this.getESSCertIDv2(Be);Ae.push(Je)}J.array=Ae}if(X.length>1){var at=V(J.valhex,X[1]);J.polhex=at}delete J.valhex},this.getESSCertID=function(J){var X={},_e=Ce(J,0);if(_e.length>0){var se=j(J,_e[0]);X.hash=se}if(_e.length>1){var Ae=V(J,_e[1]),ge=this.getIssuerSerial(Ae);null!=ge.serial&&(X.serial=ge.serial),null!=ge.issuer&&(X.issuer=ge.issuer)}return X},this.getESSCertIDv2=function(J){var X={},_e=Ce(J,0);if(_e.length<1||3<_e.length)throw new f("wrong number of elements");var se=0;if("30"==J.substr(_e[0],2)){var Ae=V(J,_e[0]);X.alg=_.getAlgorithmIdentifierName(Ae),se++}else X.alg="sha256";var ge=j(J,_e[se]);if(X.hash=ge,_e.length>se+1){var Be=V(J,_e[se+1]),Je=this.getIssuerSerial(Be);X.issuer=Je.issuer,X.serial=Je.serial}return X},this.getIssuerSerial=function(J){var X={},_e=Ce(J,0),se=V(J,_e[0]),Ae=_.getGeneralNames(se);X.issuer=Ae[0].dn;var Be=j(J,_e[1]);return X.serial={hex:Be},X},this.getCertificateSet=function(J){for(var X=Ce(J,0),_e=[],se=0;se<X.length;se++){var Ae=V(J,X[se]);if("30"==Ae.substr(0,2)){var ge=zt(Ae,"CERTIFICATE");_e.push(ge)}}return{array:_e,sortflag:!1}}},(void 0===N||!N)&&(N={}),(void 0===N.asn1||!N.asn1)&&(N.asn1={}),(void 0===N.asn1.tsp||!N.asn1.tsp)&&(N.asn1.tsp={}),N.asn1.tsp.TimeStampToken=function(f){var A=N.asn1.tsp;A.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var j=new A.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=j.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.TimeStampToken,N.asn1.cms.SignedData),N.asn1.tsp.TSTInfo=function(f){Error;var A=N.asn1,j=A.DERSequence,V=A.DERInteger,G=A.DERBoolean,Z=A.DERGeneralizedTime,ie=A.DERObjectIdentifier,he=A.DERTaggedObject,Se=A.tsp,Ce=Se.MessageImprint,J=Se.Accuracy,_e=A.x509.GeneralName;if(Se.TSTInfo.superclass.constructor.call(this),this.dVersion=new V({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var se=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(se.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(se.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(se.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");se.push(this.dGenTime),null!=this.dAccuracy&&se.push(this.dAccuracy),null!=this.dOrdering&&se.push(this.dOrdering),null!=this.dNonce&&se.push(this.dNonce),null!=this.dTsa&&se.push(this.dTsa);var Ae=new j({array:se});return this.hTLV=Ae.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f){if("string"==typeof f.policy){if(!f.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new ie({oid:f.policy})}void 0!==f.messageImprint&&(this.dMessageImprint=new Ce(f.messageImprint)),void 0!==f.serial&&(this.dSerial=new V(f.serial)),void 0!==f.genTime&&(this.dGenTime=new Z(f.genTime)),void 0!==f.accuracy&&(this.dAccuracy=new J(f.accuracy)),void 0!==f.ordering&&1==f.ordering&&(this.dOrdering=new G),void 0!==f.nonce&&(this.dNonce=new V(f.nonce)),void 0!==f.tsa&&(this.dTsa=new he({tag:"a0",explicit:!0,obj:new _e({dn:f.tsa})}))}},Kt(N.asn1.tsp.TSTInfo,N.asn1.ASN1Object),N.asn1.tsp.Accuracy=function(f){var _=N.asn1,A=_.ASN1Util.newObject;_.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var j=this.params,V=[];return null!=j.seconds&&"number"==typeof j.seconds&&V.push({int:j.seconds}),null!=j.millis&&"number"==typeof j.millis&&V.push({tag:{tagi:"80",obj:{int:j.millis}}}),null!=j.micros&&"number"==typeof j.micros&&V.push({tag:{tagi:"81",obj:{int:j.micros}}}),A({seq:V}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.Accuracy,N.asn1.ASN1Object),N.asn1.tsp.MessageImprint=function(f){var _=N.asn1,A=_.DERSequence,j=_.DEROctetString,G=_.x509.AlgorithmIdentifier;_.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Z=this.params,ie=new G({name:Z.alg}),he=new j({hex:Z.hash});return new A({array:[ie,he]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.tsp.MessageImprint,N.asn1.ASN1Object),N.asn1.tsp.TimeStampReq=function(f){var _=N.asn1,A=_.DERSequence,j=_.DERInteger,V=_.DERBoolean,Z=_.DERObjectIdentifier,ie=_.tsp,he=ie.MessageImprint;ie.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Se=this.params,Ce=[];return Ce.push(new j({int:1})),Ce.push(Se.messageImprint instanceof N.asn1.ASN1Object?Se.messageImprint:new he(Se.messageImprint)),null!=Se.policy&&Ce.push(new Z(Se.policy)),null!=Se.nonce&&Ce.push(new j(Se.nonce)),1==Se.certreq&&Ce.push(new V),new A({array:Ce}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.TimeStampReq,N.asn1.ASN1Object),N.asn1.tsp.TimeStampResp=function(f){var _=N.asn1,A=_.DERSequence,V=_.tsp,G=V.PKIStatusInfo;V.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Z=this.params,ie=[];if(null!=Z.econtent||null!=Z.tst)if(ie.push(new G(null!=Z.statusinfo?Z.statusinfo:"granted")),null!=Z.econtent)ie.push(new V.TimeStampToken(Z).getContentInfo());else{if(!(Z.tst instanceof _.ASN1Object))throw new Error("improper member tst value");ie.push(Z.tst)}else{if(null==Z.statusinfo)throw new Error("parameter for token nor statusinfo not specified");ie.push(new G(Z.statusinfo))}return new A({array:ie}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.TimeStampResp,N.asn1.ASN1Object),N.asn1.tsp.PKIStatusInfo=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.tsp,G=V.PKIStatus,Z=V.PKIFreeText,ie=V.PKIFailureInfo;V.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var he=this.params,Se=[];if("string"==typeof he)Se.push(new G(he));else{if(null==he.status)throw new v("property 'status' unspecified");Se.push(new G(he.status)),null!=he.statusstr&&Se.push(new Z(he.statusstr)),null!=he.failinfo&&Se.push(new ie(he.failinfo))}return new j({array:Se}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.PKIStatusInfo,N.asn1.ASN1Object),N.asn1.tsp.PKIStatus=function(f){var v=Error,A=N.asn1,j=A.DERInteger;A.tsp.PKIStatus.superclass.constructor.call(this);var G={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var he,Z=this.params;if("string"==typeof Z)try{he=G[Z]}catch(Se){throw new v("undefined name: "+Z)}else{if("number"!=typeof Z)throw new v("unsupported params");he=Z}return new j({int:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.PKIStatus,N.asn1.ASN1Object),N.asn1.tsp.PKIFreeText=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.DERUTF8String;A.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Z=this.params;if(!Z instanceof Array)throw new v("wrong params: not array");for(var ie=[],he=0;he<Z.length;he++)ie.push(new V({str:Z[he]}));return new j({array:ie}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.PKIFreeText,N.asn1.ASN1Object),N.asn1.tsp.PKIFailureInfo=function(f){var v=Error,A=N.asn1,j=A.DERBitString,Z={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};A.tsp.PKIFailureInfo.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var ie=this.params,he=0;if("number"==typeof ie&&0<=ie&&ie<=25){for(var Se=(he|=1<<ie).toString(2),Ce="",J=Se.length-1;J>=0;J--)Ce+=Se[J];return Ce}if("string"==typeof ie&&null!=Z[ie])return Wh([ie],Z);if("object"==typeof ie&&null!=ie.length)return Wh(ie,Z);throw new v("wrong params")},this.tohex=function(){var he=this.getBinValue();return new j({bin:he}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.tsp.PKIFailureInfo,N.asn1.ASN1Object),N.asn1.tsp.AbstractTSAAdapter=function(f){this.getTSTHex=function(v,_){throw"not implemented yet"}},N.asn1.tsp.SimpleTSAAdapter=function(f){var A=N.asn1.tsp,j=N.crypto.Util.hashHex;A.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(V,G){var Z=j(V,G);this.params.econtent.content.messageImprint={alg:G,hash:Z},this.params.econtent.content.serial={int:this.serial++};var ie=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:ie},new A.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==f&&(this.params=f)},Kt(N.asn1.tsp.SimpleTSAAdapter,N.asn1.tsp.AbstractTSAAdapter),N.asn1.tsp.FixedTSAAdapter=function(f){var A=N.asn1.tsp,j=N.crypto.Util.hashHex;A.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(V,G){var Z=j(V,G);return this.params.econtent.content.messageImprint={alg:G,hash:Z},new A.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==f&&(this.params=f)},Kt(N.asn1.tsp.FixedTSAAdapter,N.asn1.tsp.AbstractTSAAdapter),N.asn1.tsp.TSPUtil=new function(){},N.asn1.tsp.TSPUtil.newTimeStampToken=function(f){return new N.asn1.tsp.TimeStampToken(f)},N.asn1.tsp.TSPUtil.parseTimeStampReq=function(f){return(new N.asn1.tsp.TSPParser).getTimeStampReq(f)},N.asn1.tsp.TSPUtil.parseMessageImprint=function(f){return(new N.asn1.tsp.TSPParser).getMessageImprint(f)},N.asn1.tsp.TSPParser=function(){Error;var _=new Hn,A=dn,j=A.getV,V=A.getTLV,G=A.getIdxbyList,ie=A.getChildIdx,he=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],Se={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(Ce){var J=ie(Ce,0);if(1==J.length)return this.getPKIStatusInfo(V(Ce,J[0]));if(J.length>1){var X=this.getPKIStatusInfo(V(Ce,J[0])),_e=V(Ce,J[1]),se=this.getToken(_e);return se.statusinfo=X,se}},this.getToken=function(Ce){var X=(new N.asn1.cms.CMSParser).getCMSSignedData(Ce);return this.setTSTInfo(X),X},this.setTSTInfo=function(Ce){var J=Ce.econtent;if("tstinfo"==J.type){var _e=this.getTSTInfo(J.content.hex);J.content=_e}},this.getTSTInfo=function(Ce){var J={},X=ie(Ce,0),_e=j(Ce,X[1]);J.policy=gu(_e);var se=V(Ce,X[2]);J.messageImprint=this.getMessageImprint(se);var Ae=j(Ce,X[3]);J.serial={hex:Ae};var ge=j(Ce,X[4]);J.genTime={str:ar(ge)};var Be=0;if(X.length>5&&"30"==Ce.substr(X[5],2)){var Je=V(Ce,X[5]);J.accuracy=this.getAccuracy(Je),Be++}if(X.length>5+Be&&"01"==Ce.substr(X[5+Be],2)&&("ff"==j(Ce,X[5+Be])&&(J.ordering=!0),Be++),X.length>5+Be&&"02"==Ce.substr(X[5+Be],2)){var st=j(Ce,X[5+Be]);J.nonce={hex:st},Be++}if(X.length>5+Be&&"a0"==Ce.substr(X[5+Be],2)){var kt=V(Ce,X[5+Be]);kt="30"+kt.substr(2),pGeneralNames=_.getGeneralNames(kt);var jt=pGeneralNames[0].dn;J.tsa=jt,Be++}if(X.length>5+Be&&"a1"==Ce.substr(X[5+Be],2)){var Oe=V(Ce,X[5+Be]);Oe="30"+Oe.substr(2);var je=_.getExtParamArray(Oe);J.ext=je,Be++}return J},this.getAccuracy=function(Ce){for(var J={},X=ie(Ce,0),_e=0;_e<X.length;_e++){var se=Ce.substr(X[_e],2),Ae=j(Ce,X[_e]),ge=parseInt(Ae,16);"02"==se?J.seconds=ge:"80"==se?J.millis=ge:"81"==se&&(J.micros=ge)}return J},this.getMessageImprint=function(Ce){if("30"!=Ce.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var J={},_e=(ie(Ce,0),G(Ce,0,[0,0])),se=j(Ce,_e),Ae=A.hextooidstr(se),ge=N.asn1.x509.OID.oid2name(Ae);if(""==ge)throw new Error("hashAlg name undefined: "+Ae);var Be=ge,Je=G(Ce,0,[1]);return J.alg=Be,J.hash=j(Ce,Je),J},this.getPKIStatusInfo=function(Ce){var J={},X=ie(Ce,0),_e=0;try{var se=j(Ce,X[0]),Ae=parseInt(se,16);J.status=he[Ae]}catch(Je){}if(X.length>1&&"30"==Ce.substr(X[1],2)){var ge=V(Ce,X[1]);J.statusstr=this.getPKIFreeText(ge),_e++}if(X.length>_e&&"03"==Ce.substr(X[1+_e],2)){var Be=V(Ce,X[1+_e]);J.failinfo=this.getPKIFailureInfo(Be)}return J},this.getPKIFreeText=function(Ce){for(var J=[],X=ie(Ce,0),_e=0;_e<X.length;_e++)J.push(A.getString(Ce,X[_e]));return J},this.getPKIFailureInfo=function(Ce){var J=A.getInt(Ce,0);return null!=Se[J]?Se[J]:J},this.getTimeStampReq=function(Ce){var J={certreq:!1},X=ie(Ce,0);if(X.length<2)throw new Error("TimeStampReq must have at least 2 items");var _e=V(Ce,X[1]);J.messageImprint=N.asn1.tsp.TSPUtil.parseMessageImprint(_e);for(var se=2;se<X.length;se++){var Ae=X[se],ge=Ce.substr(Ae,2);if("06"==ge){var Be=j(Ce,Ae);J.policy=A.hextooidstr(Be)}"02"==ge&&(J.nonce=j(Ce,Ae)),"01"==ge&&(J.certreq=!0)}return J}},(void 0===N||!N)&&(N={}),(void 0===N.asn1||!N.asn1)&&(N.asn1={}),(void 0===N.asn1.cades||!N.asn1.cades)&&(N.asn1.cades={}),N.asn1.cades.SignaturePolicyIdentifier=function(f){var A=N.asn1.cades,j=A.SignaturePolicyId;A.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new j(this.params)]},this.setByParam=function(V){this.params=V},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.SignaturePolicyIdentifier,N.asn1.cms.Attribute),N.asn1.cades.SignaturePolicyId=function(f){var _=N.asn1,A=_.DERSequence,j=_.DERObjectIdentifier,Z=_.cades,he=Z.OtherHashAlgAndValue;Z.SignaturePolicyId.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Se=this.params,Ce=[];return Ce.push(new j(Se.oid)),Ce.push(new he(Se)),new A({array:Ce}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(Se){this.params=Se},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.SignaturePolicyId,N.asn1.ASN1Object),N.asn1.cades.OtherHashAlgAndValue=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.DEROctetString,Z=A.x509.AlgorithmIdentifier;A.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Se=this.params;if(null==Se.alg)throw new v("property 'alg' not specified");if(null==Se.hash&&null==Se.cert)throw new v("property 'hash' nor 'cert' not specified");var Ce=null;if(null!=Se.hash)Ce=Se.hash;else if(null!=Se.cert){if("string"!=typeof Se.cert)throw new v("cert not string");var J=Se.cert;-1!=Se.cert.indexOf("-----BEGIN")&&(J=sn(Se.cert)),Ce=N.crypto.Util.hashHex(J,Se.alg)}var X=[];return X.push(new Z({name:Se.alg})),X.push(new V({hex:Ce})),new j({array:X}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.OtherHashAlgAndValue,N.asn1.ASN1Object),N.asn1.cades.OtherHashValue=function(f){N.asn1.cades.OtherHashValue.superclass.constructor.call(this);var v=Error,V=N.asn1.DEROctetString;this.params=null,this.tohex=function(){var Z=this.params;if(null==Z.hash&&null==Z.cert)throw new v("hash or cert not specified");var ie=null;if(null!=Z.hash)ie=Z.hash;else if(null!=Z.cert){if("string"!=typeof Z.cert)throw new v("cert not string");var he=Z.cert;-1!=Z.cert.indexOf("-----BEGIN")&&(he=sn(Z.cert)),ie=N.crypto.Util.hashHex(he,"sha1")}return new V({hex:ie}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.OtherHashValue,N.asn1.ASN1Object),N.asn1.cades.SignatureTimeStamp=function(f){var v=Error,A=N.lang.String.isHex,j=N.asn1,V=j.ASN1Object;j.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var ie=this.params;if(null!=ie.tst){if(A(ie.tst))return(he=new V).hTLV=ie.tst,[he];if(ie.tst instanceof V)return[ie.tst];throw new v("params.tst has wrong value")}if(null!=ie.res){var he,Se=ie.res;if(Se instanceof V&&(Se=Se.tohex()),"string"!=typeof Se||!A(Se))throw new v("params.res has wrong value");return dn.getTLVbyList(Se,0,[1]),(he=new V).hTLV=ie.tst,[he]}},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.SignatureTimeStamp,N.asn1.cms.Attribute),N.asn1.cades.CompleteCertificateRefs=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.cades,G=V.OtherCertID,Z=N.lang.String.isHex;V.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var ie=this.params,he=[],Se=0;Se<ie.array.length;Se++){var Ce=ie.array[Se];if("string"==typeof Ce)if(-1!=Ce.indexOf("-----BEGIN"))Ce={cert:Ce};else{if(!Z(Ce))throw new v("unsupported value: "+Ce);Ce={hash:Ce}}null!=ie.alg&&null==Ce.alg&&(Ce.alg=ie.alg),null!=ie.hasis&&null==Ce.hasis&&(Ce.hasis=ie.hasis);var J=new G(Ce);he.push(J)}return[new j({array:he})]},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.CompleteCertificateRefs,N.asn1.cms.Attribute),N.asn1.cades.OtherCertID=function(f){var _=N.asn1,A=_.DERSequence,V=_.cms.IssuerSerial,G=_.cades,Z=G.OtherHashValue,ie=G.OtherHashAlgAndValue;G.OtherCertID.superclass.constructor.call(this),this.params=f,this.tohex=function(){var he=this.params;"string"==typeof he&&(-1!=he.indexOf("-----BEGIN")?he={cert:he}:_isHex(he)&&(he={hash:he}));var Ce,Se=[];if(Ce=null!=he.alg?new ie(he):new Z(he),Se.push(Ce),null!=he.cert&&1==he.hasis||null!=he.issuer&&null!=he.serial){var J=new V(he);Se.push(J)}return new A({array:Se}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.OtherCertID,N.asn1.ASN1Object),N.asn1.cades.OtherHash=function(f){Error;var V=N.asn1.cades,G=V.OtherHashAlgAndValue,Z=V.OtherHashValue,he=N.lang.String.isHex;V.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var Se=this.params;return"string"==typeof Se&&(-1!=Se.indexOf("-----BEGIN")?Se={cert:Se}:he(Se)&&(Se={hash:Se})),(null!=Se.alg?new G(Se):new Z(Se)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.cades.OtherHash,N.asn1.ASN1Object),N.asn1.cades.CAdESUtil=new function(){},N.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(f){return(new N.asn1.cms.CMSParser).getCMSSignedData(f)},N.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(f,v,_){var V=dn.getTLV,G=dn.getV,ie=N.asn1,he=ie.ASN1Object,Se=ie.cms,Ce=Se.AttributeList,J=Se.SignerInfo,X={},_e=(0,dn.getChildIdx)(f,v);if(6!=_e.length)throw"not supported items for SignerInfo (!=6)";var se=_e.shift();X.version=V(f,se);var Ae=_e.shift();X.si=V(f,Ae);var ge=_e.shift();X.digalg=V(f,ge);var Be=_e.shift();X.sattrs=V(f,Be);var Je=_e.shift();X.sigalg=V(f,Je);var at=_e.shift();X.sig=V(f,at),X.sigval=G(f,at);var st=null;return X.obj=new J,(st=new he).hTLV=X.version,X.obj.dCMSVersion=st,(st=new he).hTLV=X.si,X.obj.dSignerIdentifier=st,(st=new he).hTLV=X.digalg,X.obj.dDigestAlgorithm=st,(st=new he).hTLV=X.sattrs,X.obj.dSignedAttrs=st,(st=new he).hTLV=X.sigalg,X.obj.dSigAlg=st,(st=new he).hTLV=X.sig,X.obj.dSig=st,X.obj.dUnsignedAttrs=new Ce,X},(void 0===N.asn1.csr||!N.asn1.csr)&&(N.asn1.csr={}),N.asn1.csr.CertificationRequest=function(f){var _=N.asn1,A=_.DERBitString,j=_.DERSequence,V=_.csr,Z=V.CertificationRequestInfo;V.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(ie){this.params=ie},this.sign=function(){var ie=new Z(this.params).tohex(),he=new N.crypto.Signature({alg:this.params.sigalg});he.init(this.params.sbjprvkey),he.updateHex(ie);var Se=he.sign();this.params.sighex=Se},this.getPEM=function(){return zt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var ie=this.params,he=new N.asn1.csr.CertificationRequestInfo(this.params),Se=new N.asn1.x509.AlgorithmIdentifier({name:ie.sigalg});if(null==ie.sighex&&null!=ie.sbjprvkey&&this.sign(),null==ie.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var Ce=new A({hex:"00"+ie.sighex});return new j({array:[he,Se,Ce]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.csr.CertificationRequest,N.asn1.ASN1Object),N.asn1.csr.CertificationRequestInfo=function(f){var _=N.asn1,j=_.DERSequence,V=_.DERInteger,G=_.DERUTF8String,Z=_.DERTaggedObject,ie=_.ASN1Util.newObject,Se=_.x509,Ce=Se.X500Name,J=Se.Extensions,X=Se.SubjectPublicKeyInfo;_.csr.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(Ae){null!=Ae&&(this.params=Ae)},this.tohex=function(){var Ae=this.params,ge=[];if(ge.push(new V({int:0})),ge.push(new Ce(Ae.subject)),ge.push(new X(fr.getKey(Ae.sbjpubkey))),null!=Ae.attrs){var Be=function se(Ae){for(var ge=Error,Be=N.asn1.x509.Extensions,Je=[],at=0;at<Ae.length;at++){var st=Ae[at],kt=st.attr;if("extensionRequest"==kt){var jt=new Be(st.ext);Je.push({seq:[{oid:"1.2.840.113549.1.9.14"},{set:[jt]}]})}else if("unstructuredName"==kt)Je.push({seq:[{oid:"1.2.840.113549.1.9.2"},{set:st.names}]});else{if("challengePassword"!=kt)throw new ge("unknown CSR attribute");Je.push({seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:st.password}]}]})}}return{set:Je}}(Ae.attrs),Je=ie({tag:{tage:"a0",obj:Be}});ge.push(Je)}else if(null!=Ae.extreq){var at=new J(Ae.extreq);Je=ie({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[at]}]}}}),ge.push(Je)}else ge.push(new Z({tag:"a0",explicit:!1,obj:new G({str:""})}));return new j({array:ge}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=f&&this.setByParam(f)},Kt(N.asn1.csr.CertificationRequestInfo,N.asn1.ASN1Object),N.asn1.csr.AttributeList=function(f){},Kt(N.asn1.csr.AttributeList,N.asn1.ASN1Object),N.asn1.csr.CSRUtil=new function(){},N.asn1.csr.CSRUtil.newCSRPEM=function(f){return new N.asn1.csr.CertificationRequest(f).getPEM()},N.asn1.csr.CSRUtil.getParam=function(f,v){var A=dn.getV,j=dn.getIdxbyList,V=dn.getTLVbyList,G=dn.getTLVbyListEx,Z=dn.getVbyListEx,he={};if(-1==f.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var Se=sn(f,"CERTIFICATE REQUEST");v&&(he.tbs=V(Se,0,[0]));try{var Ce=G(Se,0,[0,1]);if("3000"==Ce)he.subject={};else{var se=new Hn;he.subject=se.getX500Name(Ce)}}catch(Be){}var J=G(Se,0,[0,2]),X=fr.getKey(J,null,"pkcs8pub");he.sbjpubkey=fr.getPEM(X,"PKCS8PUB");var Be,Je,_e=(Je=j(Be=Se,0,[0,3,0,0],"06"),"2a864886f70d01090e"!=A(Be,Je)?null:V(Be,0,[0,3,0,1,0],"30"));se=new Hn,null!=_e&&(he.extreq=se.getExtParamArray(_e));try{var Ae=G(Se,0,[1],"30");se=new Hn,he.sigalg=se.getAlgorithmIdentifierName(Ae)}catch(Be){}try{var ge=Z(Se,0,[2]);he.sighex=ge}catch(Be){}return he},N.asn1.csr.CSRUtil.verifySignature=function(f){try{var v=null;if("string"==typeof f&&-1!=f.indexOf("-----BEGIN CERTIFICATE REQUEST")?v=N.asn1.csr.CSRUtil.getParam(f,!0):"object"==typeof f&&null!=f.sbjpubkey&&null!=f.sigalg&&null!=f.sighex&&null!=f.tbs&&(v=f),null==v)return!1;var _=new N.crypto.Signature({alg:v.sigalg});return _.init(v.sbjpubkey),_.updateHex(v.tbs),_.verify(v.sighex)}catch(A){return alert(A),!1}},(void 0===N||!N)&&(N={}),(void 0===N.asn1||!N.asn1)&&(N.asn1={}),(void 0===N.asn1.ocsp||!N.asn1.ocsp)&&(N.asn1.ocsp={}),N.asn1.ocsp.DEFAULT_HASH="sha1",N.asn1.ocsp.OCSPResponse=function(f){N.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var _=N.asn1.ASN1Util.newObject,A=N.asn1.ocsp.ResponseBytes,j=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var V=this.params.resstatus;return"number"==typeof V?V:"string"!=typeof V?-1:j.indexOf(V)},this.setByParam=function(V){this.params=V},this.tohex=function(){var V=this.params,G=this._getStatusCode();if(-1==G)throw new Error("responseStatus not supported: "+V.resstatus);if(0!=G)return _({seq:[{enum:{int:G}}]}).tohex();var Z=new A(V);return _({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:Z}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.OCSPResponse,N.asn1.ASN1Object),N.asn1.ocsp.ResponseBytes=function(f){N.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var v=N.asn1,_=v.DERSequence,A=v.DERObjectIdentifier,j=v.DEROctetString,V=v.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(G){this.params=G},this.tohex=function(){var G=this.params;if("ocspBasic"!=G.restype)throw new Error("not supported responseType: "+G.restype);var Z=new V(G),ie=[];return ie.push(new A({name:"ocspBasic"})),ie.push(new j({hex:Z.tohex()})),new _({array:ie}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.ResponseBytes,N.asn1.ASN1Object),N.asn1.ocsp.BasicOCSPResponse=function(f){N.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var v=Error,_=N.asn1,A=_.ASN1Object,j=_.DERSequence,G=_.DERTaggedObject,Z=_.DERBitString,he=_.x509.AlgorithmIdentifier,Se=_.ocsp;_SingleResponseList=Se.SingleResponseList,_ResponseData=Se.ResponseData,this.params=null,this.setByParam=function(J){this.params=J},this.sign=function(){var J=this.params,X=J.tbsresp.tohex(),_e=new N.crypto.Signature({alg:J.sigalg});_e.init(J.reskey),_e.updateHex(X),J.sighex=_e.sign()},this.tohex=function(){var J=this.params;null==J.tbsresp&&(J.tbsresp=new _ResponseData(J)),null==J.sighex&&null!=J.reskey&&this.sign();var X=[];if(X.push(J.tbsresp),X.push(new he({name:J.sigalg})),X.push(new Z({hex:"00"+J.sighex})),null!=J.certs&&null!=J.certs.length){for(var _e=[],se=0;se<J.certs.length;se++){var Ae=J.certs[se],ge=null;if(dn.isASN1HEX(Ae))ge=Ae;else{if(!Ae.match(/-----BEGIN/))throw new v("certs["+se+"] not hex or PEM");ge=sn(Ae)}_e.push(new A({tlv:ge}))}var Be=new j({array:_e});X.push(new G({tag:"a0",explicit:!0,obj:Be}))}return new j({array:X}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.BasicOCSPResponse,N.asn1.ASN1Object),N.asn1.ocsp.ResponseData=function(f){N.asn1.ocsp.ResponseData.superclass.constructor.call(this);var v=Error,_=N.asn1,A=_.DERSequence,j=_.DERGeneralizedTime,V=_.DERTaggedObject,G=_.x509.Extensions,Z=_.ocsp,ie=Z.ResponderID;_SingleResponseList=Z.SingleResponseList,this.params=null,this.tohex=function(){var he=this.params;null!=he.respid&&new v("respid not specified"),null!=he.prodat&&new v("prodat not specified"),null!=he.array&&new v("array not specified");var Se=[];if(Se.push(new ie(he.respid)),Se.push(new j(he.prodat)),Se.push(new _SingleResponseList(he.array)),null!=he.ext){var Ce=new G(he.ext);Se.push(new V({tag:"a1",explicit:!0,obj:Ce}))}return new A({array:Se}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(he){this.params=he},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.ResponseData,N.asn1.ASN1Object),N.asn1.ocsp.ResponderID=function(f){N.asn1.ocsp.ResponderID.superclass.constructor.call(this);var _=N.asn1,A=_.ASN1Util.newObject,j=_.x509.X500Name,V=N.lang.String.isHex,G=Error;this.params=null,this.tohex=function(){var Z=this.params;if(null!=Z.key){var ie=null;if("string"==typeof Z.key)V(Z.key)&&(ie=Z.key),Z.key.match(/-----BEGIN CERTIFICATE/)&&null!=(Se=new Hn(Z.key).getExtSubjectKeyIdentifier())&&(ie=Se.kid.hex);else if(Z.key instanceof Hn){var Se;null!=(Se=Z.key.getExtSubjectKeyIdentifier())&&(ie=Se.kid.hex)}if(null==ie)throw new G("wrong key member value");return A({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:ie}}}}).tohex()}if(null!=Z.name){var J=null;if("string"==typeof Z.name&&Z.name.match(/-----BEGIN CERTIFICATE/)?J=new Hn(Z.name).getSubject():Z.name instanceof Hn?J=Z.name.getSubject():"object"==typeof Z.name&&(null!=Z.name.array||null!=Z.name.str)&&(J=Z.name),null==J)throw new G("wrong name member value");return A({tag:{tag:"a1",explicit:!0,obj:new j(J)}}).tohex()}throw new G("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(Z){this.params=Z},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.ResponderID,N.asn1.ASN1Object),N.asn1.ocsp.SingleResponseList=function(f){N.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var v=N.asn1,_=v.DERSequence,A=v.ocsp.SingleResponse;this.params=null,this.tohex=function(){var j=this.params;if("object"!=typeof j||null==j.length)throw new Error("params not specified properly");for(var V=[],G=0;G<j.length;G++)V.push(new A(j[G]));return new _({array:V}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(j){this.params=j},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.SingleResponseList,N.asn1.ASN1Object),N.asn1.ocsp.SingleResponse=function(f){var v=Error,A=N.asn1,j=A.DERSequence,V=A.DERGeneralizedTime,G=A.DERTaggedObject,Z=A.ocsp,ie=Z.CertID,he=Z.CertStatus,Ce=A.x509.Extensions;Z.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var J=this.params,X=[];if(null==J.certid)throw new v("certid unspecified");if(null==J.status)throw new v("status unspecified");if(null==J.thisupdate)throw new v("thisupdate unspecified");if(X.push(new ie(J.certid)),X.push(new he(J.status)),X.push(new V(J.thisupdate)),null!=J.nextupdate){var _e=new V(J.nextupdate);X.push(new G({tag:"a0",explicit:!0,obj:_e}))}if(null!=J.ext){var se=new Ce(J.ext);X.push(new G({tag:"a1",explicit:!0,obj:se}))}return new j({array:X}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(J){this.params=J},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.SingleResponse,N.asn1.ASN1Object),N.asn1.ocsp.CertID=function(f){var _=N.asn1,A=_.DEROctetString,j=_.DERInteger,V=_.DERSequence,Z=_.x509.AlgorithmIdentifier,Ce=N.crypto.Util.hashHex,J=Hn,_e=dn.getVbyList;_.ocsp.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(se,Ae,ge,Be){null==Be&&(Be=this.DEFAULT_HASH),this.params={alg:Be,issname:se,isskey:Ae,sbjsn:ge}},this.setByCert=function(se,Ae,ge){null==ge&&(ge=this.DEFAULT_HASH),this.params={alg:ge,issuerCert:se,subjectCert:Ae}},this.getParamByCerts=function(se,Ae,ge){null==ge&&(ge=this.DEFAULT_HASH);var Be=new J(se),Je=new J(Ae),at=Ce(Be.getSubjectHex(),ge),st=Be.getPublicKeyHex();return{alg:ge,issname:at,isskey:Ce(_e(st,0,[1],"03",!0),ge),sbjsn:Je.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var Ae,ge,Be,Je,se=this.params;if(Je=null==se.alg?this.DEFAULT_HASH:se.alg,null!=se.issuerCert&&null!=se.subjectCert){var at=this.getParamByCerts(se.issuerCert,se.subjectCert,Je);Ae=at.issname,ge=at.isskey,Be=at.sbjsn}else{if(null==se.issname||null==se.isskey||null==se.sbjsn)throw new Error("required param members not defined");Ae=se.issname,ge=se.isskey,Be=se.sbjsn}var st=new Z({name:Je}),kt=new A({hex:Ae}),jt=new A({hex:ge}),Oe=new j({hex:Be}),je=new V({array:[st,kt,jt,Oe]});return this.hTLV=je.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.CertID,N.asn1.ASN1Object),N.asn1.ocsp.CertStatus=function(f){N.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if("good"==v.status)return"8000";if("unknown"==v.status)return"8200";if("revoked"==v.status){var _=[{gentime:{str:v.time}}];return null!=v.reason&&_.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:v.reason}}}}),N.asn1.ASN1Util.newObject({tag:{tag:"a1",explicit:!1,obj:{seq:_}}}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==f&&this.setByParam(f)},Kt(N.asn1.ocsp.CertStatus,N.asn1.ASN1Object),N.asn1.ocsp.Request=function(f){var _=N.asn1,A=_.DERSequence,j=_.ocsp;if(j.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var G=[];if(null===this.dReqCert)throw"reqCert not set";G.push(this.dReqCert);var Z=new A({array:G});return this.hTLV=Z.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f){var V=new j.CertID(f);this.dReqCert=V}},Kt(N.asn1.ocsp.Request,N.asn1.ASN1Object),N.asn1.ocsp.TBSRequest=function(f){var _=N.asn1,A=_.DERSequence,j=_.ocsp;j.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(V){for(var G=[],Z=0;Z<V.length;Z++){var ie=new j.Request(V[0]);G.push(ie)}this.dRequestList=G},this.tohex=function(){var V=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var G=new A({array:this.dRequestList});if(V.push(G),null!==this.dRequestExt)throw"requestExtensions not supported";var Z=new A({array:V});return this.hTLV=Z.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&void 0!==f.reqList&&this.setRequestListByParam(f.reqList)},Kt(N.asn1.ocsp.TBSRequest,N.asn1.ASN1Object),N.asn1.ocsp.OCSPRequest=function(f){var _=N.asn1,A=_.DERSequence,j=_.ocsp;if(j.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var G=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(G.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var Z=new A({array:G});return this.hTLV=Z.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==f&&void 0!==f.reqList){var V=new j.TBSRequest(f);this.dTbsRequest=V}},Kt(N.asn1.ocsp.OCSPRequest,N.asn1.ASN1Object),N.asn1.ocsp.OCSPUtil={},N.asn1.ocsp.OCSPUtil.getRequestHex=function(f,v,_){var V=N.asn1.ocsp;return void 0===_&&(_=V.DEFAULT_HASH),new V.OCSPRequest({reqList:[{alg:_,issuerCert:f,subjectCert:v}]}).tohex()},N.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(f){var _=dn.getVbyList,A=dn.getVbyListEx,j=dn.getIdxbyList,G=dn.getV,Z={};try{var ie=A(f,0,[0],"0a");Z.responseStatus=parseInt(ie,16)}catch(J){}if(0!==Z.responseStatus)return Z;try{var he=j(f,0,[1,0,1,0,0,2,0,1]);"80"===f.substr(he,2)?Z.certStatus="good":"a1"===f.substr(he,2)?(Z.certStatus="revoked",Z.revocationTime=ar(_(f,he,[0]))):"82"===f.substr(he,2)&&(Z.certStatus="unknown")}catch(J){}try{var Se=j(f,0,[1,0,1,0,0,2,0,2]);Z.thisUpdate=ar(G(f,Se))}catch(J){}try{var Ce=j(f,0,[1,0,1,0,0,2,0,3]);"a0"===f.substr(Ce,2)&&(Z.nextUpdate=ar(_(f,Ce,[0])))}catch(J){}return Z},N.asn1.ocsp.OCSPParser=function(){var f=Error,v=Hn,_=new v,j=dn.getV,V=dn.getTLV,G=dn.getIdxbyList,Z=dn.getVbyList,ie=dn.getTLVbyList,he=dn.getVbyListEx,Se=dn.getTLVbyListEx,Ce=dn.getChildIdx;this.getOCSPRequest=function(J){var X=Ce(J,0);if(1!=X.length&&2!=X.length)throw new f("wrong number elements: "+X.length);return this.getTBSRequest(V(J,X[0]))},this.getTBSRequest=function(J){var X={},_e=Se(J,0,[0],"30");X.array=this.getRequestList(_e);var se=Se(J,0,["[2]",0],"30");return null!=se&&(X.ext=_.getExtParamArray(se)),X},this.getRequestList=function(J){for(var X=[],_e=Ce(J,0),se=0;se<_e.length;se++)J=V(J,_e[se]),X.push(this.getRequest(J));return X},this.getRequest=function(J){var X=Ce(J,0);if(1!=X.length&&2!=X.length)throw new f("wrong number elements: "+X.length);var _e=this.getCertID(V(J,X[0]));if(2==X.length){var se=G(J,0,[1,0]);_e.ext=_.getExtParamArray(V(J,se))}return _e},this.getCertID=function(J){var X=Ce(J,0);if(4!=X.length)throw new f("wrong number elements: "+X.length);var _e=new v,se={};return se.alg=_e.getAlgorithmIdentifierName(V(J,X[0])),se.issname=j(J,X[1]),se.isskey=j(J,X[2]),se.sbjsn=j(J,X[3]),se},this.getOCSPResponse=function(J){var _e,X=Ce(J,0),se=j(J,X[0]),Ae=parseInt(se);if(1==X.length)return{resstatus:Ae};var ge=ie(J,0,[1,0]);return(_e=this.getResponseBytes(ge)).resstatus=Ae,_e},this.getResponseBytes=function(J){var _e,X=Ce(J,0),se=ie(J,0,[1,0]);_e=this.getBasicOCSPResponse(se);var Ae=j(J,X[0]);return _e.restype=N.asn1.x509.OID.oid2name(gu(Ae)),_e},this.getBasicOCSPResponse=function(J){var _e,X=Ce(J,0);_e=this.getResponseData(V(J,X[0]));var se=new Hn;_e.alg=se.getAlgorithmIdentifierName(V(J,X[1]));var Ae=j(J,X[2]);_e.sighex=Ae.substr(2);var ge=he(J,0,["[0]"]);if(null!=ge){for(var Be=Ce(ge,0),Je=[],at=0;at<Be.length;at++){var st=V(ge,Be[at]);Je.push(st)}_e.certs=Je}return _e},this.getResponseData=function(J){var X=Ce(J,0),_e=X.length,se={},Ae=0;"a0"==J.substr(X[0],2)&&Ae++,se.respid=this.getResponderID(V(J,X[Ae++]));var ge=j(J,X[Ae++]);if(se.prodat=ar(ge),se.array=this.getSingleResponseList(V(J,X[Ae++])),"a1"==J.substr(X[_e-1],2)){var Be=ie(J,X[_e-1],[0]),Je=new Hn;se.ext=Je.getExtParamArray(Be)}return se},this.getResponderID=function(J){var X={};if("a2"==J.substr(0,2)){var _e=Z(J,0,[0]);X.key=_e}if("a1"==J.substr(0,2)){var se=ie(J,0,[0]),Ae=new Hn;X.name=Ae.getX500Name(se)}return X},this.getSingleResponseList=function(J){for(var X=Ce(J,0),_e=[],se=0;se<X.length;se++){var Ae=this.getSingleResponse(V(J,X[se]));_e.push(Ae)}return _e},this.getSingleResponse=function(J){var X=Ce(J,0),_e={},se=this.getCertID(V(J,X[0]));_e.certid=se;var Ae=this.getCertStatus(V(J,X[1]));if(_e.status=Ae,"18"==J.substr(X[2],2)){var ge=j(J,X[2]);_e.thisupdate=ar(ge)}for(var Be=3;Be<X.length;Be++){if("a0"==J.substr(X[Be],2)){var Je=Z(J,X[Be],[0],"18");_e.nextupdate=ar(Je)}if("a1"==J.substr(X[Be],2)){var at=new Hn,st=ie(J,0,[Be,0]);_e.ext=at.getExtParamArray(st)}}return _e},this.getCertStatus=function(J){var X={};if("8000"==J)return{status:"good"};if("8200"==J)return{status:"unknown"};if("a1"==J.substr(0,2)){X.status="revoked";var se=ar(Z(J,0,[0]));X.time=se}return X}},(void 0===N||!N)&&(N={}),(void 0===N.lang||!N.lang)&&(N.lang={}),N.lang.String=function(){},"function"==typeof F?(xs=function(f){return ha(F.from(f,"utf8").toString("base64"))},Pr=function(f){return F.from(ol(f),"base64").toString("utf8")}):(xs=function(f){return Ri(hu(al(f)))},Pr=function(f){return decodeURIComponent(Pi(ei(f)))}),N.lang.String.isInteger=function(f){return!!f.match(/^[0-9]+$/)||!!f.match(/^-[0-9]+$/)},N.lang.String.isHex=function(f){return ma(f)},N.lang.String.isBase64=function(f){return!(!(f=f.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||f.length%4!=0)},N.lang.String.isBase64URL=function(f){return!f.match(/[+/=]/)&&(f=ol(f),N.lang.String.isBase64(f))},N.lang.String.isIntegerArray=function(f){return!!(f=f.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},N.lang.String.isPrintable=function(f){return null!==f.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},N.lang.String.isIA5=function(f){return null!==f.match(/^[\x20-\x21\x23-\x7f]*$/)},N.lang.String.isMail=function(f){return null!==f.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var mu=function(f,v,_){return null==_&&(_="0"),f.length>=v?f:new Array(v-f.length+1).join(_)+f};function Wh(f,v){for(var _=0,A=0;A<f.length;A++)_|=1<<v[f[A]];var j=_.toString(2),V="";for(A=j.length-1;A>=0;A--)V+=j[A];return V}function Kt(f,v){var _=function(){};_.prototype=v.prototype,f.prototype=new _,f.prototype.constructor=f,f.superclass=v.prototype,v.prototype.constructor==Object.prototype.constructor&&(v.prototype.constructor=v)}(void 0===N||!N)&&(N={}),(void 0===N.crypto||!N.crypto)&&(N.crypto={}),N.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:E.algo.MD5,sha1:E.algo.SHA1,sha224:E.algo.SHA224,sha256:E.algo.SHA256,sha384:E.algo.SHA384,sha512:E.algo.SHA512,ripemd160:E.algo.RIPEMD160},this.getDigestInfoHex=function(f,v){if(void 0===this.DIGESTINFOHEAD[v])throw"alg not supported in Util.DIGESTINFOHEAD: "+v;return this.DIGESTINFOHEAD[v]+f},this.getPaddedDigestInfoHex=function(f,v,_){var A=this.getDigestInfoHex(f,v),j=_/4;if(A.length+22>j)throw"key is too short for SigAlg: keylen="+_+","+v;for(var V="0001",G="00"+A,Z="",ie=j-V.length-G.length,he=0;he<ie;he+=2)Z+="ff";return V+Z+G},this.hashString=function(f,v){return new N.crypto.MessageDigest({alg:v}).digestString(f)},this.hashHex=function(f,v){return new N.crypto.MessageDigest({alg:v}).digestHex(f)},this.sha1=function(f){return this.hashString(f,"sha1")},this.sha256=function(f){return this.hashString(f,"sha256")},this.sha256Hex=function(f){return this.hashHex(f,"sha256")},this.sha512=function(f){return this.hashString(f,"sha512")},this.sha512Hex=function(f){return this.hashHex(f,"sha512")},this.isKey=function(f){return f instanceof Nn||f instanceof N.crypto.DSA||f instanceof N.crypto.ECDSA}},N.crypto.Util.md5=function(f){return new N.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(f)},N.crypto.Util.ripemd160=function(f){return new N.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(f)},N.crypto.Util.SECURERANDOMGEN=new Eo,N.crypto.Util.getRandomHexOfNbytes=function(f){var v=new Array(f);return N.crypto.Util.SECURERANDOMGEN.nextBytes(v),vi(v)},N.crypto.Util.getRandomBigIntegerOfNbytes=function(f){return new C(N.crypto.Util.getRandomHexOfNbytes(f),16)},N.crypto.Util.getRandomHexOfNbits=function(f){var v=f%8,A=new Array((f-v)/8+1);return N.crypto.Util.SECURERANDOMGEN.nextBytes(A),A[0]=(255<<v&255^255)&A[0],vi(A)},N.crypto.Util.getRandomBigIntegerOfNbits=function(f){return new C(N.crypto.Util.getRandomHexOfNbits(f),16)},N.crypto.Util.getRandomBigIntegerZeroToMax=function(f){for(var v=f.bitLength();;){var _=N.crypto.Util.getRandomBigIntegerOfNbits(v);if(-1!=f.compareTo(_))return _}},N.crypto.Util.getRandomBigIntegerMinToMax=function(f,v){var _=f.compareTo(v);if(1==_)throw"biMin is greater than biMax";if(0==_)return f;var A=v.subtract(f);return N.crypto.Util.getRandomBigIntegerZeroToMax(A).add(f)},N.crypto.MessageDigest=function(f){this.setAlgAndProvider=function(j,V){if(null!==(j=N.crypto.MessageDigest.getCanonicalAlgName(j))&&void 0===V&&(V=N.crypto.Util.DEFAULTPROVIDER[j]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(j)&&"cryptojs"==V){try{this.md=N.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[j].create()}catch(G){throw"setAlgAndProvider hash alg set fail alg="+j+"/"+G}this.updateString=function(G){this.md.update(G)},this.updateHex=function(G){var Z=E.enc.Hex.parse(G);this.md.update(Z)},this.digest=function(){return this.md.finalize().toString(E.enc.Hex)},this.digestString=function(G){return this.updateString(G),this.digest()},this.digestHex=function(G){return this.updateHex(G),this.digest()}}if(-1!=":sha256:".indexOf(j)&&"sjcl"==V){try{this.md=new sjcl.hash.sha256}catch(G){throw"setAlgAndProvider hash alg set fail alg="+j+"/"+G}this.updateString=function(G){this.md.update(G)},this.updateHex=function(G){var Z=sjcl.codec.hex.toBits(G);this.md.update(Z)},this.digest=function(){var G=this.md.finalize();return sjcl.codec.hex.fromBits(G)},this.digestString=function(G){return this.updateString(G),this.digest()},this.digestHex=function(G){return this.updateHex(G),this.digest()}}},this.updateString=function(j){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(j){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(j){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(j){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==f&&void 0!==f.alg&&(this.algName=f.alg,void 0===f.prov&&(this.provName=N.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},N.crypto.MessageDigest.getCanonicalAlgName=function(f){return"string"==typeof f&&(f=(f=f.toLowerCase()).replace(/-/,"")),f},N.crypto.MessageDigest.getHashLength=function(f){var v=N.crypto.MessageDigest,_=v.getCanonicalAlgName(f);if(void 0===v.HASHLENGTH[_])throw"not supported algorithm: "+f;return v.HASHLENGTH[_]},N.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},N.crypto.Mac=function(f){this.setAlgAndProvider=function(G,Z){if(null==(G=G.toLowerCase())&&(G="hmacsha1"),"hmac"!=(G=G.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+G;void 0===Z&&(Z=N.crypto.Util.DEFAULTPROVIDER[G]),this.algProv=G+"/"+Z;var ie=G.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(ie)&&"cryptojs"==Z){try{this.mac=E.algo.HMAC.create(N.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[ie],this.pass)}catch(Se){throw"setAlgAndProvider hash alg set fail hashAlg="+ie+"/"+Se}this.updateString=function(Se){this.mac.update(Se)},this.updateHex=function(Se){var Ce=E.enc.Hex.parse(Se);this.mac.update(Ce)},this.doFinal=function(){return this.mac.finalize().toString(E.enc.Hex)},this.doFinalString=function(Se){return this.updateString(Se),this.doFinal()},this.doFinalHex=function(Se){return this.updateHex(Se),this.doFinal()}}},this.updateString=function(G){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(G){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(G){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(G){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(G){if("string"==typeof G){var Z=G;return(G.length%2==1||!G.match(/^[0-9A-Fa-f]+$/))&&(Z=gt(G)),void(this.pass=E.enc.Hex.parse(Z))}if("object"!=typeof G)throw"KJUR.crypto.Mac unsupported password type: "+G;if(Z=null,void 0!==G.hex){if(G.hex.length%2!=0||!G.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+G.hex;Z=G.hex}if(void 0!==G.utf8&&(Z=Es(G.utf8)),void 0!==G.rstr&&(Z=gt(G.rstr)),void 0!==G.b64&&(Z=S(G.b64)),void 0!==G.b64u&&(Z=ei(G.b64u)),null==Z)throw"KJUR.crypto.Mac unsupported password type: "+G;this.pass=E.enc.Hex.parse(Z)},void 0!==f&&(void 0!==f.pass&&this.setPassword(f.pass),void 0!==f.alg&&(this.algName=f.alg,void 0===f.prov&&(this.provName=N.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},N.crypto.Signature=function(f){var v=null;if(this._setAlgNames=function(){var ge=this.algName.match(/^(.+)with(.+)$/);ge&&(this.mdAlgName=ge[1].toLowerCase(),this.pubkeyAlgName=ge[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(ge,Be){for(var Je="",at=Be/4-ge.length,st=0;st<at;st++)Je+="0";return Je+ge},this.setAlgAndProvider=function(ge,Be){if(this._setAlgNames(),"cryptojs/jsrsa"!=Be)throw new Error("provider not supported: "+Be);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new N.crypto.MessageDigest({alg:this.mdAlgName})}catch(Je){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+Je)}this.init=function(Je,at){var st=null;try{st=void 0===at?fr.getKey(Je):fr.getKey(Je,at)}catch(kt){throw"init failed:"+kt}if(!0===st.isPrivate)this.prvKey=st,this.state="SIGN";else{if(!0!==st.isPublic)throw"init failed.:"+st;this.pubKey=st,this.state="VERIFY"}},this.updateString=function(Je){this.md.updateString(Je)},this.updateHex=function(Je){this.md.updateHex(Je)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==N.crypto.ECDSA&&(this.prvKey=new N.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Nn&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Nn&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof N.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof N.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(Je){return this.updateString(Je),this.sign()},this.signHex=function(Je){return this.updateHex(Je),this.sign()},this.verify=function(Je){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==N.crypto.ECDSA&&(this.pubKey=new N.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Nn&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,Je,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Nn&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,Je);if(void 0!==N.crypto.ECDSA&&this.pubKey instanceof N.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Je);if(void 0!==N.crypto.DSA&&this.pubKey instanceof N.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Je);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(ge,Be){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(ge){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(ge){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(ge){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(ge){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(ge){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=f,void 0!==f&&(void 0!==f.alg&&(this.algName=f.alg,this.provName=void 0===f.prov?N.crypto.Util.DEFAULTPROVIDER[this.algName]:f.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==f.psssaltlen&&(this.pssSaltLen=f.psssaltlen),void 0!==f.prvkeypem)){if(void 0!==f.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{v=fr.getKey(f.prvkeypem),this.init(v)}catch(ge){throw"fatal error to load pem private key: "+ge}}},N.crypto.Cipher=function(f){},N.crypto.Cipher.encrypt=function(f,v,_){if(v instanceof Nn&&v.isPublic){var A=N.crypto.Cipher.getAlgByKeyAndName(v,_);if("RSA"===A)return v.encrypt(f);if("RSAOAEP"===A)return v.encryptOAEP(f,"sha1");var j=A.match(/^RSAOAEP(\d+)$/);if(null!==j)return v.encryptOAEP(f,"sha"+j[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+_}throw"Cipher.encrypt: unsupported key or algorithm"},N.crypto.Cipher.decrypt=function(f,v,_){if(v instanceof Nn&&v.isPrivate){var A=N.crypto.Cipher.getAlgByKeyAndName(v,_);if("RSA"===A)return v.decrypt(f);if("RSAOAEP"===A)return v.decryptOAEP(f,"sha1");var j=A.match(/^RSAOAEP(\d+)$/);if(null!==j)return v.decryptOAEP(f,"sha"+j[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+_}throw"Cipher.decrypt: unsupported key or algorithm"},N.crypto.Cipher.getAlgByKeyAndName=function(f,v){if(f instanceof Nn){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(v))return v;if(null==v)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+v}throw"getAlgByKeyAndName: not supported algorithm name: "+v},N.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(void 0===N||!N)&&(N={}),(void 0===N.crypto||!N.crypto)&&(N.crypto={}),N.crypto.ECDSA=function(f){var V=Error,G=C,Z=Xn,ie=N.crypto.ECDSA,he=N.crypto.ECParameterDB,Se=ie.getName,J=dn.getVbyListEx,X=dn.isASN1HEX,_e=new Eo;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(ge){return new G(ge.bitLength(),_e).mod(ge.subtract(G.ONE)).add(G.ONE)},this.setNamedCurve=function(ge){this.ecparams=he.getByName(ge),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=ge},this.setPrivateKeyHex=function(ge){this.isPrivate=!0,this.prvKeyHex=ge},this.setPublicKeyHex=function(ge){this.isPublic=!0,this.pubKeyHex=ge},this.getPublicKeyXYHex=function(){var ge=this.pubKeyHex;if("04"!==ge.substr(0,2))throw"this method supports uncompressed format(04) only";var Be=this.ecparams.keycharlen;if(ge.length!==2+2*Be)throw"malformed public key hex length";var Je={};return Je.x=ge.substr(2,Be),Je.y=ge.substr(2+Be),Je},this.getShortNISTPCurveName=function(){var ge=this.curveName;return"secp256r1"===ge||"NIST P-256"===ge||"P-256"===ge||"prime256v1"===ge?"P-256":"secp384r1"===ge||"NIST P-384"===ge||"P-384"===ge?"P-384":"secp521r1"===ge||"NIST P-521"===ge||"P-521"===ge?"P-521":null},this.generateKeyPairHex=function(){var Be=this.getBigRandom(this.ecparams.n),Je=this.ecparams.keycharlen,at=("0000000000"+Be.toString(16)).slice(-Je);return this.setPrivateKeyHex(at),{ecprvhex:at,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var ge=new G(this.prvKeyHex,16),Be=this.ecparams.G.multiply(ge),Je=Be.getX().toBigInteger(),at=Be.getY().toBigInteger(),st=this.ecparams.keycharlen,Oe="04"+("0000000000"+Je.toString(16)).slice(-st)+("0000000000"+at.toString(16)).slice(-st);return this.setPublicKeyHex(Oe),Oe},this.signWithMessageHash=function(ge){return this.signHex(ge,this.prvKeyHex)},this.signHex=function(ge,Be){var Je=new G(Be,16),at=this.ecparams.n,st=new G(ge.substring(0,this.ecparams.keycharlen),16);do{var kt=this.getBigRandom(at),je=this.ecparams.G.multiply(kt).getX().toBigInteger().mod(at)}while(je.compareTo(G.ZERO)<=0);var ut=kt.modInverse(at).multiply(st.add(Je.multiply(je))).mod(at);return ie.biRSSigToASN1Sig(je,ut)},this.sign=function(ge,Be){var Je=Be,at=this.ecparams.n,st=G.fromByteArrayUnsigned(ge);do{var kt=this.getBigRandom(at),je=this.ecparams.G.multiply(kt).getX().toBigInteger().mod(at)}while(je.compareTo(C.ZERO)<=0);var ut=kt.modInverse(at).multiply(st.add(Je.multiply(je))).mod(at);return this.serializeSig(je,ut)},this.verifyWithMessageHash=function(ge,Be){return this.verifyHex(ge,Be,this.pubKeyHex)},this.verifyHex=function(ge,Be,Je){try{var at,st,kt=ie.parseSigHex(Be);at=kt.r,st=kt.s;var jt=Z.decodeFromHex(this.ecparams.curve,Je),Oe=new G(ge.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(Oe,at,st,jt)}catch(je){return!1}},this.verify=function(ge,Be,Je){var at,st,jt;if(Bitcoin.Util.isArray(Be)){var kt=this.parseSig(Be);at=kt.r,st=kt.s}else{if("object"!=typeof Be||!Be.r||!Be.s)throw"Invalid value for signature";at=Be.r,st=Be.s}if(Je instanceof Xn)jt=Je;else{if(!Bitcoin.Util.isArray(Je))throw"Invalid format for pubkey value, must be byte array or ECPointFp";jt=Z.decodeFrom(this.ecparams.curve,Je)}var Oe=G.fromByteArrayUnsigned(ge);return this.verifyRaw(Oe,at,st,jt)},this.verifyRaw=function(ge,Be,Je,at){var st=this.ecparams.n,kt=this.ecparams.G;if(Be.compareTo(G.ONE)<0||Be.compareTo(st)>=0||Je.compareTo(G.ONE)<0||Je.compareTo(st)>=0)return!1;var jt=Je.modInverse(st),Oe=ge.multiply(jt).mod(st),je=Be.multiply(jt).mod(st);return kt.multiply(Oe).add(at.multiply(je)).getX().toBigInteger().mod(st).equals(Be)},this.serializeSig=function(ge,Be){var Je=ge.toByteArraySigned(),at=Be.toByteArraySigned(),st=[];return st.push(2),st.push(Je.length),(st=st.concat(Je)).push(2),st.push(at.length),(st=st.concat(at)).unshift(st.length),st.unshift(48),st},this.parseSig=function(ge){var Be;if(48!=ge[0])throw new Error("Signature not a valid DERSequence");if(2!=ge[Be=2])throw new Error("First element in signature must be a DERInteger");var Je=ge.slice(Be+2,Be+2+ge[Be+1]);if(2!=ge[Be+=2+ge[Be+1]])throw new Error("Second element in signature must be a DERInteger");var at=ge.slice(Be+2,Be+2+ge[Be+1]);return Be+=2+ge[Be+1],{r:G.fromByteArrayUnsigned(Je),s:G.fromByteArrayUnsigned(at)}},this.parseSigCompact=function(ge){if(65!==ge.length)throw"Signature has the wrong length";var Be=ge[0]-27;if(Be<0||Be>7)throw"Invalid signature type";var Je=this.ecparams.n;return{r:G.fromByteArrayUnsigned(ge.slice(1,33)).mod(Je),s:G.fromByteArrayUnsigned(ge.slice(33,65)).mod(Je),i:Be}},this.readPKCS5PrvKeyHex=function(ge){if(!1===X(ge))throw new Error("not ASN.1 hex string");var Be,Je,at;try{Be=J(ge,0,["[0]",0],"06"),Je=J(ge,0,[1],"04");try{at=J(ge,0,["[1]",0],"03")}catch(st){}}catch(st){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=Se(Be),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(at),this.setPrivateKeyHex(Je),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(ge){if(!1===X(ge))throw new V("not ASN.1 hex string");var Je,at,st;try{J(ge,0,[1,0],"06"),Je=J(ge,0,[1,1],"06"),at=J(ge,0,[2,0,1],"04");try{st=J(ge,0,[2,0,"[1]",0],"03")}catch(kt){}}catch(kt){throw new V("malformed PKCS#8 plain ECC private key")}if(this.curveName=Se(Je),void 0===this.curveName)throw new V("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(at),this.isPublic=!1},this.readPKCS8PubKeyHex=function(ge){if(!1===X(ge))throw new V("not ASN.1 hex string");var Je,at;try{J(ge,0,[0,0],"06"),Je=J(ge,0,[0,1],"06"),at=J(ge,0,[1],"03")}catch(st){throw new V("malformed PKCS#8 ECC public key")}if(this.curveName=Se(Je),null===this.curveName)throw new V("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(at)},this.readCertPubKeyHex=function(ge,Be){if(!1===X(ge))throw new V("not ASN.1 hex string");var Je,at;try{Je=J(ge,0,[0,5,0,1],"06"),at=J(ge,0,[0,5,1],"03")}catch(st){throw new V("malformed X.509 certificate ECC public key")}if(this.curveName=Se(Je),null===this.curveName)throw new V("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(at)},void 0!==f&&void 0!==f.curve&&(this.curveName=f.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==f&&(void 0!==f.prv&&this.setPrivateKeyHex(f.prv),void 0!==f.pub&&this.setPublicKeyHex(f.pub))},N.crypto.ECDSA.parseSigHex=function(f){var v=N.crypto.ECDSA.parseSigHexInHexRS(f);return{r:new C(v.r,16),s:new C(v.s,16)}},N.crypto.ECDSA.parseSigHexInHexRS=function(f){var _=dn.getChildIdx,A=dn.getV;if(dn.checkStrictDER(f,0),"30"!=f.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var j=_(f,0);if(2!=j.length)throw new Error("signature shall have two elements");var V=j[0],G=j[1];if("02"!=f.substr(V,2))throw new Error("1st item not ASN.1 integer");if("02"!=f.substr(G,2))throw new Error("2nd item not ASN.1 integer");return{r:A(f,V),s:A(f,G)}},N.crypto.ECDSA.asn1SigToConcatSig=function(f){var v=N.crypto.ECDSA.parseSigHexInHexRS(f),_=v.r,A=v.s;if(_.length>=130&&_.length<=134){if(_.length%2!=0)throw Error("unknown ECDSA sig r length error");if(A.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==_.substr(0,2)&&(_=_.substr(2)),"00"==A.substr(0,2)&&(A=A.substr(2));var j=Math.max(_.length,A.length);return(_=("000000"+_).slice(-j))+("000000"+A).slice(-j)}if("00"==_.substr(0,2)&&_.length%32==2&&(_=_.substr(2)),"00"==A.substr(0,2)&&A.length%32==2&&(A=A.substr(2)),_.length%32==30&&(_="00"+_),A.length%32==30&&(A="00"+A),_.length%32!=0)throw Error("unknown ECDSA sig r length error");if(A.length%32!=0)throw Error("unknown ECDSA sig s length error");return _+A},N.crypto.ECDSA.concatSigToASN1Sig=function(f){if(f.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var v=f.substr(0,f.length/2),_=f.substr(f.length/2);return N.crypto.ECDSA.hexRSSigToASN1Sig(v,_)},N.crypto.ECDSA.hexRSSigToASN1Sig=function(f,v){var _=new C(f,16),A=new C(v,16);return N.crypto.ECDSA.biRSSigToASN1Sig(_,A)},N.crypto.ECDSA.biRSSigToASN1Sig=function(f,v){var _=N.asn1,A=new _.DERInteger({bigint:f}),j=new _.DERInteger({bigint:v});return new _.DERSequence({array:[A,j]}).tohex()},N.crypto.ECDSA.getName=function(f){return"2b8104001f"===f?"secp192k1":"2a8648ce3d030107"===f?"secp256r1":"2b8104000a"===f?"secp256k1":"2b81040021"===f?"secp224r1":"2b81040022"===f?"secp384r1":"2b81040023"===f?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(f)?"secp256r1":-1!=="|secp256k1|".indexOf(f)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(f)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(f)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(f)?"secp521r1":null},(void 0===N||!N)&&(N={}),(void 0===N.crypto||!N.crypto)&&(N.crypto={}),N.crypto.ECParameterDB=new function(){var f={},v={};function _(A){return new C(A,16)}this.getByName=function(A){var j=A;if(void 0!==v[j]&&(j=v[A]),void 0!==f[j])return f[j];throw"unregistered EC curve name: "+j},this.regist=function(A,j,V,G,Z,ie,he,Se,Ce,J,X,_e){f[A]={};var se=_(V),Ae=_(G),ge=_(Z),Be=_(ie),Je=_(he),at=new Jo(se,Ae,ge),st=at.decodePointHex("04"+Se+Ce);f[A].name=A,f[A].keylen=j,f[A].keycharlen=2*Math.ceil(j/8),f[A].curve=at,f[A].G=st,f[A].n=Be,f[A].h=Je,f[A].oid=X,f[A].info=_e;for(var kt=0;kt<J.length;kt++)v[J[kt]]=A}},N.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),N.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),N.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),N.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),N.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),N.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),N.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),N.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),N.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),N.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(void 0===N||!N)&&(N={}),(void 0===N.crypto||!N.crypto)&&(N.crypto={}),N.crypto.DSA=function(){var _=dn.getVbyListEx,A=dn.isASN1HEX,j=C;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(V,G,Z,ie,he){this.isPrivate=!0,this.p=V,this.q=G,this.g=Z,this.y=ie,this.x=he},this.setPrivateHex=function(V,G,Z,ie,he){var Se,Ce,J,X,_e;Se=new C(V,16),Ce=new C(G,16),J=new C(Z,16),X="string"==typeof ie&&ie.length>1?new C(ie,16):null,_e=new C(he,16),this.setPrivate(Se,Ce,J,X,_e)},this.setPublic=function(V,G,Z,ie){this.isPublic=!0,this.p=V,this.q=G,this.g=Z,this.y=ie,this.x=null},this.setPublicHex=function(V,G,Z,ie){var he,Se,Ce,J;he=new C(V,16),Se=new C(G,16),Ce=new C(Z,16),J=new C(ie,16),this.setPublic(he,Se,Ce,J)},this.signWithMessageHash=function(V){var G=this.p,Z=this.q,ie=this.g,Se=this.x,Ce=N.crypto.Util.getRandomBigIntegerMinToMax(C.ONE.add(C.ONE),Z.subtract(C.ONE)),X=new C(V.substr(0,Z.bitLength()/4),16),_e=ie.modPow(Ce,G).mod(Z),se=Ce.modInverse(Z).multiply(X.add(Se.multiply(_e))).mod(Z);return N.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:_e}},{int:{bigint:se}}]})},this.verifyWithMessageHash=function(V,G){var Z=this.p,ie=this.q,he=this.g,Se=this.y,Ce=this.parseASN1Signature(G),J=Ce[0],X=Ce[1],se=new C(V.substr(0,ie.bitLength()/4),16);if(C.ZERO.compareTo(J)>0||J.compareTo(ie)>0||C.ZERO.compareTo(X)>=0||X.compareTo(ie)>0)throw"invalid DSA signature";var Ae=X.modInverse(ie),ge=se.multiply(Ae).mod(ie),Be=J.multiply(Ae).mod(ie);return 0==he.modPow(ge,Z).multiply(Se.modPow(Be,Z)).mod(Z).mod(ie).compareTo(J)},this.parseASN1Signature=function(V){try{return[new j(_(V,0,[0],"02"),16),new j(_(V,0,[1],"02"),16)]}catch(ie){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(V){var G,Z,ie,he,Se;if(!1===A(V))throw new Error("not ASN.1 hex string");try{G=_(V,0,[1],"02"),Z=_(V,0,[2],"02"),ie=_(V,0,[3],"02"),he=_(V,0,[4],"02"),Se=_(V,0,[5],"02")}catch(Ce){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(G,Z,ie,he,Se)},this.readPKCS8PrvKeyHex=function(V){var G,Z,ie,he;if(!1===A(V))throw new Error("not ASN.1 hex string");try{G=_(V,0,[1,1,0],"02"),Z=_(V,0,[1,1,1],"02"),ie=_(V,0,[1,1,2],"02"),he=_(V,0,[2,0],"02")}catch(Se){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(G,Z,ie,null,he)},this.readPKCS8PubKeyHex=function(V){var G,Z,ie,he;if(!1===A(V))throw new Error("not ASN.1 hex string");try{G=_(V,0,[0,1,0],"02"),Z=_(V,0,[0,1,1],"02"),ie=_(V,0,[0,1,2],"02"),he=_(V,0,[1,0],"02")}catch(Se){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(G,Z,ie,he)},this.readCertPubKeyHex=function(V,G){var Z,ie,he,Se;if(!1===A(V))throw new Error("not ASN.1 hex string");try{Z=_(V,0,[0,5,0,1,0],"02"),ie=_(V,0,[0,5,0,1,1],"02"),he=_(V,0,[0,5,0,1,2],"02"),Se=_(V,0,[0,5,1,0],"02")}catch(Ce){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(Z,ie,he,Se)}};var fr=function(){var f=function(se,Ae,ge){return A(E.AES,se,Ae,ge)},A=function(se,Ae,ge,Be){var Je=E.enc.Hex.parse(Ae),at=E.enc.Hex.parse(ge),st=E.enc.Hex.parse(Be),kt={};kt.key=at,kt.iv=st,kt.ciphertext=Je;var jt=se.decrypt(kt,at,{iv:st});return E.enc.Hex.stringify(jt)},j=function(se,Ae,ge){return Z(E.AES,se,Ae,ge)},Z=function(se,Ae,ge,Be){var Je=E.enc.Hex.parse(Ae),at=E.enc.Hex.parse(ge),st=E.enc.Hex.parse(Be),kt=se.encrypt(Je,at,{iv:st}),jt=E.enc.Hex.parse(kt.toString());return E.enc.Base64.stringify(jt)},ie={"AES-256-CBC":{proc:f,eproc:j,keylen:32,ivlen:16},"AES-192-CBC":{proc:f,eproc:j,keylen:24,ivlen:16},"AES-128-CBC":{proc:f,eproc:j,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(se,Ae,ge){return A(E.TripleDES,se,Ae,ge)},eproc:function(se,Ae,ge){return Z(E.TripleDES,se,Ae,ge)},keylen:24,ivlen:8},"DES-CBC":{proc:function(se,Ae,ge){return A(E.DES,se,Ae,ge)},eproc:function(se,Ae,ge){return Z(E.DES,se,Ae,ge)},keylen:8,ivlen:8}},Ce=function(se){var Ae={},ge=se.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));ge&&(Ae.cipher=ge[1],Ae.ivsalt=ge[2]);var Be=se.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Be&&(Ae.type=Be[1]);var Je=-1,at=0;-1!=se.indexOf("\r\n\r\n")&&(Je=se.indexOf("\r\n\r\n"),at=2),-1!=se.indexOf("\n\n")&&(Je=se.indexOf("\n\n"),at=1);var st=se.indexOf("-----END");if(-1!=Je&&-1!=st){var kt=se.substring(Je+2*at,st-at);kt=kt.replace(/\s+/g,""),Ae.data=kt}return Ae},J=function(se,Ae,ge){for(var Be=ge.substring(0,16),Je=E.enc.Hex.parse(Be),at=E.enc.Utf8.parse(Ae),st=ie[se].keylen+ie[se].ivlen,kt="",jt=null;;){var Oe=E.algo.MD5.create();if(null!=jt&&Oe.update(jt),Oe.update(at),Oe.update(Je),jt=Oe.finalize(),(kt+=E.enc.Hex.stringify(jt)).length>=2*st)break}var je={};return je.keyhex=kt.substr(0,2*ie[se].keylen),je.ivhex=kt.substr(2*ie[se].keylen,2*ie[se].ivlen),je},X=function(se,Ae,ge,Be){var Je=E.enc.Base64.parse(se),at=E.enc.Hex.stringify(Je);return(0,ie[Ae].proc)(at,ge,Be)};return{version:"1.0.0",parsePKCS5PEM:function(se){return Ce(se)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(se,Ae,ge){return J(se,Ae,ge)},decryptKeyB64:function(se,Ae,ge,Be){return X(se,Ae,ge,Be)},getDecryptedKeyHex:function(se,Ae){var ge=Ce(se),Je=ge.cipher,at=ge.ivsalt,st=ge.data,kt=J(Je,Ae,at);return X(st,Je,kt.keyhex,at)},getEncryptedPKCS5PEMFromPrvKeyHex:function(se,Ae,ge,Be,Je){var ut="";if((void 0===Be||null==Be)&&(Be="AES-256-CBC"),void 0===ie[Be])throw new Error("KEYUTIL unsupported algorithm: "+Be);if(void 0===Je||null==Je){var st=function(se){var Ae=E.lib.WordArray.random(se);return E.enc.Hex.stringify(Ae)}(ie[Be].ivlen);Je=st.toUpperCase()}var Oe=function(se,Ae,ge,Be){return(0,ie[Ae].eproc)(se,ge,Be)}(Ae,Be,J(Be,ge,Je).keyhex,Je);return ut="-----BEGIN "+se+" PRIVATE KEY-----\r\n",ut+="Proc-Type: 4,ENCRYPTED\r\n",ut+="DEK-Info: "+Be+","+Je+"\r\n",ut+="\r\n",(ut+=Oe.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+se+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(se){var ge=dn.getChildIdx,Be=dn.getV,Je={},at=ge(se,0);if(2!=at.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+at.length);Je.ciphertext=Be(se,at[1]);var st=ge(se,at[0]);if(2!=st.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+st.length);if("2a864886f70d01050d"!=Be(se,st[0]))throw new Error("this only supports pkcs5PBES2");var kt=ge(se,st[1]);if(2!=st.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+kt.length);var jt=ge(se,kt[1]);if(2!=jt.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+jt.length);if("2a864886f70d0307"!=Be(se,jt[0]))throw"this only supports TripleDES";Je.encryptionSchemeAlg="TripleDES",Je.encryptionSchemeIV=Be(se,jt[1]);var Oe=ge(se,kt[0]);if(2!=Oe.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+Oe.length);if("2a864886f70d01050c"!=Be(se,Oe[0]))throw new Error("this only supports pkcs5PBKDF2");var je=ge(se,Oe[1]);if(je.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+je.length);Je.pbkdf2Salt=Be(se,je[0]);var ut=Be(se,je[1]);try{Je.pbkdf2Iter=parseInt(ut,16)}catch(pt){throw new Error("malformed format pbkdf2Iter: "+ut)}return Je},getPBKDF2KeyHexFromParam:function(se,Ae){var ge=E.enc.Hex.parse(se.pbkdf2Salt),Je=E.PBKDF2(Ae,ge,{keySize:6,iterations:se.pbkdf2Iter});return E.enc.Hex.stringify(Je)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(se,Ae){var ge=sn(se,"ENCRYPTED PRIVATE KEY"),Be=this.parseHexOfEncryptedPKCS8(ge),Je=fr.getPBKDF2KeyHexFromParam(Be,Ae),at={};at.ciphertext=E.enc.Hex.parse(Be.ciphertext);var st=E.enc.Hex.parse(Je),kt=E.enc.Hex.parse(Be.encryptionSchemeIV),jt=E.TripleDES.decrypt(at,st,{iv:kt});return E.enc.Hex.stringify(jt)},getKeyFromEncryptedPKCS8PEM:function(se,Ae){var ge=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(se,Ae);return this.getKeyFromPlainPrivatePKCS8Hex(ge)},parsePlainPrivatePKCS8Hex:function(se){var Ae=dn,ge=Ae.getChildIdx,Be=Ae.getV,Je={algparam:null};if("30"!=se.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var at=ge(se,0);if(at.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=se.substr(at[1],2))throw new Error("malformed PKCS8 private key(code:003)");var st=ge(se,at[1]);if(2!=st.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=se.substr(st[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(Je.algoid=Be(se,st[0]),"06"==se.substr(st[1],2)&&(Je.algparam=Be(se,st[1])),"04"!=se.substr(at[2],2))throw new Error("malformed PKCS8 private key(code:006)");return Je.keyidx=Ae.getVidx(se,at[2]),Je},getKeyFromPlainPrivatePKCS8PEM:function(se){var Ae=sn(se,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Ae)},getKeyFromPlainPrivatePKCS8Hex:function(se){var ge,Ae=this.parsePlainPrivatePKCS8Hex(se);if("2a864886f70d010101"==Ae.algoid)ge=new Nn;else if("2a8648ce380401"==Ae.algoid)ge=new N.crypto.DSA;else{if("2a8648ce3d0201"!=Ae.algoid)throw new Error("unsupported private key algorithm");ge=new N.crypto.ECDSA}return ge.readPKCS8PrvKeyHex(se),ge},_getKeyFromPublicPKCS8Hex:function(se){var Ae,ge=dn.getVbyList(se,0,[0,0],"06");if("2a864886f70d010101"===ge)Ae=new Nn;else if("2a8648ce380401"===ge)Ae=new N.crypto.DSA;else{if("2a8648ce3d0201"!==ge)throw new Error("unsupported PKCS#8 public key hex");Ae=new N.crypto.ECDSA}return Ae.readPKCS8PubKeyHex(se),Ae},parsePublicRawRSAKeyHex:function(se){var ge=dn.getChildIdx,Be=dn.getV,Je={};if("30"!=se.substr(0,2))throw new Error("malformed RSA key(code:001)");var at=ge(se,0);if(2!=at.length)throw new Error("malformed RSA key(code:002)");if("02"!=se.substr(at[0],2))throw new Error("malformed RSA key(code:003)");if(Je.n=Be(se,at[0]),"02"!=se.substr(at[1],2))throw new Error("malformed RSA key(code:004)");return Je.e=Be(se,at[1]),Je},parsePublicPKCS8Hex:function(se){var Ae=dn,ge=Ae.getChildIdx,Be=Ae.getV,Je={algparam:null},at=ge(se,0);if(2!=at.length)throw new Error("outer DERSequence shall have 2 elements: "+at.length);var st=at[0];if("30"!=se.substr(st,2))throw new Error("malformed PKCS8 public key(code:001)");var kt=ge(se,st);if(2!=kt.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=se.substr(kt[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(Je.algoid=Be(se,kt[0]),"06"==se.substr(kt[1],2)?Je.algparam=Be(se,kt[1]):"30"==se.substr(kt[1],2)&&(Je.algparam={},Je.algparam.p=Ae.getVbyList(se,kt[1],[0],"02"),Je.algparam.q=Ae.getVbyList(se,kt[1],[1],"02"),Je.algparam.g=Ae.getVbyList(se,kt[1],[2],"02")),"03"!=se.substr(at[1],2))throw new Error("malformed PKCS8 public key(code:004)");return Je.key=Be(se,at[1]).substr(2),Je}}}();function Hl(f,v){for(var _="",A=v/4-f.length,j=0;j<A;j++)_+="0";return _+f}function zd(f,v,_){for(var A="",j=0;A.length<v;)A+=Wi(_(gt(f+String.fromCharCode.apply(String,[(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j])))),j+=1;return A}function Zd(f){for(var v in N.crypto.Util.DIGESTINFOHEAD){var _=N.crypto.Util.DIGESTINFOHEAD[v],A=_.length;if(f.substring(0,A)==_)return[v,f.substring(A)]}return[]}function Hn(f){var Je,v=dn,_=v.getChildIdx,A=v.getV,V=v.parse,G=v.getTLV,Z=v.getVbyList,ie=v.getVbyListEx,he=v.getTLVbyList,Se=v.getTLVbyListEx,Ce=v.getIdxbyList,J=v.getIdxbyListEx,X=v.getVidx,_e=v.getInt,se=v.oidname,Ae=v.hextooidstr,Be=sn,at=Error;try{Je=N.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(Oe){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var Oe=he(this.hex,0,[0,0]);if("a0"==Oe.substr(0,2)){var je=he(Oe,0,[0]),ut=_e(je,0);if(ut<0||2<ut)throw new Error("malformed version field");return this.version=ut+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return ie(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var Oe=Se(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(Oe)},this.getAlgorithmIdentifierName=function(Oe){for(var je in Je)if(Oe===Je[je])return je;return se(ie(Oe,0,[0],"06"))},this.getIssuer=function(Oe,je){return this.getX500Name(this.getIssuerHex(),Oe,je)},this.getIssuerHex=function(){return he(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(Oe,je){return this.getX500Name(this.getSubjectHex(),Oe,je)},this.getSubjectHex=function(){return he(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var Oe=Z(this.hex,0,[0,4+this.foffset,0]);return Oe=Oe.replace(/(..)/g,"%$1"),decodeURIComponent(Oe)},this.getNotAfter=function(){var Oe=Z(this.hex,0,[0,4+this.foffset,1]);return Oe=Oe.replace(/(..)/g,"%$1"),decodeURIComponent(Oe)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return he(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var Oe=this.getSPKI();return null==Oe?null:Z(Oe,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return Ce(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var Oe=this.getPublicKeyIdx();return Ce(this.hex,Oe,[1,0],"30")},this.getPublicKey=function(){return fr.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var Oe=he(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(Oe)},this.getSignatureValueHex=function(){return Z(this.hex,0,[2],"03",!0)},this.verifySignature=function(Oe){var je=this.getSignatureAlgorithmField(),ut=this.getSignatureValueHex(),pt=he(this.hex,0,[0],"30"),Et=new N.crypto.Signature({alg:je});return Et.init(Oe),Et.updateHex(pt),Et.verify(ut)},this.parseExt=function(Oe){var je,ut,pt;if(void 0===Oe){if(3!==this.version)return-1;je=Ce(pt=this.hex,0,[0,7,0],"30"),ut=_(pt,je)}else{pt=sn(Oe);var Et=Ce(pt,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=A(pt,Et))return void(this.aExtInfo=new Array);je=Ce(pt,0,[0,3,0,1,0],"30"),ut=_(pt,je),this.hex=pt}this.aExtInfo=new Array;for(var Ft=0;Ft<ut.length;Ft++){var bt={critical:!1},Mt=0;3===_(pt,ut[Ft]).length&&(bt.critical=!0,Mt=1),bt.oid=v.hextooidstr(Z(pt,ut[Ft],[0],"06"));var Vt=Ce(pt,ut[Ft],[1+Mt]);bt.vidx=X(pt,Vt),this.aExtInfo.push(bt)}},this.getExtInfo=function(Oe){var je=this.aExtInfo,ut=Oe;if(Oe.match(/^[0-9.]+$/)||(ut=N.asn1.x509.OID.name2oid(Oe)),""!==ut)for(var pt=0;pt<je.length;pt++)if(je[pt].oid===ut)return je[pt]},this.getCriticalExtV=function(Oe,je,ut){if(null!=je)return[je,ut];var pt=this.getExtInfo(Oe);return null==pt?[null,null]:[G(this.hex,pt.vidx),pt.critical]},this.getExtBasicConstraints=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("basicConstraints");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"basicConstraints"};if(je&&(pt.critical=!0),"3000"===Oe)return pt;if("30030101ff"===Oe)return pt.cA=!0,pt;if("30060101ff02"===Oe.substr(0,12)){var Et=A(Oe,10),Ft=parseInt(Et,16);return pt.cA=!0,pt.pathLen=Ft,pt}throw new Error("hExtV parse error: "+Oe)},this.getExtNameConstraints=function(Oe,je){var ut=this.getCriticalExtV("nameConstraints",Oe,je);if(je=ut[1],null!=(Oe=ut[0])){var pt={extname:"nameConstraints"};je&&(pt.critical=!0);for(var Et=_(Oe,0),Ft=0;Ft<Et.length;Ft++){for(var bt=[],St=_(Oe,Et[Ft]),Mt=0;Mt<St.length;Mt++){var Vt=G(Oe,St[Mt]),Mn=this.getGeneralSubtree(Vt);bt.push(Mn)}var Rn=Oe.substr(Et[Ft],2);"a0"==Rn?pt.permit=bt:"a1"==Rn&&(pt.exclude=bt)}return pt}},this.getGeneralSubtree=function(Oe){var je=_(Oe,0),ut=je.length;if(ut<1||2<ut)throw new Error("wrong num elements");for(var pt=this.getGeneralName(G(Oe,je[0])),Et=1;Et<ut;Et++){var Ft=Oe.substr(je[Et],2),bt=A(Oe,je[Et]),St=parseInt(bt,16);"80"==Ft&&(pt.min=St),"81"==Ft&&(pt.max=St)}return pt},this.getExtKeyUsage=function(Oe,je){var ut=this.getCriticalExtV("keyUsage",Oe,je);if(je=ut[1],null!=(Oe=ut[0])){var pt={extname:"keyUsage"};return je&&(pt.critical=!0),pt.names=this.getExtKeyUsageString(Oe).split(","),pt}},this.getExtKeyUsageBin=function(Oe){if(void 0===Oe){var je=this.getExtInfo("keyUsage");if(void 0===je)return"";Oe=G(this.hex,je.vidx)}if(8!=Oe.length&&10!=Oe.length)throw new Error("malformed key usage value: "+Oe);var ut="000000000000000"+parseInt(Oe.substr(6),16).toString(2);return 8==Oe.length&&(ut=ut.slice(-8)),10==Oe.length&&(ut=ut.slice(-16)),""==(ut=ut.replace(/0+$/,""))&&(ut="0"),ut},this.getExtKeyUsageString=function(Oe){for(var je=this.getExtKeyUsageBin(Oe),ut=new Array,pt=0;pt<je.length;pt++)"1"==je.substr(pt,1)&&ut.push(Hn.KEYUSAGE_NAME[pt]);return ut.join(",")},this.getExtSubjectKeyIdentifier=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("subjectKeyIdentifier");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"subjectKeyIdentifier"};je&&(pt.critical=!0);var Et=A(Oe,0);return pt.kid={hex:Et},pt},this.getExtAuthorityKeyIdentifier=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("authorityKeyIdentifier");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"authorityKeyIdentifier"};je&&(pt.critical=!0);for(var Et=_(Oe,0),Ft=0;Ft<Et.length;Ft++){var bt=Oe.substr(Et[Ft],2);if("80"===bt&&(pt.kid={hex:A(Oe,Et[Ft])}),"a1"===bt){var St=G(Oe,Et[Ft]),Mt=this.getGeneralNames(St);pt.issuer=Mt[0].dn}"82"===bt&&(pt.sn={hex:A(Oe,Et[Ft])})}return pt},this.getExtExtKeyUsage=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("extKeyUsage");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"extKeyUsage",array:[]};je&&(pt.critical=!0);for(var Et=_(Oe,0),Ft=0;Ft<Et.length;Ft++)pt.array.push(se(A(Oe,Et[Ft])));return pt},this.getExtExtKeyUsageName=function(){var Oe=this.getExtInfo("extKeyUsage");if(void 0===Oe)return Oe;var je=new Array,ut=G(this.hex,Oe.vidx);if(""===ut)return je;for(var pt=_(ut,0),Et=0;Et<pt.length;Et++)je.push(se(A(ut,pt[Et])));return je},this.getExtSubjectAltName=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("subjectAltName");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"subjectAltName",array:[]};return je&&(pt.critical=!0),pt.array=this.getGeneralNames(Oe),pt},this.getExtIssuerAltName=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("issuerAltName");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"issuerAltName",array:[]};return je&&(pt.critical=!0),pt.array=this.getGeneralNames(Oe),pt},this.getGeneralNames=function(Oe){for(var je=_(Oe,0),ut=[],pt=0;pt<je.length;pt++){var Et=this.getGeneralName(G(Oe,je[pt]));void 0!==Et&&ut.push(Et)}return ut},this.getGeneralName=function(Oe){var je=Oe.substr(0,2),ut=A(Oe,0),pt=Wi(ut);return"81"==je?{rfc822:pt}:"82"==je?{dns:pt}:"86"==je?{uri:pt}:"87"==je?{ip:Sc(ut)}:"a4"==je?{dn:this.getX500Name(ut)}:"a0"==je?{other:this.getOtherName(Oe)}:void 0},this.getExtSubjectAltName2=function(){var Oe,je,ut,pt=this.getExtInfo("subjectAltName");if(void 0===pt)return pt;for(var Et=new Array,Ft=G(this.hex,pt.vidx),bt=_(Ft,0),St=0;St<bt.length;St++)ut=Ft.substr(bt[St],2),Oe=A(Ft,bt[St]),"81"===ut&&(je=ar(Oe),Et.push(["MAIL",je])),"82"===ut&&(je=ar(Oe),Et.push(["DNS",je])),"84"===ut&&(je=Hn.hex2dn(Oe,0),Et.push(["DN",je])),"86"===ut&&(je=ar(Oe),Et.push(["URI",je])),"87"===ut&&(je=Sc(Oe),Et.push(["IP",je]));return Et},this.getExtCRLDistributionPoints=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("cRLDistributionPoints");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"cRLDistributionPoints",array:[]};je&&(pt.critical=!0);for(var Et=_(Oe,0),Ft=0;Ft<Et.length;Ft++){var bt=G(Oe,Et[Ft]);pt.array.push(this.getDistributionPoint(bt))}return pt},this.getDistributionPoint=function(Oe){for(var je={},ut=_(Oe,0),pt=0;pt<ut.length;pt++){var Et=Oe.substr(ut[pt],2),Ft=G(Oe,ut[pt]);"a0"==Et&&(je.dpname=this.getDistributionPointName(Ft))}return je},this.getDistributionPointName=function(Oe){for(var je={},ut=_(Oe,0),pt=0;pt<ut.length;pt++){var Et=Oe.substr(ut[pt],2),Ft=G(Oe,ut[pt]);"a0"==Et&&(je.full=this.getGeneralNames(Ft))}return je},this.getExtCRLDistributionPointsURI=function(){var Oe=this.getExtCRLDistributionPoints();if(null==Oe)return Oe;for(var je=Oe.array,ut=[],pt=0;pt<je.length;pt++)try{null!=je[pt].dpname.full[0].uri&&ut.push(je[pt].dpname.full[0].uri)}catch(Et){}return ut},this.getExtAIAInfo=function(){var Oe=this.getExtInfo("authorityInfoAccess");if(void 0===Oe)return Oe;for(var je={ocsp:[],caissuer:[]},ut=_(this.hex,Oe.vidx),pt=0;pt<ut.length;pt++){var Et=Z(this.hex,ut[pt],[0],"06"),Ft=Z(this.hex,ut[pt],[1],"86");"2b06010505073001"===Et&&je.ocsp.push(ar(Ft)),"2b06010505073002"===Et&&je.caissuer.push(ar(Ft))}return je},this.getExtAuthorityInfoAccess=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("authorityInfoAccess");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"authorityInfoAccess",array:[]};je&&(pt.critical=!0);for(var Et=_(Oe,0),Ft=0;Ft<Et.length;Ft++){var bt=ie(Oe,Et[Ft],[0],"06"),Mt=ar(Z(Oe,Et[Ft],[1],"86"));if("2b06010505073001"==bt)pt.array.push({ocsp:Mt});else{if("2b06010505073002"!=bt)throw new Error("unknown method: "+bt);pt.array.push({caissuer:Mt})}}return pt},this.getExtCertificatePolicies=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("certificatePolicies");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"certificatePolicies",array:[]};je&&(pt.critical=!0);for(var Et=_(Oe,0),Ft=0;Ft<Et.length;Ft++){var bt=G(Oe,Et[Ft]),St=this.getPolicyInformation(bt);pt.array.push(St)}return pt},this.getPolicyInformation=function(Oe){var je={},ut=Z(Oe,0,[0],"06");je.policyoid=se(ut);var pt=J(Oe,0,[1],"30");if(-1!=pt){je.array=[];for(var Et=_(Oe,pt),Ft=0;Ft<Et.length;Ft++){var bt=G(Oe,Et[Ft]),St=this.getPolicyQualifierInfo(bt);je.array.push(St)}}return je},this.getOtherName=function(Oe){var je={},ut=_(Oe,0),pt=Z(Oe,ut[0],[],"06"),Et=Z(Oe,ut[1],[]);return je.oid=se(pt),je.value=V(Et),je},this.getPolicyQualifierInfo=function(Oe){var je={},ut=Z(Oe,0,[0],"06");if("2b06010505070201"===ut){var pt=ie(Oe,0,[1],"16");je.cps=Wi(pt)}else if("2b06010505070202"===ut){var Et=he(Oe,0,[1],"30");je.unotice=this.getUserNotice(Et)}return je},this.getUserNotice=function(Oe){for(var je={},ut=_(Oe,0),pt=0;pt<ut.length;pt++){var Et=G(Oe,ut[pt]);"30"!=Et.substr(0,2)&&(je.exptext=this.getDisplayText(Et))}return je},this.getDisplayText=function(Oe){var ut={};return ut.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[Oe.substr(0,2)],ut.str=Wi(A(Oe,0)),ut},this.getExtPolicyMappings=function(Oe,je){var ut=this.getCriticalExtV("policyMappings",Oe,je);if(je=ut[1],null!=(Oe=ut[0])){var pt={extname:"policyMappings"};je&&(pt.critical=!0);try{for(var Ft=V(Oe).seq,bt=[],St=0;St<Ft.length;St++){var Mt=Ft[St].seq;bt.push([Mt[0].oid,Mt[1].oid])}pt.array=bt}catch(Vt){throw new at("malformed policyMappings")}return pt}},this.getExtPolicyConstraints=function(Oe,je){var ut=this.getCriticalExtV("policyConstraints",Oe,je);if(je=ut[1],null!=(Oe=ut[0])){var pt={extname:"policyConstraints"};je&&(pt.critical=!0);var Et=V(Oe);try{for(var Ft=Et.seq,bt=0;bt<Ft.length;bt++){var St=Ft[bt].tag;0==St.explicit&&("80"==St.tag&&(pt.reqexp=parseInt(St.hex,16)),"81"==St.tag&&(pt.inhibit=parseInt(St.hex,16)))}}catch(Mt){return new at("malformed policyConstraints value")}return pt}},this.getExtInhibitAnyPolicy=function(Oe,je){var ut=this.getCriticalExtV("inhibitAnyPolicy",Oe,je);if(je=ut[1],null!=(Oe=ut[0])){var pt={extname:"inhibitAnyPolicy"};je&&(pt.critical=!0);var Et=_e(Oe,0);return-1==Et?new at("wrong value"):(pt.skip=Et,pt)}},this.getExtCRLNumber=function(Oe,je){var ut={extname:"cRLNumber"};if(je&&(ut.critical=!0),"02"==Oe.substr(0,2))return ut.num={hex:A(Oe,0)},ut;throw new at("hExtV parse error: "+Oe)},this.getExtCRLReason=function(Oe,je){var ut={extname:"cRLReason"};if(je&&(ut.critical=!0),"0a"==Oe.substr(0,2))return ut.code=parseInt(A(Oe,0),16),ut;throw new Error("hExtV parse error: "+Oe)},this.getExtOcspNonce=function(Oe,je){var ut={extname:"ocspNonce"};je&&(ut.critical=!0);var pt=A(Oe,0);return ut.hex=pt,ut},this.getExtOcspNoCheck=function(Oe,je){var ut={extname:"ocspNoCheck"};return je&&(ut.critical=!0),ut},this.getExtAdobeTimeStamp=function(Oe,je){if(void 0===Oe&&void 0===je){var ut=this.getExtInfo("adobeTimeStamp");if(void 0===ut)return;Oe=G(this.hex,ut.vidx),je=ut.critical}var pt={extname:"adobeTimeStamp"};je&&(pt.critical=!0);var Et=_(Oe,0);if(Et.length>1){var Ft=G(Oe,Et[1]),bt=this.getGeneralName(Ft);null!=bt.uri&&(pt.uri=bt.uri)}if(Et.length>2){var St=G(Oe,Et[2]);"0101ff"==St&&(pt.reqauth=!0),"010100"==St&&(pt.reqauth=!1)}return pt};var st=function(Oe){var je={};try{var pt=N.asn1.x509.OID.name2oid(Oe.seq[0].oid);je.type=N.asn1.x509.OID.oid2atype(pt);var Et=Oe.seq[1];if(null!=Et.utf8str)je.ds="utf8",je.value=Et.utf8str.str;else if(null!=Et.numstr)je.ds="num",je.value=Et.numstr.str;else if(null!=Et.telstr)je.ds="tel",je.value=Et.telstr.str;else if(null!=Et.prnstr)je.ds="prn",je.value=Et.prnstr.str;else if(null!=Et.ia5str)je.ds="ia5",je.value=Et.ia5str.str;else if(null!=Et.visstr)je.ds="vis",je.value=Et.visstr.str;else{if(null==Et.bmpstr)throw"error";je.ds="bmp",je.value=Et.bmpstr.str}return je}catch(Ft){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},kt=function(Oe){try{return Oe.set.map(function(je){return st(je)})}catch(je){throw new Error("improper ASN.1 parsed RDN: "+je)}};this.getX500NameRule=function(Oe){for(var bt=null,St=[],Mt=0;Mt<Oe.length;Mt++)for(var Vt=Oe[Mt],Mn=0;Mn<Vt.length;Mn++)St.push(Vt[Mn]);for(Mt=0;Mt<St.length;Mt++){var Rn=St[Mt],Bn=Rn.ds,Dn=Rn.type;if("prn"!=Bn&&"utf8"!=Bn&&"ia5"!=Bn)return"mixed";if("ia5"==Bn){if("CN"!=Dn)return"mixed";if(N.lang.String.isMail(Rn.value))continue;return"mixed"}if("C"==Dn){if("prn"==Bn)continue;return"mixed"}if(null==bt)bt=Bn;else if(bt!==Bn)return"mixed"}return null==bt?"prn":bt},this.getAttrTypeAndValue=function(Oe){var je=V(Oe);return st(je)},this.getRDN=function(Oe){var je=V(Oe);return kt(je)},this.getX500NameArray=function(Oe){return function(Oe){try{return Oe.seq.map(function(je){return kt(je)})}catch(je){throw new Error("improper ASN.1 parsed X500Name: "+je)}}(V(Oe))},this.getX500Name=function(Oe,je,ut){var pt=this.getX500NameArray(Oe),Ft={str:this.dnarraytostr(pt)};return Ft.array=pt,1==ut&&(Ft.hex=Oe),1==je&&(Ft.canon=this.c14nRDNArray(pt)),Ft},this.readCertPEM=function(Oe){this.readCertHex(Be(Oe))},this.readCertHex=function(Oe){this.hex=Oe,this.getVersion();try{Ce(this.hex,0,[0,7],"a3"),this.parseExt()}catch(je){}},this.getParam=function(Oe){var je={};return null==Oe&&(Oe={}),je.version=this.getVersion(),je.serial={hex:this.getSerialNumberHex()},je.sigalg=this.getSignatureAlgorithmField(),je.issuer=this.getIssuer(Oe.dncanon,Oe.dnhex),je.notbefore=this.getNotBefore(),je.notafter=this.getNotAfter(),je.subject=this.getSubject(Oe.dncanon,Oe.dnhex),je.sbjpubkey=zt(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(je.ext=this.getExtParamArray()),je.sighex=this.getSignatureValueHex(),1==Oe.tbshex&&(je.tbshex=he(this.hex,0,[0])),1==Oe.nodnarray&&(delete je.issuer.array,delete je.subject.array),je},this.getExtParamArray=function(Oe){null==Oe&&-1!=J(this.hex,0,[0,"[3]"])&&(Oe=Se(this.hex,0,[0,"[3]",0],"30"));for(var ut=[],pt=_(Oe,0),Et=0;Et<pt.length;Et++){var Ft=G(Oe,pt[Et]),bt=this.getExtParam(Ft);null!=bt&&ut.push(bt)}return ut},this.getExtParam=function(Oe){var pt=_(Oe,0).length;if(2!=pt&&3!=pt)throw new Error("wrong number elements in Extension: "+pt+" "+Oe);var Et=Ae(Z(Oe,0,[0],"06")),Ft=!1;3==pt&&"0101ff"==he(Oe,0,[1])&&(Ft=!0);var bt=he(Oe,0,[pt-1,0]),St=void 0;if("2.5.29.14"==Et?St=this.getExtSubjectKeyIdentifier(bt,Ft):"2.5.29.15"==Et?St=this.getExtKeyUsage(bt,Ft):"2.5.29.17"==Et?St=this.getExtSubjectAltName(bt,Ft):"2.5.29.18"==Et?St=this.getExtIssuerAltName(bt,Ft):"2.5.29.19"==Et?St=this.getExtBasicConstraints(bt,Ft):"2.5.29.30"==Et?St=this.getExtNameConstraints(bt,Ft):"2.5.29.31"==Et?St=this.getExtCRLDistributionPoints(bt,Ft):"2.5.29.32"==Et?St=this.getExtCertificatePolicies(bt,Ft):"2.5.29.33"==Et?St=this.getExtPolicyMappings(bt,Ft):"2.5.29.35"==Et?St=this.getExtAuthorityKeyIdentifier(bt,Ft):"2.5.29.36"==Et?St=this.getExtPolicyConstraints(bt,Ft):"2.5.29.37"==Et?St=this.getExtExtKeyUsage(bt,Ft):"2.5.29.54"==Et?St=this.getExtInhibitAnyPolicy(bt,Ft):"1.3.6.1.5.5.7.1.1"==Et?St=this.getExtAuthorityInfoAccess(bt,Ft):"2.5.29.20"==Et?St=this.getExtCRLNumber(bt,Ft):"2.5.29.21"==Et?St=this.getExtCRLReason(bt,Ft):"1.3.6.1.5.5.7.48.1.2"==Et?St=this.getExtOcspNonce(bt,Ft):"1.3.6.1.5.5.7.48.1.5"==Et?St=this.getExtOcspNoCheck(bt,Ft):"1.2.840.113583.1.1.9.1"==Et&&(St=this.getExtAdobeTimeStamp(bt,Ft)),null!=St)return St;var Mt={extname:Et,extn:bt};return Ft&&(Mt.critical=!0),Mt},this.findExt=function(Oe,je){for(var ut=0;ut<Oe.length;ut++)if(Oe[ut].extname==je)return Oe[ut];return null},this.updateExtCDPFullURI=function(Oe,je){var ut=this.findExt(Oe,"cRLDistributionPoints");if(null!=ut&&null!=ut.array)for(var pt=ut.array,Et=0;Et<pt.length;Et++)if(null!=pt[Et].dpname&&null!=pt[Et].dpname.full)for(var Ft=pt[Et].dpname.full,bt=0;bt<Ft.length;bt++){var St=Ft[Et];null!=St.uri&&(St.uri=je)}},this.updateExtAIAOCSP=function(Oe,je){var ut=this.findExt(Oe,"authorityInfoAccess");if(null!=ut&&null!=ut.array)for(var pt=ut.array,Et=0;Et<pt.length;Et++)null!=pt[Et].ocsp&&(pt[Et].ocsp=je)},this.updateExtAIACAIssuer=function(Oe,je){var ut=this.findExt(Oe,"authorityInfoAccess");if(null!=ut&&null!=ut.array)for(var pt=ut.array,Et=0;Et<pt.length;Et++)null!=pt[Et].caissuer&&(pt[Et].caissuer=je)},this.dnarraytostr=function(Oe){return"/"+Oe.map(function(pt){return function je(pt){return pt.map(function(Et){return function ut(pt){return pt.type+"="+pt.value}(Et).replace(/\+/,"\\+")}).join("+")}(pt).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(Oe){var je;if(null!=Oe.str&&null==Oe.array){var pt=new N.asn1.x509.X500Name({str:Oe.str}).tohex();je=this.getX500NameArray(pt)}else je=Oe.array;null==Oe.canon&&(Oe.canon=this.c14nRDNArray(je))},this.c14nRDNArray=function(Oe){for(var je=[],ut=0;ut<Oe.length;ut++){for(var pt=Oe[ut],Et=[],Ft=0;Ft<pt.length;Ft++){var bt=pt[Ft],St=bt.value;St=(St=(St=(St=St.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),Et.push(bt.type.toLowerCase()+"="+St)}je.push(Et.join("+"))}return"/"+je.join("/")},this.getInfo=function(){var Ft,bt,St,Oe=function(fs){for(var lr="",qi="    ",pr=fs.array,Qt=0;Qt<pr.length;Qt++){var cr=pr[Qt];null!=cr.dn&&(lr+=qi+"dn: "+cr.dn.str+"\n"),null!=cr.ip&&(lr+=qi+"ip: "+cr.ip+"\n"),null!=cr.rfc822&&(lr+=qi+"rfc822: "+cr.rfc822+"\n"),null!=cr.dns&&(lr+=qi+"dns: "+cr.dns+"\n"),null!=cr.uri&&(lr+=qi+"uri: "+cr.uri+"\n"),null!=cr.other&&(lr+=qi+"other: "+cr.other.oid+"="+JSON.stringify(cr.other.value).replace(/\"/g,"")+"\n")}return lr.replace(/\n$/,"")},je=function(fs){for(var lr="",qi=fs.array,fi=0;fi<qi.length;fi++){var pr=qi[fi];if(lr+="    policy oid: "+pr.policyoid+"\n",void 0!==pr.array)for(var Qt=0;Qt<pr.array.length;Qt++){var cr=pr.array[Qt];void 0!==cr.cps&&(lr+="    cps: "+cr.cps+"\n")}}return lr},ut=function(fs){for(var lr="",qi=fs.array,fi=0;fi<qi.length;fi++){var pr=qi[fi];try{void 0!==pr.dpname.full[0].uri&&(lr+="    "+pr.dpname.full[0].uri+"\n")}catch(Qt){}try{void 0!==pr.dname.full[0].dn.hex&&(lr+="    "+Hn.hex2dn(pr.dpname.full[0].dn.hex)+"\n")}catch(Qt){}}return lr},pt=function(fs){for(var lr="",qi=fs.array,fi=0;fi<qi.length;fi++){var pr=qi[fi];void 0!==pr.caissuer&&(lr+="    caissuer: "+pr.caissuer+"\n"),void 0!==pr.ocsp&&(lr+="    ocsp: "+pr.ocsp+"\n")}return lr};if(Ft="Basic Fields\n",Ft+="  serial number: "+this.getSerialNumberHex()+"\n",Ft+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",Ft+="  issuer: "+this.getIssuerString()+"\n",Ft+="  notBefore: "+this.getNotBefore()+"\n",Ft+="  notAfter: "+this.getNotAfter()+"\n",Ft+="  subject: "+this.getSubjectString()+"\n",Ft+="  subject public key info: \n",Ft+="    key algorithm: "+(bt=this.getPublicKey()).type+"\n","RSA"===bt.type&&(Ft+="    n="+Ul(bt.n.toString(16)).substr(0,16)+"...\n",Ft+="    e="+Ul(bt.e.toString(16))+"\n"),null!=(St=this.aExtInfo)){Ft+="X509v3 Extensions:\n";for(var Mt=0;Mt<St.length;Mt++){var Vt=St[Mt],Mn=N.asn1.x509.OID.oid2name(Vt.oid);""===Mn&&(Mn=Vt.oid);var Rn="";if(!0===Vt.critical&&(Rn="CRITICAL"),Ft+="  "+Mn+" "+Rn+":\n","basicConstraints"===Mn){var Bn=this.getExtBasicConstraints();void 0===Bn.cA?Ft+="    {}\n":(Ft+="    cA=true",void 0!==Bn.pathLen&&(Ft+=", pathLen="+Bn.pathLen),Ft+="\n")}else if("policyMappings"==Mn)Ft+="    "+this.getExtPolicyMappings().array.map(function(fs){return fs[0]+":"+fs[1]}).join(", ")+"\n";else if("policyConstraints"==Mn)Ft+="    ",null!=(Kr=this.getExtPolicyConstraints()).reqexp&&(Ft+=" reqexp="+Kr.reqexp),null!=Kr.inhibit&&(Ft+=" inhibit="+Kr.inhibit),Ft+="\n";else if("inhibitAnyPolicy"==Mn){var Kr;Ft+="    skip="+(Kr=this.getExtInhibitAnyPolicy()).skip+"\n"}else if("keyUsage"==Mn)Ft+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==Mn)Ft+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==Mn){var Wr=this.getExtAuthorityKeyIdentifier();void 0!==Wr.kid&&(Ft+="    kid="+Wr.kid.hex+"\n")}else"extKeyUsage"==Mn?Ft+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==Mn?Ft+=Oe(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==Mn?Ft+=ut(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==Mn?Ft+=pt(this.getExtAuthorityInfoAccess()):"certificatePolicies"==Mn&&(Ft+=je(this.getExtCertificatePolicies()))}}return(Ft+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof f&&(-1!=f.indexOf("-----BEGIN")?this.readCertPEM(f):N.lang.String.isHex(f)&&this.readCertHex(f))}fr.getKey=function(f,v,_){var Oe,j=(A=dn).getChildIdx,G=A.getVbyList,Z=N.crypto,ie=Z.ECDSA,he=Z.DSA,Se=Nn,Ce=sn,J=fr;if(void 0!==Se&&f instanceof Se||void 0!==ie&&f instanceof ie||void 0!==he&&f instanceof he)return f;if(void 0!==f.curve&&void 0!==f.xy&&void 0===f.d)return new ie({pub:f.xy,curve:f.curve});if(void 0!==f.curve&&void 0!==f.d)return new ie({prv:f.d,curve:f.curve});if(void 0===f.kty&&void 0!==f.n&&void 0!==f.e&&void 0===f.d)return(X=new Se).setPublic(f.n,f.e),X;if(void 0===f.kty&&void 0!==f.n&&void 0!==f.e&&void 0!==f.d&&void 0!==f.p&&void 0!==f.q&&void 0!==f.dp&&void 0!==f.dq&&void 0!==f.co&&void 0===f.qi)return(X=new Se).setPrivateEx(f.n,f.e,f.d,f.p,f.q,f.dp,f.dq,f.co),X;if(void 0===f.kty&&void 0!==f.n&&void 0!==f.e&&void 0!==f.d&&void 0===f.p)return(X=new Se).setPrivate(f.n,f.e,f.d),X;if(void 0!==f.p&&void 0!==f.q&&void 0!==f.g&&void 0!==f.y&&void 0===f.x)return(X=new he).setPublic(f.p,f.q,f.g,f.y),X;if(void 0!==f.p&&void 0!==f.q&&void 0!==f.g&&void 0!==f.y&&void 0!==f.x)return(X=new he).setPrivate(f.p,f.q,f.g,f.y,f.x),X;if("RSA"===f.kty&&void 0!==f.n&&void 0!==f.e&&void 0===f.d)return(X=new Se).setPublic(ei(f.n),ei(f.e)),X;if("RSA"===f.kty&&void 0!==f.n&&void 0!==f.e&&void 0!==f.d&&void 0!==f.p&&void 0!==f.q&&void 0!==f.dp&&void 0!==f.dq&&void 0!==f.qi)return(X=new Se).setPrivateEx(ei(f.n),ei(f.e),ei(f.d),ei(f.p),ei(f.q),ei(f.dp),ei(f.dq),ei(f.qi)),X;if("RSA"===f.kty&&void 0!==f.n&&void 0!==f.e&&void 0!==f.d)return(X=new Se).setPrivate(ei(f.n),ei(f.e),ei(f.d)),X;if("EC"===f.kty&&void 0!==f.crv&&void 0!==f.x&&void 0!==f.y&&void 0===f.d){var se=(_e=new ie({curve:f.crv})).ecparams.keycharlen,Ae=("0000000000"+ei(f.x)).slice(-se),ge=("0000000000"+ei(f.y)).slice(-se);return _e.setPublicKeyHex(Be="04"+Ae+ge),_e}if("EC"===f.kty&&void 0!==f.crv&&void 0!==f.x&&void 0!==f.y&&void 0!==f.d){se=(_e=new ie({curve:f.crv})).ecparams.keycharlen;var Be="04"+(Ae=("0000000000"+ei(f.x)).slice(-se))+(ge=("0000000000"+ei(f.y)).slice(-se)),Je=("0000000000"+ei(f.d)).slice(-se);return _e.setPublicKeyHex(Be),_e.setPrivateKeyHex(Je),_e}if("pkcs5prv"===_){var st,at=f,A=dn;if(9===(st=j(at,0)).length)(X=new Se).readPKCS5PrvKeyHex(at);else if(6===st.length)(X=new he).readPKCS5PrvKeyHex(at);else{if(!(st.length>2&&"04"===at.substr(st[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(X=new ie).readPKCS5PrvKeyHex(at)}return X}if("pkcs8prv"===_)return J.getKeyFromPlainPrivatePKCS8Hex(f);if("pkcs8pub"===_)return J._getKeyFromPublicPKCS8Hex(f);if("x509pub"===_)return Hn.getPublicKeyFromCertHex(f);if(-1!=f.indexOf("-END CERTIFICATE-",0)||-1!=f.indexOf("-END X509 CERTIFICATE-",0)||-1!=f.indexOf("-END TRUSTED CERTIFICATE-",0))return Hn.getPublicKeyFromCertPEM(f);if(-1!=f.indexOf("-END PUBLIC KEY-")){var kt=sn(f,"PUBLIC KEY");return J._getKeyFromPublicPKCS8Hex(kt)}if(-1!=f.indexOf("-END RSA PRIVATE KEY-")&&-1==f.indexOf("4,ENCRYPTED")){var jt=Ce(f,"RSA PRIVATE KEY");return J.getKey(jt,null,"pkcs5prv")}if(-1!=f.indexOf("-END DSA PRIVATE KEY-")&&-1==f.indexOf("4,ENCRYPTED")){var je=G(Oe=Ce(f,"DSA PRIVATE KEY"),0,[1],"02"),ut=G(Oe,0,[2],"02"),pt=G(Oe,0,[3],"02"),Et=G(Oe,0,[4],"02"),Ft=G(Oe,0,[5],"02");return(X=new he).setPrivate(new C(je,16),new C(ut,16),new C(pt,16),new C(Et,16),new C(Ft,16)),X}if(-1!=f.indexOf("-END EC PRIVATE KEY-")&&-1==f.indexOf("4,ENCRYPTED"))return jt=Ce(f,"EC PRIVATE KEY"),J.getKey(jt,null,"pkcs5prv");if(-1!=f.indexOf("-END PRIVATE KEY-"))return J.getKeyFromPlainPrivatePKCS8PEM(f);if(-1!=f.indexOf("-END RSA PRIVATE KEY-")&&-1!=f.indexOf("4,ENCRYPTED")){var bt=J.getDecryptedKeyHex(f,v),St=new Nn;return St.readPKCS5PrvKeyHex(bt),St}if(-1!=f.indexOf("-END EC PRIVATE KEY-")&&-1!=f.indexOf("4,ENCRYPTED")){var _e,X=G(Oe=J.getDecryptedKeyHex(f,v),0,[1],"04"),Mt=G(Oe,0,[2,0],"06"),Vt=G(Oe,0,[3,0],"03").substr(2);if(void 0===N.crypto.OID.oidhex2name[Mt])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Mt);return(_e=new ie({curve:N.crypto.OID.oidhex2name[Mt]})).setPublicKeyHex(Vt),_e.setPrivateKeyHex(X),_e.isPublic=!1,_e}if(-1!=f.indexOf("-END DSA PRIVATE KEY-")&&-1!=f.indexOf("4,ENCRYPTED"))return je=G(Oe=J.getDecryptedKeyHex(f,v),0,[1],"02"),ut=G(Oe,0,[2],"02"),pt=G(Oe,0,[3],"02"),Et=G(Oe,0,[4],"02"),Ft=G(Oe,0,[5],"02"),(X=new he).setPrivate(new C(je,16),new C(ut,16),new C(pt,16),new C(Et,16),new C(Ft,16)),X;if(-1!=f.indexOf("-END ENCRYPTED PRIVATE KEY-"))return J.getKeyFromEncryptedPKCS8PEM(f,v);throw new Error("not supported argument")},fr.generateKeypair=function(f,v){if("RSA"==f){var _=v;(A=new Nn).generate(_,"10001"),A.isPrivate=!0,A.isPublic=!0;var j=new Nn,V=A.n.toString(16),G=A.e.toString(16);return j.setPublic(V,G),j.isPrivate=!1,j.isPublic=!0,(Z={}).prvKeyObj=A,Z.pubKeyObj=j,Z}if("EC"==f){var A,Z,ie=v,Se=new N.crypto.ECDSA({curve:ie}).generateKeyPairHex();return(A=new N.crypto.ECDSA({curve:ie})).setPublicKeyHex(Se.ecpubhex),A.setPrivateKeyHex(Se.ecprvhex),A.isPrivate=!0,A.isPublic=!1,(j=new N.crypto.ECDSA({curve:ie})).setPublicKeyHex(Se.ecpubhex),j.isPrivate=!1,j.isPublic=!0,(Z={}).prvKeyObj=A,Z.pubKeyObj=j,Z}throw new Error("unknown algorithm: "+f)},fr.getPEM=function(f,v,_,A,j,V){var Z=N.asn1,ie=Z.DERObjectIdentifier,he=Z.DERInteger,Se=Z.ASN1Util.newObject,X=N.crypto,_e=X.DSA,se=X.ECDSA,Ae=Nn;function ge(Mt){return Se({seq:[{int:0},{int:{bigint:Mt.n}},{int:Mt.e},{int:{bigint:Mt.d}},{int:{bigint:Mt.p}},{int:{bigint:Mt.q}},{int:{bigint:Mt.dmp1}},{int:{bigint:Mt.dmq1}},{int:{bigint:Mt.coeff}}]})}function Be(Mt){return Se({seq:[{int:1},{octstr:{hex:Mt.prvKeyHex}},{tag:["a0",!0,{oid:{name:Mt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Mt.pubKeyHex}}]}]})}function Je(Mt){return Se({seq:[{int:0},{int:{bigint:Mt.p}},{int:{bigint:Mt.q}},{int:{bigint:Mt.g}},{int:{bigint:Mt.y}},{int:{bigint:Mt.x}}]})}if((void 0!==Ae&&f instanceof Ae||void 0!==_e&&f instanceof _e||void 0!==se&&f instanceof se)&&1==f.isPublic&&(void 0===v||"PKCS8PUB"==v))return zt(st=new(0,Z.x509.SubjectPublicKeyInfo)(f).tohex(),"PUBLIC KEY");if("PKCS1PRV"==v&&void 0!==Ae&&f instanceof Ae&&(void 0===_||null==_)&&1==f.isPrivate)return zt(st=ge(f).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==v&&void 0!==se&&f instanceof se&&(void 0===_||null==_)&&1==f.isPrivate){var jt=new ie({name:f.curveName}).tohex(),je=Be(f).tohex(),ut="";return(ut+=zt(jt,"EC PARAMETERS"))+zt(je,"EC PRIVATE KEY")}if("PKCS1PRV"==v&&void 0!==_e&&f instanceof _e&&(void 0===_||null==_)&&1==f.isPrivate)return zt(st=Je(f).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==v&&void 0!==Ae&&f instanceof Ae&&void 0!==_&&null!=_&&1==f.isPrivate){var st=ge(f).tohex();return void 0===A&&(A="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",st,_,A,V)}if("PKCS5PRV"==v&&void 0!==se&&f instanceof se&&void 0!==_&&null!=_&&1==f.isPrivate)return st=Be(f).tohex(),void 0===A&&(A="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",st,_,A,V);if("PKCS5PRV"==v&&void 0!==_e&&f instanceof _e&&void 0!==_&&null!=_&&1==f.isPrivate)return st=Je(f).tohex(),void 0===A&&(A="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",st,_,A,V);var pt=function(Mt,Vt){var Mn=Et(Mt,Vt);return new Se({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Mn.pbkdf2Salt}},{int:Mn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Mn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Mn.ciphertext}}]}).tohex()},Et=function(Mt,Vt){var Rn=E.lib.WordArray.random(8),hr=E.lib.WordArray.random(8),Dn=E.PBKDF2(Vt,Rn,{keySize:6,iterations:100}),Kr=E.enc.Hex.parse(Mt),Wr=E.TripleDES.encrypt(Kr,Dn,{iv:hr})+"",Lo={};return Lo.ciphertext=Wr,Lo.pbkdf2Salt=E.enc.Hex.stringify(Rn),Lo.pbkdf2Iter=100,Lo.encryptionSchemeAlg="DES-EDE3-CBC",Lo.encryptionSchemeIV=E.enc.Hex.stringify(hr),Lo};if("PKCS8PRV"==v&&null!=Ae&&f instanceof Ae&&1==f.isPrivate){var bt=ge(f).tohex();return st=Se({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:bt}}]}).tohex(),void 0===_||null==_?zt(st,"PRIVATE KEY"):zt(je=pt(st,_),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==v&&void 0!==se&&f instanceof se&&1==f.isPrivate){var St={seq:[{int:1},{octstr:{hex:f.prvKeyHex}}]};return"string"==typeof f.pubKeyHex&&St.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+f.pubKeyHex}}]}),bt=new Se(St).tohex(),st=Se({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:f.curveName}}]},{octstr:{hex:bt}}]}).tohex(),void 0===_||null==_?zt(st,"PRIVATE KEY"):zt(je=pt(st,_),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==v&&void 0!==_e&&f instanceof _e&&1==f.isPrivate)return bt=new he({bigint:f.x}).tohex(),st=Se({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:f.p}},{int:{bigint:f.q}},{int:{bigint:f.g}}]}]},{octstr:{hex:bt}}]}).tohex(),void 0===_||null==_?zt(st,"PRIVATE KEY"):zt(je=pt(st,_),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},fr.getKeyFromCSRPEM=function(f){var v=sn(f,"CERTIFICATE REQUEST");return fr.getKeyFromCSRHex(v)},fr.getKeyFromCSRHex=function(f){var v=fr.parseCSRHex(f);return fr.getKey(v.p8pubkeyhex,null,"pkcs8pub")},fr.parseCSRHex=function(f){var _=dn.getChildIdx,A=dn.getTLV,j={},V=f;if("30"!=V.substr(0,2))throw new Error("malformed CSR(code:001)");var G=_(V,0);if(G.length<1)throw new Error("malformed CSR(code:002)");if("30"!=V.substr(G[0],2))throw new Error("malformed CSR(code:003)");var Z=_(V,G[0]);if(Z.length<3)throw new Error("malformed CSR(code:004)");return j.p8pubkeyhex=A(V,Z[2]),j},fr.getKeyID=function(f){var v=fr,_=dn;"string"==typeof f&&-1!=f.indexOf("BEGIN ")&&(f=v.getKey(f));var A=sn(v.getPEM(f)),j=_.getIdxbyList(A,0,[1]),V=_.getV(A,j).substring(2);return N.crypto.Util.hashHex(V,"sha1")},fr.getJWK=function(f,v,_,A,j){var V,Z,G={},ie=N.crypto.Util.hashHex;if("string"==typeof f)V=fr.getKey(f),-1!=f.indexOf("CERTIFICATE")&&(Z=sn(f));else{if("object"!=typeof f)throw new Error("unsupported keyinfo type");f instanceof Hn?(V=f.getPublicKey(),Z=f.hex):V=f}if(V instanceof Nn&&V.isPrivate)G.kty="RSA",G.n=Ri(V.n.toString(16)),G.e=Ri(V.e.toString(16)),G.d=Ri(V.d.toString(16)),G.p=Ri(V.p.toString(16)),G.q=Ri(V.q.toString(16)),G.dp=Ri(V.dmp1.toString(16)),G.dq=Ri(V.dmq1.toString(16)),G.qi=Ri(V.coeff.toString(16));else if(V instanceof Nn&&V.isPublic)G.kty="RSA",G.n=Ri(V.n.toString(16)),G.e=Ri(V.e.toString(16));else if(V instanceof N.crypto.ECDSA&&V.isPrivate){if("P-256"!==(he=V.getShortNISTPCurveName())&&"P-384"!==he&&"P-521"!==he)throw new Error("unsupported curve name for JWT: "+he);var Se=V.getPublicKeyXYHex();G.kty="EC",G.crv=he,G.x=Ri(Se.x),G.y=Ri(Se.y),G.d=Ri(V.prvKeyHex)}else if(V instanceof N.crypto.ECDSA&&V.isPublic){var he;if("P-256"!==(he=V.getShortNISTPCurveName())&&"P-384"!==he&&"P-521"!==he)throw new Error("unsupported curve name for JWT: "+he);Se=V.getPublicKeyXYHex(),G.kty="EC",G.crv=he,G.x=Ri(Se.x),G.y=Ri(Se.y)}if(null==G.kty)throw new Error("unsupported keyinfo");return!V.isPrivate&&1!=v&&(G.kid=N.jws.JWS.getJWKthumbprint(G)),null!=Z&&1!=_&&(G.x5c=[b(Z)]),null!=Z&&1!=A&&(G.x5t=ha(b(ie(Z,"sha1")))),null!=Z&&1!=j&&(G["x5t#S256"]=ha(b(ie(Z,"sha256")))),G},fr.getJWKFromKey=function(f){return fr.getJWK(f,!0,!0,!0,!0)},Nn.getPosArrayOfChildrenFromHex=function(f){return dn.getChildIdx(f,0)},Nn.getHexValueArrayOfChildrenFromHex=function(f){var J,_=dn.getV,A=_(f,(J=Nn.getPosArrayOfChildrenFromHex(f))[0]),j=_(f,J[1]),V=_(f,J[2]),G=_(f,J[3]),Z=_(f,J[4]),ie=_(f,J[5]),he=_(f,J[6]),Se=_(f,J[7]),Ce=_(f,J[8]);return(J=new Array).push(A,j,V,G,Z,ie,he,Se,Ce),J},Nn.prototype.readPrivateKeyFromPEMString=function(f){var v=sn(f),_=Nn.getHexValueArrayOfChildrenFromHex(v);this.setPrivateEx(_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8])},Nn.prototype.readPKCS5PrvKeyHex=function(f){var v=Nn.getHexValueArrayOfChildrenFromHex(f);this.setPrivateEx(v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8])},Nn.prototype.readPKCS8PrvKeyHex=function(f){var v,_,A,j,V,G,Z,ie,Se=dn.getVbyListEx;if(!1===dn.isASN1HEX(f))throw new Error("not ASN.1 hex string");try{v=Se(f,0,[2,0,1],"02"),_=Se(f,0,[2,0,2],"02"),A=Se(f,0,[2,0,3],"02"),j=Se(f,0,[2,0,4],"02"),V=Se(f,0,[2,0,5],"02"),G=Se(f,0,[2,0,6],"02"),Z=Se(f,0,[2,0,7],"02"),ie=Se(f,0,[2,0,8],"02")}catch(Ce){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(v,_,A,j,V,G,Z,ie)},Nn.prototype.readPKCS5PubKeyHex=function(f){var v=dn,_=v.getV;if(!1===v.isASN1HEX(f))throw new Error("keyHex is not ASN.1 hex string");var A=v.getChildIdx(f,0);if(2!==A.length||"02"!==f.substr(A[0],2)||"02"!==f.substr(A[1],2))throw new Error("wrong hex for PKCS#5 public key");var j=_(f,A[0]),V=_(f,A[1]);this.setPublic(j,V)},Nn.prototype.readPKCS8PubKeyHex=function(f){var v=dn;if(!1===v.isASN1HEX(f))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==v.getTLVbyListEx(f,0,[0,0]))throw new Error("not PKCS8 RSA public key");var _=v.getTLVbyListEx(f,0,[1,0]);this.readPKCS5PubKeyHex(_)},Nn.prototype.readCertPubKeyHex=function(f,v){var _,A;(_=new Hn).readCertHex(f),A=_.getPublicKeyHex(),this.readPKCS8PubKeyHex(A)},Nn.prototype.sign=function(f,v){var A=function(j){return N.crypto.Util.hashString(j,v)}(f);return this.signWithMessageHash(A,v)},Nn.prototype.signWithMessageHash=function(f,v){var A=io(N.crypto.Util.getPaddedDigestInfoHex(f,v,this.n.bitLength()),16);return Hl(this.doPrivate(A).toString(16),this.n.bitLength())},Nn.prototype.signPSS=function(f,v,_){var j=function(V){return N.crypto.Util.hashHex(V,v)}(gt(f));return void 0===_&&(_=-1),this.signWithMessageHashPSS(j,v,_)},Nn.prototype.signWithMessageHashPSS=function(f,v,_){var Z,A=Wi(f),j=A.length,V=this.n.bitLength()-1,G=Math.ceil(V/8),ie=function(Ae){return N.crypto.Util.hashHex(Ae,v)};if(-1===_||void 0===_)_=j;else if(-2===_)_=G-j-2;else if(_<-2)throw new Error("invalid salt length");if(G<j+_+2)throw new Error("data too long");var he="";_>0&&(he=new Array(_),(new Eo).nextBytes(he),he=String.fromCharCode.apply(String,he));var Se=Wi(ie(gt("\0\0\0\0\0\0\0\0"+A+he))),Ce=[];for(Z=0;Z<G-_-j-2;Z+=1)Ce[Z]=0;var J=String.fromCharCode.apply(String,Ce)+"\x01"+he,X=zd(Se,J.length,ie),_e=[];for(Z=0;Z<J.length;Z+=1)_e[Z]=J.charCodeAt(Z)^X.charCodeAt(Z);for(_e[0]&=~(65280>>8*G-V&255),Z=0;Z<j;Z++)_e.push(Se.charCodeAt(Z));return _e.push(188),Hl(this.doPrivate(new C(_e)).toString(16),this.n.bitLength())},Nn.prototype.verify=function(f,v){if(null==(v=v.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var _=io(v,16),A=this.n.bitLength();if(_.bitLength()>A)return!1;var V=this.doPublic(_).toString(16);if(V.length+3!=A/4)return!1;var Z=Zd(V.replace(/^1f+00/,""));if(0==Z.length)return!1;var ie=Z[0],he=Z[1],Ce=function(J){return N.crypto.Util.hashString(J,ie)}(f);return he==Ce},Nn.prototype.verifyWithMessageHash=function(f,v){if(v.length!=Math.ceil(this.n.bitLength()/4))return!1;var _=io(v,16);if(_.bitLength()>this.n.bitLength())return 0;var V=Zd(this.doPublic(_).toString(16).replace(/^1f+00/,""));return 0!=V.length&&V[1]==f},Nn.prototype.verifyPSS=function(f,v,_,A){var V=function(G){return N.crypto.Util.hashHex(G,_)}(gt(f));return void 0===A&&(A=-1),this.verifyWithMessageHashPSS(V,v,_,A)},Nn.prototype.verifyWithMessageHashPSS=function(f,v,_,A){if(v.length!=Math.ceil(this.n.bitLength()/4))return!1;var Se,j=new C(v,16),V=function(Be){return N.crypto.Util.hashHex(Be,_)},G=Wi(f),Z=G.length,ie=this.n.bitLength()-1,he=Math.ceil(ie/8);if(-1===A||void 0===A)A=Z;else if(-2===A)A=he-Z-2;else if(A<-2)throw new Error("invalid salt length");if(he<Z+A+2)throw new Error("data too long");var Ce=this.doPublic(j).toByteArray();for(Se=0;Se<Ce.length;Se+=1)Ce[Se]&=255;for(;Ce.length<he;)Ce.unshift(0);if(188!==Ce[he-1])throw new Error("encoded message does not end in 0xbc");var J=(Ce=String.fromCharCode.apply(String,Ce)).substr(0,he-Z-1),X=Ce.substr(J.length,Z),_e=65280>>8*he-ie&255;if(0!=(J.charCodeAt(0)&_e))throw new Error("bits beyond keysize not zero");var se=zd(X,J.length,V),Ae=[];for(Se=0;Se<J.length;Se+=1)Ae[Se]=J.charCodeAt(Se)^se.charCodeAt(Se);Ae[0]&=~_e;var ge=he-Z-A-2;for(Se=0;Se<ge;Se+=1)if(0!==Ae[Se])throw new Error("leftmost octets not zero");if(1!==Ae[ge])throw new Error("0x01 marker not found");return X===Wi(V(gt("\0\0\0\0\0\0\0\0"+G+String.fromCharCode.apply(String,Ae.slice(-A)))))},Nn.SALT_LEN_HLEN=-1,Nn.SALT_LEN_MAX=-2,Nn.SALT_LEN_RECOVER=-2,Hn.hex2dn=function(f,v){void 0===v&&(v=0);var _=new Hn;return dn.getTLV(f,v),_.getX500Name(f).str},Hn.hex2rdn=function(f,v){if(void 0===v&&(v=0),"31"!==f.substr(v,2))throw new Error("malformed RDN");for(var _=new Array,A=dn.getChildIdx(f,v),j=0;j<A.length;j++)_.push(Hn.hex2attrTypeValue(f,A[j]));return _=_.map(function(V){return V.replace("+","\\+")}),_.join("+")},Hn.hex2attrTypeValue=function(f,v){var _=dn,A=_.getV;if(void 0===v&&(v=0),"30"!==f.substr(v,2))throw new Error("malformed attribute type and value");var j=_.getChildIdx(f,v);2!==j.length||f.substr(j[0],2);var V=A(f,j[0]),G=N.asn1.ASN1Util.oidHexToInt(V);return N.asn1.x509.OID.oid2atype(G)+"="+Wi(A(f,j[1]))},Hn.getPublicKeyFromCertHex=function(f){var v=new Hn;return v.readCertHex(f),v.getPublicKey()},Hn.getPublicKeyFromCertPEM=function(f){var v=new Hn;return v.readCertPEM(f),v.getPublicKey()},Hn.getPublicKeyInfoPropOfCertPEM=function(f){var j,V,_=dn.getVbyList,A={algparam:null};return(j=new Hn).readCertPEM(f),V=j.getPublicKeyHex(),A.keyhex=_(V,0,[1],"03").substr(2),A.algoid=_(V,0,[0,0],"06"),"2a8648ce3d0201"===A.algoid&&(A.algparam=_(V,0,[0,1],"06")),A},Hn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(void 0===N||!N)&&(N={}),(void 0===N.jws||!N.jws)&&(N.jws={}),N.jws.JWS=function(){var _=N.jws.JWS.isSafeJSONString;this.parseJWS=function(A,j){if(void 0===this.parsedJWS||!j&&void 0===this.parsedJWS.sigvalH){var V=A.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==V)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var G=V[1],Z=V[2],ie=V[3],he=G+"."+Z;if(this.parsedJWS={},this.parsedJWS.headB64U=G,this.parsedJWS.payloadB64U=Z,this.parsedJWS.sigvalB64U=ie,this.parsedJWS.si=he,!j){var Se=ei(ie),Ce=io(Se,16);this.parsedJWS.sigvalH=Se,this.parsedJWS.sigvalBI=Ce}var J=Pr(G),X=Pr(Z);if(this.parsedJWS.headS=J,this.parsedJWS.payloadS=X,!_(J,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+J}}},N.jws.JWS.sign=function(f,v,_,A,j){var se,Ae,ge,Z=N.jws.JWS,ie=Z.readSafeJSONString,he=Z.isSafeJSONString,Se=N.crypto,J=Se.Mac,X=Se.Signature,_e=JSON;if("string"!=typeof v&&"object"!=typeof v)throw"spHeader must be JSON string or object: "+v;if("object"==typeof v&&(se=_e.stringify(Ae=v)),"string"==typeof v){if(!he(se=v))throw"JWS Head is not safe JSON string: "+se;Ae=ie(se)}if(ge=_,"object"==typeof _&&(ge=_e.stringify(_)),(""==f||null==f)&&void 0!==Ae.alg&&(f=Ae.alg),""!=f&&null!=f&&void 0===Ae.alg&&(Ae.alg=f,se=_e.stringify(Ae)),f!==Ae.alg)throw"alg and sHeader.alg doesn't match: "+f+"!="+Ae.alg;var Be=null;if(void 0===Z.jwsalg2sigalg[f])throw"unsupported alg name: "+f;Be=Z.jwsalg2sigalg[f];var st=xs(se)+"."+xs(ge),kt="";if("Hmac"==Be.substr(0,4)){if(void 0===A)throw"mac key shall be specified for HS* alg";var jt=new J({alg:Be,prov:"cryptojs",pass:A});jt.updateString(st),kt=jt.doFinal()}else if(-1!=Be.indexOf("withECDSA")){(Oe=new X({alg:Be})).init(A,j),Oe.updateString(st);var je=Oe.sign();kt=N.crypto.ECDSA.asn1SigToConcatSig(je)}else if("none"!=Be){var Oe;(Oe=new X({alg:Be})).init(A,j),Oe.updateString(st),kt=Oe.sign()}return st+"."+Ri(kt)},N.jws.JWS.verify=function(f,v,_){var Ce,V=N.jws.JWS,G=V.readSafeJSONString,Z=N.crypto,ie=Z.ECDSA,he=Z.Mac,Se=Z.Signature;if(Ce=Nn,!Bl(f))return!1;var J=f.split(".");if(3!==J.length)return!1;var Je,se=J[0]+"."+J[1],Ae=ei(J[2]),ge=G(Pr(J[0])),Be=null;if(void 0===ge.alg)throw"algorithm not specified in header";if(Je=(Be=ge.alg).substr(0,2),null!=_&&"[object Array]"===Object.prototype.toString.call(_)&&_.length>0&&-1==(":"+_.join(":")+":").indexOf(":"+Be+":"))throw"algorithm '"+Be+"' not accepted in the list";if("none"!=Be&&null===v)throw"key shall be specified to verify.";if("string"==typeof v&&-1!=v.indexOf("-----BEGIN ")&&(v=fr.getKey(v)),!("RS"!=Je&&"PS"!=Je||v instanceof Ce))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==Je&&!(v instanceof ie))throw"key shall be a ECDSA obj for ES* algs";var st=null;if(void 0===V.jwsalg2sigalg[ge.alg])throw"unsupported alg name: "+Be;if("none"==(st=V.jwsalg2sigalg[Be]))throw"not supported";if("Hmac"==st.substr(0,4)){if(void 0===v)throw"hexadecimal key shall be specified for HMAC";var jt=new he({alg:st,pass:v});return jt.updateString(se),Ae==jt.doFinal()}if(-1!=st.indexOf("withECDSA")){var je,Oe=null;try{Oe=ie.concatSigToASN1Sig(Ae)}catch(ut){return!1}return(je=new Se({alg:st})).init(v),je.updateString(se),je.verify(Oe)}return(je=new Se({alg:st})).init(v),je.updateString(se),je.verify(Ae)},N.jws.JWS.parse=function(f){var j,V,v=f.split("."),_={};if(2!=v.length&&3!=v.length)throw"malformed sJWS: wrong number of '.' splitted elements";return j=v[1],3==v.length&&(V=v[2]),_.headerObj=N.jws.JWS.readSafeJSONString(Pr(v[0])),_.payloadObj=N.jws.JWS.readSafeJSONString(Pr(j)),_.headerPP=JSON.stringify(_.headerObj,null,"  "),_.payloadPP=null==_.payloadObj?Pr(j):JSON.stringify(_.payloadObj,null,"  "),void 0!==V&&(_.sigHex=ei(V)),_},N.jws.JWS.verifyJWT=function(f,v,_){var j=N.jws,V=j.JWS,G=V.readSafeJSONString,Z=V.inArray,ie=V.includedArray;if(!Bl(f))return!1;var he=f.split(".");if(3!=he.length)return!1;var Se=he[0],Ce=he[1],_e=(ei(he[2]),G(Pr(Se))),se=G(Pr(Ce));if(void 0===_e.alg)return!1;if(void 0===_.alg)throw"acceptField.alg shall be specified";if(!Z(_e.alg,_.alg)||void 0!==se.iss&&"object"==typeof _.iss&&!Z(se.iss,_.iss)||void 0!==se.sub&&"object"==typeof _.sub&&!Z(se.sub,_.sub))return!1;if(void 0!==se.aud&&"object"==typeof _.aud)if("string"==typeof se.aud){if(!Z(se.aud,_.aud))return!1}else if("object"==typeof se.aud&&!ie(se.aud,_.aud))return!1;var Ae=j.IntDate.getNow();return void 0!==_.verifyAt&&"number"==typeof _.verifyAt&&(Ae=_.verifyAt),(void 0===_.gracePeriod||"number"!=typeof _.gracePeriod)&&(_.gracePeriod=0),!(void 0!==se.exp&&"number"==typeof se.exp&&se.exp+_.gracePeriod<Ae||void 0!==se.nbf&&"number"==typeof se.nbf&&Ae<se.nbf-_.gracePeriod||void 0!==se.iat&&"number"==typeof se.iat&&Ae<se.iat-_.gracePeriod||void 0!==se.jti&&void 0!==_.jti&&se.jti!==_.jti||!V.verify(f,v,_.alg))},N.jws.JWS.includedArray=function(f,v){var _=N.jws.JWS.inArray;if(null===f||"object"!=typeof f||"number"!=typeof f.length)return!1;for(var A=0;A<f.length;A++)if(!_(f[A],v))return!1;return!0},N.jws.JWS.inArray=function(f,v){if(null===v||"object"!=typeof v||"number"!=typeof v.length)return!1;for(var _=0;_<v.length;_++)if(v[_]==f)return!0;return!1},N.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},N.jws.JWS.isSafeJSONString=function(f,v,_){var A=null;try{return"object"!=typeof(A=uu(f))||A.constructor===Array?0:(v&&(v[_]=A),1)}catch(j){return 0}},N.jws.JWS.readSafeJSONString=function(f){var v=null;try{return"object"!=typeof(v=uu(f))||v.constructor===Array?null:v}catch(_){return null}},N.jws.JWS.getEncodedSignatureValueFromJWS=function(f){var v=f.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==v)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return v[1]},N.jws.JWS.getJWKthumbprint=function(f){if("RSA"!==f.kty&&"EC"!==f.kty&&"oct"!==f.kty)throw"unsupported algorithm for JWK Thumprint";var v="{";if("RSA"===f.kty){if("string"!=typeof f.n||"string"!=typeof f.e)throw"wrong n and e value for RSA key";v+='"e":"'+f.e+'",',v+='"kty":"'+f.kty+'",',v+='"n":"'+f.n+'"}'}else if("EC"===f.kty){if("string"!=typeof f.crv||"string"!=typeof f.x||"string"!=typeof f.y)throw"wrong crv, x and y value for EC key";v+='"crv":"'+f.crv+'",',v+='"kty":"'+f.kty+'",',v+='"x":"'+f.x+'",',v+='"y":"'+f.y+'"}'}else if("oct"===f.kty){if("string"!=typeof f.k)throw"wrong k value for oct(symmetric) key";v+='"kty":"'+f.kty+'",',v+='"k":"'+f.k+'"}'}var _=gt(v);return Ri(N.crypto.Util.hashHex(_,"sha256"))},N.jws.IntDate={},N.jws.IntDate.get=function(f){var v=N.jws.IntDate,_=v.getNow,A=v.getZulu;if("now"==f)return _();if("now + 1hour"==f)return _()+3600;if("now + 1day"==f)return _()+86400;if("now + 1month"==f)return _()+2592e3;if("now + 1year"==f)return _()+31536e3;if(f.match(/Z$/))return A(f);if(f.match(/^[0-9]+$/))return parseInt(f);throw"unsupported format: "+f},N.jws.IntDate.getZulu=function(f){return sl(f)},N.jws.IntDate.getNow=function(){return~~(new Date/1e3)},N.jws.IntDate.intDate2UTCString=function(f){return new Date(1e3*f).toUTCString()},N.jws.IntDate.intDate2Zulu=function(f){var v=new Date(1e3*f);return("0000"+v.getUTCFullYear()).slice(-4)+("00"+(v.getUTCMonth()+1)).slice(-2)+("00"+v.getUTCDate()).slice(-2)+("00"+v.getUTCHours()).slice(-2)+("00"+v.getUTCMinutes()).slice(-2)+("00"+v.getUTCSeconds()).slice(-2)+"Z"},(void 0===N||!N)&&(N={}),(void 0===N.jws||!N.jws)&&(N.jws={}),N.jws.JWSJS=function(){var _=N.jws.JWS,A=_.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(j){this.init();var V=j.split(".");if(3!=V.length)throw"malformed input JWS";this.aHeader.push(V[0]),this.sPayload=V[1],this.aSignature.push(V[2])},this.addSignature=function(j,V,G,Z){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var ie=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var Se=N.jws.JWS.sign(j,V,this.sPayload,G,Z).split(".");this.aHeader.push(Se[0]),this.aSignature.push(Se[2])}catch(X){throw this.aHeader.length>ie&&this.aHeader.pop(),this.aSignature.length>ie&&this.aSignature.pop(),"addSignature failed: "+X}},this.verifyAll=function(j){if(this.aHeader.length!==j.length||this.aSignature.length!==j.length)return!1;for(var V=0;V<j.length;V++){var G=j[V];if(2!==G.length)return!1;if(!1===this.verifyNth(V,G[0],G[1]))return!1}return!0},this.verifyNth=function(j,V,G){if(this.aHeader.length<=j||this.aSignature.length<=j)return!1;var he=this.aHeader[j]+"."+this.sPayload+"."+this.aSignature[j],Se=!1;try{Se=_.verify(he,V,G)}catch(Ce){return!1}return Se},this.readJWSJS=function(j){if("string"==typeof j){var V=A(j);if(null==V)throw"argument is not safe JSON object string";this.aHeader=V.headers,this.sPayload=V.payload,this.aSignature=V.signatures}else try{if(!(j.headers.length>0))throw"malformed header";if(this.aHeader=j.headers,"string"!=typeof j.payload)throw"malformed signatures";if(this.sPayload=j.payload,!(j.signatures.length>0))throw"malformed signatures";this.aSignature=j.signatures}catch(G){throw"malformed JWS-JS JSON object: "+G}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},O.KZ=fr,O.fs=N},9631:(te,O,g)=>{"use strict";var i=g(5878);te.exports=i(function(F){return F.message="\t".concat(F.message),F})},8260:(te,O,g)=>{"use strict";var i=O.format=g(5878);O.levels=g(3790),Object.defineProperty(i,"align",{value:g(9631)}),Object.defineProperty(i,"cli",{value:g(1490)}),Object.defineProperty(i,"colorize",{value:g(5010)}),Object.defineProperty(i,"combine",{value:g(7605)}),Object.defineProperty(i,"errors",{value:g(2866)}),Object.defineProperty(i,"json",{value:g(5066)}),Object.defineProperty(i,"label",{value:g(3353)}),Object.defineProperty(i,"logstash",{value:g(5658)}),Object.defineProperty(i,"metadata",{value:g(2737)}),Object.defineProperty(i,"ms",{value:g(2723)}),Object.defineProperty(i,"padLevels",{value:g(4437)}),Object.defineProperty(i,"prettyPrint",{value:g(7817)}),Object.defineProperty(i,"printf",{value:g(9978)}),Object.defineProperty(i,"simple",{value:g(9346)}),Object.defineProperty(i,"splat",{value:g(5383)}),Object.defineProperty(i,"timestamp",{value:g(1299)}),Object.defineProperty(i,"uncolorize",{value:g(846)})},1490:(te,O,g)=>{"use strict";function i(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function F(P,I){for(var C=0;C<I.length;C++){var U=I[C];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}var E=g(5010).Colorizer,m=g(4437).Padder,b=g(3337),S=b.configs,k=b.MESSAGE,R=function(){function P(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,P),I.levels||(I.levels=S.cli.levels),this.colorizer=new E(I),this.padder=new m(I),this.options=I}return function B(P,I,C){I&&F(P.prototype,I),C&&F(P,C),Object.defineProperty(P,"prototype",{writable:!1})}(P,[{key:"transform",value:function(C,U){return this.colorizer.transform(this.padder.transform(C,U),U),C[k]="".concat(C.level,":").concat(C.message),C}}]),P}();te.exports=function(P){return new R(P)},te.exports.Format=R},5010:(te,O,g)=>{"use strict";function i(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function F(k,R){for(var P=0;P<R.length;P++){var I=R[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}var T=g(9064),E=g(3337),w=E.LEVEL,m=E.MESSAGE;T.enabled=!0;var b=/\s+/,S=function(){function k(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,k),R.colors&&this.addColors(R.colors),this.options=R}return function B(k,R,P){R&&F(k.prototype,R),P&&F(k,P),Object.defineProperty(k,"prototype",{writable:!1})}(k,[{key:"addColors",value:function(P){return k.addColors(P)}},{key:"colorize",value:function(P,I,C){if(void 0===C&&(C=I),!Array.isArray(k.allColors[P]))return T[k.allColors[P]](C);for(var U=0,$=k.allColors[P].length;U<$;U++)C=T[k.allColors[P][U]](C);return C}},{key:"transform",value:function(P,I){return I.all&&"string"==typeof P[m]&&(P[m]=this.colorize(P[w],P.level,P[m])),(I.level||I.all||!I.message)&&(P.level=this.colorize(P[w],P.level)),(I.all||I.message)&&(P.message=this.colorize(P[w],P.level,P.message)),P}}],[{key:"addColors",value:function(P){var I=Object.keys(P).reduce(function(C,U){return C[U]=b.test(P[U])?P[U].split(b):P[U],C},{});return k.allColors=Object.assign({},k.allColors||{},I)}}]),k}();te.exports=function(k){return new S(k)},te.exports.Colorizer=te.exports.Format=S},7605:(te,O,g)=>{"use strict";var i=g(5878);function F(T){if(T.every(B))return function(E){for(var w=E,m=0;m<T.length;m++)if(!(w=T[m].transform(w,T[m].options)))return!1;return w}}function B(T){if("function"!=typeof T.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}te.exports=function(){for(var T=arguments.length,E=new Array(T),w=0;w<T;w++)E[w]=arguments[w];var m=i(F(E)),b=m();return b.Format=m.Format,b},te.exports.cascade=F},2866:(te,O,g)=>{"use strict";function i(w,m,b){return m in w?Object.defineProperty(w,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):w[m]=b,w}var F=g(5878),B=g(3337),T=B.LEVEL,E=B.MESSAGE;te.exports=F(function(w,m){var b=m.stack;if(w instanceof Error){var S,k=Object.assign({},w,(i(S={level:w.level},T,w[T]||w.level),i(S,"message",w.message),i(S,E,w[E]||w.message),S));return b&&(k.stack=w.stack),k}if(!(w.message instanceof Error))return w;var R=w.message;return Object.assign(w,R),w.message=R.message,w[E]=R.message,b&&(w.stack=R.stack),w})},5878:te=>{"use strict";function O(C){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(C)}function g(C,U){for(var $=0;$<U.length;$++){var K=U[$];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(C,K.key,K)}}function E(C,U){if(U&&("object"===O(U)||"function"==typeof U))return U;if(void 0!==U)throw new TypeError("Derived constructors may only return object or undefined");return w(C)}function w(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function m(C){var U="function"==typeof Map?new Map:void 0;return m=function(K){if(null===K||!function k(C){return-1!==Function.toString.call(C).indexOf("[native code]")}(K))return K;if("function"!=typeof K)throw new TypeError("Super expression must either be null or a function");if(void 0!==U){if(U.has(K))return U.get(K);U.set(K,z)}function z(){return b(K,arguments,P(this).constructor)}return z.prototype=Object.create(K.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),R(z,K)},m(C)}function b(C,U,$){return(b=S()?Reflect.construct.bind():function(z,ae,pe){var ue=[null];ue.push.apply(ue,ae);var Y=new(Function.bind.apply(z,ue));return pe&&R(Y,pe.prototype),Y}).apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}function R(C,U){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,z){return K.__proto__=z,K})(C,U)}function P(C){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)})(C)}var I=function(C){!function B(C,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(U&&U.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),U&&R(C,U)}($,C);var U=function T(C){var U=S();return function(){var z,K=P(C);if(U){var ae=P(this).constructor;z=Reflect.construct(K,arguments,ae)}else z=K.apply(this,arguments);return E(this,z)}}($);function $(K){var z;return function F(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}(this,$),z=U.call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(K.toString().split("\n")[0],"\n")),Error.captureStackTrace(w(z),$),z}return function i(C,U,$){return U&&g(C.prototype,U),$&&g(C,$),Object.defineProperty(C,"prototype",{writable:!1}),C}($)}(m(Error));te.exports=function(C){if(C.length>2)throw new I(C);function U(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=K}function $(K){return new U(K)}return U.prototype.transform=C,$.Format=U,$}},5066:(te,O,g)=>{"use strict";var i=g(5878),B=g(3337).MESSAGE,T=g(9624);function E(w,m){return"bigint"==typeof m?m.toString():m}te.exports=i(function(w,m){var b=T.configure(m);return w[B]=b(w,m.replacer||E,m.space),w})},3353:(te,O,g)=>{"use strict";var i=g(5878);te.exports=i(function(F,B){return B.message?(F.message="[".concat(B.label,"] ").concat(F.message),F):(F.label=B.label,F)})},3790:(te,O,g)=>{"use strict";var F=g(5010).Colorizer;te.exports=function(B){return F.addColors(B.colors||B),B}},5658:(te,O,g)=>{"use strict";var i=g(5878),B=g(3337).MESSAGE,T=g(9624);te.exports=i(function(E){var w={};return E.message&&(w["@message"]=E.message,delete E.message),E.timestamp&&(w["@timestamp"]=E.timestamp,delete E.timestamp),w["@fields"]=E,E[B]=T(w),E})},2737:(te,O,g)=>{"use strict";var F=g(5878);function B(E,w,m){var b=w.reduce(function(k,R){return k[R]=E[R],delete E[R],k},{}),S=Object.keys(E).reduce(function(k,R){return k[R]=E[R],delete E[R],k},{});return Object.assign(E,b,function i(E,w,m){return w in E?Object.defineProperty(E,w,{value:m,enumerable:!0,configurable:!0,writable:!0}):E[w]=m,E}({},m,S)),E}function T(E,w,m){return E[m]=w.reduce(function(b,S){return b[S]=E[S],delete E[S],b},{}),E}te.exports=F(function(E){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m="metadata";w.key&&(m=w.key);var b=[];return!w.fillExcept&&!w.fillWith&&(b.push("level"),b.push("message")),w.fillExcept&&(b=w.fillExcept),b.length>0?B(E,b,m):w.fillWith?T(E,w.fillWith,m):E})},2723:(te,O,g)=>{"use strict";var i=void 0,F=g(5878),B=g(7107);te.exports=F(function(T){var E=+new Date;return i.diff=E-(i.prevTime||E),i.prevTime=E,T.ms="+".concat(B(i.diff)),T})},4437:(te,O,g)=>{"use strict";function w(U,$){(null==$||$>U.length)&&($=U.length);for(var K=0,z=new Array($);K<$;K++)z[K]=U[K];return z}function m(U,$){if(!(U instanceof $))throw new TypeError("Cannot call a class as a function")}function b(U,$){for(var K=0;K<$.length;K++){var z=$[K];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(U,z.key,z)}}var k=g(3337),R=k.configs,P=k.LEVEL,I=k.MESSAGE,C=function(){function U(){var $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:R.npm.levels};m(this,U),this.paddings=U.paddingForLevels($.levels,$.filler),this.options=$}return function S(U,$,K){$&&b(U.prototype,$),K&&b(U,K),Object.defineProperty(U,"prototype",{writable:!1})}(U,[{key:"transform",value:function(K,z){return K.message="".concat(this.paddings[K[P]]).concat(K.message),K[I]&&(K[I]="".concat(this.paddings[K[P]]).concat(K[I])),K}}],[{key:"getLongestLevel",value:function(K){var z=Object.keys(K).map(function(ae){return ae.length});return Math.max.apply(Math,function i(U){return function E(U){if(Array.isArray(U))return w(U)}(U)||function T(U){if("undefined"!=typeof Symbol&&null!=U[Symbol.iterator]||null!=U["@@iterator"])return Array.from(U)}(U)||function B(U,$){if(U){if("string"==typeof U)return w(U,$);var K=Object.prototype.toString.call(U).slice(8,-1);if("Object"===K&&U.constructor&&(K=U.constructor.name),"Map"===K||"Set"===K)return Array.from(U);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return w(U,$)}}(U)||function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(z))}},{key:"paddingForLevel",value:function(K,z,ae){var pe=ae+1-K.length,ue=Math.floor(pe/z.length);return"".concat(z).concat(z.repeat(ue)).slice(0,pe)}},{key:"paddingForLevels",value:function(K){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",ae=U.getLongestLevel(K);return Object.keys(K).reduce(function(pe,ue){return pe[ue]=U.paddingForLevel(ue,z,ae),pe},{})}}]),U}();te.exports=function(U){return new C(U)},te.exports.Padder=te.exports.Format=C},7817:(te,O,g)=>{"use strict";var i=g(8901).inspect,F=g(5878),B=g(3337),T=B.LEVEL,E=B.MESSAGE,w=B.SPLAT;te.exports=F(function(m){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=Object.assign({},m);return delete S[T],delete S[E],delete S[w],m[E]=i(S,!1,b.depth||null,b.colorize),m})},9978:(te,O,g)=>{"use strict";function F(m,b){for(var S=0;S<b.length;S++){var k=b[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}var E=g(3337).MESSAGE,w=function(){function m(b){(function i(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,m),this.template=b}return function B(m,b,S){b&&F(m.prototype,b),S&&F(m,S),Object.defineProperty(m,"prototype",{writable:!1})}(m,[{key:"transform",value:function(S){return S[E]=this.template(S),S}}]),m}();te.exports=function(m){return new w(m)},te.exports.Printf=te.exports.Format=w},9346:(te,O,g)=>{"use strict";var i=g(5878),B=g(3337).MESSAGE,T=g(9624);te.exports=i(function(E){var w=T(Object.assign({},E,{level:void 0,message:void 0,splat:void 0})),m=E.padding&&E.padding[E.level]||"";return E[B]="{}"!==w?"".concat(E.level,":").concat(m," ").concat(E.message," ").concat(w):"".concat(E.level,":").concat(m," ").concat(E.message),E})},5383:(te,O,g)=>{"use strict";function w($,K){(null==K||K>$.length)&&(K=$.length);for(var z=0,ae=new Array(K);z<K;z++)ae[z]=$[z];return ae}function b($,K){for(var z=0;z<K.length;z++){var ae=K[z];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty($,ae.key,ae)}}var k=g(8901),P=g(3337).SPLAT,I=/%[scdjifoO%]/g,C=/%%/g,U=function(){function $(K){(function m($,K){if(!($ instanceof K))throw new TypeError("Cannot call a class as a function")})(this,$),this.options=K}return function S($,K,z){K&&b($.prototype,K),z&&b($,z),Object.defineProperty($,"prototype",{writable:!1})}($,[{key:"_splat",value:function(z,ae){var pe=z.message,ue=z[P]||z.splat||[],fe=pe.match(C),me=ae.length-(fe&&fe.length||0)-ue.length,Me=me<0?ue.splice(me,-1*me):[],nt=Me.length;if(nt)for(var et=0;et<nt;et++)Object.assign(z,Me[et]);return z.message=k.format.apply(k,[pe].concat(function i($){return function E($){if(Array.isArray($))return w($)}($)||function T($){if("undefined"!=typeof Symbol&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||function B($,K){if($){if("string"==typeof $)return w($,K);var z=Object.prototype.toString.call($).slice(8,-1);if("Object"===z&&$.constructor&&(z=$.constructor.name),"Map"===z||"Set"===z)return Array.from($);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return w($,K)}}($)||function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ue))),z}},{key:"transform",value:function(z){var ae=z.message,pe=z[P]||z.splat;if(!pe||!pe.length)return z;var ue=ae&&ae.match&&ae.match(I);if(!ue&&(pe||pe.length)){var fe=pe.length>1?pe.splice(0):pe,Y=fe.length;if(Y)for(var De=0;De<Y;De++)Object.assign(z,fe[De]);return z}return ue?this._splat(z,ue):z}}]),$}();te.exports=function($){return new U($)}},1299:(te,O,g)=>{"use strict";var i=g(9053),F=g(5878);te.exports=F(function(B){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T.format&&(B.timestamp="function"==typeof T.format?T.format():i.format(new Date,T.format)),B.timestamp||(B.timestamp=(new Date).toISOString()),T.alias&&(B[T.alias]=B.timestamp),B})},846:(te,O,g)=>{"use strict";var i=g(9064),F=g(5878),T=g(3337).MESSAGE;te.exports=F(function(E,w){return!1!==w.level&&(E.level=i.strip(E.level)),!1!==w.message&&(E.message=i.strip(String(E.message))),!1!==w.raw&&E[T]&&(E[T]=i.strip(String(E[T]))),E})},2447:te=>{"use strict";class O extends Error{constructor(i){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${i.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,O)}}te.exports=g=>{if(g.length>2)throw new O(g);function i(B={}){this.options=B}function F(B){return new i(B)}return i.prototype.transform=g,F.Format=i,F}},2078:(te,O,g)=>{"use strict";const i=g(2447),{MESSAGE:F}=g(3337),B=g(9624);function T(E,w){return"bigint"==typeof w?w.toString():w}te.exports=i((E,w)=>{const m=B.configure(w);return E[F]=m(E,w.replacer||T,w.space),E})},6051:(te,O,g)=>{"use strict";const i=g(5950),F=Symbol("max"),B=Symbol("length"),T=Symbol("lengthCalculator"),E=Symbol("allowStale"),w=Symbol("maxAge"),m=Symbol("dispose"),b=Symbol("noDisposeOnSet"),S=Symbol("lruList"),k=Symbol("cache"),R=Symbol("updateAgeOnGet"),P=()=>1,C=(pe,ue,fe)=>{const Y=pe[k].get(ue);if(Y){const De=Y.value;if(U(pe,De)){if(K(pe,Y),!pe[E])return}else fe&&(pe[R]&&(Y.value.now=Date.now()),pe[S].unshiftNode(Y));return De.value}},U=(pe,ue)=>{if(!ue||!ue.maxAge&&!pe[w])return!1;const fe=Date.now()-ue.now;return ue.maxAge?fe>ue.maxAge:pe[w]&&fe>pe[w]},$=pe=>{if(pe[B]>pe[F])for(let ue=pe[S].tail;pe[B]>pe[F]&&null!==ue;){const fe=ue.prev;K(pe,ue),ue=fe}},K=(pe,ue)=>{if(ue){const fe=ue.value;pe[m]&&pe[m](fe.key,fe.value),pe[B]-=fe.length,pe[k].delete(fe.key),pe[S].removeNode(ue)}};class z{constructor(ue,fe,Y,De,me){this.key=ue,this.value=fe,this.length=Y,this.now=De,this.maxAge=me||0}}const ae=(pe,ue,fe,Y)=>{let De=fe.value;U(pe,De)&&(K(pe,fe),pe[E]||(De=void 0)),De&&ue.call(Y,De.value,De.key,pe)};te.exports=class I{constructor(ue){if("number"==typeof ue&&(ue={max:ue}),ue||(ue={}),ue.max&&("number"!=typeof ue.max||ue.max<0))throw new TypeError("max must be a non-negative number");this[F]=ue.max||1/0;const Y=ue.length||P;if(this[T]="function"!=typeof Y?P:Y,this[E]=ue.stale||!1,ue.maxAge&&"number"!=typeof ue.maxAge)throw new TypeError("maxAge must be a number");this[w]=ue.maxAge||0,this[m]=ue.dispose,this[b]=ue.noDisposeOnSet||!1,this[R]=ue.updateAgeOnGet||!1,this.reset()}set max(ue){if("number"!=typeof ue||ue<0)throw new TypeError("max must be a non-negative number");this[F]=ue||1/0,$(this)}get max(){return this[F]}set allowStale(ue){this[E]=!!ue}get allowStale(){return this[E]}set maxAge(ue){if("number"!=typeof ue)throw new TypeError("maxAge must be a non-negative number");this[w]=ue,$(this)}get maxAge(){return this[w]}set lengthCalculator(ue){"function"!=typeof ue&&(ue=P),ue!==this[T]&&(this[T]=ue,this[B]=0,this[S].forEach(fe=>{fe.length=this[T](fe.value,fe.key),this[B]+=fe.length})),$(this)}get lengthCalculator(){return this[T]}get length(){return this[B]}get itemCount(){return this[S].length}rforEach(ue,fe){fe=fe||this;for(let Y=this[S].tail;null!==Y;){const De=Y.prev;ae(this,ue,Y,fe),Y=De}}forEach(ue,fe){fe=fe||this;for(let Y=this[S].head;null!==Y;){const De=Y.next;ae(this,ue,Y,fe),Y=De}}keys(){return this[S].toArray().map(ue=>ue.key)}values(){return this[S].toArray().map(ue=>ue.value)}reset(){this[m]&&this[S]&&this[S].length&&this[S].forEach(ue=>this[m](ue.key,ue.value)),this[k]=new Map,this[S]=new i,this[B]=0}dump(){return this[S].map(ue=>!U(this,ue)&&{k:ue.key,v:ue.value,e:ue.now+(ue.maxAge||0)}).toArray().filter(ue=>ue)}dumpLru(){return this[S]}set(ue,fe,Y){if((Y=Y||this[w])&&"number"!=typeof Y)throw new TypeError("maxAge must be a number");const De=Y?Date.now():0,me=this[T](fe,ue);if(this[k].has(ue)){if(me>this[F])return K(this,this[k].get(ue)),!1;const et=this[k].get(ue).value;return this[m]&&(this[b]||this[m](ue,et.value)),et.now=De,et.maxAge=Y,et.value=fe,this[B]+=me-et.length,et.length=me,this.get(ue),$(this),!0}const Me=new z(ue,fe,me,De,Y);return Me.length>this[F]?(this[m]&&this[m](ue,fe),!1):(this[B]+=Me.length,this[S].unshift(Me),this[k].set(ue,this[S].head),$(this),!0)}has(ue){if(!this[k].has(ue))return!1;const fe=this[k].get(ue).value;return!U(this,fe)}get(ue){return C(this,ue,!0)}peek(ue){return C(this,ue,!1)}pop(){const ue=this[S].tail;return ue?(K(this,ue),ue.value):null}del(ue){K(this,this[k].get(ue))}load(ue){this.reset();const fe=Date.now();for(let Y=ue.length-1;Y>=0;Y--){const De=ue[Y],me=De.e||0;if(0===me)this.set(De.k,De.v);else{const Me=me-fe;Me>0&&this.set(De.k,De.v,Me)}}}prune(){this[k].forEach((ue,fe)=>C(this,fe,!1))}}},9065:(te,O,g)=>{var i=g(7526).Buffer;const F=te.exports;F.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},F.codes={};for(const T in F.types)F.codes[F.types[T]]=T;F.CMD_SHIFT=4,F.CMD_MASK=240,F.DUP_MASK=8,F.QOS_MASK=3,F.QOS_SHIFT=1,F.RETAIN_MASK=1,F.VARBYTEINT_MASK=127,F.VARBYTEINT_FIN_MASK=128,F.VARBYTEINT_MAX=268435455,F.SESSIONPRESENT_MASK=1,F.SESSIONPRESENT_HEADER=i.from([F.SESSIONPRESENT_MASK]),F.CONNACK_HEADER=i.from([F.codes.connack<<F.CMD_SHIFT]),F.USERNAME_MASK=128,F.PASSWORD_MASK=64,F.WILL_RETAIN_MASK=32,F.WILL_QOS_MASK=24,F.WILL_QOS_SHIFT=3,F.WILL_FLAG_MASK=4,F.CLEAN_SESSION_MASK=2,F.CONNECT_HEADER=i.from([F.codes.connect<<F.CMD_SHIFT]),F.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},F.propertiesCodes={};for(const T in F.properties)F.propertiesCodes[F.properties[T]]=T;function B(T){return[0,1,2].map(E=>[0,1].map(w=>[0,1].map(m=>{const b=i.alloc(1);return b.writeUInt8(F.codes[T]<<F.CMD_SHIFT|(w?F.DUP_MASK:0)|E<<F.QOS_SHIFT|m,0,!0),b})))}F.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},F.PUBLISH_HEADER=B("publish"),F.SUBSCRIBE_HEADER=B("subscribe"),F.SUBSCRIBE_OPTIONS_QOS_MASK=3,F.SUBSCRIBE_OPTIONS_NL_MASK=1,F.SUBSCRIBE_OPTIONS_NL_SHIFT=2,F.SUBSCRIBE_OPTIONS_RAP_MASK=1,F.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,F.SUBSCRIBE_OPTIONS_RH_MASK=3,F.SUBSCRIBE_OPTIONS_RH_SHIFT=4,F.SUBSCRIBE_OPTIONS_RH=[0,16,32],F.SUBSCRIBE_OPTIONS_NL=4,F.SUBSCRIBE_OPTIONS_RAP=8,F.SUBSCRIBE_OPTIONS_QOS=[0,1,2],F.UNSUBSCRIBE_HEADER=B("unsubscribe"),F.ACKS={unsuback:B("unsuback"),puback:B("puback"),pubcomp:B("pubcomp"),pubrel:B("pubrel"),pubrec:B("pubrec")},F.SUBACK_HEADER=i.from([F.codes.suback<<F.CMD_SHIFT]),F.VERSION3=i.from([3]),F.VERSION4=i.from([4]),F.VERSION5=i.from([5]),F.VERSION131=i.from([131]),F.VERSION132=i.from([132]),F.QOS=[0,1,2].map(T=>i.from([T])),F.EMPTY={pingreq:i.from([F.codes.pingreq<<4,0]),pingresp:i.from([F.codes.pingresp<<4,0]),disconnect:i.from([F.codes.disconnect<<4,0])}},1931:(te,O,g)=>{var i=g(7526).Buffer;const F=g(1119),B=g(9502);class E extends B{constructor(){super(),this._array=new Array(20),this._i=0}write(m){return this._array[this._i++]=m,!0}concat(){let m=0;const b=new Array(this._array.length),S=this._array;let R,k=0;for(R=0;R<S.length&&void 0!==S[R];R++)b[R]="string"!=typeof S[R]?S[R].length:i.byteLength(S[R]),m+=b[R];const P=i.allocUnsafe(m);for(R=0;R<S.length&&void 0!==S[R];R++)"string"!=typeof S[R]?(S[R].copy(P,k),k+=b[R]):(P.write(S[R],k),k+=b[R]);return P}}te.exports=function T(w,m){const b=new E;return F(w,b,m),b.concat()}},2269:(te,O,g)=>{O.parser=g(5691).parser,O.generate=g(1931),O.writeToStream=g(1119)},1280:(te,O,g)=>{var i=g(7526).Buffer;const B={},T=i.isBuffer(i.from([1,2]).subarray(0,1));function E(S){const k=i.allocUnsafe(2);return k.writeUInt8(S>>8,0),k.writeUInt8(255&S,1),k}te.exports={cache:B,generateCache:function w(){for(let S=0;S<65536;S++)B[S]=E(S)},generateNumber:E,genBufVariableByteInt:function m(S){let R=0,P=0;const I=i.allocUnsafe(4);do{R=S%128|0,(S=S/128|0)>0&&(R|=128),I.writeUInt8(R,P++)}while(S>0&&P<4);return S>0&&(P=0),T?I.subarray(0,P):I.slice(0,P)},generate4ByteBuffer:function b(S){const k=i.allocUnsafe(4);return k.writeUInt32BE(S,0),k}}},3235:te=>{te.exports=class O{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},5691:(te,O,g)=>{const i=g(5980),F=g(9502),B=g(3235),T=g(9065),E=g(1748)("mqtt-packet:parser");class w extends F{constructor(){super(),this.parser=this.constructor.parser}static parser(b){return this instanceof w?(this.settings=b||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new w).parser(b)}_resetState(){E("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new B,this.error=null,this._list=i(),this._stateCounter=0}parse(b){for(this.error&&this._resetState(),this._list.append(b),E("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,E("parse: state complete. _stateCounter is now: %d",this._stateCounter),E("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return E("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const b=this._list.readUInt8(0);return this.packet.cmd=T.types[b>>T.CMD_SHIFT],this.packet.retain=0!=(b&T.RETAIN_MASK),this.packet.qos=b>>T.QOS_SHIFT&T.QOS_MASK,this.packet.dup=0!=(b&T.DUP_MASK),E("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const b=this._parseVarByteNum(!0);return b&&(this.packet.length=b.value,this._list.consume(b.bytes)),E("_parseLength %d",b.value),!!b}_parsePayload(){E("_parsePayload: payload %O",this._list);let b=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}b=!0}return E("_parsePayload complete result: %s",b),b}_parseConnect(){let b,S,k,R;E("_parseConnect");const P={},I=this.packet,C=this._parseString();if(null===C)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==C&&"MQIsdp"!==C)return this._emitError(new Error("Invalid protocolId"));if(I.protocolId=C,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(I.protocolVersion=this._list.readUInt8(this._pos),I.protocolVersion>=128&&(I.bridgeMode=!0,I.protocolVersion=I.protocolVersion-128),3!==I.protocolVersion&&4!==I.protocolVersion&&5!==I.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(P.username=this._list.readUInt8(this._pos)&T.USERNAME_MASK,P.password=this._list.readUInt8(this._pos)&T.PASSWORD_MASK,P.will=this._list.readUInt8(this._pos)&T.WILL_FLAG_MASK,P.will&&(I.will={},I.will.retain=0!=(this._list.readUInt8(this._pos)&T.WILL_RETAIN_MASK),I.will.qos=(this._list.readUInt8(this._pos)&T.WILL_QOS_MASK)>>T.WILL_QOS_SHIFT),I.clean=0!=(this._list.readUInt8(this._pos)&T.CLEAN_SESSION_MASK),this._pos++,I.keepalive=this._parseNum(),-1===I.keepalive)return this._emitError(new Error("Packet too short"));if(5===I.protocolVersion){const $=this._parseProperties();Object.getOwnPropertyNames($).length&&(I.properties=$)}const U=this._parseString();if(null===U)return this._emitError(new Error("Packet too short"));if(I.clientId=U,E("_parseConnect: packet.clientId: %s",I.clientId),P.will){if(5===I.protocolVersion){const $=this._parseProperties();Object.getOwnPropertyNames($).length&&(I.will.properties=$)}if(b=this._parseString(),null===b)return this._emitError(new Error("Cannot parse will topic"));if(I.will.topic=b,E("_parseConnect: packet.will.topic: %s",I.will.topic),S=this._parseBuffer(),null===S)return this._emitError(new Error("Cannot parse will payload"));I.will.payload=S,E("_parseConnect: packet.will.paylaod: %s",I.will.payload)}if(P.username){if(R=this._parseString(),null===R)return this._emitError(new Error("Cannot parse username"));I.username=R,E("_parseConnect: packet.username: %s",I.username)}if(P.password){if(k=this._parseBuffer(),null===k)return this._emitError(new Error("Cannot parse password"));I.password=k}return this.settings=I,E("_parseConnect: complete"),I}_parseConnack(){E("_parseConnack");const b=this.packet;if(this._list.length<1)return null;if(b.sessionPresent=!!(this._list.readUInt8(this._pos++)&T.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)b.reasonCode=this._list.length>=2?this._list.readUInt8(this._pos++):0;else{if(this._list.length<2)return null;b.returnCode=this._list.readUInt8(this._pos++)}if(-1===b.returnCode||-1===b.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(b.properties=S)}E("_parseConnack: complete")}_parsePublish(){E("_parsePublish");const b=this.packet;if(b.topic=this._parseString(),null===b.topic)return this._emitError(new Error("Cannot parse topic"));if(!(b.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(b.properties=S)}b.payload=this._list.slice(this._pos,b.length),E("_parsePublish: payload from buffer list: %o",b.payload)}}_parseSubscribe(){E("_parseSubscribe");const b=this.packet;let S,k,R,P,I,C,U;if(1!==b.qos)return this._emitError(new Error("Wrong subscribe header"));if(b.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const $=this._parseProperties();Object.getOwnPropertyNames($).length&&(b.properties=$)}for(;this._pos<b.length;){if(S=this._parseString(),null===S)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=b.length)return this._emitError(new Error("Malformed Subscribe Payload"));k=this._parseByte(),R=k&T.SUBSCRIBE_OPTIONS_QOS_MASK,C=0!=(k>>T.SUBSCRIBE_OPTIONS_NL_SHIFT&T.SUBSCRIBE_OPTIONS_NL_MASK),I=0!=(k>>T.SUBSCRIBE_OPTIONS_RAP_SHIFT&T.SUBSCRIBE_OPTIONS_RAP_MASK),P=k>>T.SUBSCRIBE_OPTIONS_RH_SHIFT&T.SUBSCRIBE_OPTIONS_RH_MASK,U={topic:S,qos:R},5===this.settings.protocolVersion?(U.nl=C,U.rap=I,U.rh=P):this.settings.bridgeMode&&(U.rh=0,U.rap=!0,U.nl=!0),E("_parseSubscribe: push subscription `%s` to subscription",U),b.subscriptions.push(U)}}}_parseSuback(){E("_parseSuback");const b=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(b.properties=S)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){E("_parseUnsubscribe");const b=this.packet;if(b.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(b.properties=S)}for(;this._pos<b.length;){const S=this._parseString();if(null===S)return this._emitError(new Error("Cannot parse topic"));E("_parseUnsubscribe: push topic `%s` to unsubscriptions",S),b.unsubscriptions.push(S)}}}_parseUnsuback(){E("_parseUnsuback");const b=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const S=this._parseProperties();for(Object.getOwnPropertyNames(S).length&&(b.properties=S),b.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){E("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const b=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(b.length>2?(b.reasonCode=this._parseByte(),E("_parseConfirmation: packet.reasonCode `%d`",b.reasonCode)):b.reasonCode=0,b.length>3)){const S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(b.properties=S)}return!0}_parseDisconnect(){const b=this.packet;if(E("_parseDisconnect"),5===this.settings.protocolVersion){b.reasonCode=this._list.length>0?this._parseByte():0;const S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(b.properties=S)}return E("_parseDisconnect result: true"),!0}_parseAuth(){E("_parseAuth");const b=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));b.reasonCode=this._parseByte();const S=this._parseProperties();return Object.getOwnPropertyNames(S).length&&(b.properties=S),E("_parseAuth: result: true"),!0}_parseMessageId(){const b=this.packet;return b.messageId=this._parseNum(),null===b.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(E("_parseMessageId: packet.messageId %d",b.messageId),!0)}_parseString(b){const S=this._parseNum(),k=S+this._pos;if(-1===S||k>this._list.length||k>this.packet.length)return null;const R=this._list.toString("utf8",this._pos,k);return this._pos+=S,E("_parseString: result: %s",R),R}_parseStringPair(){return E("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const b=this._parseNum(),S=b+this._pos;if(-1===b||S>this._list.length||S>this.packet.length)return null;const k=this._list.slice(this._pos,S);return this._pos+=b,E("_parseBuffer: result: %o",k),k}_parseNum(){if(this._list.length-this._pos<2)return-1;const b=this._list.readUInt16BE(this._pos);return this._pos+=2,E("_parseNum: result: %s",b),b}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const b=this._list.readUInt32BE(this._pos);return this._pos+=4,E("_parse4ByteNum: result: %s",b),b}_parseVarByteNum(b){E("_parseVarByteNum");let C,k=0,R=1,P=0,I=!1;const U=this._pos?this._pos:0;for(;k<4&&U+k<this._list.length;){if(C=this._list.readUInt8(U+k++),P+=R*(C&T.VARBYTEINT_MASK),R*=128,0==(C&T.VARBYTEINT_FIN_MASK)){I=!0;break}if(this._list.length<=k)break}return!I&&4===k&&this._list.length>=k&&this._emitError(new Error("Invalid variable byte integer")),U&&(this._pos+=k),I=!!I&&(b?{bytes:k,value:P}:P),E("_parseVarByteNum: result: %o",I),I}_parseByte(){let b;return this._pos<this._list.length&&(b=this._list.readUInt8(this._pos),this._pos++),E("_parseByte: result: %o",b),b}_parseByType(b){switch(E("_parseByType: type: %s",b),b){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){E("_parseProperties");const b=this._parseVarByteNum(),k=this._pos+b,R={};for(;this._pos<k;){const P=this._parseByte();if(!P)return this._emitError(new Error("Cannot parse property code type")),!1;const I=T.propertiesCodes[P];if(!I)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==I)R[I]?(Array.isArray(R[I])||(R[I]=[R[I]]),R[I].push(this._parseByType(T.propertiesTypes[I]))):R[I]=this._parseByType(T.propertiesTypes[I]);else{R[I]||(R[I]=Object.create(null));const C=this._parseByType(T.propertiesTypes[I]);R[I][C.name]?(Array.isArray(R[I][C.name])||(R[I][C.name]=[R[I][C.name]]),R[I][C.name].push(C.value)):R[I][C.name]=C.value}}return R}_newPacket(){return E("_newPacket"),this.packet&&(this._list.consume(this.packet.length),E("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),E("_newPacket: new packet"),this.packet=new B,this._pos=0,!0}_emitError(b){E("_emitError"),this.error=b,this.emit("error",b)}}te.exports=w},1119:(te,O,g)=>{var i=g(7526).Buffer;const F=g(9065),B=i.allocUnsafe(0),T=i.from([0]),E=g(1280),w=g(1231).nextTick,m=g(1748)("mqtt-packet:writeToStream"),b=E.cache,S=E.generateNumber,k=E.generateCache,R=E.genBufVariableByteInt,P=E.generate4ByteBuffer;let I=Ue,C=!0;function U(Qe,We,ft){switch(m("generate called"),We.cork&&(We.cork(),w($,We)),C&&(C=!1,k()),m("generate: packet.cmd: %s",Qe.cmd),Qe.cmd){case"connect":return function K(Qe,We,ft){const $e=Qe||{},Re=$e.protocolId||"MQTT";let Ve=$e.protocolVersion||4;const Xe=$e.will;let vt=$e.clean;const Fe=$e.keepalive||0,Ge=$e.clientId||"",be=$e.username,le=$e.password,re=$e.properties;void 0===vt&&(vt=!0);let xe=0;if(!Re||"string"!=typeof Re&&!i.isBuffer(Re))return We.emit("error",new Error("Invalid protocolId")),!1;if(xe+=Re.length+2,3!==Ve&&4!==Ve&&5!==Ve)return We.emit("error",new Error("Invalid protocol version")),!1;if(xe+=1,("string"==typeof Ge||i.isBuffer(Ge))&&(Ge||Ve>=4)&&(Ge||vt))xe+=i.byteLength(Ge)+2;else{if(Ve<4)return We.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*vt==0)return We.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof Fe||Fe<0||Fe>65535||Fe%1!=0)return We.emit("error",new Error("Invalid keepalive")),!1;if(xe+=2,xe+=1,5===Ve){var xt=Te(We,re);if(!xt)return!1;xe+=xt.length}if(Xe){if("object"!=typeof Xe)return We.emit("error",new Error("Invalid will")),!1;if(!Xe.topic||"string"!=typeof Xe.topic)return We.emit("error",new Error("Invalid will topic")),!1;if(xe+=i.byteLength(Xe.topic)+2,xe+=2,Xe.payload){if(!(Xe.payload.length>=0))return We.emit("error",new Error("Invalid will payload")),!1;xe+="string"==typeof Xe.payload?i.byteLength(Xe.payload):Xe.payload.length}var Ut={};if(5===Ve){if(!(Ut=Te(We,Xe.properties)))return!1;xe+=Ut.length}}let Yt=!1;if(null!=be){if(!qe(be))return We.emit("error",new Error("Invalid username")),!1;Yt=!0,xe+=i.byteLength(be)+2}if(null!=le){if(!Yt)return We.emit("error",new Error("Username is required to use password")),!1;if(!qe(le))return We.emit("error",new Error("Invalid password")),!1;xe+=tt(le)+2}We.write(F.CONNECT_HEADER),de(We,xe),Ne(We,Re),$e.bridgeMode&&(Ve+=128),We.write(131===Ve?F.VERSION131:132===Ve?F.VERSION132:4===Ve?F.VERSION4:5===Ve?F.VERSION5:F.VERSION3);let xn=0;return xn|=null!=be?F.USERNAME_MASK:0,xn|=null!=le?F.PASSWORD_MASK:0,xn|=Xe&&Xe.retain?F.WILL_RETAIN_MASK:0,xn|=Xe&&Xe.qos?Xe.qos<<F.WILL_QOS_SHIFT:0,xn|=Xe?F.WILL_FLAG_MASK:0,xn|=vt?F.CLEAN_SESSION_MASK:0,We.write(i.from([xn])),I(We,Fe),5===Ve&&xt.write(),Ne(We,Ge),Xe&&(5===Ve&&Ut.write(),ne(We,Xe.topic),Ne(We,Xe.payload)),null!=be&&Ne(We,be),null!=le&&Ne(We,le),!0}(Qe,We);case"connack":return function z(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=5===$e?Re.reasonCode:Re.returnCode,Xe=Re.properties;let vt=2;if("number"!=typeof Ve)return We.emit("error",new Error("Invalid return code")),!1;let Fe=null;if(5===$e){if(Fe=Te(We,Xe),!Fe)return!1;vt+=Fe.length}return We.write(F.CONNACK_HEADER),de(We,vt),We.write(Re.sessionPresent?F.SESSIONPRESENT_HEADER:T),We.write(i.from([Ve])),null!=Fe&&Fe.write(),!0}(Qe,We,ft);case"publish":return function ae(Qe,We,ft){m("publish: packet: %o",Qe);const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.qos||0,Xe=Re.retain?F.RETAIN_MASK:0,vt=Re.topic,Fe=Re.payload||B,Ge=Re.messageId,be=Re.properties;let le=0;if("string"==typeof vt)le+=i.byteLength(vt)+2;else{if(!i.isBuffer(vt))return We.emit("error",new Error("Invalid topic")),!1;le+=vt.length+2}if(i.isBuffer(Fe)?le+=Fe.length:le+=i.byteLength(Fe),Ve&&"number"!=typeof Ge)return We.emit("error",new Error("Invalid messageId")),!1;Ve&&(le+=2);let re=null;if(5===$e){if(re=Te(We,be),!re)return!1;le+=re.length}return We.write(F.PUBLISH_HEADER[Ve][Re.dup?1:0][Xe?1:0]),de(We,le),I(We,tt(vt)),We.write(vt),Ve>0&&I(We,Ge),null!=re&&re.write(),m("publish: payload: %o",Fe),We.write(Fe)}(Qe,We,ft);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function pe(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.cmd||"puback",Xe=Re.messageId,vt=Re.dup&&"pubrel"===Ve?F.DUP_MASK:0;let Fe=0;const Ge=Re.reasonCode,be=Re.properties;let le=5===$e?3:2;if("pubrel"===Ve&&(Fe=1),"number"!=typeof Xe)return We.emit("error",new Error("Invalid messageId")),!1;let re=null;if(5===$e&&"object"==typeof be){if(re=ze(We,be,ft,le),!re)return!1;le+=re.length}return We.write(F.ACKS[Ve][Fe][vt][0]),de(We,le),I(We,Xe),5===$e&&We.write(i.from([Ge])),null!==re&&re.write(),!0}(Qe,We,ft);case"subscribe":return function ue(Qe,We,ft){m("subscribe: packet: ");const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.dup?F.DUP_MASK:0,Xe=Re.messageId,vt=Re.subscriptions,Fe=Re.properties;let Ge=0;if("number"!=typeof Xe)return We.emit("error",new Error("Invalid messageId")),!1;Ge+=2;let be=null;if(5===$e){if(be=Te(We,Fe),!be)return!1;Ge+=be.length}if("object"!=typeof vt||!vt.length)return We.emit("error",new Error("Invalid subscriptions")),!1;for(let re=0;re<vt.length;re+=1){const xe=vt[re].topic,xt=vt[re].qos;if("string"!=typeof xe)return We.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof xt)return We.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===$e){if("boolean"!=typeof(vt[re].nl||!1))return We.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(vt[re].rap||!1))return We.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const xn=vt[re].rh||0;if("number"!=typeof xn||xn>2)return We.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}Ge+=i.byteLength(xe)+2+1}m("subscribe: writing to stream: %o",F.SUBSCRIBE_HEADER),We.write(F.SUBSCRIBE_HEADER[1][Ve?1:0][0]),de(We,Ge),I(We,Xe),null!==be&&be.write();let le=!0;for(const re of vt){const xt=re.qos,Ut=+re.nl,Yt=+re.rap,xn=re.rh;let Ct;ne(We,re.topic),Ct=F.SUBSCRIBE_OPTIONS_QOS[xt],5===$e&&(Ct|=Ut?F.SUBSCRIBE_OPTIONS_NL:0,Ct|=Yt?F.SUBSCRIBE_OPTIONS_RAP:0,Ct|=xn?F.SUBSCRIBE_OPTIONS_RH[xn]:0),le=We.write(i.from([Ct]))}return le}(Qe,We,ft);case"suback":return function fe(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.messageId,Xe=Re.granted,vt=Re.properties;let Fe=0;if("number"!=typeof Ve)return We.emit("error",new Error("Invalid messageId")),!1;if(Fe+=2,"object"!=typeof Xe||!Xe.length)return We.emit("error",new Error("Invalid qos vector")),!1;for(let be=0;be<Xe.length;be+=1){if("number"!=typeof Xe[be])return We.emit("error",new Error("Invalid qos vector")),!1;Fe+=1}let Ge=null;if(5===$e){if(Ge=ze(We,vt,ft,Fe),!Ge)return!1;Fe+=Ge.length}return We.write(F.SUBACK_HEADER),de(We,Fe),I(We,Ve),null!==Ge&&Ge.write(),We.write(i.from(Xe))}(Qe,We,ft);case"unsubscribe":return function Y(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.messageId,Xe=Re.dup?F.DUP_MASK:0,vt=Re.unsubscriptions,Fe=Re.properties;let Ge=0;if("number"!=typeof Ve)return We.emit("error",new Error("Invalid messageId")),!1;if(Ge+=2,"object"!=typeof vt||!vt.length)return We.emit("error",new Error("Invalid unsubscriptions")),!1;for(let re=0;re<vt.length;re+=1){if("string"!=typeof vt[re])return We.emit("error",new Error("Invalid unsubscriptions")),!1;Ge+=i.byteLength(vt[re])+2}let be=null;if(5===$e){if(be=Te(We,Fe),!be)return!1;Ge+=be.length}We.write(F.UNSUBSCRIBE_HEADER[1][Xe?1:0][0]),de(We,Ge),I(We,Ve),null!==be&&be.write();let le=!0;for(let re=0;re<vt.length;re++)le=ne(We,vt[re]);return le}(Qe,We,ft);case"unsuback":return function De(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.messageId,Xe=Re.dup?F.DUP_MASK:0,vt=Re.granted,Fe=Re.properties,Ge=Re.cmd;let le=2;if("number"!=typeof Ve)return We.emit("error",new Error("Invalid messageId")),!1;if(5===$e){if("object"!=typeof vt||!vt.length)return We.emit("error",new Error("Invalid qos vector")),!1;for(let xe=0;xe<vt.length;xe+=1){if("number"!=typeof vt[xe])return We.emit("error",new Error("Invalid qos vector")),!1;le+=1}}let re=null;if(5===$e){if(re=ze(We,Fe,ft,le),!re)return!1;le+=re.length}return We.write(F.ACKS[Ge][0][Xe][0]),de(We,le),I(We,Ve),null!==re&&re.write(),5===$e&&We.write(i.from(vt)),!0}(Qe,We,ft);case"pingreq":case"pingresp":return function me(Qe,We,ft){return We.write(F.EMPTY[Qe.cmd])}(Qe,We);case"disconnect":return function Me(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.reasonCode;let vt=5===$e?1:0,Fe=null;if(5===$e){if(Fe=ze(We,Re.properties,ft,vt),!Fe)return!1;vt+=Fe.length}return We.write(i.from([F.codes.disconnect<<4])),de(We,vt),5===$e&&We.write(i.from([Ve])),null!==Fe&&Fe.write(),!0}(Qe,We,ft);case"auth":return function nt(Qe,We,ft){const $e=ft?ft.protocolVersion:4,Re=Qe||{},Ve=Re.reasonCode,Xe=Re.properties;let vt=5===$e?1:0;5!==$e&&We.emit("error",new Error("Invalid mqtt version for auth packet"));const Fe=ze(We,Xe,ft,vt);return!!Fe&&(vt+=Fe.length,We.write(i.from([F.codes.auth<<4])),de(We,vt),We.write(i.from([Ve])),null!==Fe&&Fe.write(),!0)}(Qe,We,ft);default:return We.emit("error",new Error("Unknown command")),!1}}function $(Qe){Qe.uncork()}Object.defineProperty(U,"cacheNumbers",{get:()=>I===Ue,set(Qe){Qe?((!b||0===Object.keys(b).length)&&(C=!0),I=Ue):(C=!1,I=ke)}});const et={};function de(Qe,We){if(We>F.VARBYTEINT_MAX)return Qe.emit("error",new Error(`Invalid variable byte integer: ${We}`)),!1;let ft=et[We];return ft||(ft=R(We),We<16384&&(et[We]=ft)),m("writeVarByteInt: writing to stream: %o",ft),Qe.write(ft)}function ne(Qe,We){const ft=i.byteLength(We);return I(Qe,ft),m("writeString: %s",We),Qe.write(We,"utf8")}function ve(Qe,We,ft){ne(Qe,We),ne(Qe,ft)}function Ue(Qe,We){return m("writeNumberCached: number: %d",We),m("writeNumberCached: %o",b[We]),Qe.write(b[We])}function ke(Qe,We){const ft=S(We);return m("writeNumberGenerated: %o",ft),Qe.write(ft)}function Ne(Qe,We){"string"==typeof We?ne(Qe,We):We?(I(Qe,We.length),Qe.write(We)):I(Qe,0)}function Te(Qe,We){if("object"!=typeof We||null!=We.length)return{length:1,write(){Ke(Qe,{},0)}};let ft=0;function $e(Ve,Xe){let Fe=0;switch(F.propertiesTypes[Ve]){case"byte":if("boolean"!=typeof Xe)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=2;break;case"int8":if("number"!=typeof Xe||Xe<0||Xe>255)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=2;break;case"binary":if(Xe&&null===Xe)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=1+i.byteLength(Xe)+2;break;case"int16":if("number"!=typeof Xe||Xe<0||Xe>65535)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=3;break;case"int32":if("number"!=typeof Xe||Xe<0||Xe>4294967295)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=5;break;case"var":if("number"!=typeof Xe||Xe<0||Xe>268435455)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=1+i.byteLength(R(Xe));break;case"string":if("string"!=typeof Xe)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=3+i.byteLength(Xe.toString());break;case"pair":if("object"!=typeof Xe)return Qe.emit("error",new Error(`Invalid ${Ve}: ${Xe}`)),!1;Fe+=Object.getOwnPropertyNames(Xe).reduce((Ge,be)=>{const le=Xe[be];return Array.isArray(le)?Ge+=le.reduce((re,xe)=>re+(3+i.byteLength(be.toString())+2+i.byteLength(xe.toString())),0):Ge+=3+i.byteLength(be.toString())+2+i.byteLength(Xe[be].toString()),Ge},0);break;default:return Qe.emit("error",new Error(`Invalid property ${Ve}: ${Xe}`)),!1}return Fe}if(We)for(const Ve in We){let Xe=0,vt=0;const Fe=We[Ve];if(Array.isArray(Fe))for(let Ge=0;Ge<Fe.length;Ge++){if(vt=$e(Ve,Fe[Ge]),!vt)return!1;Xe+=vt}else{if(vt=$e(Ve,Fe),!vt)return!1;Xe=vt}if(!Xe)return!1;ft+=Xe}return{length:i.byteLength(R(ft))+ft,write(){Ke(Qe,We,ft)}}}function ze(Qe,We,ft,$e){const Re=["reasonString","userProperties"],Ve=ft&&ft.properties&&ft.properties.maximumPacketSize?ft.properties.maximumPacketSize:0;let Xe=Te(Qe,We);if(Ve)for(;$e+Xe.length>Ve;){const vt=Re.shift();if(!vt||!We[vt])return!1;delete We[vt],Xe=Te(Qe,We)}return Xe}function ht(Qe,We,ft){switch(F.propertiesTypes[We]){case"byte":Qe.write(i.from([F.properties[We]])),Qe.write(i.from([+ft]));break;case"int8":Qe.write(i.from([F.properties[We]])),Qe.write(i.from([ft]));break;case"binary":Qe.write(i.from([F.properties[We]])),Ne(Qe,ft);break;case"int16":Qe.write(i.from([F.properties[We]])),I(Qe,ft);break;case"int32":Qe.write(i.from([F.properties[We]])),function Ie(Qe,We){const ft=P(We);m("write4ByteNumber: %o",ft),Qe.write(ft)}(Qe,ft);break;case"var":Qe.write(i.from([F.properties[We]])),de(Qe,ft);break;case"string":Qe.write(i.from([F.properties[We]])),ne(Qe,ft);break;case"pair":Object.getOwnPropertyNames(ft).forEach(Re=>{const Ve=ft[Re];Array.isArray(Ve)?Ve.forEach(Xe=>{Qe.write(i.from([F.properties[We]])),ve(Qe,Re.toString(),Xe.toString())}):(Qe.write(i.from([F.properties[We]])),ve(Qe,Re.toString(),Ve.toString()))});break;default:return Qe.emit("error",new Error(`Invalid property ${We} value: ${ft}`)),!1}}function Ke(Qe,We,ft){de(Qe,ft);for(const $e in We)if(Object.prototype.hasOwnProperty.call(We,$e)&&null!==We[$e]){const Re=We[$e];if(Array.isArray(Re))for(let Ve=0;Ve<Re.length;Ve++)ht(Qe,$e,Re[Ve]);else ht(Qe,$e,Re)}}function tt(Qe){return Qe?Qe instanceof i?Qe.length:i.byteLength(Qe):0}function qe(Qe){return"string"==typeof Qe||Qe instanceof i}te.exports=U},7107:te=>{var O=1e3,g=60*O,i=60*g,F=24*i;function b(S,k,R,P){var I=k>=1.5*R;return Math.round(S/R)+" "+P+(I?"s":"")}te.exports=function(S,k){k=k||{};var R=typeof S;if("string"===R&&S.length>0)return function E(S){if(!((S=String(S)).length>100)){var k=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(S);if(k){var R=parseFloat(k[1]);switch((k[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*R;case"weeks":case"week":case"w":return 6048e5*R;case"days":case"day":case"d":return R*F;case"hours":case"hour":case"hrs":case"hr":case"h":return R*i;case"minutes":case"minute":case"mins":case"min":case"m":return R*g;case"seconds":case"second":case"secs":case"sec":case"s":return R*O;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}(S);if("number"===R&&isFinite(S))return k.long?function m(S){var k=Math.abs(S);return k>=F?b(S,k,F,"day"):k>=i?b(S,k,i,"hour"):k>=g?b(S,k,g,"minute"):k>=O?b(S,k,O,"second"):S+" ms"}(S):function w(S){var k=Math.abs(S);return k>=F?Math.round(S/F)+"d":k>=i?Math.round(S/i)+"h":k>=g?Math.round(S/g)+"m":k>=O?Math.round(S/O)+"s":S+"ms"}(S);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},6439:(te,O,g)=>{const i=g(6184);te.exports.Q=i},6184:(te,O,g)=>{"use strict";const i=g(1151).hU,F=g(1748)("number-allocator:trace"),B=g(1748)("number-allocator:error");function T(w,m){this.low=w,this.high=m}function E(w,m){if(!(this instanceof E))return new E(w,m);this.min=w,this.max=m,this.ss=new i([],(b,S)=>b.compare(S)),F("Create"),this.clear()}T.prototype.equals=function(w){return this.low===w.low&&this.high===w.high},T.prototype.compare=function(w){return this.low<w.low&&this.high<w.low?-1:w.low<this.low&&w.high<this.low?1:0},E.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},E.prototype.alloc=function(){if(0===this.ss.size())return F("alloc():empty"),null;const w=this.ss.begin(),m=w.pointer.low,b=w.pointer.high,S=m;return S+1<=b?this.ss.updateKeyByIterator(w,new T(m+1,b)):this.ss.eraseElementByPos(0),F("alloc():"+S),S},E.prototype.use=function(w){const m=new T(w,w),b=this.ss.lowerBound(m);if(!b.equals(this.ss.end())){const S=b.pointer.low,k=b.pointer.high;return b.pointer.equals(m)?(this.ss.eraseElementByIterator(b),F("use():"+w),!0):!(S>w||(S===w?(this.ss.updateKeyByIterator(b,new T(S+1,k)),F("use():"+w),0):k===w?(this.ss.updateKeyByIterator(b,new T(S,k-1)),F("use():"+w),0):(this.ss.updateKeyByIterator(b,new T(w+1,k)),this.ss.insert(new T(S,w-1)),F("use():"+w),0)))}return F("use():failed"),!1},E.prototype.free=function(w){if(w<this.min||w>this.max)return void B("free():"+w+" is out of range");const m=new T(w,w),b=this.ss.upperBound(m);if(b.equals(this.ss.end())){if(b.equals(this.ss.begin()))return void this.ss.insert(m);b.pre();const S=b.pointer.high;b.pointer.high+1===w?this.ss.updateKeyByIterator(b,new T(S,w)):this.ss.insert(m)}else if(b.equals(this.ss.begin()))w+1===b.pointer.low?this.ss.updateKeyByIterator(b,new T(b.pointer.high-1,b.pointer.high)):this.ss.insert(m);else{const S=b.pointer.low,k=b.pointer.high;b.pre();const R=b.pointer.low;b.pointer.high+1===w?w+1===S?(this.ss.eraseElementByIterator(b),this.ss.updateKeyByIterator(b,new T(R,b.pointer.high))):this.ss.updateKeyByIterator(b,new T(R,w)):w+1===S?(this.ss.eraseElementByIterator(b.next()),this.ss.insert(new T(w,k))):this.ss.insert(m)}F("free():"+w)},E.prototype.clear=function(){F("clear()"),this.ss.clear(),this.ss.insert(new T(this.min,this.max))},E.prototype.intervalCount=function(){return this.ss.size()},E.prototype.dump=function(){console.log("length:"+this.ss.size());for(const w of this.ss)console.log(w)},te.exports=E},1151:(te,O,g)=>{"use strict";g.d(O,{hU:()=>pe});var i=function(){function ue(fe,Y){this.color=!0,this.key=void 0,this.value=void 0,this.left=void 0,this.right=void 0,this.parent=void 0,this.key=fe,this.value=Y}return ue.prototype.pre=function(){var fe=this;if(fe.color===ue.RED&&fe.parent.parent===fe)fe=fe.right;else if(fe.left)for(fe=fe.left;fe.right;)fe=fe.right;else{for(var Y=fe.parent;Y.left===fe;)Y=(fe=Y).parent;fe=Y}return fe},ue.prototype.next=function(){var fe=this;if(fe.right)for(fe=fe.right;fe.left;)fe=fe.left;else{for(var Y=fe.parent;Y.right===fe;)Y=(fe=Y).parent;fe.right!==Y&&(fe=Y)}return fe},ue.prototype.rotateLeft=function(){var fe=this.parent,Y=this.right,De=Y.left;return fe.parent===this?fe.parent=Y:fe.left===this?fe.left=Y:fe.right=Y,Y.parent=fe,Y.left=this,this.parent=Y,this.right=De,De&&(De.parent=this),Y},ue.prototype.rotateRight=function(){var fe=this.parent,Y=this.left,De=Y.right;return fe.parent===this?fe.parent=Y:fe.left===this?fe.left=Y:fe.right=Y,Y.parent=fe,Y.right=this,this.parent=Y,this.left=De,De&&(De.parent=this),Y},ue.prototype.remove=function(){var fe=this.parent;this===fe.left?fe.left=void 0:fe.right=void 0},ue.RED=!0,ue.BLACK=!1,ue}();const F=i;var ue,B=(ue=function(fe,Y){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,me){De.__proto__=me}||function(De,me){for(var Me in me)Object.prototype.hasOwnProperty.call(me,Me)&&(De[Me]=me[Me])})(fe,Y)},function(fe,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function De(){this.constructor=fe}ue(fe,Y),fe.prototype=null===Y?Object.create(Y):(De.prototype=Y.prototype,new De)}),T=function(){function ue(fe){void 0===fe&&(fe=ue.NORMAL),this.iteratorType=fe}return ue.NORMAL=!1,ue.REVERSE=!0,ue}(),E=function(){function ue(){this.length=0}return ue.prototype.size=function(){return this.length},ue.prototype.empty=function(){return 0===this.length},ue}(),w=function(ue){function fe(){return null!==ue&&ue.apply(this,arguments)||this}return B(fe,ue),fe}(E);function m(ue,fe,Y){if(ue<fe||ue>Y)throw new RangeError}var b=function(){var ue=function(fe,Y){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,me){De.__proto__=me}||function(De,me){for(var Me in me)Object.prototype.hasOwnProperty.call(me,Me)&&(De[Me]=me[Me])})(fe,Y)};return function(fe,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function De(){this.constructor=fe}ue(fe,Y),fe.prototype=null===Y?Object.create(Y):(De.prototype=Y.prototype,new De)}}(),S=function(ue,fe){var Y="function"==typeof Symbol&&ue[Symbol.iterator];if(!Y)return ue;var me,nt,De=Y.call(ue),Me=[];try{for(;(void 0===fe||fe-- >0)&&!(me=De.next()).done;)Me.push(me.value)}catch(et){nt={error:et}}finally{try{me&&!me.done&&(Y=De.return)&&Y.call(De)}finally{if(nt)throw nt.error}}return Me},k=function(ue){function fe(Y){void 0===Y&&(Y=function(me,Me){return me<Me?-1:me>Me?1:0});var De=ue.call(this)||this;return De.root=void 0,De.header=new F,De.inOrderTraversal=function(me,Me){return void 0!==me&&(!(!De.inOrderTraversal(me.left,Me)&&!Me(me))||De.inOrderTraversal(me.right,Me))},De.cmp=Y,De}return b(fe,ue),fe.prototype._lowerBound=function(Y,De){for(var me;Y;){var Me=this.cmp(Y.key,De);if(Me<0)Y=Y.right;else{if(!(Me>0))return Y;me=Y,Y=Y.left}}return void 0===me?this.header:me},fe.prototype._upperBound=function(Y,De){for(var me;Y;){var Me=this.cmp(Y.key,De);Me<=0?Y=Y.right:Me>0&&(me=Y,Y=Y.left)}return void 0===me?this.header:me},fe.prototype._reverseLowerBound=function(Y,De){for(var me;Y;){var Me=this.cmp(Y.key,De);if(Me<0)me=Y,Y=Y.right;else{if(!(Me>0))return Y;Y=Y.left}}return void 0===me?this.header:me},fe.prototype._reverseUpperBound=function(Y,De){for(var me;Y;){var Me=this.cmp(Y.key,De);Me<0?(me=Y,Y=Y.right):Me>=0&&(Y=Y.left)}return void 0===me?this.header:me},fe.prototype.eraseNodeSelfBalance=function(Y){for(;;){var me,De=Y.parent;if(De===this.header)return;if(Y.color===F.RED)return void(Y.color=F.BLACK);if(Y===De.left){if((me=De.right).color===F.RED)me.color=F.BLACK,De.color=F.RED,De===this.root?this.root=De.rotateLeft():De.rotateLeft();else if(me.color===F.BLACK){if(me.right&&me.right.color===F.RED)return me.color=De.color,De.color=F.BLACK,me.right.color=F.BLACK,void(De===this.root?this.root=De.rotateLeft():De.rotateLeft());me.left&&me.left.color===F.RED?(me.color=F.RED,me.left.color=F.BLACK,me.rotateRight()):(me.color=F.RED,Y=De)}}else if((me=De.left).color===F.RED)me.color=F.BLACK,De.color=F.RED,De===this.root?this.root=De.rotateRight():De.rotateRight();else{if(me.left&&me.left.color===F.RED)return me.color=De.color,De.color=F.BLACK,me.left.color=F.BLACK,void(De===this.root?this.root=De.rotateRight():De.rotateRight());me.right&&me.right.color===F.RED?(me.color=F.RED,me.right.color=F.BLACK,me.rotateLeft()):(me.color=F.RED,Y=De)}}},fe.prototype.eraseNode=function(Y){var De,me;if(1!==this.length){for(var Me=Y;Me.left||Me.right;){if(Me.right)for(Me=Me.right;Me.left;)Me=Me.left;else Me.left&&(Me=Me.left);De=S([Me.key,Y.key],2),Y.key=De[0],Me.key=De[1],me=S([Me.value,Y.value],2),Y.value=me[0],Me.value=me[1],Y=Me}this.header.left===Me?this.header.left=Me.parent:this.header.right===Me&&(this.header.right=Me.parent),this.eraseNodeSelfBalance(Me),Me.remove(),this.length-=1,this.root.color=F.BLACK}else this.clear()},fe.prototype.insertNodeSelfBalance=function(Y){for(;;){var De=Y.parent;if(De.color===F.BLACK)return;var me=De.parent;if(De===me.left){if((Me=me.right)&&Me.color===F.RED){if(Me.color=De.color=F.BLACK,me===this.root)return;me.color=F.RED,Y=me;continue}Y===De.right?(Y.color=F.BLACK,Y.left&&(Y.left.parent=De),Y.right&&(Y.right.parent=me),De.right=Y.left,me.left=Y.right,Y.left=De,Y.right=me,me===this.root?(this.root=Y,this.header.parent=Y):(nt=me.parent).left===me?nt.left=Y:nt.right=Y,Y.parent=me.parent,De.parent=Y,me.parent=Y):(De.color=F.BLACK,me===this.root?this.root=me.rotateRight():me.rotateRight()),me.color=F.RED}else{var Me,nt;if((Me=me.left)&&Me.color===F.RED){if(Me.color=De.color=F.BLACK,me===this.root)return;me.color=F.RED,Y=me;continue}if(Y===De.left)Y.color=F.BLACK,Y.left&&(Y.left.parent=me),Y.right&&(Y.right.parent=De),me.right=Y.left,De.left=Y.right,Y.left=me,Y.right=De,me===this.root?(this.root=Y,this.header.parent=Y):(nt=me.parent).left===me?nt.left=Y:nt.right=Y,Y.parent=me.parent,De.parent=Y,me.parent=Y;else De.color=F.BLACK,me===this.root?this.root=me.rotateLeft():me.rotateLeft();me.color=F.RED}return}},fe.prototype.findElementNode=function(Y,De){for(;Y;){var me=this.cmp(Y.key,De);if(me<0)Y=Y.right;else{if(!(me>0))return Y;Y=Y.left}}return Y},fe.prototype.set=function(Y,De,me){if(void 0===this.root)return this.length+=1,this.root=new F(Y,De),this.root.color=F.BLACK,this.root.parent=this.header,this.header.parent=this.root,this.header.left=this.root,void(this.header.right=this.root);var Me,nt=this.header.left,et=this.cmp(nt.key,Y);if(0!==et){if(et>0)nt.left=new F(Y,De),nt.left.parent=nt,this.header.left=Me=nt.left;else{var de=this.header.right,ne=this.cmp(de.key,Y);if(0===ne)return void(de.value=De);if(ne<0)de.right=new F(Y,De),de.right.parent=de,this.header.right=Me=de.right;else{if(void 0!==me){var ve=me.node;if(ve!==this.header){var Ue=this.cmp(ve.key,Y);if(0===Ue)return void(ve.value=De);if(Ue>0){var ke=ve.pre(),Ie=this.cmp(ke.key,Y);if(0===Ie)return void(ke.value=De);Ie<0&&(Me=new F(Y,De),void 0===ke.right?(ke.right=Me,Me.parent=ke):(ve.left=Me,Me.parent=ve))}}}if(void 0===Me)for(Me=this.root;;){var Ne=this.cmp(Me.key,Y);if(Ne>0){if(void 0===Me.left){Me.left=new F(Y,De),Me.left.parent=Me,Me=Me.left;break}Me=Me.left}else{if(!(Ne<0))return void(Me.value=De);if(void 0===Me.right){Me.right=new F(Y,De),Me.right.parent=Me,Me=Me.right;break}Me=Me.right}}}}this.length+=1,this.insertNodeSelfBalance(Me)}else nt.value=De},fe.prototype.clear=function(){this.length=0,this.root=void 0,this.header.parent=void 0,this.header.left=this.header.right=void 0},fe.prototype.updateKeyByIterator=function(Y,De){var me=Y.node;if(me===this.header)throw new TypeError("Invalid iterator!");if(1===this.length)return me.key=De,!0;if(me===this.header.left)return this.cmp(me.next().key,De)>0&&(me.key=De,!0);if(me===this.header.right)return this.cmp(me.pre().key,De)<0&&(me.key=De,!0);var Me=me.pre().key;if(this.cmp(Me,De)>=0)return!1;var nt=me.next().key;return!(this.cmp(nt,De)<=0||(me.key=De,0))},fe.prototype.eraseElementByPos=function(Y){var De=this;m(Y,0,this.length-1);var me=0;this.inOrderTraversal(this.root,function(Me){return Y===me?(De.eraseNode(Me),!0):(me+=1,!1)})},fe.prototype.eraseElementByKey=function(Y){if(this.length){var De=this.findElementNode(this.root,Y);void 0!==De&&this.eraseNode(De)}},fe.prototype.eraseElementByIterator=function(Y){var De=Y.node;if(De===this.header)throw new RangeError("Invalid iterator");return void 0===De.right&&(Y=Y.next()),this.eraseNode(De),Y},fe.prototype.getHeight=function(){if(!this.length)return 0;var Y=function(De){return De?Math.max(Y(De.left),Y(De.right))+1:0};return Y(this.root)},fe}(w);const R=k;var P=function(){var ue=function(fe,Y){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,me){De.__proto__=me}||function(De,me){for(var Me in me)Object.prototype.hasOwnProperty.call(me,Me)&&(De[Me]=me[Me])})(fe,Y)};return function(fe,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function De(){this.constructor=fe}ue(fe,Y),fe.prototype=null===Y?Object.create(Y):(De.prototype=Y.prototype,new De)}}(),I=function(ue){function fe(Y,De,me){var Me=ue.call(this,me)||this;return Me.node=Y,Me.header=De,Me.iteratorType===T.NORMAL?(Me.pre=function(){if(this.node===this.header.left)throw new RangeError("LinkList iterator access denied!");return this.node=this.node.pre(),this},Me.next=function(){if(this.node===this.header)throw new RangeError("LinkList iterator access denied!");return this.node=this.node.next(),this}):(Me.pre=function(){if(this.node===this.header.right)throw new RangeError("LinkList iterator access denied!");return this.node=this.node.next(),this},Me.next=function(){if(this.node===this.header)throw new RangeError("LinkList iterator access denied!");return this.node=this.node.pre(),this}),Me}return P(fe,ue),fe.prototype.equals=function(Y){return this.node===Y.node},fe}(T);const C=I;var U=function(){var ue=function(fe,Y){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,me){De.__proto__=me}||function(De,me){for(var Me in me)Object.prototype.hasOwnProperty.call(me,Me)&&(De[Me]=me[Me])})(fe,Y)};return function(fe,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function De(){this.constructor=fe}ue(fe,Y),fe.prototype=null===Y?Object.create(Y):(De.prototype=Y.prototype,new De)}}(),K=function(ue){var fe="function"==typeof Symbol&&Symbol.iterator,Y=fe&&ue[fe],De=0;if(Y)return Y.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&De>=ue.length&&(ue=void 0),{value:ue&&ue[De++],done:!ue}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")},z=function(ue){function fe(){return null!==ue&&ue.apply(this,arguments)||this}return U(fe,ue),Object.defineProperty(fe.prototype,"pointer",{get:function(){if(this.node===this.header)throw new RangeError("OrderedSet iterator access denied!");return this.node.key},enumerable:!1,configurable:!0}),fe.prototype.copy=function(){return new fe(this.node,this.header,this.iteratorType)},fe}(C),ae=function(ue){function fe(Y,De){void 0===Y&&(Y=[]);var me=ue.call(this,De)||this;return me.iterationFunc=function(Me){return function(ue,fe){var De,me,Me,nt,Y={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]};return nt={next:et(0),throw:et(1),return:et(2)},"function"==typeof Symbol&&(nt[Symbol.iterator]=function(){return this}),nt;function et(ne){return function(ve){return function de(ne){if(De)throw new TypeError("Generator is already executing.");for(;Y;)try{if(De=1,me&&(Me=2&ne[0]?me.return:ne[0]?me.throw||((Me=me.return)&&Me.call(me),0):me.next)&&!(Me=Me.call(me,ne[1])).done)return Me;switch(me=0,Me&&(ne=[2&ne[0],Me.value]),ne[0]){case 0:case 1:Me=ne;break;case 4:return Y.label++,{value:ne[1],done:!1};case 5:Y.label++,me=ne[1],ne=[0];continue;case 7:ne=Y.ops.pop(),Y.trys.pop();continue;default:if(!(Me=(Me=Y.trys).length>0&&Me[Me.length-1])&&(6===ne[0]||2===ne[0])){Y=0;continue}if(3===ne[0]&&(!Me||ne[1]>Me[0]&&ne[1]<Me[3])){Y.label=ne[1];break}if(6===ne[0]&&Y.label<Me[1]){Y.label=Me[1],Me=ne;break}if(Me&&Y.label<Me[2]){Y.label=Me[2],Y.ops.push(ne);break}Me[2]&&Y.ops.pop(),Y.trys.pop();continue}ne=fe.call(ue,Y)}catch(ve){ne=[6,ve],me=0}finally{De=Me=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,ve])}}}(this,function(nt){switch(nt.label){case 0:return void 0===Me?[2]:[5,K(this.iterationFunc(Me.left))];case 1:return nt.sent(),[4,Me.key];case 2:return nt.sent(),[5,K(this.iterationFunc(Me.right))];case 3:return nt.sent(),[2]}})},Y.forEach(function(Me){return me.insert(Me)}),me.iterationFunc=me.iterationFunc.bind(me),me}return U(fe,ue),fe.prototype.begin=function(){return new z(this.header.left||this.header,this.header)},fe.prototype.end=function(){return new z(this.header,this.header)},fe.prototype.rBegin=function(){return new z(this.header.right||this.header,this.header,T.REVERSE)},fe.prototype.rEnd=function(){return new z(this.header,this.header,T.REVERSE)},fe.prototype.front=function(){return this.header.left?this.header.left.key:void 0},fe.prototype.back=function(){return this.header.right?this.header.right.key:void 0},fe.prototype.forEach=function(Y){var De,me,Me=0;try{for(var nt=K(this),et=nt.next();!et.done;et=nt.next())Y(et.value,Me++)}catch(ne){De={error:ne}}finally{try{et&&!et.done&&(me=nt.return)&&me.call(nt)}finally{if(De)throw De.error}}},fe.prototype.getElementByPos=function(Y){var De,me;m(Y,0,this.length-1);var Me,nt=0;try{for(var et=K(this),de=et.next();!de.done;de=et.next())nt===Y&&(Me=de.value),nt+=1}catch(ve){De={error:ve}}finally{try{de&&!de.done&&(me=et.return)&&me.call(et)}finally{if(De)throw De.error}}return Me},fe.prototype.insert=function(Y,De){this.set(Y,void 0,De)},fe.prototype.find=function(Y){var De=this.findElementNode(this.root,Y);return void 0!==De?new z(De,this.header):this.end()},fe.prototype.lowerBound=function(Y){var De=this._lowerBound(this.root,Y);return new z(De,this.header)},fe.prototype.upperBound=function(Y){var De=this._upperBound(this.root,Y);return new z(De,this.header)},fe.prototype.reverseLowerBound=function(Y){var De=this._reverseLowerBound(this.root,Y);return new z(De,this.header)},fe.prototype.reverseUpperBound=function(Y){var De=this._reverseUpperBound(this.root,Y);return new z(De,this.header)},fe.prototype.union=function(Y){var De=this;Y.forEach(function(me){return De.insert(me)})},fe.prototype[Symbol.iterator]=function(){return this.iterationFunc(this.root)},fe}(R);const pe=ae},8363:te=>{"use strict";var O=function(g){return g!=g};te.exports=function(i,F){return 0===i&&0===F?1/i==1/F:!!(i===F||O(i)&&O(F))}},403:(te,O,g)=>{"use strict";var i=g(3420),F=g(3312),B=g(8363),T=g(3740),E=g(1513),w=F(T(),Object);i(w,{getPolyfill:T,implementation:B,shim:E}),te.exports=w},3740:(te,O,g)=>{"use strict";var i=g(8363);te.exports=function(){return"function"==typeof Object.is?Object.is:i}},1513:(te,O,g)=>{"use strict";var i=g(3740),F=g(3420);te.exports=function(){var T=i();return F(Object,{is:T},{is:function(){return Object.is!==T}}),T}},5969:(te,O,g)=>{"use strict";var i;if(!Object.keys){var F=Object.prototype.hasOwnProperty,B=Object.prototype.toString,T=g(1390),E=Object.prototype.propertyIsEnumerable,w=!E.call({toString:null},"toString"),m=E.call(function(){},"prototype"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=function(I){var C=I.constructor;return C&&C.prototype===I},k={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},R=function(){if("undefined"==typeof window)return!1;for(var I in window)try{if(!k["$"+I]&&F.call(window,I)&&null!==window[I]&&"object"==typeof window[I])try{S(window[I])}catch(C){return!0}}catch(C){return!0}return!1}();i=function(C){var U=null!==C&&"object"==typeof C,$="[object Function]"===B.call(C),K=T(C),z=U&&"[object String]"===B.call(C),ae=[];if(!U&&!$&&!K)throw new TypeError("Object.keys called on a non-object");var pe=m&&$;if(z&&C.length>0&&!F.call(C,0))for(var ue=0;ue<C.length;++ue)ae.push(String(ue));if(K&&C.length>0)for(var fe=0;fe<C.length;++fe)ae.push(String(fe));else for(var Y in C)(!pe||"prototype"!==Y)&&F.call(C,Y)&&ae.push(String(Y));if(w)for(var De=function(I){if("undefined"==typeof window||!R)return S(I);try{return S(I)}catch(C){return!1}}(C),me=0;me<b.length;++me)(!De||"constructor"!==b[me])&&F.call(C,b[me])&&ae.push(b[me]);return ae}}te.exports=i},2500:(te,O,g)=>{"use strict";var i=Array.prototype.slice,F=g(1390),B=Object.keys,T=B?function(m){return B(m)}:g(5969),E=Object.keys;T.shim=function(){if(Object.keys){var m=function(){var b=Object.keys(arguments);return b&&b.length===arguments.length}(1,2);m||(Object.keys=function(S){return F(S)?E(i.call(S)):E(S)})}else Object.keys=T;return Object.keys||T},te.exports=T},1390:te=>{"use strict";var O=Object.prototype.toString;te.exports=function(i){var F=O.call(i),B="[object Arguments]"===F;return B||(B="[object Array]"!==F&&null!==i&&"object"==typeof i&&"number"==typeof i.length&&i.length>=0&&"[object Function]"===O.call(i.callee)),B}},896:(te,O,g)=>{var i=g(4577);function F(T){var E=function(){return E.called?E.value:(E.called=!0,E.value=T.apply(this,arguments))};return E.called=!1,E}function B(T){var E=function(){if(E.called)throw new Error(E.onceError);return E.called=!0,E.value=T.apply(this,arguments)};return E.onceError=(T.name||"Function wrapped with `once`")+" shouldn't be called more than once",E.called=!1,E}te.exports=i(F),te.exports.strict=i(B),F.proto=F(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return F(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return B(this)},configurable:!0})})},6466:(te,O,g)=>{"use strict";var i=g(5879);te.exports=function(B){var E,T=0;function w(){return T||(T=1,E=B.apply(this,arguments),B=null),E}return w.displayName=i(B),w}},2470:(te,O)=>{O.endianness=function(){return"LE"},O.hostname=function(){return"undefined"!=typeof location?location.hostname:""},O.loadavg=function(){return[]},O.uptime=function(){return 0},O.freemem=function(){return Number.MAX_VALUE},O.totalmem=function(){return Number.MAX_VALUE},O.cpus=function(){return[]},O.type=function(){return"Browser"},O.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},O.networkInterfaces=O.getNetworkInterfaces=function(){return{}},O.arch=function(){return"javascript"},O.platform=function(){return"browser"},O.tmpdir=O.tmpDir=function(){return"/tmp"},O.EOL="\n",O.homedir=function(){return"/"}},628:(te,O)=>{"use strict";var g="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(T,E){return Object.prototype.hasOwnProperty.call(T,E)}O.assign=function(T){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var w=E.shift();if(w){if("object"!=typeof w)throw new TypeError(w+"must be non-object");for(var m in w)i(w,m)&&(T[m]=w[m])}}return T},O.shrinkBuf=function(T,E){return T.length===E?T:T.subarray?T.subarray(0,E):(T.length=E,T)};var F={arraySet:function(T,E,w,m,b){if(E.subarray&&T.subarray)T.set(E.subarray(w,w+m),b);else for(var S=0;S<m;S++)T[b+S]=E[w+S]},flattenChunks:function(T){var E,w,m,b,S,k;for(m=0,E=0,w=T.length;E<w;E++)m+=T[E].length;for(k=new Uint8Array(m),b=0,E=0,w=T.length;E<w;E++)k.set(S=T[E],b),b+=S.length;return k}},B={arraySet:function(T,E,w,m,b){for(var S=0;S<m;S++)T[b+S]=E[w+S]},flattenChunks:function(T){return[].concat.apply([],T)}};O.setTyped=function(T){T?(O.Buf8=Uint8Array,O.Buf16=Uint16Array,O.Buf32=Int32Array,O.assign(O,F)):(O.Buf8=Array,O.Buf16=Array,O.Buf32=Array,O.assign(O,B))},O.setTyped(g)},3413:te=>{"use strict";te.exports=function O(g,i,F,B){for(var T=65535&g|0,E=g>>>16&65535|0,w=0;0!==F;){F-=w=F>2e3?2e3:F;do{E=E+(T=T+i[B++]|0)|0}while(--w);T%=65521,E%=65521}return T|E<<16|0}},4609:te=>{"use strict";te.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},7391:te=>{"use strict";var g=function O(){for(var F,B=[],T=0;T<256;T++){F=T;for(var E=0;E<8;E++)F=1&F?3988292384^F>>>1:F>>>1;B[T]=F}return B}();te.exports=function i(F,B,T,E){var w=g,m=E+T;F^=-1;for(var b=E;b<m;b++)F=F>>>8^w[255&(F^B[b])];return-1^F}},8878:(te,O,g)=>{"use strict";var Cn,i=g(628),F=g(4750),B=g(3413),T=g(7391),E=g(9650),I=-2,Te=262;function Fe(ee,yt){return ee.msg=E[yt],yt}function Ge(ee){return(ee<<1)-(ee>4?9:0)}function be(ee){for(var yt=ee.length;--yt>=0;)ee[yt]=0}function le(ee){var yt=ee.state,wt=yt.pending;wt>ee.avail_out&&(wt=ee.avail_out),0!==wt&&(i.arraySet(ee.output,yt.pending_buf,yt.pending_out,wt,ee.next_out),ee.next_out+=wt,yt.pending_out+=wt,ee.total_out+=wt,ee.avail_out-=wt,yt.pending-=wt,0===yt.pending&&(yt.pending_out=0))}function re(ee,yt){F._tr_flush_block(ee,ee.block_start>=0?ee.block_start:-1,ee.strstart-ee.block_start,yt),ee.block_start=ee.strstart,le(ee.strm)}function xe(ee,yt){ee.pending_buf[ee.pending++]=yt}function xt(ee,yt){ee.pending_buf[ee.pending++]=yt>>>8&255,ee.pending_buf[ee.pending++]=255&yt}function Ut(ee,yt,wt,Pe){var ct=ee.avail_in;return ct>Pe&&(ct=Pe),0===ct?0:(ee.avail_in-=ct,i.arraySet(yt,ee.input,ee.next_in,ct,wt),1===ee.state.wrap?ee.adler=B(ee.adler,yt,ct,wt):2===ee.state.wrap&&(ee.adler=T(ee.adler,yt,ct,wt)),ee.next_in+=ct,ee.total_in+=ct,ct)}function Yt(ee,yt){var ct,Dt,wt=ee.max_chain_length,Pe=ee.strstart,vn=ee.prev_length,Jt=ee.nice_match,hn=ee.strstart>ee.w_size-Te?ee.strstart-(ee.w_size-Te):0,pn=ee.window,Wn=ee.w_mask,$n=ee.prev,rr=ee.strstart+258,vr=pn[Pe+vn-1],qr=pn[Pe+vn];ee.prev_length>=ee.good_match&&(wt>>=2),Jt>ee.lookahead&&(Jt=ee.lookahead);do{if(pn[(ct=yt)+vn]===qr&&pn[ct+vn-1]===vr&&pn[ct]===pn[Pe]&&pn[++ct]===pn[Pe+1]){Pe+=2,ct++;do{}while(pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&pn[++Pe]===pn[++ct]&&Pe<rr);if(Dt=258-(rr-Pe),Pe=rr-258,Dt>vn){if(ee.match_start=yt,vn=Dt,Dt>=Jt)break;vr=pn[Pe+vn-1],qr=pn[Pe+vn]}}}while((yt=$n[yt&Wn])>hn&&0!=--wt);return vn<=ee.lookahead?vn:ee.lookahead}function xn(ee){var wt,Pe,ct,Dt,vn,yt=ee.w_size;do{if(Dt=ee.window_size-ee.lookahead-ee.strstart,ee.strstart>=yt+(yt-Te)){i.arraySet(ee.window,ee.window,yt,yt,0),ee.match_start-=yt,ee.strstart-=yt,ee.block_start-=yt,wt=Pe=ee.hash_size;do{ct=ee.head[--wt],ee.head[wt]=ct>=yt?ct-yt:0}while(--Pe);wt=Pe=yt;do{ct=ee.prev[--wt],ee.prev[wt]=ct>=yt?ct-yt:0}while(--Pe);Dt+=yt}if(0===ee.strm.avail_in)break;if(Pe=Ut(ee.strm,ee.window,ee.strstart+ee.lookahead,Dt),ee.lookahead+=Pe,ee.lookahead+ee.insert>=3)for(ee.ins_h=ee.window[vn=ee.strstart-ee.insert],ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[vn+1])&ee.hash_mask;ee.insert&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[vn+3-1])&ee.hash_mask,ee.prev[vn&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=vn,vn++,ee.insert--,!(ee.lookahead+ee.insert<3)););}while(ee.lookahead<Te&&0!==ee.strm.avail_in)}function It(ee,yt){for(var wt,Pe;;){if(ee.lookahead<Te){if(xn(ee),ee.lookahead<Te&&0===yt)return 1;if(0===ee.lookahead)break}if(wt=0,ee.lookahead>=3&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+3-1])&ee.hash_mask,wt=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),0!==wt&&ee.strstart-wt<=ee.w_size-Te&&(ee.match_length=Yt(ee,wt)),ee.match_length>=3)if(Pe=F._tr_tally(ee,ee.strstart-ee.match_start,ee.match_length-3),ee.lookahead-=ee.match_length,ee.match_length<=ee.max_lazy_match&&ee.lookahead>=3){ee.match_length--;do{ee.strstart++,ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+3-1])&ee.hash_mask,wt=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart}while(0!=--ee.match_length);ee.strstart++}else ee.strstart+=ee.match_length,ee.match_length=0,ee.ins_h=ee.window[ee.strstart],ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+1])&ee.hash_mask;else Pe=F._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++;if(Pe&&(re(ee,!1),0===ee.strm.avail_out))return 1}return ee.insert=ee.strstart<2?ee.strstart:2,4===yt?(re(ee,!0),0===ee.strm.avail_out?3:4):ee.last_lit&&(re(ee,!1),0===ee.strm.avail_out)?1:2}function qt(ee,yt){for(var wt,Pe,ct;;){if(ee.lookahead<Te){if(xn(ee),ee.lookahead<Te&&0===yt)return 1;if(0===ee.lookahead)break}if(wt=0,ee.lookahead>=3&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+3-1])&ee.hash_mask,wt=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),ee.prev_length=ee.match_length,ee.prev_match=ee.match_start,ee.match_length=2,0!==wt&&ee.prev_length<ee.max_lazy_match&&ee.strstart-wt<=ee.w_size-Te&&(ee.match_length=Yt(ee,wt),ee.match_length<=5&&(1===ee.strategy||3===ee.match_length&&ee.strstart-ee.match_start>4096)&&(ee.match_length=2)),ee.prev_length>=3&&ee.match_length<=ee.prev_length){ct=ee.strstart+ee.lookahead-3,Pe=F._tr_tally(ee,ee.strstart-1-ee.prev_match,ee.prev_length-3),ee.lookahead-=ee.prev_length-1,ee.prev_length-=2;do{++ee.strstart<=ct&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+3-1])&ee.hash_mask,wt=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart)}while(0!=--ee.prev_length);if(ee.match_available=0,ee.match_length=2,ee.strstart++,Pe&&(re(ee,!1),0===ee.strm.avail_out))return 1}else if(ee.match_available){if((Pe=F._tr_tally(ee,0,ee.window[ee.strstart-1]))&&re(ee,!1),ee.strstart++,ee.lookahead--,0===ee.strm.avail_out)return 1}else ee.match_available=1,ee.strstart++,ee.lookahead--}return ee.match_available&&(Pe=F._tr_tally(ee,0,ee.window[ee.strstart-1]),ee.match_available=0),ee.insert=ee.strstart<2?ee.strstart:2,4===yt?(re(ee,!0),0===ee.strm.avail_out?3:4):ee.last_lit&&(re(ee,!1),0===ee.strm.avail_out)?1:2}function un(ee,yt,wt,Pe,ct){this.good_length=ee,this.max_lazy=yt,this.nice_length=wt,this.max_chain=Pe,this.func=ct}function Ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Nt(ee){var yt;return ee&&ee.state?(ee.total_in=ee.total_out=0,ee.data_type=2,(yt=ee.state).pending=0,yt.pending_out=0,yt.wrap<0&&(yt.wrap=-yt.wrap),yt.status=yt.wrap?42:113,ee.adler=2===yt.wrap?0:1,yt.last_flush=0,F._tr_init(yt),0):Fe(ee,I)}function on(ee){var yt=Nt(ee);return 0===yt&&function Fn(ee){ee.window_size=2*ee.w_size,be(ee.head),ee.max_lazy_match=Cn[ee.level].max_lazy,ee.good_match=Cn[ee.level].good_length,ee.nice_match=Cn[ee.level].nice_length,ee.max_chain_length=Cn[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=2,ee.match_available=0,ee.ins_h=0}(ee.state),yt}function Tt(ee,yt,wt,Pe,ct,Dt){if(!ee)return I;var vn=1;if(-1===yt&&(yt=6),Pe<0?(vn=0,Pe=-Pe):Pe>15&&(vn=2,Pe-=16),ct<1||ct>9||8!==wt||Pe<8||Pe>15||yt<0||yt>9||Dt<0||Dt>4)return Fe(ee,I);8===Pe&&(Pe=9);var Jt=new Ye;return ee.state=Jt,Jt.strm=ee,Jt.wrap=vn,Jt.gzhead=null,Jt.w_bits=Pe,Jt.w_size=1<<Jt.w_bits,Jt.w_mask=Jt.w_size-1,Jt.hash_bits=ct+7,Jt.hash_size=1<<Jt.hash_bits,Jt.hash_mask=Jt.hash_size-1,Jt.hash_shift=~~((Jt.hash_bits+3-1)/3),Jt.window=new i.Buf8(2*Jt.w_size),Jt.head=new i.Buf16(Jt.hash_size),Jt.prev=new i.Buf16(Jt.w_size),Jt.lit_bufsize=1<<ct+6,Jt.pending_buf_size=4*Jt.lit_bufsize,Jt.pending_buf=new i.Buf8(Jt.pending_buf_size),Jt.d_buf=1*Jt.lit_bufsize,Jt.l_buf=3*Jt.lit_bufsize,Jt.level=yt,Jt.strategy=Dt,Jt.method=wt,on(ee)}Cn=[new un(0,0,0,0,function Ct(ee,yt){var wt=65535;for(wt>ee.pending_buf_size-5&&(wt=ee.pending_buf_size-5);;){if(ee.lookahead<=1){if(xn(ee),0===ee.lookahead&&0===yt)return 1;if(0===ee.lookahead)break}ee.strstart+=ee.lookahead,ee.lookahead=0;var Pe=ee.block_start+wt;if((0===ee.strstart||ee.strstart>=Pe)&&(ee.lookahead=ee.strstart-Pe,ee.strstart=Pe,re(ee,!1),0===ee.strm.avail_out)||ee.strstart-ee.block_start>=ee.w_size-Te&&(re(ee,!1),0===ee.strm.avail_out))return 1}return ee.insert=0,4===yt?(re(ee,!0),0===ee.strm.avail_out?3:4):(ee.strstart>ee.block_start&&re(ee,!1),1)}),new un(4,4,8,4,It),new un(4,5,16,8,It),new un(4,6,32,32,It),new un(4,4,16,16,qt),new un(8,16,32,32,qt),new un(8,16,128,128,qt),new un(8,32,128,256,qt),new un(32,128,258,1024,qt),new un(32,258,258,4096,qt)],O.deflateInit=function Bt(ee,yt){return Tt(ee,yt,8,15,8,0)},O.deflateInit2=Tt,O.deflateReset=on,O.deflateResetKeep=Nt,O.deflateSetHeader=function cn(ee,yt){return ee&&ee.state&&2===ee.state.wrap?(ee.state.gzhead=yt,0):I},O.deflate=function He(ee,yt){var wt,Pe,ct,Dt;if(!ee||!ee.state||yt>5||yt<0)return ee?Fe(ee,I):I;if(Pe=ee.state,!ee.output||!ee.input&&0!==ee.avail_in||666===Pe.status&&4!==yt)return Fe(ee,0===ee.avail_out?-5:I);if(Pe.strm=ee,wt=Pe.last_flush,Pe.last_flush=yt,42===Pe.status)if(2===Pe.wrap)ee.adler=0,xe(Pe,31),xe(Pe,139),xe(Pe,8),Pe.gzhead?(xe(Pe,(Pe.gzhead.text?1:0)+(Pe.gzhead.hcrc?2:0)+(Pe.gzhead.extra?4:0)+(Pe.gzhead.name?8:0)+(Pe.gzhead.comment?16:0)),xe(Pe,255&Pe.gzhead.time),xe(Pe,Pe.gzhead.time>>8&255),xe(Pe,Pe.gzhead.time>>16&255),xe(Pe,Pe.gzhead.time>>24&255),xe(Pe,9===Pe.level?2:Pe.strategy>=2||Pe.level<2?4:0),xe(Pe,255&Pe.gzhead.os),Pe.gzhead.extra&&Pe.gzhead.extra.length&&(xe(Pe,255&Pe.gzhead.extra.length),xe(Pe,Pe.gzhead.extra.length>>8&255)),Pe.gzhead.hcrc&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending,0)),Pe.gzindex=0,Pe.status=69):(xe(Pe,0),xe(Pe,0),xe(Pe,0),xe(Pe,0),xe(Pe,0),xe(Pe,9===Pe.level?2:Pe.strategy>=2||Pe.level<2?4:0),xe(Pe,3),Pe.status=113);else{var vn=8+(Pe.w_bits-8<<4)<<8;vn|=(Pe.strategy>=2||Pe.level<2?0:Pe.level<6?1:6===Pe.level?2:3)<<6,0!==Pe.strstart&&(vn|=32),vn+=31-vn%31,Pe.status=113,xt(Pe,vn),0!==Pe.strstart&&(xt(Pe,ee.adler>>>16),xt(Pe,65535&ee.adler)),ee.adler=1}if(69===Pe.status)if(Pe.gzhead.extra){for(ct=Pe.pending;Pe.gzindex<(65535&Pe.gzhead.extra.length)&&(Pe.pending!==Pe.pending_buf_size||(Pe.gzhead.hcrc&&Pe.pending>ct&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending-ct,ct)),le(ee),ct=Pe.pending,Pe.pending!==Pe.pending_buf_size));)xe(Pe,255&Pe.gzhead.extra[Pe.gzindex]),Pe.gzindex++;Pe.gzhead.hcrc&&Pe.pending>ct&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending-ct,ct)),Pe.gzindex===Pe.gzhead.extra.length&&(Pe.gzindex=0,Pe.status=73)}else Pe.status=73;if(73===Pe.status)if(Pe.gzhead.name){ct=Pe.pending;do{if(Pe.pending===Pe.pending_buf_size&&(Pe.gzhead.hcrc&&Pe.pending>ct&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending-ct,ct)),le(ee),ct=Pe.pending,Pe.pending===Pe.pending_buf_size)){Dt=1;break}Dt=Pe.gzindex<Pe.gzhead.name.length?255&Pe.gzhead.name.charCodeAt(Pe.gzindex++):0,xe(Pe,Dt)}while(0!==Dt);Pe.gzhead.hcrc&&Pe.pending>ct&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending-ct,ct)),0===Dt&&(Pe.gzindex=0,Pe.status=91)}else Pe.status=91;if(91===Pe.status)if(Pe.gzhead.comment){ct=Pe.pending;do{if(Pe.pending===Pe.pending_buf_size&&(Pe.gzhead.hcrc&&Pe.pending>ct&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending-ct,ct)),le(ee),ct=Pe.pending,Pe.pending===Pe.pending_buf_size)){Dt=1;break}Dt=Pe.gzindex<Pe.gzhead.comment.length?255&Pe.gzhead.comment.charCodeAt(Pe.gzindex++):0,xe(Pe,Dt)}while(0!==Dt);Pe.gzhead.hcrc&&Pe.pending>ct&&(ee.adler=T(ee.adler,Pe.pending_buf,Pe.pending-ct,ct)),0===Dt&&(Pe.status=103)}else Pe.status=103;if(103===Pe.status&&(Pe.gzhead.hcrc?(Pe.pending+2>Pe.pending_buf_size&&le(ee),Pe.pending+2<=Pe.pending_buf_size&&(xe(Pe,255&ee.adler),xe(Pe,ee.adler>>8&255),ee.adler=0,Pe.status=113)):Pe.status=113),0!==Pe.pending){if(le(ee),0===ee.avail_out)return Pe.last_flush=-1,0}else if(0===ee.avail_in&&Ge(yt)<=Ge(wt)&&4!==yt)return Fe(ee,-5);if(666===Pe.status&&0!==ee.avail_in)return Fe(ee,-5);if(0!==ee.avail_in||0!==Pe.lookahead||0!==yt&&666!==Pe.status){var hn=2===Pe.strategy?function Wt(ee,yt){for(var wt;;){if(0===ee.lookahead&&(xn(ee),0===ee.lookahead)){if(0===yt)return 1;break}if(ee.match_length=0,wt=F._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,wt&&(re(ee,!1),0===ee.strm.avail_out))return 1}return ee.insert=0,4===yt?(re(ee,!0),0===ee.strm.avail_out?3:4):ee.last_lit&&(re(ee,!1),0===ee.strm.avail_out)?1:2}(Pe,yt):3===Pe.strategy?function Gt(ee,yt){for(var wt,Pe,ct,Dt,vn=ee.window;;){if(ee.lookahead<=258){if(xn(ee),ee.lookahead<=258&&0===yt)return 1;if(0===ee.lookahead)break}if(ee.match_length=0,ee.lookahead>=3&&ee.strstart>0&&(Pe=vn[ct=ee.strstart-1])===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]){Dt=ee.strstart+258;do{}while(Pe===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]&&Pe===vn[++ct]&&ct<Dt);ee.match_length=258-(Dt-ct),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=3?(wt=F._tr_tally(ee,1,ee.match_length-3),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(wt=F._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),wt&&(re(ee,!1),0===ee.strm.avail_out))return 1}return ee.insert=0,4===yt?(re(ee,!0),0===ee.strm.avail_out?3:4):ee.last_lit&&(re(ee,!1),0===ee.strm.avail_out)?1:2}(Pe,yt):Cn[Pe.level].func(Pe,yt);if((3===hn||4===hn)&&(Pe.status=666),1===hn||3===hn)return 0===ee.avail_out&&(Pe.last_flush=-1),0;if(2===hn&&(1===yt?F._tr_align(Pe):5!==yt&&(F._tr_stored_block(Pe,0,0,!1),3===yt&&(be(Pe.head),0===Pe.lookahead&&(Pe.strstart=0,Pe.block_start=0,Pe.insert=0))),le(ee),0===ee.avail_out))return Pe.last_flush=-1,0}return 4!==yt?0:Pe.wrap<=0?1:(2===Pe.wrap?(xe(Pe,255&ee.adler),xe(Pe,ee.adler>>8&255),xe(Pe,ee.adler>>16&255),xe(Pe,ee.adler>>24&255),xe(Pe,255&ee.total_in),xe(Pe,ee.total_in>>8&255),xe(Pe,ee.total_in>>16&255),xe(Pe,ee.total_in>>24&255)):(xt(Pe,ee.adler>>>16),xt(Pe,65535&ee.adler)),le(ee),Pe.wrap>0&&(Pe.wrap=-Pe.wrap),0!==Pe.pending?0:1)},O.deflateEnd=function nn(ee){var yt;return ee&&ee.state?42!==(yt=ee.state.status)&&69!==yt&&73!==yt&&91!==yt&&103!==yt&&113!==yt&&666!==yt?Fe(ee,I):(ee.state=null,113===yt?Fe(ee,-3):0):I},O.deflateSetDictionary=function kn(ee,yt){var Pe,ct,Dt,vn,Jt,hn,pn,Wn,wt=yt.length;if(!ee||!ee.state||2===(vn=(Pe=ee.state).wrap)||1===vn&&42!==Pe.status||Pe.lookahead)return I;for(1===vn&&(ee.adler=B(ee.adler,yt,wt,0)),Pe.wrap=0,wt>=Pe.w_size&&(0===vn&&(be(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0),Wn=new i.Buf8(Pe.w_size),i.arraySet(Wn,yt,wt-Pe.w_size,Pe.w_size,0),yt=Wn,wt=Pe.w_size),Jt=ee.avail_in,hn=ee.next_in,pn=ee.input,ee.avail_in=wt,ee.next_in=0,ee.input=yt,xn(Pe);Pe.lookahead>=3;){ct=Pe.strstart,Dt=Pe.lookahead-2;do{Pe.ins_h=(Pe.ins_h<<Pe.hash_shift^Pe.window[ct+3-1])&Pe.hash_mask,Pe.prev[ct&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=ct,ct++}while(--Dt);Pe.strstart=ct,Pe.lookahead=2,xn(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=2,Pe.match_available=0,ee.next_in=hn,ee.input=pn,ee.avail_in=Jt,Pe.wrap=vn,0},O.deflateInfo="pako deflate (from Nodeca project)"},4730:te=>{"use strict";te.exports=function(F,B){var T,E,w,m,b,S,k,R,P,I,C,U,$,K,z,ae,pe,ue,fe,Y,De,me,Me,nt,et;nt=F.input,w=(E=F.next_in)+(F.avail_in-5),et=F.output,b=(m=F.next_out)-(B-F.avail_out),S=m+(F.avail_out-257),k=(T=F.state).dmax,R=T.wsize,P=T.whave,I=T.wnext,C=T.window,U=T.hold,$=T.bits,K=T.lencode,z=T.distcode,ae=(1<<T.lenbits)-1,pe=(1<<T.distbits)-1;e:do{$<15&&(U+=nt[E++]<<$,U+=nt[E++]<<($+=8),$+=8),ue=K[U&ae];t:for(;;){if(U>>>=fe=ue>>>24,$-=fe,0==(fe=ue>>>16&255))et[m++]=65535&ue;else{if(!(16&fe)){if(0==(64&fe)){ue=K[(65535&ue)+(U&(1<<fe)-1)];continue t}if(32&fe){T.mode=12;break e}F.msg="invalid literal/length code",T.mode=30;break e}Y=65535&ue,(fe&=15)&&($<fe&&(U+=nt[E++]<<$,$+=8),Y+=U&(1<<fe)-1,U>>>=fe,$-=fe),$<15&&(U+=nt[E++]<<$,U+=nt[E++]<<($+=8),$+=8),ue=z[U&pe];n:for(;;){if(U>>>=fe=ue>>>24,$-=fe,!(16&(fe=ue>>>16&255))){if(0==(64&fe)){ue=z[(65535&ue)+(U&(1<<fe)-1)];continue n}F.msg="invalid distance code",T.mode=30;break e}if(De=65535&ue,$<(fe&=15)&&(U+=nt[E++]<<$,($+=8)<fe&&(U+=nt[E++]<<$,$+=8)),(De+=U&(1<<fe)-1)>k){F.msg="invalid distance too far back",T.mode=30;break e}if(U>>>=fe,$-=fe,De>(fe=m-b)){if((fe=De-fe)>P&&T.sane){F.msg="invalid distance too far back",T.mode=30;break e}if(me=0,Me=C,0===I){if(me+=R-fe,fe<Y){Y-=fe;do{et[m++]=C[me++]}while(--fe);me=m-De,Me=et}}else if(I<fe){if(me+=R+I-fe,(fe-=I)<Y){Y-=fe;do{et[m++]=C[me++]}while(--fe);if(me=0,I<Y){Y-=fe=I;do{et[m++]=C[me++]}while(--fe);me=m-De,Me=et}}}else if(me+=I-fe,fe<Y){Y-=fe;do{et[m++]=C[me++]}while(--fe);me=m-De,Me=et}for(;Y>2;)et[m++]=Me[me++],et[m++]=Me[me++],et[m++]=Me[me++],Y-=3;Y&&(et[m++]=Me[me++],Y>1&&(et[m++]=Me[me++]))}else{me=m-De;do{et[m++]=et[me++],et[m++]=et[me++],et[m++]=et[me++],Y-=3}while(Y>2);Y&&(et[m++]=et[me++],Y>1&&(et[m++]=et[me++]))}break}}break}}while(E<w&&m<S);U&=(1<<($-=(Y=$>>3)<<3))-1,F.next_in=E-=Y,F.next_out=m,F.avail_in=E<w?w-E+5:5-(E-w),F.avail_out=m<S?S-m+257:257-(m-S),T.hold=U,T.bits=$}},8111:(te,O,g)=>{"use strict";var i=g(628),F=g(3413),B=g(7391),T=g(4730),E=g(6843),U=-2;function xt(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function Ut(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Yt(Tt){var Bt;return Tt&&Tt.state?(Tt.total_in=Tt.total_out=(Bt=Tt.state).total=0,Tt.msg="",Bt.wrap&&(Tt.adler=1&Bt.wrap),Bt.mode=1,Bt.last=0,Bt.havedict=0,Bt.dmax=32768,Bt.head=null,Bt.hold=0,Bt.bits=0,Bt.lencode=Bt.lendyn=new i.Buf32(852),Bt.distcode=Bt.distdyn=new i.Buf32(592),Bt.sane=1,Bt.back=-1,0):U}function xn(Tt){var Bt;return Tt&&Tt.state?((Bt=Tt.state).wsize=0,Bt.whave=0,Bt.wnext=0,Yt(Tt)):U}function Ct(Tt,Bt){var He,nn;return!Tt||!Tt.state||(nn=Tt.state,Bt<0?(He=0,Bt=-Bt):(He=1+(Bt>>4),Bt<48&&(Bt&=15)),Bt&&(Bt<8||Bt>15))?U:(null!==nn.window&&nn.wbits!==Bt&&(nn.window=null),nn.wrap=He,nn.wbits=Bt,xn(Tt))}function It(Tt,Bt){var He,nn;return Tt?(nn=new Ut,Tt.state=nn,nn.window=null,0!==(He=Ct(Tt,Bt))&&(Tt.state=null),He):U}var Wt,un,Gt=!0;function Cn(Tt){if(Gt){var Bt;for(Wt=new i.Buf32(512),un=new i.Buf32(32),Bt=0;Bt<144;)Tt.lens[Bt++]=8;for(;Bt<256;)Tt.lens[Bt++]=9;for(;Bt<280;)Tt.lens[Bt++]=7;for(;Bt<288;)Tt.lens[Bt++]=8;for(E(1,Tt.lens,0,288,Wt,0,Tt.work,{bits:9}),Bt=0;Bt<32;)Tt.lens[Bt++]=5;E(2,Tt.lens,0,32,un,0,Tt.work,{bits:5}),Gt=!1}Tt.lencode=Wt,Tt.lenbits=9,Tt.distcode=un,Tt.distbits=5}function Fn(Tt,Bt,He,nn){var kn,ee=Tt.state;return null===ee.window&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new i.Buf8(ee.wsize)),nn>=ee.wsize?(i.arraySet(ee.window,Bt,He-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):((kn=ee.wsize-ee.wnext)>nn&&(kn=nn),i.arraySet(ee.window,Bt,He-nn,kn,ee.wnext),(nn-=kn)?(i.arraySet(ee.window,Bt,He-nn,nn,0),ee.wnext=nn,ee.whave=ee.wsize):(ee.wnext+=kn,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=kn))),0}O.inflateReset=xn,O.inflateReset2=Ct,O.inflateResetKeep=Yt,O.inflateInit=function qt(Tt){return It(Tt,15)},O.inflateInit2=It,O.inflate=function Ye(Tt,Bt){var He,nn,kn,ee,yt,wt,Pe,ct,Dt,vn,Jt,hn,pn,Wn,rr,vr,qr,Xr,Qi,Qo,xr,_r,Ir,bn,$n=0,oi=new i.Buf8(4),Qn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&0!==Tt.avail_in)return U;12===(He=Tt.state).mode&&(He.mode=13),yt=Tt.next_out,kn=Tt.output,ee=Tt.next_in,nn=Tt.input,ct=He.hold,Dt=He.bits,vn=wt=Tt.avail_in,Jt=Pe=Tt.avail_out,_r=0;e:for(;;)switch(He.mode){case 1:if(0===He.wrap){He.mode=13;break}for(;Dt<16;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(2&He.wrap&&35615===ct){He.check=0,oi[0]=255&ct,oi[1]=ct>>>8&255,He.check=B(He.check,oi,2,0),ct=0,Dt=0,He.mode=2;break}if(He.flags=0,He.head&&(He.head.done=!1),!(1&He.wrap)||(((255&ct)<<8)+(ct>>8))%31){Tt.msg="incorrect header check",He.mode=30;break}if(8!=(15&ct)){Tt.msg="unknown compression method",He.mode=30;break}if(Dt-=4,xr=8+(15&(ct>>>=4)),0===He.wbits)He.wbits=xr;else if(xr>He.wbits){Tt.msg="invalid window size",He.mode=30;break}He.dmax=1<<xr,Tt.adler=He.check=1,He.mode=512&ct?10:12,ct=0,Dt=0;break;case 2:for(;Dt<16;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(He.flags=ct,8!=(255&He.flags)){Tt.msg="unknown compression method",He.mode=30;break}if(57344&He.flags){Tt.msg="unknown header flags set",He.mode=30;break}He.head&&(He.head.text=ct>>8&1),512&He.flags&&(oi[0]=255&ct,oi[1]=ct>>>8&255,He.check=B(He.check,oi,2,0)),ct=0,Dt=0,He.mode=3;case 3:for(;Dt<32;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}He.head&&(He.head.time=ct),512&He.flags&&(oi[0]=255&ct,oi[1]=ct>>>8&255,oi[2]=ct>>>16&255,oi[3]=ct>>>24&255,He.check=B(He.check,oi,4,0)),ct=0,Dt=0,He.mode=4;case 4:for(;Dt<16;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}He.head&&(He.head.xflags=255&ct,He.head.os=ct>>8),512&He.flags&&(oi[0]=255&ct,oi[1]=ct>>>8&255,He.check=B(He.check,oi,2,0)),ct=0,Dt=0,He.mode=5;case 5:if(1024&He.flags){for(;Dt<16;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}He.length=ct,He.head&&(He.head.extra_len=ct),512&He.flags&&(oi[0]=255&ct,oi[1]=ct>>>8&255,He.check=B(He.check,oi,2,0)),ct=0,Dt=0}else He.head&&(He.head.extra=null);He.mode=6;case 6:if(1024&He.flags&&((hn=He.length)>wt&&(hn=wt),hn&&(He.head&&(xr=He.head.extra_len-He.length,He.head.extra||(He.head.extra=new Array(He.head.extra_len)),i.arraySet(He.head.extra,nn,ee,hn,xr)),512&He.flags&&(He.check=B(He.check,nn,hn,ee)),wt-=hn,ee+=hn,He.length-=hn),He.length))break e;He.length=0,He.mode=7;case 7:if(2048&He.flags){if(0===wt)break e;hn=0;do{xr=nn[ee+hn++],He.head&&xr&&He.length<65536&&(He.head.name+=String.fromCharCode(xr))}while(xr&&hn<wt);if(512&He.flags&&(He.check=B(He.check,nn,hn,ee)),wt-=hn,ee+=hn,xr)break e}else He.head&&(He.head.name=null);He.length=0,He.mode=8;case 8:if(4096&He.flags){if(0===wt)break e;hn=0;do{xr=nn[ee+hn++],He.head&&xr&&He.length<65536&&(He.head.comment+=String.fromCharCode(xr))}while(xr&&hn<wt);if(512&He.flags&&(He.check=B(He.check,nn,hn,ee)),wt-=hn,ee+=hn,xr)break e}else He.head&&(He.head.comment=null);He.mode=9;case 9:if(512&He.flags){for(;Dt<16;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(ct!==(65535&He.check)){Tt.msg="header crc mismatch",He.mode=30;break}ct=0,Dt=0}He.head&&(He.head.hcrc=He.flags>>9&1,He.head.done=!0),Tt.adler=He.check=0,He.mode=12;break;case 10:for(;Dt<32;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}Tt.adler=He.check=xt(ct),ct=0,Dt=0,He.mode=11;case 11:if(0===He.havedict)return Tt.next_out=yt,Tt.avail_out=Pe,Tt.next_in=ee,Tt.avail_in=wt,He.hold=ct,He.bits=Dt,2;Tt.adler=He.check=1,He.mode=12;case 12:if(5===Bt||6===Bt)break e;case 13:if(He.last){ct>>>=7&Dt,Dt-=7&Dt,He.mode=27;break}for(;Dt<3;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}switch(He.last=1&ct,Dt-=1,3&(ct>>>=1)){case 0:He.mode=14;break;case 1:if(Cn(He),He.mode=20,6===Bt){ct>>>=2,Dt-=2;break e}break;case 2:He.mode=17;break;case 3:Tt.msg="invalid block type",He.mode=30}ct>>>=2,Dt-=2;break;case 14:for(ct>>>=7&Dt,Dt-=7&Dt;Dt<32;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if((65535&ct)!=(ct>>>16^65535)){Tt.msg="invalid stored block lengths",He.mode=30;break}if(He.length=65535&ct,ct=0,Dt=0,He.mode=15,6===Bt)break e;case 15:He.mode=16;case 16:if(hn=He.length){if(hn>wt&&(hn=wt),hn>Pe&&(hn=Pe),0===hn)break e;i.arraySet(kn,nn,ee,hn,yt),wt-=hn,ee+=hn,Pe-=hn,yt+=hn,He.length-=hn;break}He.mode=12;break;case 17:for(;Dt<14;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(He.nlen=257+(31&ct),Dt-=5,He.ndist=1+(31&(ct>>>=5)),Dt-=5,He.ncode=4+(15&(ct>>>=5)),ct>>>=4,Dt-=4,He.nlen>286||He.ndist>30){Tt.msg="too many length or distance symbols",He.mode=30;break}He.have=0,He.mode=18;case 18:for(;He.have<He.ncode;){for(;Dt<3;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}He.lens[Qn[He.have++]]=7&ct,ct>>>=3,Dt-=3}for(;He.have<19;)He.lens[Qn[He.have++]]=0;if(He.lencode=He.lendyn,He.lenbits=7,_r=E(0,He.lens,0,19,He.lencode,0,He.work,Ir={bits:He.lenbits}),He.lenbits=Ir.bits,_r){Tt.msg="invalid code lengths set",He.mode=30;break}He.have=0,He.mode=19;case 19:for(;He.have<He.nlen+He.ndist;){for(;vr=($n=He.lencode[ct&(1<<He.lenbits)-1])>>>16&255,qr=65535&$n,!((rr=$n>>>24)<=Dt);){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(qr<16)ct>>>=rr,Dt-=rr,He.lens[He.have++]=qr;else{if(16===qr){for(bn=rr+2;Dt<bn;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(ct>>>=rr,Dt-=rr,0===He.have){Tt.msg="invalid bit length repeat",He.mode=30;break}xr=He.lens[He.have-1],hn=3+(3&ct),ct>>>=2,Dt-=2}else if(17===qr){for(bn=rr+3;Dt<bn;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}Dt-=rr,xr=0,hn=3+(7&(ct>>>=rr)),ct>>>=3,Dt-=3}else{for(bn=rr+7;Dt<bn;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}Dt-=rr,xr=0,hn=11+(127&(ct>>>=rr)),ct>>>=7,Dt-=7}if(He.have+hn>He.nlen+He.ndist){Tt.msg="invalid bit length repeat",He.mode=30;break}for(;hn--;)He.lens[He.have++]=xr}}if(30===He.mode)break;if(0===He.lens[256]){Tt.msg="invalid code -- missing end-of-block",He.mode=30;break}if(He.lenbits=9,_r=E(1,He.lens,0,He.nlen,He.lencode,0,He.work,Ir={bits:He.lenbits}),He.lenbits=Ir.bits,_r){Tt.msg="invalid literal/lengths set",He.mode=30;break}if(He.distbits=6,He.distcode=He.distdyn,_r=E(2,He.lens,He.nlen,He.ndist,He.distcode,0,He.work,Ir={bits:He.distbits}),He.distbits=Ir.bits,_r){Tt.msg="invalid distances set",He.mode=30;break}if(He.mode=20,6===Bt)break e;case 20:He.mode=21;case 21:if(wt>=6&&Pe>=258){Tt.next_out=yt,Tt.avail_out=Pe,Tt.next_in=ee,Tt.avail_in=wt,He.hold=ct,He.bits=Dt,T(Tt,Jt),yt=Tt.next_out,kn=Tt.output,Pe=Tt.avail_out,ee=Tt.next_in,nn=Tt.input,wt=Tt.avail_in,ct=He.hold,Dt=He.bits,12===He.mode&&(He.back=-1);break}for(He.back=0;vr=($n=He.lencode[ct&(1<<He.lenbits)-1])>>>16&255,qr=65535&$n,!((rr=$n>>>24)<=Dt);){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(vr&&0==(240&vr)){for(Xr=rr,Qi=vr,Qo=qr;vr=($n=He.lencode[Qo+((ct&(1<<Xr+Qi)-1)>>Xr)])>>>16&255,qr=65535&$n,!(Xr+(rr=$n>>>24)<=Dt);){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}ct>>>=Xr,Dt-=Xr,He.back+=Xr}if(ct>>>=rr,Dt-=rr,He.back+=rr,He.length=qr,0===vr){He.mode=26;break}if(32&vr){He.back=-1,He.mode=12;break}if(64&vr){Tt.msg="invalid literal/length code",He.mode=30;break}He.extra=15&vr,He.mode=22;case 22:if(He.extra){for(bn=He.extra;Dt<bn;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}He.length+=ct&(1<<He.extra)-1,ct>>>=He.extra,Dt-=He.extra,He.back+=He.extra}He.was=He.length,He.mode=23;case 23:for(;vr=($n=He.distcode[ct&(1<<He.distbits)-1])>>>16&255,qr=65535&$n,!((rr=$n>>>24)<=Dt);){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(0==(240&vr)){for(Xr=rr,Qi=vr,Qo=qr;vr=($n=He.distcode[Qo+((ct&(1<<Xr+Qi)-1)>>Xr)])>>>16&255,qr=65535&$n,!(Xr+(rr=$n>>>24)<=Dt);){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}ct>>>=Xr,Dt-=Xr,He.back+=Xr}if(ct>>>=rr,Dt-=rr,He.back+=rr,64&vr){Tt.msg="invalid distance code",He.mode=30;break}He.offset=qr,He.extra=15&vr,He.mode=24;case 24:if(He.extra){for(bn=He.extra;Dt<bn;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}He.offset+=ct&(1<<He.extra)-1,ct>>>=He.extra,Dt-=He.extra,He.back+=He.extra}if(He.offset>He.dmax){Tt.msg="invalid distance too far back",He.mode=30;break}He.mode=25;case 25:if(0===Pe)break e;if(He.offset>(hn=Jt-Pe)){if((hn=He.offset-hn)>He.whave&&He.sane){Tt.msg="invalid distance too far back",He.mode=30;break}pn=hn>He.wnext?He.wsize-(hn-=He.wnext):He.wnext-hn,hn>He.length&&(hn=He.length),Wn=He.window}else Wn=kn,pn=yt-He.offset,hn=He.length;hn>Pe&&(hn=Pe),Pe-=hn,He.length-=hn;do{kn[yt++]=Wn[pn++]}while(--hn);0===He.length&&(He.mode=21);break;case 26:if(0===Pe)break e;kn[yt++]=He.length,Pe--,He.mode=21;break;case 27:if(He.wrap){for(;Dt<32;){if(0===wt)break e;wt--,ct|=nn[ee++]<<Dt,Dt+=8}if(Tt.total_out+=Jt-=Pe,He.total+=Jt,Jt&&(Tt.adler=He.check=He.flags?B(He.check,kn,Jt,yt-Jt):F(He.check,kn,Jt,yt-Jt)),Jt=Pe,(He.flags?ct:xt(ct))!==He.check){Tt.msg="incorrect data check",He.mode=30;break}ct=0,Dt=0}He.mode=28;case 28:if(He.wrap&&He.flags){for(;Dt<32;){if(0===wt)break e;wt--,ct+=nn[ee++]<<Dt,Dt+=8}if(ct!==(4294967295&He.total)){Tt.msg="incorrect length check",He.mode=30;break}ct=0,Dt=0}He.mode=29;case 29:_r=1;break e;case 30:_r=-3;break e;case 31:return-4;default:return U}return Tt.next_out=yt,Tt.avail_out=Pe,Tt.next_in=ee,Tt.avail_in=wt,He.hold=ct,He.bits=Dt,(He.wsize||Jt!==Tt.avail_out&&He.mode<30&&(He.mode<27||4!==Bt))&&Fn(Tt,Tt.output,Tt.next_out,Jt-Tt.avail_out)?(He.mode=31,-4):(Jt-=Tt.avail_out,Tt.total_in+=vn-=Tt.avail_in,Tt.total_out+=Jt,He.total+=Jt,He.wrap&&Jt&&(Tt.adler=He.check=He.flags?B(He.check,kn,Jt,Tt.next_out-Jt):F(He.check,kn,Jt,Tt.next_out-Jt)),Tt.data_type=He.bits+(He.last?64:0)+(12===He.mode?128:0)+(20===He.mode||15===He.mode?256:0),(0===vn&&0===Jt||4===Bt)&&0===_r&&(_r=-5),_r)},O.inflateEnd=function Nt(Tt){if(!Tt||!Tt.state)return U;var Bt=Tt.state;return Bt.window&&(Bt.window=null),Tt.state=null,0},O.inflateGetHeader=function on(Tt,Bt){var He;return Tt&&Tt.state&&0!=(2&(He=Tt.state).wrap)?(He.head=Bt,Bt.done=!1,0):U},O.inflateSetDictionary=function cn(Tt,Bt){var nn,He=Bt.length;return Tt&&Tt.state&&(0===(nn=Tt.state).wrap||11===nn.mode)?11===nn.mode&&F(1,Bt,He,0)!==nn.check?-3:Fn(Tt,Bt,He,He)?(nn.mode=31,-4):(nn.havedict=1,0):U},O.inflateInfo="pako inflate (from Nodeca project)"},6843:(te,O,g)=>{"use strict";var i=g(628),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],S=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];te.exports=function(I,C,U,$,K,z,ae,pe){var Ue,ke,Ie,Ne,Te,Ke,ft,$e,Re,ue=pe.bits,fe=0,Y=0,De=0,me=0,Me=0,nt=0,et=0,de=0,ne=0,ve=0,ze=null,ht=0,tt=new i.Buf16(16),qe=new i.Buf16(16),Qe=null,We=0;for(fe=0;fe<=15;fe++)tt[fe]=0;for(Y=0;Y<$;Y++)tt[C[U+Y]]++;for(Me=ue,me=15;me>=1&&0===tt[me];me--);if(Me>me&&(Me=me),0===me)return K[z++]=20971520,K[z++]=20971520,pe.bits=1,0;for(De=1;De<me&&0===tt[De];De++);for(Me<De&&(Me=De),de=1,fe=1;fe<=15;fe++)if(de<<=1,(de-=tt[fe])<0)return-1;if(de>0&&(0===I||1!==me))return-1;for(qe[1]=0,fe=1;fe<15;fe++)qe[fe+1]=qe[fe]+tt[fe];for(Y=0;Y<$;Y++)0!==C[U+Y]&&(ae[qe[C[U+Y]]++]=Y);if(0===I?(ze=Qe=ae,Ke=19):1===I?(ze=b,ht-=257,Qe=S,We-=257,Ke=256):(ze=k,Qe=R,Ke=-1),ve=0,Y=0,fe=De,Te=z,nt=Me,et=0,Ie=-1,Ne=(ne=1<<Me)-1,1===I&&ne>852||2===I&&ne>592)return 1;for(;;){ft=fe-et,ae[Y]<Ke?($e=0,Re=ae[Y]):ae[Y]>Ke?($e=Qe[We+ae[Y]],Re=ze[ht+ae[Y]]):($e=96,Re=0),Ue=1<<fe-et,De=ke=1<<nt;do{K[Te+(ve>>et)+(ke-=Ue)]=ft<<24|$e<<16|Re|0}while(0!==ke);for(Ue=1<<fe-1;ve&Ue;)Ue>>=1;if(0!==Ue?(ve&=Ue-1,ve+=Ue):ve=0,Y++,0==--tt[fe]){if(fe===me)break;fe=C[U+ae[Y]]}if(fe>Me&&(ve&Ne)!==Ie){for(0===et&&(et=Me),Te+=De,de=1<<(nt=fe-et);nt+et<me&&!((de-=tt[nt+et])<=0);)nt++,de<<=1;if(ne+=1<<nt,1===I&&ne>852||2===I&&ne>592)return 1;K[Ie=ve&Ne]=Me<<24|nt<<16|Te-z|0}}return 0!==ve&&(K[Te+ve]=fe-et<<24|64<<16|0),pe.bits=Me,0}},9650:te=>{"use strict";te.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},4750:(te,O,g)=>{"use strict";var i=g(628);function w(Ye){for(var Nt=Ye.length;--Nt>=0;)Ye[Nt]=0}var me=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(576);w(ne);var ve=new Array(60);w(ve);var Ue=new Array(512);w(Ue);var ke=new Array(256);w(ke);var Ie=new Array(29);w(Ie);var ze,ht,Ke,Ne=new Array(30);function Te(Ye,Nt,on,cn,Tt){this.static_tree=Ye,this.extra_bits=Nt,this.extra_base=on,this.elems=cn,this.max_length=Tt,this.has_stree=Ye&&Ye.length}function tt(Ye,Nt){this.dyn_tree=Ye,this.max_code=0,this.stat_desc=Nt}function qe(Ye){return Ye<256?Ue[Ye]:Ue[256+(Ye>>>7)]}function Qe(Ye,Nt){Ye.pending_buf[Ye.pending++]=255&Nt,Ye.pending_buf[Ye.pending++]=Nt>>>8&255}function We(Ye,Nt,on){Ye.bi_valid>16-on?(Ye.bi_buf|=Nt<<Ye.bi_valid&65535,Qe(Ye,Ye.bi_buf),Ye.bi_buf=Nt>>16-Ye.bi_valid,Ye.bi_valid+=on-16):(Ye.bi_buf|=Nt<<Ye.bi_valid&65535,Ye.bi_valid+=on)}function ft(Ye,Nt,on){We(Ye,on[2*Nt],on[2*Nt+1])}function $e(Ye,Nt){var on=0;do{on|=1&Ye,Ye>>>=1,on<<=1}while(--Nt>0);return on>>>1}function Xe(Ye,Nt,on){var Bt,He,cn=new Array(16),Tt=0;for(Bt=1;Bt<=15;Bt++)cn[Bt]=Tt=Tt+on[Bt-1]<<1;for(He=0;He<=Nt;He++){var nn=Ye[2*He+1];0!==nn&&(Ye[2*He]=$e(cn[nn]++,nn))}}function Fe(Ye){var Nt;for(Nt=0;Nt<286;Nt++)Ye.dyn_ltree[2*Nt]=0;for(Nt=0;Nt<30;Nt++)Ye.dyn_dtree[2*Nt]=0;for(Nt=0;Nt<19;Nt++)Ye.bl_tree[2*Nt]=0;Ye.dyn_ltree[512]=1,Ye.opt_len=Ye.static_len=0,Ye.last_lit=Ye.matches=0}function Ge(Ye){Ye.bi_valid>8?Qe(Ye,Ye.bi_buf):Ye.bi_valid>0&&(Ye.pending_buf[Ye.pending++]=Ye.bi_buf),Ye.bi_buf=0,Ye.bi_valid=0}function le(Ye,Nt,on,cn){var Tt=2*Nt,Bt=2*on;return Ye[Tt]<Ye[Bt]||Ye[Tt]===Ye[Bt]&&cn[Nt]<=cn[on]}function re(Ye,Nt,on){for(var cn=Ye.heap[on],Tt=on<<1;Tt<=Ye.heap_len&&(Tt<Ye.heap_len&&le(Nt,Ye.heap[Tt+1],Ye.heap[Tt],Ye.depth)&&Tt++,!le(Nt,cn,Ye.heap[Tt],Ye.depth));)Ye.heap[on]=Ye.heap[Tt],on=Tt,Tt<<=1;Ye.heap[on]=cn}function xe(Ye,Nt,on){var cn,Tt,He,nn,Bt=0;if(0!==Ye.last_lit)do{cn=Ye.pending_buf[Ye.d_buf+2*Bt]<<8|Ye.pending_buf[Ye.d_buf+2*Bt+1],Tt=Ye.pending_buf[Ye.l_buf+Bt],Bt++,0===cn?ft(Ye,Tt,Nt):(ft(Ye,(He=ke[Tt])+256+1,Nt),0!==(nn=me[He])&&We(Ye,Tt-=Ie[He],nn),ft(Ye,He=qe(--cn),on),0!==(nn=Me[He])&&We(Ye,cn-=Ne[He],nn))}while(Bt<Ye.last_lit);ft(Ye,256,Nt)}function xt(Ye,Nt){var He,nn,ee,on=Nt.dyn_tree,cn=Nt.stat_desc.static_tree,Tt=Nt.stat_desc.has_stree,Bt=Nt.stat_desc.elems,kn=-1;for(Ye.heap_len=0,Ye.heap_max=573,He=0;He<Bt;He++)0!==on[2*He]?(Ye.heap[++Ye.heap_len]=kn=He,Ye.depth[He]=0):on[2*He+1]=0;for(;Ye.heap_len<2;)on[2*(ee=Ye.heap[++Ye.heap_len]=kn<2?++kn:0)]=1,Ye.depth[ee]=0,Ye.opt_len--,Tt&&(Ye.static_len-=cn[2*ee+1]);for(Nt.max_code=kn,He=Ye.heap_len>>1;He>=1;He--)re(Ye,on,He);ee=Bt;do{He=Ye.heap[1],Ye.heap[1]=Ye.heap[Ye.heap_len--],re(Ye,on,1),nn=Ye.heap[1],Ye.heap[--Ye.heap_max]=He,Ye.heap[--Ye.heap_max]=nn,on[2*ee]=on[2*He]+on[2*nn],Ye.depth[ee]=(Ye.depth[He]>=Ye.depth[nn]?Ye.depth[He]:Ye.depth[nn])+1,on[2*He+1]=on[2*nn+1]=ee,Ye.heap[1]=ee++,re(Ye,on,1)}while(Ye.heap_len>=2);Ye.heap[--Ye.heap_max]=Ye.heap[1],function Ve(Ye,Nt){var ee,yt,wt,Pe,ct,Dt,on=Nt.dyn_tree,cn=Nt.max_code,Tt=Nt.stat_desc.static_tree,Bt=Nt.stat_desc.has_stree,He=Nt.stat_desc.extra_bits,nn=Nt.stat_desc.extra_base,kn=Nt.stat_desc.max_length,vn=0;for(Pe=0;Pe<=15;Pe++)Ye.bl_count[Pe]=0;for(on[2*Ye.heap[Ye.heap_max]+1]=0,ee=Ye.heap_max+1;ee<573;ee++)(Pe=on[2*on[2*(yt=Ye.heap[ee])+1]+1]+1)>kn&&(Pe=kn,vn++),on[2*yt+1]=Pe,!(yt>cn)&&(Ye.bl_count[Pe]++,ct=0,yt>=nn&&(ct=He[yt-nn]),Ye.opt_len+=(Dt=on[2*yt])*(Pe+ct),Bt&&(Ye.static_len+=Dt*(Tt[2*yt+1]+ct)));if(0!==vn){do{for(Pe=kn-1;0===Ye.bl_count[Pe];)Pe--;Ye.bl_count[Pe]--,Ye.bl_count[Pe+1]+=2,Ye.bl_count[kn]--,vn-=2}while(vn>0);for(Pe=kn;0!==Pe;Pe--)for(yt=Ye.bl_count[Pe];0!==yt;)!((wt=Ye.heap[--ee])>cn)&&(on[2*wt+1]!==Pe&&(Ye.opt_len+=(Pe-on[2*wt+1])*on[2*wt],on[2*wt+1]=Pe),yt--)}}(Ye,Nt),Xe(on,kn,Ye.bl_count)}function Ut(Ye,Nt,on){var cn,Bt,Tt=-1,He=Nt[1],nn=0,kn=7,ee=4;for(0===He&&(kn=138,ee=3),Nt[2*(on+1)+1]=65535,cn=0;cn<=on;cn++)Bt=He,He=Nt[2*(cn+1)+1],!(++nn<kn&&Bt===He)&&(nn<ee?Ye.bl_tree[2*Bt]+=nn:0!==Bt?(Bt!==Tt&&Ye.bl_tree[2*Bt]++,Ye.bl_tree[32]++):nn<=10?Ye.bl_tree[34]++:Ye.bl_tree[36]++,nn=0,Tt=Bt,0===He?(kn=138,ee=3):Bt===He?(kn=6,ee=3):(kn=7,ee=4))}function Yt(Ye,Nt,on){var cn,Bt,Tt=-1,He=Nt[1],nn=0,kn=7,ee=4;for(0===He&&(kn=138,ee=3),cn=0;cn<=on;cn++)if(Bt=He,He=Nt[2*(cn+1)+1],!(++nn<kn&&Bt===He)){if(nn<ee)do{ft(Ye,Bt,Ye.bl_tree)}while(0!=--nn);else 0!==Bt?(Bt!==Tt&&(ft(Ye,Bt,Ye.bl_tree),nn--),ft(Ye,16,Ye.bl_tree),We(Ye,nn-3,2)):nn<=10?(ft(Ye,17,Ye.bl_tree),We(Ye,nn-3,3)):(ft(Ye,18,Ye.bl_tree),We(Ye,nn-11,7));nn=0,Tt=Bt,0===He?(kn=138,ee=3):Bt===He?(kn=6,ee=3):(kn=7,ee=4)}}w(Ne);var qt=!1;function Wt(Ye,Nt,on,cn){We(Ye,0+(cn?1:0),3),function be(Ye,Nt,on,cn){Ge(Ye),cn&&(Qe(Ye,on),Qe(Ye,~on)),i.arraySet(Ye.pending_buf,Ye.window,Nt,on,Ye.pending),Ye.pending+=on}(Ye,Nt,on,!0)}O._tr_init=function Gt(Ye){qt||(function vt(){var Ye,Nt,on,cn,Tt,Bt=new Array(16);for(on=0,cn=0;cn<28;cn++)for(Ie[cn]=on,Ye=0;Ye<1<<me[cn];Ye++)ke[on++]=cn;for(ke[on-1]=cn,Tt=0,cn=0;cn<16;cn++)for(Ne[cn]=Tt,Ye=0;Ye<1<<Me[cn];Ye++)Ue[Tt++]=cn;for(Tt>>=7;cn<30;cn++)for(Ne[cn]=Tt<<7,Ye=0;Ye<1<<Me[cn]-7;Ye++)Ue[256+Tt++]=cn;for(Nt=0;Nt<=15;Nt++)Bt[Nt]=0;for(Ye=0;Ye<=143;)ne[2*Ye+1]=8,Ye++,Bt[8]++;for(;Ye<=255;)ne[2*Ye+1]=9,Ye++,Bt[9]++;for(;Ye<=279;)ne[2*Ye+1]=7,Ye++,Bt[7]++;for(;Ye<=287;)ne[2*Ye+1]=8,Ye++,Bt[8]++;for(Xe(ne,287,Bt),Ye=0;Ye<30;Ye++)ve[2*Ye+1]=5,ve[2*Ye]=$e(Ye,5);ze=new Te(ne,me,257,286,15),ht=new Te(ve,Me,0,30,15),Ke=new Te(new Array(0),nt,0,19,7)}(),qt=!0),Ye.l_desc=new tt(Ye.dyn_ltree,ze),Ye.d_desc=new tt(Ye.dyn_dtree,ht),Ye.bl_desc=new tt(Ye.bl_tree,Ke),Ye.bi_buf=0,Ye.bi_valid=0,Fe(Ye)},O._tr_stored_block=Wt,O._tr_flush_block=function Cn(Ye,Nt,on,cn){var Tt,Bt,He=0;Ye.level>0?(2===Ye.strm.data_type&&(Ye.strm.data_type=function It(Ye){var on,Nt=4093624447;for(on=0;on<=31;on++,Nt>>>=1)if(1&Nt&&0!==Ye.dyn_ltree[2*on])return 0;if(0!==Ye.dyn_ltree[18]||0!==Ye.dyn_ltree[20]||0!==Ye.dyn_ltree[26])return 1;for(on=32;on<256;on++)if(0!==Ye.dyn_ltree[2*on])return 1;return 0}(Ye)),xt(Ye,Ye.l_desc),xt(Ye,Ye.d_desc),He=function xn(Ye){var Nt;for(Ut(Ye,Ye.dyn_ltree,Ye.l_desc.max_code),Ut(Ye,Ye.dyn_dtree,Ye.d_desc.max_code),xt(Ye,Ye.bl_desc),Nt=18;Nt>=3&&0===Ye.bl_tree[2*et[Nt]+1];Nt--);return Ye.opt_len+=3*(Nt+1)+5+5+4,Nt}(Ye),(Bt=Ye.static_len+3+7>>>3)<=(Tt=Ye.opt_len+3+7>>>3)&&(Tt=Bt)):Tt=Bt=on+5,on+4<=Tt&&-1!==Nt?Wt(Ye,Nt,on,cn):4===Ye.strategy||Bt===Tt?(We(Ye,2+(cn?1:0),3),xe(Ye,ne,ve)):(We(Ye,4+(cn?1:0),3),function Ct(Ye,Nt,on,cn){var Tt;for(We(Ye,Nt-257,5),We(Ye,on-1,5),We(Ye,cn-4,4),Tt=0;Tt<cn;Tt++)We(Ye,Ye.bl_tree[2*et[Tt]+1],3);Yt(Ye,Ye.dyn_ltree,Nt-1),Yt(Ye,Ye.dyn_dtree,on-1)}(Ye,Ye.l_desc.max_code+1,Ye.d_desc.max_code+1,He+1),xe(Ye,Ye.dyn_ltree,Ye.dyn_dtree)),Fe(Ye),cn&&Ge(Ye)},O._tr_tally=function Fn(Ye,Nt,on){return Ye.pending_buf[Ye.d_buf+2*Ye.last_lit]=Nt>>>8&255,Ye.pending_buf[Ye.d_buf+2*Ye.last_lit+1]=255&Nt,Ye.pending_buf[Ye.l_buf+Ye.last_lit]=255&on,Ye.last_lit++,0===Nt?Ye.dyn_ltree[2*on]++:(Ye.matches++,Nt--,Ye.dyn_ltree[2*(ke[on]+256+1)]++,Ye.dyn_dtree[2*qe(Nt)]++),Ye.last_lit===Ye.lit_bufsize-1},O._tr_align=function un(Ye){We(Ye,2,3),ft(Ye,256,ne),function Re(Ye){16===Ye.bi_valid?(Qe(Ye,Ye.bi_buf),Ye.bi_buf=0,Ye.bi_valid=0):Ye.bi_valid>=8&&(Ye.pending_buf[Ye.pending++]=255&Ye.bi_buf,Ye.bi_buf>>=8,Ye.bi_valid-=8)}(Ye)}},1475:te=>{"use strict";te.exports=function O(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},3407:(te,O,g)=>{"use strict";var i=g(1986);function F(w){if("string"!=typeof w)throw new TypeError("Path must be a string. Received "+JSON.stringify(w))}function B(w,m){for(var P,b="",S=0,k=-1,R=0,I=0;I<=w.length;++I){if(I<w.length)P=w.charCodeAt(I);else{if(47===P)break;P=47}if(47===P){if(k!==I-1&&1!==R)if(k!==I-1&&2===R){if(b.length<2||2!==S||46!==b.charCodeAt(b.length-1)||46!==b.charCodeAt(b.length-2))if(b.length>2){var C=b.lastIndexOf("/");if(C!==b.length-1){-1===C?(b="",S=0):S=(b=b.slice(0,C)).length-1-b.lastIndexOf("/"),k=I,R=0;continue}}else if(2===b.length||1===b.length){b="",S=0,k=I,R=0;continue}m&&(b.length>0?b+="/..":b="..",S=2)}else b.length>0?b+="/"+w.slice(k+1,I):b=w.slice(k+1,I),S=I-k-1;k=I,R=0}else 46===P&&-1!==R?++R:R=-1}return b}var E={resolve:function(){for(var S,m="",b=!1,k=arguments.length-1;k>=-1&&!b;k--){var R;k>=0?R=arguments[k]:(void 0===S&&(S=i.cwd()),R=S),F(R),0!==R.length&&(m=R+"/"+m,b=47===R.charCodeAt(0))}return m=B(m,!b),b?m.length>0?"/"+m:"/":m.length>0?m:"."},normalize:function(m){if(F(m),0===m.length)return".";var b=47===m.charCodeAt(0),S=47===m.charCodeAt(m.length-1);return 0===(m=B(m,!b)).length&&!b&&(m="."),m.length>0&&S&&(m+="/"),b?"/"+m:m},isAbsolute:function(m){return F(m),m.length>0&&47===m.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var m,b=0;b<arguments.length;++b){var S=arguments[b];F(S),S.length>0&&(void 0===m?m=S:m+="/"+S)}return void 0===m?".":E.normalize(m)},relative:function(m,b){if(F(m),F(b),m===b||(m=E.resolve(m))===(b=E.resolve(b)))return"";for(var S=1;S<m.length&&47===m.charCodeAt(S);++S);for(var k=m.length,R=k-S,P=1;P<b.length&&47===b.charCodeAt(P);++P);for(var C=b.length-P,U=R<C?R:C,$=-1,K=0;K<=U;++K){if(K===U){if(C>U){if(47===b.charCodeAt(P+K))return b.slice(P+K+1);if(0===K)return b.slice(P+K)}else R>U&&(47===m.charCodeAt(S+K)?$=K:0===K&&($=0));break}var z=m.charCodeAt(S+K);if(z!==b.charCodeAt(P+K))break;47===z&&($=K)}var pe="";for(K=S+$+1;K<=k;++K)(K===k||47===m.charCodeAt(K))&&(pe+=0===pe.length?"..":"/..");return pe.length>0?pe+b.slice(P+$):(47===b.charCodeAt(P+=$)&&++P,b.slice(P))},_makeLong:function(m){return m},dirname:function(m){if(F(m),0===m.length)return".";for(var b=m.charCodeAt(0),S=47===b,k=-1,R=!0,P=m.length-1;P>=1;--P)if(47===(b=m.charCodeAt(P))){if(!R){k=P;break}}else R=!1;return-1===k?S?"/":".":S&&1===k?"//":m.slice(0,k)},basename:function(m,b){if(void 0!==b&&"string"!=typeof b)throw new TypeError('"ext" argument must be a string');F(m);var P,S=0,k=-1,R=!0;if(void 0!==b&&b.length>0&&b.length<=m.length){if(b.length===m.length&&b===m)return"";var I=b.length-1,C=-1;for(P=m.length-1;P>=0;--P){var U=m.charCodeAt(P);if(47===U){if(!R){S=P+1;break}}else-1===C&&(R=!1,C=P+1),I>=0&&(U===b.charCodeAt(I)?-1==--I&&(k=P):(I=-1,k=C))}return S===k?k=C:-1===k&&(k=m.length),m.slice(S,k)}for(P=m.length-1;P>=0;--P)if(47===m.charCodeAt(P)){if(!R){S=P+1;break}}else-1===k&&(R=!1,k=P+1);return-1===k?"":m.slice(S,k)},extname:function(m){F(m);for(var b=-1,S=0,k=-1,R=!0,P=0,I=m.length-1;I>=0;--I){var C=m.charCodeAt(I);if(47!==C)-1===k&&(R=!1,k=I+1),46===C?-1===b?b=I:1!==P&&(P=1):-1!==b&&(P=-1);else if(!R){S=I+1;break}}return-1===b||-1===k||0===P||1===P&&b===k-1&&b===S+1?"":m.slice(b,k)},format:function(m){if(null===m||"object"!=typeof m)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof m);return function T(w,m){var b=m.dir||m.root,S=m.base||(m.name||"")+(m.ext||"");return b?b===m.root?b+S:b+w+S:S}("/",m)},parse:function(m){F(m);var b={root:"",dir:"",base:"",ext:"",name:""};if(0===m.length)return b;var R,S=m.charCodeAt(0),k=47===S;k?(b.root="/",R=1):R=0;for(var P=-1,I=0,C=-1,U=!0,$=m.length-1,K=0;$>=R;--$)if(47!==(S=m.charCodeAt($)))-1===C&&(U=!1,C=$+1),46===S?-1===P?P=$:1!==K&&(K=1):-1!==P&&(K=-1);else if(!U){I=$+1;break}return-1===P||-1===C||0===K||1===K&&P===C-1&&P===I+1?-1!==C&&(b.base=b.name=m.slice(0===I&&k?1:I,C)):(0===I&&k?(b.name=m.slice(1,P),b.base=m.slice(1,C)):(b.name=m.slice(I,P),b.base=m.slice(I,C)),b.ext=m.slice(P,C)),I>0?b.dir=m.slice(0,I-1):k&&(b.dir="/"),b},sep:"/",delimiter:":",win32:null,posix:null};E.posix=E,te.exports=E},1231:(te,O,g)=>{"use strict";var i=g(1986);te.exports=void 0===i||!i.version||0===i.version.indexOf("v0.")||0===i.version.indexOf("v1.")&&0!==i.version.indexOf("v1.8.")?{nextTick:function F(B,T,E,w){if("function"!=typeof B)throw new TypeError('"callback" argument must be a function');var b,S,m=arguments.length;switch(m){case 0:case 1:return i.nextTick(B);case 2:return i.nextTick(function(){B.call(null,T)});case 3:return i.nextTick(function(){B.call(null,T,E)});case 4:return i.nextTick(function(){B.call(null,T,E,w)});default:for(b=new Array(m-1),S=0;S<b.length;)b[S++]=arguments[S];return i.nextTick(function(){B.apply(null,b)})}}}:i},1986:te=>{var g,i,O=te.exports={};function F(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}function T(C){if(g===setTimeout)return setTimeout(C,0);if((g===F||!g)&&setTimeout)return g=setTimeout,setTimeout(C,0);try{return g(C,0)}catch(U){try{return g.call(null,C,0)}catch($){return g.call(this,C,0)}}}!function(){try{g="function"==typeof setTimeout?setTimeout:F}catch(C){g=F}try{i="function"==typeof clearTimeout?clearTimeout:B}catch(C){i=B}}();var b,w=[],m=!1,S=-1;function k(){!m||!b||(m=!1,b.length?w=b.concat(w):S=-1,w.length&&R())}function R(){if(!m){var C=T(k);m=!0;for(var U=w.length;U;){for(b=w,w=[];++S<U;)b&&b[S].run();S=-1,U=w.length}b=null,m=!1,function E(C){if(i===clearTimeout)return clearTimeout(C);if((i===B||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(C);try{i(C)}catch(U){try{return i.call(null,C)}catch($){return i.call(this,C)}}}(C)}}function P(C,U){this.fun=C,this.array=U}function I(){}O.nextTick=function(C){var U=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)U[$-1]=arguments[$];w.push(new P(C,U)),1===w.length&&!m&&T(R)},P.prototype.run=function(){this.fun.apply(null,this.array)},O.title="browser",O.browser=!0,O.env={},O.argv=[],O.version="",O.versions={},O.on=I,O.addListener=I,O.once=I,O.off=I,O.removeListener=I,O.removeAllListeners=I,O.emit=I,O.prependListener=I,O.prependOnceListener=I,O.listeners=function(C){return[]},O.binding=function(C){throw new Error("process.binding is not supported")},O.cwd=function(){return"/"},O.chdir=function(C){throw new Error("process.chdir is not supported")},O.umask=function(){return 0}},2987:te=>{"use strict";function O(g,i){return Object.prototype.hasOwnProperty.call(g,i)}te.exports=function(g,i,F,B){F=F||"=";var T={};if("string"!=typeof g||0===g.length)return T;var E=/\+/g;g=g.split(i=i||"&");var w=1e3;B&&"number"==typeof B.maxKeys&&(w=B.maxKeys);var m=g.length;w>0&&m>w&&(m=w);for(var b=0;b<m;++b){var R,P,I,C,S=g[b].replace(E,"%20"),k=S.indexOf(F);k>=0?(R=S.substr(0,k),P=S.substr(k+1)):(R=S,P=""),I=decodeURIComponent(R),C=decodeURIComponent(P),O(T,I)?Array.isArray(T[I])?T[I].push(C):T[I]=[T[I],C]:T[I]=C}return T}},8387:te=>{"use strict";var O=function(g){switch(typeof g){case"string":return g;case"boolean":return g?"true":"false";case"number":return isFinite(g)?g:"";default:return""}};te.exports=function(g,i,F,B){return i=i||"&",F=F||"=",null===g&&(g=void 0),"object"==typeof g?Object.keys(g).map(function(T){var E=encodeURIComponent(O(T))+F;return Array.isArray(g[T])?g[T].map(function(w){return E+encodeURIComponent(O(w))}).join(i):E+encodeURIComponent(O(g[T]))}).join(i):B?encodeURIComponent(O(B))+F+encodeURIComponent(O(g)):""}},7805:(te,O,g)=>{"use strict";O.decode=O.parse=g(2987),O.encode=O.stringify=g(8387)},3495:te=>{"use strict";var g={};function i(w,m,b){b||(b=Error);var k=function(R){function P(I,C,U){return R.call(this,function S(R,P,I){return"string"==typeof m?m:m(R,P,I)}(I,C,U))||this}return function O(w,m){w.prototype=Object.create(m.prototype),w.prototype.constructor=w,w.__proto__=m}(P,R),P}(b);k.prototype.name=b.name,k.prototype.code=w,g[w]=k}function F(w,m){if(Array.isArray(w)){var b=w.length;return w=w.map(function(S){return String(S)}),b>2?"one of ".concat(m," ").concat(w.slice(0,b-1).join(", "),", or ")+w[b-1]:2===b?"one of ".concat(m," ").concat(w[0]," or ").concat(w[1]):"of ".concat(m," ").concat(w[0])}return"of ".concat(m," ").concat(String(w))}i("ERR_INVALID_OPT_VALUE",function(w,m){return'The value "'+m+'" is invalid for option "'+w+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(w,m,b){var S,k;if("string"==typeof m&&function B(w,m,b){return w.substr(!b||b<0?0:+b,m.length)===m}(m,"not ")?(S="must not be",m=m.replace(/^not /,"")):S="must be",function T(w,m,b){return(void 0===b||b>w.length)&&(b=w.length),w.substring(b-m.length,b)===m}(w," argument"))k="The ".concat(w," ").concat(S," ").concat(F(m,"type"));else{var R=function E(w,m,b){return"number"!=typeof b&&(b=0),!(b+m.length>w.length)&&-1!==w.indexOf(m,b)}(w,".")?"property":"argument";k='The "'.concat(w,'" ').concat(R," ").concat(S," ").concat(F(m,"type"))}return k+". Received type ".concat(typeof b)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(w){return"The "+w+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(w){return"Cannot call "+w+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(w){return"Unknown encoding: "+w},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),te.exports.q=g},4290:(te,O,g)=>{"use strict";var i=g(1986),F=Object.keys||function(R){var P=[];for(var I in R)P.push(I);return P};te.exports=b;var B=g(9039),T=g(4016);g(7326)(b,B);for(var E=F(T.prototype),w=0;w<E.length;w++){var m=E[w];b.prototype[m]||(b.prototype[m]=T.prototype[m])}function b(R){if(!(this instanceof b))return new b(R);B.call(this,R),T.call(this,R),this.allowHalfOpen=!0,R&&(!1===R.readable&&(this.readable=!1),!1===R.writable&&(this.writable=!1),!1===R.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",S)))}function S(){this._writableState.ended||i.nextTick(k,this)}function k(R){R.end()}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(P){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=P,this._writableState.destroyed=P)}})},6763:(te,O,g)=>{"use strict";te.exports=F;var i=g(2502);function F(B){if(!(this instanceof F))return new F(B);i.call(this,B)}g(7326)(F,i),F.prototype._transform=function(B,T,E){E(null,B)}},9039:(te,O,g)=>{"use strict";var F,i=g(1986);te.exports=et,et.ReadableState=nt,g(9502);var R,T=function(Ge,be){return Ge.listeners(be).length},E=g(2683),w=g(7526).Buffer,m=global.Uint8Array||function(){},k=g(6602);R=k&&k.debuglog?k.debuglog("stream"):function(){};var ue,fe,Y,P=g(8624),I=g(3252),U=g(9652).getHighWaterMark,$=g(3495).q,K=$.ERR_INVALID_ARG_TYPE,z=$.ERR_STREAM_PUSH_AFTER_EOF,ae=$.ERR_METHOD_NOT_IMPLEMENTED,pe=$.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;g(7326)(et,E);var De=I.errorOrDestroy,me=["error","close","destroy","pause","resume"];function nt(Fe,Ge,be){F=F||g(4290),"boolean"!=typeof be&&(be=Ge instanceof F),this.objectMode=!!(Fe=Fe||{}).objectMode,be&&(this.objectMode=this.objectMode||!!Fe.readableObjectMode),this.highWaterMark=U(this,Fe,"readableHighWaterMark",be),this.buffer=new P,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Fe.emitClose,this.autoDestroy=!!Fe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Fe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Fe.encoding&&(ue||(ue=g(1015).StringDecoder),this.decoder=new ue(Fe.encoding),this.encoding=Fe.encoding)}function et(Fe){if(F=F||g(4290),!(this instanceof et))return new et(Fe);this._readableState=new nt(Fe,this,this instanceof F),this.readable=!0,Fe&&("function"==typeof Fe.read&&(this._read=Fe.read),"function"==typeof Fe.destroy&&(this._destroy=Fe.destroy)),E.call(this)}function de(Fe,Ge,be,le,re){R("readableAddChunk",Ge);var xt,xe=Fe._readableState;if(null===Ge)xe.reading=!1,function Ne(Fe,Ge){if(R("onEofChunk"),!Ge.ended){if(Ge.decoder){var be=Ge.decoder.end();be&&be.length&&(Ge.buffer.push(be),Ge.length+=Ge.objectMode?1:be.length)}Ge.ended=!0,Ge.sync?Te(Fe):(Ge.needReadable=!1,Ge.emittedReadable||(Ge.emittedReadable=!0,ze(Fe)))}}(Fe,xe);else if(re||(xt=function ve(Fe,Ge){var be;return!function S(Fe){return w.isBuffer(Fe)||Fe instanceof m}(Ge)&&"string"!=typeof Ge&&void 0!==Ge&&!Fe.objectMode&&(be=new K("chunk",["string","Buffer","Uint8Array"],Ge)),be}(xe,Ge)),xt)De(Fe,xt);else if(xe.objectMode||Ge&&Ge.length>0)if("string"!=typeof Ge&&!xe.objectMode&&Object.getPrototypeOf(Ge)!==w.prototype&&(Ge=function b(Fe){return w.from(Fe)}(Ge)),le)xe.endEmitted?De(Fe,new pe):ne(Fe,xe,Ge,!0);else if(xe.ended)De(Fe,new z);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!be?(Ge=xe.decoder.write(Ge),xe.objectMode||0!==Ge.length?ne(Fe,xe,Ge,!1):ht(Fe,xe)):ne(Fe,xe,Ge,!1)}else le||(xe.reading=!1,ht(Fe,xe));return!xe.ended&&(xe.length<xe.highWaterMark||0===xe.length)}function ne(Fe,Ge,be,le){Ge.flowing&&0===Ge.length&&!Ge.sync?(Ge.awaitDrain=0,Fe.emit("data",be)):(Ge.length+=Ge.objectMode?1:be.length,le?Ge.buffer.unshift(be):Ge.buffer.push(be),Ge.needReadable&&Te(Fe)),ht(Fe,Ge)}Object.defineProperty(et.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Ge){!this._readableState||(this._readableState.destroyed=Ge)}}),et.prototype.destroy=I.destroy,et.prototype._undestroy=I.undestroy,et.prototype._destroy=function(Fe,Ge){Ge(Fe)},et.prototype.push=function(Fe,Ge){var le,be=this._readableState;return be.objectMode?le=!0:"string"==typeof Fe&&((Ge=Ge||be.defaultEncoding)!==be.encoding&&(Fe=w.from(Fe,Ge),Ge=""),le=!0),de(this,Fe,Ge,!1,le)},et.prototype.unshift=function(Fe){return de(this,Fe,null,!0,!1)},et.prototype.isPaused=function(){return!1===this._readableState.flowing},et.prototype.setEncoding=function(Fe){ue||(ue=g(1015).StringDecoder);var Ge=new ue(Fe);this._readableState.decoder=Ge,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,le="";null!==be;)le+=Ge.write(be.data),be=be.next;return this._readableState.buffer.clear(),""!==le&&this._readableState.buffer.push(le),this._readableState.length=le.length,this};var Ue=1073741824;function Ie(Fe,Ge){return Fe<=0||0===Ge.length&&Ge.ended?0:Ge.objectMode?1:Fe!=Fe?Ge.flowing&&Ge.length?Ge.buffer.head.data.length:Ge.length:(Fe>Ge.highWaterMark&&(Ge.highWaterMark=function ke(Fe){return Fe>=Ue?Fe=Ue:(Fe--,Fe|=Fe>>>1,Fe|=Fe>>>2,Fe|=Fe>>>4,Fe|=Fe>>>8,Fe|=Fe>>>16,Fe++),Fe}(Fe)),Fe<=Ge.length?Fe:Ge.ended?Ge.length:(Ge.needReadable=!0,0))}function Te(Fe){var Ge=Fe._readableState;R("emitReadable",Ge.needReadable,Ge.emittedReadable),Ge.needReadable=!1,Ge.emittedReadable||(R("emitReadable",Ge.flowing),Ge.emittedReadable=!0,i.nextTick(ze,Fe))}function ze(Fe){var Ge=Fe._readableState;R("emitReadable_",Ge.destroyed,Ge.length,Ge.ended),!Ge.destroyed&&(Ge.length||Ge.ended)&&(Fe.emit("readable"),Ge.emittedReadable=!1),Ge.needReadable=!Ge.flowing&&!Ge.ended&&Ge.length<=Ge.highWaterMark,$e(Fe)}function ht(Fe,Ge){Ge.readingMore||(Ge.readingMore=!0,i.nextTick(Ke,Fe,Ge))}function Ke(Fe,Ge){for(;!Ge.reading&&!Ge.ended&&(Ge.length<Ge.highWaterMark||Ge.flowing&&0===Ge.length);){var be=Ge.length;if(R("maybeReadMore read 0"),Fe.read(0),be===Ge.length)break}Ge.readingMore=!1}function qe(Fe){var Ge=Fe._readableState;Ge.readableListening=Fe.listenerCount("readable")>0,Ge.resumeScheduled&&!Ge.paused?Ge.flowing=!0:Fe.listenerCount("data")>0&&Fe.resume()}function Qe(Fe){R("readable nexttick read 0"),Fe.read(0)}function ft(Fe,Ge){R("resume",Ge.reading),Ge.reading||Fe.read(0),Ge.resumeScheduled=!1,Fe.emit("resume"),$e(Fe),Ge.flowing&&!Ge.reading&&Fe.read(0)}function $e(Fe){var Ge=Fe._readableState;for(R("flow",Ge.flowing);Ge.flowing&&null!==Fe.read(););}function Re(Fe,Ge){return 0===Ge.length?null:(Ge.objectMode?be=Ge.buffer.shift():!Fe||Fe>=Ge.length?(be=Ge.decoder?Ge.buffer.join(""):1===Ge.buffer.length?Ge.buffer.first():Ge.buffer.concat(Ge.length),Ge.buffer.clear()):be=Ge.buffer.consume(Fe,Ge.decoder),be);var be}function Ve(Fe){var Ge=Fe._readableState;R("endReadable",Ge.endEmitted),Ge.endEmitted||(Ge.ended=!0,i.nextTick(Xe,Ge,Fe))}function Xe(Fe,Ge){if(R("endReadableNT",Fe.endEmitted,Fe.length),!Fe.endEmitted&&0===Fe.length&&(Fe.endEmitted=!0,Ge.readable=!1,Ge.emit("end"),Fe.autoDestroy)){var be=Ge._writableState;(!be||be.autoDestroy&&be.finished)&&Ge.destroy()}}function vt(Fe,Ge){for(var be=0,le=Fe.length;be<le;be++)if(Fe[be]===Ge)return be;return-1}et.prototype.read=function(Fe){R("read",Fe),Fe=parseInt(Fe,10);var Ge=this._readableState,be=Fe;if(0!==Fe&&(Ge.emittedReadable=!1),0===Fe&&Ge.needReadable&&((0!==Ge.highWaterMark?Ge.length>=Ge.highWaterMark:Ge.length>0)||Ge.ended))return R("read: emitReadable",Ge.length,Ge.ended),0===Ge.length&&Ge.ended?Ve(this):Te(this),null;if(0===(Fe=Ie(Fe,Ge))&&Ge.ended)return 0===Ge.length&&Ve(this),null;var re,le=Ge.needReadable;return R("need readable",le),(0===Ge.length||Ge.length-Fe<Ge.highWaterMark)&&R("length less than watermark",le=!0),Ge.ended||Ge.reading?R("reading or ended",le=!1):le&&(R("do read"),Ge.reading=!0,Ge.sync=!0,0===Ge.length&&(Ge.needReadable=!0),this._read(Ge.highWaterMark),Ge.sync=!1,Ge.reading||(Fe=Ie(be,Ge))),null===(re=Fe>0?Re(Fe,Ge):null)?(Ge.needReadable=Ge.length<=Ge.highWaterMark,Fe=0):(Ge.length-=Fe,Ge.awaitDrain=0),0===Ge.length&&(Ge.ended||(Ge.needReadable=!0),be!==Fe&&Ge.ended&&Ve(this)),null!==re&&this.emit("data",re),re},et.prototype._read=function(Fe){De(this,new ae("_read()"))},et.prototype.pipe=function(Fe,Ge){var be=this,le=this._readableState;switch(le.pipesCount){case 0:le.pipes=Fe;break;case 1:le.pipes=[le.pipes,Fe];break;default:le.pipes.push(Fe)}le.pipesCount+=1,R("pipe count=%d opts=%j",le.pipesCount,Ge);var xe=Ge&&!1===Ge.end||Fe===i.stdout||Fe===i.stderr?un:Ut;function Ut(){R("onend"),Fe.end()}le.endEmitted?i.nextTick(xe):be.once("end",xe),Fe.on("unpipe",function xt(Cn,Fn){R("onunpipe"),Cn===be&&Fn&&!1===Fn.hasUnpiped&&(Fn.hasUnpiped=!0,function Ct(){R("cleanup"),Fe.removeListener("close",Gt),Fe.removeListener("finish",Wt),Fe.removeListener("drain",Yt),Fe.removeListener("error",qt),Fe.removeListener("unpipe",xt),be.removeListener("end",Ut),be.removeListener("end",un),be.removeListener("data",It),xn=!0,le.awaitDrain&&(!Fe._writableState||Fe._writableState.needDrain)&&Yt()}())});var Yt=function tt(Fe){return function(){var be=Fe._readableState;R("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,0===be.awaitDrain&&T(Fe,"data")&&(be.flowing=!0,$e(Fe))}}(be);Fe.on("drain",Yt);var xn=!1;function It(Cn){R("ondata");var Fn=Fe.write(Cn);R("dest.write",Fn),!1===Fn&&((1===le.pipesCount&&le.pipes===Fe||le.pipesCount>1&&-1!==vt(le.pipes,Fe))&&!xn&&(R("false write response, pause",le.awaitDrain),le.awaitDrain++),be.pause())}function qt(Cn){R("onerror",Cn),un(),Fe.removeListener("error",qt),0===T(Fe,"error")&&De(Fe,Cn)}function Gt(){Fe.removeListener("finish",Wt),un()}function Wt(){R("onfinish"),Fe.removeListener("close",Gt),un()}function un(){R("unpipe"),be.unpipe(Fe)}return be.on("data",It),function Me(Fe,Ge,be){if("function"==typeof Fe.prependListener)return Fe.prependListener(Ge,be);Fe._events&&Fe._events[Ge]?Array.isArray(Fe._events[Ge])?Fe._events[Ge].unshift(be):Fe._events[Ge]=[be,Fe._events[Ge]]:Fe.on(Ge,be)}(Fe,"error",qt),Fe.once("close",Gt),Fe.once("finish",Wt),Fe.emit("pipe",be),le.flowing||(R("pipe resume"),be.resume()),Fe},et.prototype.unpipe=function(Fe){var Ge=this._readableState,be={hasUnpiped:!1};if(0===Ge.pipesCount)return this;if(1===Ge.pipesCount)return Fe&&Fe!==Ge.pipes||(Fe||(Fe=Ge.pipes),Ge.pipes=null,Ge.pipesCount=0,Ge.flowing=!1,Fe&&Fe.emit("unpipe",this,be)),this;if(!Fe){var le=Ge.pipes,re=Ge.pipesCount;Ge.pipes=null,Ge.pipesCount=0,Ge.flowing=!1;for(var xe=0;xe<re;xe++)le[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var xt=vt(Ge.pipes,Fe);return-1===xt||(Ge.pipes.splice(xt,1),Ge.pipesCount-=1,1===Ge.pipesCount&&(Ge.pipes=Ge.pipes[0]),Fe.emit("unpipe",this,be)),this},et.prototype.addListener=et.prototype.on=function(Fe,Ge){var be=E.prototype.on.call(this,Fe,Ge),le=this._readableState;return"data"===Fe?(le.readableListening=this.listenerCount("readable")>0,!1!==le.flowing&&this.resume()):"readable"===Fe&&!le.endEmitted&&!le.readableListening&&(le.readableListening=le.needReadable=!0,le.flowing=!1,le.emittedReadable=!1,R("on readable",le.length,le.reading),le.length?Te(this):le.reading||i.nextTick(Qe,this)),be},et.prototype.removeListener=function(Fe,Ge){var be=E.prototype.removeListener.call(this,Fe,Ge);return"readable"===Fe&&i.nextTick(qe,this),be},et.prototype.removeAllListeners=function(Fe){var Ge=E.prototype.removeAllListeners.apply(this,arguments);return("readable"===Fe||void 0===Fe)&&i.nextTick(qe,this),Ge},et.prototype.resume=function(){var Fe=this._readableState;return Fe.flowing||(R("resume"),Fe.flowing=!Fe.readableListening,function We(Fe,Ge){Ge.resumeScheduled||(Ge.resumeScheduled=!0,i.nextTick(ft,Fe,Ge))}(this,Fe)),Fe.paused=!1,this},et.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},et.prototype.wrap=function(Fe){var Ge=this,be=this._readableState,le=!1;for(var re in Fe.on("end",function(){if(R("wrapped end"),be.decoder&&!be.ended){var xt=be.decoder.end();xt&&xt.length&&Ge.push(xt)}Ge.push(null)}),Fe.on("data",function(xt){R("wrapped data"),be.decoder&&(xt=be.decoder.write(xt)),be.objectMode&&null==xt||!(be.objectMode||xt&&xt.length)||Ge.push(xt)||(le=!0,Fe.pause())}),Fe)void 0===this[re]&&"function"==typeof Fe[re]&&(this[re]=function(Ut){return function(){return Fe[Ut].apply(Fe,arguments)}}(re));for(var xe=0;xe<me.length;xe++)Fe.on(me[xe],this.emit.bind(this,me[xe]));return this._read=function(xt){R("wrapped _read",xt),le&&(le=!1,Fe.resume())},this},"function"==typeof Symbol&&(et.prototype[Symbol.asyncIterator]=function(){return void 0===fe&&(fe=g(4081)),fe(this)}),Object.defineProperty(et.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(et.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(et.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ge){this._readableState&&(this._readableState.flowing=Ge)}}),et._fromList=Re,Object.defineProperty(et.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(et.from=function(Fe,Ge){return void 0===Y&&(Y=g(3099)),Y(et,Fe,Ge)})},2502:(te,O,g)=>{"use strict";te.exports=b;var i=g(3495).q,F=i.ERR_METHOD_NOT_IMPLEMENTED,B=i.ERR_MULTIPLE_CALLBACK,T=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=i.ERR_TRANSFORM_WITH_LENGTH_0,w=g(4290);function m(R,P){var I=this._transformState;I.transforming=!1;var C=I.writecb;if(null===C)return this.emit("error",new B);I.writechunk=null,I.writecb=null,null!=P&&this.push(P),C(R);var U=this._readableState;U.reading=!1,(U.needReadable||U.length<U.highWaterMark)&&this._read(U.highWaterMark)}function b(R){if(!(this instanceof b))return new b(R);w.call(this,R),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&("function"==typeof R.transform&&(this._transform=R.transform),"function"==typeof R.flush&&(this._flush=R.flush)),this.on("prefinish",S)}function S(){var R=this;"function"!=typeof this._flush||this._readableState.destroyed?k(this,null,null):this._flush(function(P,I){k(R,P,I)})}function k(R,P,I){if(P)return R.emit("error",P);if(null!=I&&R.push(I),R._writableState.length)throw new E;if(R._transformState.transforming)throw new T;return R.push(null)}g(7326)(b,w),b.prototype.push=function(R,P){return this._transformState.needTransform=!1,w.prototype.push.call(this,R,P)},b.prototype._transform=function(R,P,I){I(new F("_transform()"))},b.prototype._write=function(R,P,I){var C=this._transformState;if(C.writecb=I,C.writechunk=R,C.writeencoding=P,!C.transforming){var U=this._readableState;(C.needTransform||U.needReadable||U.length<U.highWaterMark)&&this._read(U.highWaterMark)}},b.prototype._read=function(R){var P=this._transformState;null===P.writechunk||P.transforming?P.needTransform=!0:(P.transforming=!0,this._transform(P.writechunk,P.writeencoding,P.afterTransform))},b.prototype._destroy=function(R,P){w.prototype._destroy.call(this,R,function(I){P(I)})}},4016:(te,O,g)=>{"use strict";var T,i=g(1986);function B($e){var Re=this;this.next=null,this.entry=null,this.finish=function(){!function ft($e,Re,Ve){var Xe=$e.entry;for($e.entry=null;Xe;){var vt=Xe.callback;Re.pendingcb--,vt(Ve),Xe=Xe.next}Re.corkedRequestsFree.next=$e}(Re,$e)}}te.exports=nt,nt.WritableState=me;var Me,E={deprecate:g(9220)},w=g(2683),m=g(7526).Buffer,b=global.Uint8Array||function(){},R=g(3252),I=g(9652).getHighWaterMark,C=g(3495).q,U=C.ERR_INVALID_ARG_TYPE,$=C.ERR_METHOD_NOT_IMPLEMENTED,K=C.ERR_MULTIPLE_CALLBACK,z=C.ERR_STREAM_CANNOT_PIPE,ae=C.ERR_STREAM_DESTROYED,pe=C.ERR_STREAM_NULL_VALUES,ue=C.ERR_STREAM_WRITE_AFTER_END,fe=C.ERR_UNKNOWN_ENCODING,Y=R.errorOrDestroy;function De(){}function me($e,Re,Ve){T=T||g(4290),"boolean"!=typeof Ve&&(Ve=Re instanceof T),this.objectMode=!!($e=$e||{}).objectMode,Ve&&(this.objectMode=this.objectMode||!!$e.writableObjectMode),this.highWaterMark=I(this,$e,"writableHighWaterMark",Ve),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===$e.decodeStrings),this.defaultEncoding=$e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(vt){!function Ne($e,Re){var Ve=$e._writableState,Xe=Ve.sync,vt=Ve.writecb;if("function"!=typeof vt)throw new K;if(function Ie($e){$e.writing=!1,$e.writecb=null,$e.length-=$e.writelen,$e.writelen=0}(Ve),Re)!function ke($e,Re,Ve,Xe,vt){--Re.pendingcb,Ve?(i.nextTick(vt,Xe),i.nextTick(Qe,$e,Re),$e._writableState.errorEmitted=!0,Y($e,Xe)):(vt(Xe),$e._writableState.errorEmitted=!0,Y($e,Xe),Qe($e,Re))}($e,Ve,Xe,Re,vt);else{var Fe=Ke(Ve)||$e.destroyed;!Fe&&!Ve.corked&&!Ve.bufferProcessing&&Ve.bufferedRequest&&ht($e,Ve),Xe?i.nextTick(Te,$e,Ve,Fe,vt):Te($e,Ve,Fe,vt)}}(Re,vt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==$e.emitClose,this.autoDestroy=!!$e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new B(this)}function nt($e){var Re=this instanceof(T=T||g(4290));if(!Re&&!Me.call(nt,this))return new nt($e);this._writableState=new me($e,this,Re),this.writable=!0,$e&&("function"==typeof $e.write&&(this._write=$e.write),"function"==typeof $e.writev&&(this._writev=$e.writev),"function"==typeof $e.destroy&&(this._destroy=$e.destroy),"function"==typeof $e.final&&(this._final=$e.final)),w.call(this)}function Ue($e,Re,Ve,Xe,vt,Fe,Ge){Re.writelen=Xe,Re.writecb=Ge,Re.writing=!0,Re.sync=!0,Re.destroyed?Re.onwrite(new ae("write")):Ve?$e._writev(vt,Re.onwrite):$e._write(vt,Fe,Re.onwrite),Re.sync=!1}function Te($e,Re,Ve,Xe){Ve||function ze($e,Re){0===Re.length&&Re.needDrain&&(Re.needDrain=!1,$e.emit("drain"))}($e,Re),Re.pendingcb--,Xe(),Qe($e,Re)}function ht($e,Re){Re.bufferProcessing=!0;var Ve=Re.bufferedRequest;if($e._writev&&Ve&&Ve.next){var vt=new Array(Re.bufferedRequestCount),Fe=Re.corkedRequestsFree;Fe.entry=Ve;for(var Ge=0,be=!0;Ve;)vt[Ge]=Ve,Ve.isBuf||(be=!1),Ve=Ve.next,Ge+=1;vt.allBuffers=be,Ue($e,Re,!0,Re.length,vt,"",Fe.finish),Re.pendingcb++,Re.lastBufferedRequest=null,Fe.next?(Re.corkedRequestsFree=Fe.next,Fe.next=null):Re.corkedRequestsFree=new B(Re),Re.bufferedRequestCount=0}else{for(;Ve;){var le=Ve.chunk;if(Ue($e,Re,!1,Re.objectMode?1:le.length,le,Ve.encoding,Ve.callback),Ve=Ve.next,Re.bufferedRequestCount--,Re.writing)break}null===Ve&&(Re.lastBufferedRequest=null)}Re.bufferedRequest=Ve,Re.bufferProcessing=!1}function Ke($e){return $e.ending&&0===$e.length&&null===$e.bufferedRequest&&!$e.finished&&!$e.writing}function tt($e,Re){$e._final(function(Ve){Re.pendingcb--,Ve&&Y($e,Ve),Re.prefinished=!0,$e.emit("prefinish"),Qe($e,Re)})}function Qe($e,Re){var Ve=Ke(Re);if(Ve&&(function qe($e,Re){!Re.prefinished&&!Re.finalCalled&&("function"!=typeof $e._final||Re.destroyed?(Re.prefinished=!0,$e.emit("prefinish")):(Re.pendingcb++,Re.finalCalled=!0,i.nextTick(tt,$e,Re)))}($e,Re),0===Re.pendingcb&&(Re.finished=!0,$e.emit("finish"),Re.autoDestroy))){var Xe=$e._readableState;(!Xe||Xe.autoDestroy&&Xe.endEmitted)&&$e.destroy()}return Ve}g(7326)(nt,w),me.prototype.getBuffer=function(){for(var Re=this.bufferedRequest,Ve=[];Re;)Ve.push(Re),Re=Re.next;return Ve},function(){try{Object.defineProperty(me.prototype,"buffer",{get:E.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch($e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Me=Function.prototype[Symbol.hasInstance],Object.defineProperty(nt,Symbol.hasInstance,{value:function(Re){return!!Me.call(this,Re)||this===nt&&Re&&Re._writableState instanceof me}})):Me=function(Re){return Re instanceof this},nt.prototype.pipe=function(){Y(this,new z)},nt.prototype.write=function($e,Re,Ve){var Xe=this._writableState,vt=!1,Fe=!Xe.objectMode&&function k($e){return m.isBuffer($e)||$e instanceof b}($e);return Fe&&!m.isBuffer($e)&&($e=function S($e){return m.from($e)}($e)),"function"==typeof Re&&(Ve=Re,Re=null),Fe?Re="buffer":Re||(Re=Xe.defaultEncoding),"function"!=typeof Ve&&(Ve=De),Xe.ending?function et($e,Re){var Ve=new ue;Y($e,Ve),i.nextTick(Re,Ve)}(this,Ve):(Fe||function de($e,Re,Ve,Xe){var vt;return null===Ve?vt=new pe:"string"!=typeof Ve&&!Re.objectMode&&(vt=new U("chunk",["string","Buffer"],Ve)),!vt||(Y($e,vt),i.nextTick(Xe,vt),!1)}(this,Xe,$e,Ve))&&(Xe.pendingcb++,vt=function ve($e,Re,Ve,Xe,vt,Fe){if(!Ve){var Ge=function ne($e,Re,Ve){return!$e.objectMode&&!1!==$e.decodeStrings&&"string"==typeof Re&&(Re=m.from(Re,Ve)),Re}(Re,Xe,vt);Xe!==Ge&&(Ve=!0,vt="buffer",Xe=Ge)}var be=Re.objectMode?1:Xe.length;Re.length+=be;var le=Re.length<Re.highWaterMark;if(le||(Re.needDrain=!0),Re.writing||Re.corked){var re=Re.lastBufferedRequest;Re.lastBufferedRequest={chunk:Xe,encoding:vt,isBuf:Ve,callback:Fe,next:null},re?re.next=Re.lastBufferedRequest:Re.bufferedRequest=Re.lastBufferedRequest,Re.bufferedRequestCount+=1}else Ue($e,Re,!1,be,Xe,vt,Fe);return le}(this,Xe,Fe,$e,Re,Ve)),vt},nt.prototype.cork=function(){this._writableState.corked++},nt.prototype.uncork=function(){var $e=this._writableState;$e.corked&&($e.corked--,!$e.writing&&!$e.corked&&!$e.bufferProcessing&&$e.bufferedRequest&&ht(this,$e))},nt.prototype.setDefaultEncoding=function(Re){if("string"==typeof Re&&(Re=Re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Re+"").toLowerCase())>-1))throw new fe(Re);return this._writableState.defaultEncoding=Re,this},Object.defineProperty(nt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(nt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),nt.prototype._write=function($e,Re,Ve){Ve(new $("_write()"))},nt.prototype._writev=null,nt.prototype.end=function($e,Re,Ve){var Xe=this._writableState;return"function"==typeof $e?(Ve=$e,$e=null,Re=null):"function"==typeof Re&&(Ve=Re,Re=null),null!=$e&&this.write($e,Re),Xe.corked&&(Xe.corked=1,this.uncork()),Xe.ending||function We($e,Re,Ve){Re.ending=!0,Qe($e,Re),Ve&&(Re.finished?i.nextTick(Ve):$e.once("finish",Ve)),Re.ended=!0,$e.writable=!1}(this,Xe,Ve),this},Object.defineProperty(nt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(nt.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Re){!this._writableState||(this._writableState.destroyed=Re)}}),nt.prototype.destroy=R.destroy,nt.prototype._undestroy=R.undestroy,nt.prototype._destroy=function($e,Re){Re($e)}},4081:(te,O,g)=>{"use strict";var F,i=g(1986);function B(ae,pe,ue){return pe in ae?Object.defineProperty(ae,pe,{value:ue,enumerable:!0,configurable:!0,writable:!0}):ae[pe]=ue,ae}var T=g(913),E=Symbol("lastResolve"),w=Symbol("lastReject"),m=Symbol("error"),b=Symbol("ended"),S=Symbol("lastPromise"),k=Symbol("handlePromise"),R=Symbol("stream");function P(ae,pe){return{value:ae,done:pe}}function I(ae){var pe=ae[E];if(null!==pe){var ue=ae[R].read();null!==ue&&(ae[S]=null,ae[E]=null,ae[w]=null,pe(P(ue,!1)))}}function C(ae){i.nextTick(I,ae)}var $=Object.getPrototypeOf(function(){}),K=Object.setPrototypeOf((B(F={get stream(){return this[R]},next:function(){var pe=this,ue=this[m];if(null!==ue)return Promise.reject(ue);if(this[b])return Promise.resolve(P(void 0,!0));if(this[R].destroyed)return new Promise(function(me,Me){i.nextTick(function(){pe[m]?Me(pe[m]):me(P(void 0,!0))})});var Y,fe=this[S];if(fe)Y=new Promise(function U(ae,pe){return function(ue,fe){ae.then(function(){pe[b]?ue(P(void 0,!0)):pe[k](ue,fe)},fe)}}(fe,this));else{var De=this[R].read();if(null!==De)return Promise.resolve(P(De,!1));Y=new Promise(this[k])}return this[S]=Y,Y}},Symbol.asyncIterator,function(){return this}),B(F,"return",function(){var pe=this;return new Promise(function(ue,fe){pe[R].destroy(null,function(Y){Y?fe(Y):ue(P(void 0,!0))})})}),F),$);te.exports=function(pe){var ue,fe=Object.create(K,(B(ue={},R,{value:pe,writable:!0}),B(ue,E,{value:null,writable:!0}),B(ue,w,{value:null,writable:!0}),B(ue,m,{value:null,writable:!0}),B(ue,b,{value:pe._readableState.endEmitted,writable:!0}),B(ue,k,{value:function(De,me){var Me=fe[R].read();Me?(fe[S]=null,fe[E]=null,fe[w]=null,De(P(Me,!1))):(fe[E]=De,fe[w]=me)},writable:!0}),ue));return fe[S]=null,T(pe,function(Y){if(Y&&"ERR_STREAM_PREMATURE_CLOSE"!==Y.code){var De=fe[w];return null!==De&&(fe[S]=null,fe[E]=null,fe[w]=null,De(Y)),void(fe[m]=Y)}var me=fe[E];null!==me&&(fe[S]=null,fe[E]=null,fe[w]=null,me(P(void 0,!0))),fe[b]=!0}),pe.on("readable",C.bind(null,fe)),fe}},8624:(te,O,g)=>{"use strict";function i(I,C){var U=Object.keys(I);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(I);C&&($=$.filter(function(K){return Object.getOwnPropertyDescriptor(I,K).enumerable})),U.push.apply(U,$)}return U}function B(I,C,U){return C in I?Object.defineProperty(I,C,{value:U,enumerable:!0,configurable:!0,writable:!0}):I[C]=U,I}function E(I,C){for(var U=0;U<C.length;U++){var $=C[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}var b=g(7526).Buffer,k=g(4854).inspect,R=k&&k.custom||"inspect";function P(I,C,U){b.prototype.copy.call(I,C,U)}te.exports=function(){function I(){(function T(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")})(this,I),this.head=null,this.tail=null,this.length=0}return function w(I,C,U){C&&E(I.prototype,C),U&&E(I,U)}(I,[{key:"push",value:function(U){var $={data:U,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}},{key:"unshift",value:function(U){var $={data:U,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}},{key:"shift",value:function(){if(0!==this.length){var U=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,U}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(U){if(0===this.length)return"";for(var $=this.head,K=""+$.data;$=$.next;)K+=U+$.data;return K}},{key:"concat",value:function(U){if(0===this.length)return b.alloc(0);for(var $=b.allocUnsafe(U>>>0),K=this.head,z=0;K;)P(K.data,$,z),z+=K.data.length,K=K.next;return $}},{key:"consume",value:function(U,$){var K;return U<this.head.data.length?(K=this.head.data.slice(0,U),this.head.data=this.head.data.slice(U)):K=U===this.head.data.length?this.shift():$?this._getString(U):this._getBuffer(U),K}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(U){var $=this.head,K=1,z=$.data;for(U-=z.length;$=$.next;){var ae=$.data,pe=U>ae.length?ae.length:U;if(z+=pe===ae.length?ae:ae.slice(0,U),0==(U-=pe)){pe===ae.length?(++K,this.head=$.next?$.next:this.tail=null):(this.head=$,$.data=ae.slice(pe));break}++K}return this.length-=K,z}},{key:"_getBuffer",value:function(U){var $=b.allocUnsafe(U),K=this.head,z=1;for(K.data.copy($),U-=K.data.length;K=K.next;){var ae=K.data,pe=U>ae.length?ae.length:U;if(ae.copy($,$.length-U,0,pe),0==(U-=pe)){pe===ae.length?(++z,this.head=K.next?K.next:this.tail=null):(this.head=K,K.data=ae.slice(pe));break}++z}return this.length-=z,$}},{key:R,value:function(U,$){return k(this,function F(I){for(var C=1;C<arguments.length;C++){var U=null!=arguments[C]?arguments[C]:{};C%2?i(Object(U),!0).forEach(function($){B(I,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(U)):i(Object(U)).forEach(function($){Object.defineProperty(I,$,Object.getOwnPropertyDescriptor(U,$))})}return I}({},$,{depth:0,customInspect:!1}))}}]),I}()},3252:(te,O,g)=>{"use strict";var i=g(1986);function B(b,S){w(b,S),T(b)}function T(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function w(b,S){b.emit("error",S)}te.exports={destroy:function F(b,S){var k=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(S?S(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(w,this,b)):i.nextTick(w,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(I){!S&&I?k._writableState?k._writableState.errorEmitted?i.nextTick(T,k):(k._writableState.errorEmitted=!0,i.nextTick(B,k,I)):i.nextTick(B,k,I):S?(i.nextTick(T,k),S(I)):i.nextTick(T,k)}),this)},undestroy:function E(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function m(b,S){var k=b._readableState,R=b._writableState;k&&k.autoDestroy||R&&R.autoDestroy?b.destroy(S):b.emit("error",S)}}},913:(te,O,g)=>{"use strict";var i=g(3495).q.ERR_STREAM_PREMATURE_CLOSE;function B(){}te.exports=function E(w,m,b){if("function"==typeof m)return E(w,null,m);m||(m={}),b=function F(w){var m=!1;return function(){if(!m){m=!0;for(var b=arguments.length,S=new Array(b),k=0;k<b;k++)S[k]=arguments[k];w.apply(this,S)}}}(b||B);var S=m.readable||!1!==m.readable&&w.readable,k=m.writable||!1!==m.writable&&w.writable,R=function(){w.writable||I()},P=w._writableState&&w._writableState.finished,I=function(){k=!1,P=!0,S||b.call(w)},C=w._readableState&&w._readableState.endEmitted,U=function(){S=!1,C=!0,k||b.call(w)},$=function(pe){b.call(w,pe)},K=function(){var pe;return S&&!C?((!w._readableState||!w._readableState.ended)&&(pe=new i),b.call(w,pe)):k&&!P?((!w._writableState||!w._writableState.ended)&&(pe=new i),b.call(w,pe)):void 0},z=function(){w.req.on("finish",I)};return function T(w){return w.setHeader&&"function"==typeof w.abort}(w)?(w.on("complete",I),w.on("abort",K),w.req?z():w.on("request",z)):k&&!w._writableState&&(w.on("end",R),w.on("close",R)),w.on("end",U),w.on("finish",I),!1!==m.error&&w.on("error",$),w.on("close",K),function(){w.removeListener("complete",I),w.removeListener("abort",K),w.removeListener("request",z),w.req&&w.req.removeListener("finish",I),w.removeListener("end",R),w.removeListener("close",R),w.removeListener("finish",I),w.removeListener("end",U),w.removeListener("error",$),w.removeListener("close",K)}}},3099:te=>{te.exports=function(){throw new Error("Readable.from is not available in the browser")}},5060:(te,O,g)=>{"use strict";var i,B=g(3495).q,T=B.ERR_MISSING_ARGS,E=B.ERR_STREAM_DESTROYED;function w(I){if(I)throw I}function b(I,C,U,$){$=function F(I){var C=!1;return function(){C||(C=!0,I.apply(void 0,arguments))}}($);var K=!1;I.on("close",function(){K=!0}),void 0===i&&(i=g(913)),i(I,{readable:C,writable:U},function(ae){if(ae)return $(ae);K=!0,$()});var z=!1;return function(ae){if(!K&&!z){if(z=!0,function m(I){return I.setHeader&&"function"==typeof I.abort}(I))return I.abort();if("function"==typeof I.destroy)return I.destroy();$(ae||new E("pipe"))}}}function S(I){I()}function k(I,C){return I.pipe(C)}function R(I){return I.length&&"function"==typeof I[I.length-1]?I.pop():w}te.exports=function P(){for(var I=arguments.length,C=new Array(I),U=0;U<I;U++)C[U]=arguments[U];var $=R(C);if(Array.isArray(C[0])&&(C=C[0]),C.length<2)throw new T("streams");var K,z=C.map(function(ae,pe){var ue=pe<C.length-1;return b(ae,ue,pe>0,function(Y){K||(K=Y),Y&&z.forEach(S),!ue&&(z.forEach(S),$(K))})});return C.reduce(k)}},9652:(te,O,g)=>{"use strict";var i=g(3495).q.ERR_INVALID_OPT_VALUE;te.exports={getHighWaterMark:function B(T,E,w,m){var b=function F(T,E,w){return null!=T.highWaterMark?T.highWaterMark:E?T[w]:null}(E,m,w);if(null!=b){if(!isFinite(b)||Math.floor(b)!==b||b<0)throw new i(m?w:"highWaterMark",b);return Math.floor(b)}return T.objectMode?16:16384}}},2683:(te,O,g)=>{te.exports=g(9502).EventEmitter},8623:(te,O,g)=>{(O=te.exports=g(9039)).Stream=O,O.Readable=O,O.Writable=g(4016),O.Duplex=g(4290),O.Transform=g(2502),O.PassThrough=g(6763),O.finished=g(913),O.pipeline=g(5060)},7689:te=>{"use strict";function O(i,F,B){var T=this;this._callback=i,this._args=B,this._interval=setInterval(i,F,this._args),this.reschedule=function(E){E||(E=T._interval),T._interval&&clearInterval(T._interval),T._interval=setInterval(T._callback,E,T._args)},this.clear=function(){T._interval&&(clearInterval(T._interval),T._interval=void 0)},this.destroy=function(){T._interval&&clearInterval(T._interval),T._callback=void 0,T._interval=void 0,T._args=void 0}}te.exports=function g(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var i;if(arguments.length>0){i=new Array(arguments.length-2);for(var F=0;F<i.length;F++)i[F]=arguments[F+2]}return new O(arguments[0],arguments[1],i)}},7084:(te,O,g)=>{"use strict";te.exports=g(5208)()},5208:(te,O,g)=>{"use strict";var i=g(7526).Buffer;function F(E){return E instanceof i?i.from(E):new E.constructor(E.buffer.slice(),E.byteOffset,E.length)}te.exports=function B(E){return(E=E||{}).circles?function T(E){var w=[],m=[];return E.proto?function k(R){if("object"!=typeof R||null===R)return R;if(R instanceof Date)return new Date(R);if(Array.isArray(R))return b(R,k);if(R instanceof Map)return new Map(b(Array.from(R),k));if(R instanceof Set)return new Set(b(Array.from(R),k));var P={};for(var I in w.push(R),m.push(P),R){var C=R[I];if("object"!=typeof C||null===C)P[I]=C;else if(C instanceof Date)P[I]=new Date(C);else if(C instanceof Map)P[I]=new Map(b(Array.from(C),k));else if(C instanceof Set)P[I]=new Set(b(Array.from(C),k));else if(ArrayBuffer.isView(C))P[I]=F(C);else{var U=w.indexOf(C);P[I]=-1!==U?m[U]:k(C)}}return w.pop(),m.pop(),P}:function S(R){if("object"!=typeof R||null===R)return R;if(R instanceof Date)return new Date(R);if(Array.isArray(R))return b(R,S);if(R instanceof Map)return new Map(b(Array.from(R),S));if(R instanceof Set)return new Set(b(Array.from(R),S));var P={};for(var I in w.push(R),m.push(P),R)if(!1!==Object.hasOwnProperty.call(R,I)){var C=R[I];if("object"!=typeof C||null===C)P[I]=C;else if(C instanceof Date)P[I]=new Date(C);else if(C instanceof Map)P[I]=new Map(b(Array.from(C),S));else if(C instanceof Set)P[I]=new Set(b(Array.from(C),S));else if(ArrayBuffer.isView(C))P[I]=F(C);else{var U=w.indexOf(C);P[I]=-1!==U?m[U]:S(C)}}return w.pop(),m.pop(),P};function b(R,P){for(var I=Object.keys(R),C=new Array(I.length),U=0;U<I.length;U++){var $=I[U],K=R[$];if("object"!=typeof K||null===K)C[$]=K;else if(K instanceof Date)C[$]=new Date(K);else if(ArrayBuffer.isView(K))C[$]=F(K);else{var z=w.indexOf(K);C[$]=-1!==z?m[z]:P(K)}}return C}}(E):E.proto?function b(S){if("object"!=typeof S||null===S)return S;if(S instanceof Date)return new Date(S);if(Array.isArray(S))return w(S,b);if(S instanceof Map)return new Map(w(Array.from(S),b));if(S instanceof Set)return new Set(w(Array.from(S),b));var k={};for(var R in S){var P=S[R];k[R]="object"!=typeof P||null===P?P:P instanceof Date?new Date(P):P instanceof Map?new Map(w(Array.from(P),b)):P instanceof Set?new Set(w(Array.from(P),b)):ArrayBuffer.isView(P)?F(P):b(P)}return k}:function m(S){if("object"!=typeof S||null===S)return S;if(S instanceof Date)return new Date(S);if(Array.isArray(S))return w(S,m);if(S instanceof Map)return new Map(w(Array.from(S),m));if(S instanceof Set)return new Set(w(Array.from(S),m));var k={};for(var R in S)if(!1!==Object.hasOwnProperty.call(S,R)){var P=S[R];k[R]="object"!=typeof P||null===P?P:P instanceof Date?new Date(P):P instanceof Map?new Map(w(Array.from(P),m)):P instanceof Set?new Set(w(Array.from(P),m)):ArrayBuffer.isView(P)?F(P):m(P)}return k};function w(S,k){for(var R=Object.keys(S),P=new Array(R.length),I=0;I<R.length;I++){var C=R[I],U=S[C];P[C]="object"!=typeof U||null===U?U:U instanceof Date?new Date(U):ArrayBuffer.isView(U)?F(U):k(U)}return P}}},6182:(te,O,g)=>{"use strict";g.r(O),g.d(O,{ArgumentOutOfRangeError:()=>me.W,AsyncSubject:()=>b.c,BehaviorSubject:()=>w.X,ConnectableObservable:()=>F.c,EMPTY:()=>$e.E,EmptyError:()=>Me.K,GroupedObservable:()=>B.T,NEVER:()=>Yt,Notification:()=>pe.P,NotificationKind:()=>pe.W,ObjectUnsubscribedError:()=>nt.N,Observable:()=>i.y,ReplaySubject:()=>m.t,Scheduler:()=>K.b,Subject:()=>E.xQ,Subscriber:()=>ae.L,Subscription:()=>z.w,TimeoutError:()=>de.W,UnsubscriptionError:()=>et.B,VirtualAction:()=>$,VirtualTimeScheduler:()=>U,animationFrame:()=>P.r,animationFrameScheduler:()=>P.Z,asap:()=>S.e,asapScheduler:()=>S.E,async:()=>k.P,asyncScheduler:()=>k.z,bindCallback:()=>Ie,bindNodeCallback:()=>ht,combineLatest:()=>Qe.aj,concat:()=>We.z,config:()=>kn.v,defer:()=>ft.P,empty:()=>$e.c,forkJoin:()=>Re.D,from:()=>Ve.D,fromEvent:()=>Xe.R,fromEventPattern:()=>Fe,generate:()=>Ge,identity:()=>Y.y,iif:()=>le,interval:()=>xe,isObservable:()=>De.b,merge:()=>Ut.T,never:()=>xn,noop:()=>fe.Z,observable:()=>T.L,of:()=>Ct.of,onErrorResumeNext:()=>It,pairs:()=>qt,partition:()=>Fn,pipe:()=>ue.z,queue:()=>R.c,queueScheduler:()=>R.N,race:()=>Ye.S3,range:()=>Nt,scheduled:()=>nn.x,throwError:()=>cn._,timer:()=>Tt.H,using:()=>Bt,zip:()=>He.$R});var i=g(7205),F=g(9097),B=g(6007),T=g(8651),E=g(4248),w=g(9088),m=g(2646),b=g(7635),S=g(5674),k=g(891),R=g(7382),P=g(1888),I=g(2749),C=g(3511);let U=(()=>{class ee extends C.v{constructor(wt=$,Pe=Number.POSITIVE_INFINITY){super(wt,()=>this.frame),this.maxFrames=Pe,this.frame=0,this.index=-1}flush(){const{actions:wt,maxFrames:Pe}=this;let ct,Dt;for(;(Dt=wt[0])&&Dt.delay<=Pe&&(wt.shift(),this.frame=Dt.delay,!(ct=Dt.execute(Dt.state,Dt.delay))););if(ct){for(;Dt=wt.shift();)Dt.unsubscribe();throw ct}}}return ee.frameTimeFactor=10,ee})();class $ extends I.o{constructor(yt,wt,Pe=(yt.index+=1)){super(yt,wt),this.scheduler=yt,this.work=wt,this.index=Pe,this.active=!0,this.index=yt.index=Pe}schedule(yt,wt=0){if(!this.id)return super.schedule(yt,wt);this.active=!1;const Pe=new $(this.scheduler,this.work);return this.add(Pe),Pe.schedule(yt,wt)}requestAsyncId(yt,wt,Pe=0){this.delay=yt.frame+Pe;const{actions:ct}=yt;return ct.push(this),ct.sort($.sortActions),!0}recycleAsyncId(yt,wt,Pe=0){}_execute(yt,wt){if(!0===this.active)return super._execute(yt,wt)}static sortActions(yt,wt){return yt.delay===wt.delay?yt.index===wt.index?0:yt.index>wt.index?1:-1:yt.delay>wt.delay?1:-1}}var K=g(5229),z=g(5241),ae=g(1042),pe=g(6118),ue=g(244),fe=g(9209),Y=g(4724),De=g(4557),me=g(7944),Me=g(7028),nt=g(3246),et=g(6713),de=g(5744),ne=g(9745),ve=g(7033),Ue=g(515),ke=g(2006);function Ie(ee,yt,wt){if(yt){if(!(0,ke.K)(yt))return(...Pe)=>Ie(ee,wt)(...Pe).pipe((0,ne.U)(ct=>(0,Ue.k)(ct)?yt(...ct):yt(ct)));wt=yt}return function(...Pe){const ct=this;let Dt;const vn={context:ct,subject:Dt,callbackFunc:ee,scheduler:wt};return new i.y(Jt=>{if(wt)return wt.schedule(Ne,0,{args:Pe,subscriber:Jt,params:vn});if(!Dt){Dt=new b.c;const hn=(...pn)=>{Dt.next(pn.length<=1?pn[0]:pn),Dt.complete()};try{ee.apply(ct,[...Pe,hn])}catch(pn){(0,ve._)(Dt)?Dt.error(pn):console.warn(pn)}}return Dt.subscribe(Jt)})}}function Ne(ee){const{args:wt,subscriber:Pe,params:ct}=ee,{callbackFunc:Dt,context:vn,scheduler:Jt}=ct;let{subject:hn}=ct;if(!hn){hn=ct.subject=new b.c;const pn=(...Wn)=>{this.add(Jt.schedule(Te,0,{value:Wn.length<=1?Wn[0]:Wn,subject:hn}))};try{Dt.apply(vn,[...wt,pn])}catch(Wn){hn.error(Wn)}}this.add(hn.subscribe(Pe))}function Te(ee){const{value:yt,subject:wt}=ee;wt.next(yt),wt.complete()}function ht(ee,yt,wt){if(yt){if(!(0,ke.K)(yt))return(...Pe)=>ht(ee,wt)(...Pe).pipe((0,ne.U)(ct=>(0,Ue.k)(ct)?yt(...ct):yt(ct)));wt=yt}return function(...Pe){const ct={subject:void 0,args:Pe,callbackFunc:ee,scheduler:wt,context:this};return new i.y(Dt=>{const{context:vn}=ct;let{subject:Jt}=ct;if(wt)return wt.schedule(Ke,0,{params:ct,subscriber:Dt,context:vn});if(!Jt){Jt=ct.subject=new b.c;const hn=(...pn)=>{const Wn=pn.shift();Wn?Jt.error(Wn):(Jt.next(pn.length<=1?pn[0]:pn),Jt.complete())};try{ee.apply(vn,[...Pe,hn])}catch(pn){(0,ve._)(Jt)?Jt.error(pn):console.warn(pn)}}return Jt.subscribe(Dt)})}}function Ke(ee){const{params:yt,subscriber:wt,context:Pe}=ee,{callbackFunc:ct,args:Dt,scheduler:vn}=yt;let Jt=yt.subject;if(!Jt){Jt=yt.subject=new b.c;const hn=(...pn)=>{const Wn=pn.shift();this.add(Wn?vn.schedule(qe,0,{err:Wn,subject:Jt}):vn.schedule(tt,0,{value:pn.length<=1?pn[0]:pn,subject:Jt}))};try{ct.apply(Pe,[...Dt,hn])}catch(pn){this.add(vn.schedule(qe,0,{err:pn,subject:Jt}))}}this.add(Jt.subscribe(wt))}function tt(ee){const{value:yt,subject:wt}=ee;wt.next(yt),wt.complete()}function qe(ee){const{err:yt,subject:wt}=ee;wt.error(yt)}var Qe=g(3434),We=g(5967),ft=g(3589),$e=g(5417),Re=g(2481),Ve=g(7070),Xe=g(1557),vt=g(6775);function Fe(ee,yt,wt){return wt?Fe(ee,yt).pipe((0,ne.U)(Pe=>(0,Ue.k)(Pe)?wt(...Pe):wt(Pe))):new i.y(Pe=>{const ct=(...vn)=>Pe.next(1===vn.length?vn[0]:vn);let Dt;try{Dt=ee(ct)}catch(vn){return void Pe.error(vn)}if((0,vt.m)(yt))return()=>yt(ct,Dt)})}function Ge(ee,yt,wt,Pe,ct){let Dt,vn;return 1==arguments.length?(vn=ee.initialState,yt=ee.condition,wt=ee.iterate,Dt=ee.resultSelector||Y.y,ct=ee.scheduler):void 0===Pe||(0,ke.K)(Pe)?(vn=ee,Dt=Y.y,ct=Pe):(vn=ee,Dt=Pe),new i.y(Jt=>{let hn=vn;if(ct)return ct.schedule(be,0,{subscriber:Jt,iterate:wt,condition:yt,resultSelector:Dt,state:hn});for(;;){if(yt){let Wn;try{Wn=yt(hn)}catch($n){return void Jt.error($n)}if(!Wn){Jt.complete();break}}let pn;try{pn=Dt(hn)}catch(Wn){return void Jt.error(Wn)}if(Jt.next(pn),Jt.closed)break;try{hn=wt(hn)}catch(Wn){return void Jt.error(Wn)}}})}function be(ee){const{subscriber:yt,condition:wt}=ee;if(yt.closed)return;if(ee.needIterate)try{ee.state=ee.iterate(ee.state)}catch(ct){return void yt.error(ct)}else ee.needIterate=!0;if(wt){let ct;try{ct=wt(ee.state)}catch(Dt){return void yt.error(Dt)}if(!ct)return void yt.complete();if(yt.closed)return}let Pe;try{Pe=ee.resultSelector(ee.state)}catch(ct){return void yt.error(ct)}return yt.closed||(yt.next(Pe),yt.closed)?void 0:this.schedule(ee)}function le(ee,yt=$e.E,wt=$e.E){return(0,ft.P)(()=>ee()?yt:wt)}var re=g(597);function xe(ee=0,yt=k.P){return(!(0,re.k)(ee)||ee<0)&&(ee=0),(!yt||"function"!=typeof yt.schedule)&&(yt=k.P),new i.y(wt=>(wt.add(yt.schedule(xt,ee,{subscriber:wt,counter:0,period:ee})),wt))}function xt(ee){const{subscriber:yt,counter:wt,period:Pe}=ee;yt.next(wt),this.schedule({subscriber:yt,counter:wt+1,period:Pe},Pe)}var Ut=g(8869);const Yt=new i.y(fe.Z);function xn(){return Yt}var Ct=g(8774);function It(...ee){if(0===ee.length)return $e.E;const[yt,...wt]=ee;return 1===ee.length&&(0,Ue.k)(yt)?It(...yt):new i.y(Pe=>{const ct=()=>Pe.add(It(...wt).subscribe(Pe));return(0,Ve.D)(yt).subscribe({next(Dt){Pe.next(Dt)},error:ct,complete:ct})})}function qt(ee,yt){return new i.y(yt?wt=>{const Pe=Object.keys(ee),ct=new z.w;return ct.add(yt.schedule(Gt,0,{keys:Pe,index:0,subscriber:wt,subscription:ct,obj:ee})),ct}:wt=>{const Pe=Object.keys(ee);for(let ct=0;ct<Pe.length&&!wt.closed;ct++){const Dt=Pe[ct];ee.hasOwnProperty(Dt)&&wt.next([Dt,ee[Dt]])}wt.complete()})}function Gt(ee){const{keys:yt,index:wt,subscriber:Pe,subscription:ct,obj:Dt}=ee;if(!Pe.closed)if(wt<yt.length){const vn=yt[wt];Pe.next([vn,Dt[vn]]),ct.add(this.schedule({keys:yt,index:wt+1,subscriber:Pe,subscription:ct,obj:Dt}))}else Pe.complete()}var Wt=g(8739),un=g(6789),Cn=g(1763);function Fn(ee,yt,wt){return[(0,Cn.h)(yt,wt)(new i.y((0,un.s)(ee))),(0,Cn.h)((0,Wt.f)(yt,wt))(new i.y((0,un.s)(ee)))]}var Ye=g(228);function Nt(ee=0,yt,wt){return new i.y(Pe=>{void 0===yt&&(yt=ee,ee=0);let ct=0,Dt=ee;if(wt)return wt.schedule(on,0,{index:ct,count:yt,start:ee,subscriber:Pe});for(;;){if(ct++>=yt){Pe.complete();break}if(Pe.next(Dt++),Pe.closed)break}})}function on(ee){const{start:yt,index:wt,count:Pe,subscriber:ct}=ee;wt>=Pe?ct.complete():(ct.next(yt),!ct.closed&&(ee.index=wt+1,ee.start=yt+1,this.schedule(ee)))}var cn=g(8286),Tt=g(4372);function Bt(ee,yt){return new i.y(wt=>{let Pe,ct;try{Pe=ee()}catch(Jt){return void wt.error(Jt)}try{ct=yt(Pe)}catch(Jt){return void wt.error(Jt)}const vn=(ct?(0,Ve.D)(ct):$e.E).subscribe(wt);return()=>{vn.unsubscribe(),Pe&&Pe.unsubscribe()}})}var He=g(8531),nn=g(5894),kn=g(2631)},7635:(te,O,g)=>{"use strict";g.d(O,{c:()=>B});var i=g(4248),F=g(5241);class B extends i.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(E){return this.hasError?(E.error(this.thrownError),F.w.EMPTY):this.hasCompleted&&this.hasNext?(E.next(this.value),E.complete(),F.w.EMPTY):super._subscribe(E)}next(E){this.hasCompleted||(this.value=E,this.hasNext=!0)}error(E){this.hasCompleted||super.error(E)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},9088:(te,O,g)=>{"use strict";g.d(O,{X:()=>B});var i=g(4248),F=g(3246);class B extends i.xQ{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const w=super._subscribe(E);return w&&!w.closed&&E.next(this._value),w}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F.N;return this._value}next(E){super.next(this._value=E)}}},6118:(te,O,g)=>{"use strict";g.d(O,{P:()=>E,W:()=>T});var i=g(5417),F=g(8774),B=g(8286),T=(()=>{return(w=T||(T={})).NEXT="N",w.ERROR="E",w.COMPLETE="C",T;var w})();class E{constructor(m,b,S){this.kind=m,this.value=b,this.error=S,this.hasValue="N"===m}observe(m){switch(this.kind){case"N":return m.next&&m.next(this.value);case"E":return m.error&&m.error(this.error);case"C":return m.complete&&m.complete()}}do(m,b,S){switch(this.kind){case"N":return m&&m(this.value);case"E":return b&&b(this.error);case"C":return S&&S()}}accept(m,b,S){return m&&"function"==typeof m.next?this.observe(m):this.do(m,b,S)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return(0,B._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(m){return void 0!==m?new E("N",m):E.undefinedValueNotification}static createError(m){return new E("E",void 0,m)}static createComplete(){return E.completeNotification}}E.completeNotification=new E("C"),E.undefinedValueNotification=new E("N",void 0)},7205:(te,O,g)=>{"use strict";g.d(O,{y:()=>S});var i=g(7033),F=g(1042),B=g(7232),T=g(2401),w=g(8651),m=g(244),b=g(2631);let S=(()=>{class R{constructor(I){this._isScalar=!1,I&&(this._subscribe=I)}lift(I){const C=new R;return C.source=this,C.operator=I,C}subscribe(I,C,U){const{operator:$}=this,K=function E(R,P,I){if(R){if(R instanceof F.L)return R;if(R[B.b])return R[B.b]()}return R||P||I?new F.L(R,P,I):new F.L(T.c)}(I,C,U);if(K.add($?$.call(K,this.source):this.source||b.v.useDeprecatedSynchronousErrorHandling&&!K.syncErrorThrowable?this._subscribe(K):this._trySubscribe(K)),b.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable&&(K.syncErrorThrowable=!1,K.syncErrorThrown))throw K.syncErrorValue;return K}_trySubscribe(I){try{return this._subscribe(I)}catch(C){b.v.useDeprecatedSynchronousErrorHandling&&(I.syncErrorThrown=!0,I.syncErrorValue=C),(0,i._)(I)?I.error(C):console.warn(C)}}forEach(I,C){return new(C=k(C))((U,$)=>{let K;K=this.subscribe(z=>{try{I(z)}catch(ae){$(ae),K&&K.unsubscribe()}},$,U)})}_subscribe(I){const{source:C}=this;return C&&C.subscribe(I)}[w.L](){return this}pipe(...I){return 0===I.length?this:(0,m.U)(I)(this)}toPromise(I){return new(I=k(I))((C,U)=>{let $;this.subscribe(K=>$=K,K=>U(K),()=>C($))})}}return R.create=P=>new R(P),R})();function k(R){if(R||(R=b.v.Promise||Promise),!R)throw new Error("no Promise impl found");return R}},2401:(te,O,g)=>{"use strict";g.d(O,{c:()=>B});var i=g(2631),F=g(8247);const B={closed:!0,next(T){},error(T){if(i.v.useDeprecatedSynchronousErrorHandling)throw T;(0,F.z)(T)},complete(){}}},6192:(te,O,g)=>{"use strict";g.d(O,{L:()=>F});var i=g(1042);class F extends i.L{notifyNext(T,E,w,m,b){this.destination.next(E)}notifyError(T,E){this.destination.error(T)}notifyComplete(T){this.destination.complete()}}},2646:(te,O,g)=>{"use strict";g.d(O,{t:()=>m});var i=g(4248),F=g(7382),B=g(5241),T=g(7366),E=g(3246),w=g(1674);class m extends i.xQ{constructor(k=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY,P){super(),this.scheduler=P,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=k<1?1:k,this._windowTime=R<1?1:R,R===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(k){if(!this.isStopped){const R=this._events;R.push(k),R.length>this._bufferSize&&R.shift()}super.next(k)}nextTimeWindow(k){this.isStopped||(this._events.push(new b(this._getNow(),k)),this._trimBufferThenGetEvents()),super.next(k)}_subscribe(k){const R=this._infiniteTimeWindow,P=R?this._events:this._trimBufferThenGetEvents(),I=this.scheduler,C=P.length;let U;if(this.closed)throw new E.N;if(this.isStopped||this.hasError?U=B.w.EMPTY:(this.observers.push(k),U=new w.W(this,k)),I&&k.add(k=new T.ht(k,I)),R)for(let $=0;$<C&&!k.closed;$++)k.next(P[$]);else for(let $=0;$<C&&!k.closed;$++)k.next(P[$].value);return this.hasError?k.error(this.thrownError):this.isStopped&&k.complete(),U}_getNow(){return(this.scheduler||F.c).now()}_trimBufferThenGetEvents(){const k=this._getNow(),R=this._bufferSize,P=this._windowTime,I=this._events,C=I.length;let U=0;for(;U<C&&!(k-I[U].time<P);)U++;return C>R&&(U=Math.max(U,C-R)),U>0&&I.splice(0,U),I}}class b{constructor(k,R){this.time=k,this.value=R}}},5229:(te,O,g)=>{"use strict";g.d(O,{b:()=>i});let i=(()=>{class F{constructor(T,E=F.now){this.SchedulerAction=T,this.now=E}schedule(T,E=0,w){return new this.SchedulerAction(this,T).schedule(w,E)}}return F.now=()=>Date.now(),F})()},4248:(te,O,g)=>{"use strict";g.d(O,{Yc:()=>m,xQ:()=>b});var i=g(7205),F=g(1042),B=g(5241),T=g(3246),E=g(1674),w=g(7232);class m extends F.L{constructor(R){super(R),this.destination=R}}let b=(()=>{class k extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[w.b](){return new m(this)}lift(P){const I=new S(this,this);return I.operator=P,I}next(P){if(this.closed)throw new T.N;if(!this.isStopped){const{observers:I}=this,C=I.length,U=I.slice();for(let $=0;$<C;$++)U[$].next(P)}}error(P){if(this.closed)throw new T.N;this.hasError=!0,this.thrownError=P,this.isStopped=!0;const{observers:I}=this,C=I.length,U=I.slice();for(let $=0;$<C;$++)U[$].error(P);this.observers.length=0}complete(){if(this.closed)throw new T.N;this.isStopped=!0;const{observers:P}=this,I=P.length,C=P.slice();for(let U=0;U<I;U++)C[U].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(P){if(this.closed)throw new T.N;return super._trySubscribe(P)}_subscribe(P){if(this.closed)throw new T.N;return this.hasError?(P.error(this.thrownError),B.w.EMPTY):this.isStopped?(P.complete(),B.w.EMPTY):(this.observers.push(P),new E.W(this,P))}asObservable(){const P=new i.y;return P.source=this,P}}return k.create=(R,P)=>new S(R,P),k})();class S extends b{constructor(R,P){super(),this.destination=R,this.source=P}next(R){const{destination:P}=this;P&&P.next&&P.next(R)}error(R){const{destination:P}=this;P&&P.error&&this.destination.error(R)}complete(){const{destination:R}=this;R&&R.complete&&this.destination.complete()}_subscribe(R){const{source:P}=this;return P?this.source.subscribe(R):B.w.EMPTY}}},1674:(te,O,g)=>{"use strict";g.d(O,{W:()=>F});var i=g(5241);class F extends i.w{constructor(T,E){super(),this.subject=T,this.subscriber=E,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const T=this.subject,E=T.observers;if(this.subject=null,!E||0===E.length||T.isStopped||T.closed)return;const w=E.indexOf(this.subscriber);-1!==w&&E.splice(w,1)}}},1042:(te,O,g)=>{"use strict";g.d(O,{L:()=>m});var i=g(6775),F=g(2401),B=g(5241),T=g(7232),E=g(2631),w=g(8247);class m extends B.w{constructor(k,R,P){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=F.c;break;case 1:if(!k){this.destination=F.c;break}if("object"==typeof k){k instanceof m?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,k,R,P)}}[T.b](){return this}static create(k,R,P){const I=new m(k,R,P);return I.syncErrorThrowable=!1,I}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class b extends m{constructor(k,R,P,I){super(),this._parentSubscriber=k;let C,U=this;(0,i.m)(R)?C=R:R&&(C=R.next,P=R.error,I=R.complete,R!==F.c&&(U=Object.create(R),(0,i.m)(U.unsubscribe)&&this.add(U.unsubscribe.bind(U)),U.unsubscribe=this.unsubscribe.bind(this))),this._context=U,this._next=C,this._error=P,this._complete=I}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:R}=this;E.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?this.__tryOrSetError(R,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:R}=this,{useDeprecatedSynchronousErrorHandling:P}=E.v;if(this._error)P&&R.syncErrorThrowable?(this.__tryOrSetError(R,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(R.syncErrorThrowable)P?(R.syncErrorValue=k,R.syncErrorThrown=!0):(0,w.z)(k),this.unsubscribe();else{if(this.unsubscribe(),P)throw k;(0,w.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const R=()=>this._complete.call(this._context);E.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,R),this.unsubscribe()):(this.__tryOrUnsub(R),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,R){try{k.call(this._context,R)}catch(P){if(this.unsubscribe(),E.v.useDeprecatedSynchronousErrorHandling)throw P;(0,w.z)(P)}}__tryOrSetError(k,R,P){if(!E.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{R.call(this._context,P)}catch(I){return E.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=I,k.syncErrorThrown=!0,!0):((0,w.z)(I),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5241:(te,O,g)=>{"use strict";g.d(O,{w:()=>E});var m,i=g(515),F=g(9365),B=g(6775),T=g(6713);class E{constructor(b){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,b&&(this._ctorUnsubscribe=!0,this._unsubscribe=b)}unsubscribe(){let b;if(this.closed)return;let{_parentOrParents:S,_ctorUnsubscribe:k,_unsubscribe:R,_subscriptions:P}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,S instanceof E)S.remove(this);else if(null!==S)for(let I=0;I<S.length;++I)S[I].remove(this);if((0,B.m)(R)){k&&(this._unsubscribe=void 0);try{R.call(this)}catch(I){b=I instanceof T.B?w(I.errors):[I]}}if((0,i.k)(P)){let I=-1,C=P.length;for(;++I<C;){const U=P[I];if((0,F.K)(U))try{U.unsubscribe()}catch($){b=b||[],$ instanceof T.B?b=b.concat(w($.errors)):b.push($)}}}if(b)throw new T.B(b)}add(b){let S=b;if(!b)return E.EMPTY;switch(typeof b){case"function":S=new E(b);case"object":if(S===this||S.closed||"function"!=typeof S.unsubscribe)return S;if(this.closed)return S.unsubscribe(),S;if(!(S instanceof E)){const P=S;S=new E,S._subscriptions=[P]}break;default:throw new Error("unrecognized teardown "+b+" added to Subscription.")}let{_parentOrParents:k}=S;if(null===k)S._parentOrParents=this;else if(k instanceof E){if(k===this)return S;S._parentOrParents=[k,this]}else{if(-1!==k.indexOf(this))return S;k.push(this)}const R=this._subscriptions;return null===R?this._subscriptions=[S]:R.push(S),S}remove(b){const S=this._subscriptions;if(S){const k=S.indexOf(b);-1!==k&&S.splice(k,1)}}}function w(m){return m.reduce((b,S)=>b.concat(S instanceof T.B?S.errors:S),[])}E.EMPTY=((m=new E).closed=!0,m)},2631:(te,O,g)=>{"use strict";g.d(O,{v:()=>F});let i=!1;const F={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const T=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+T.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=B},get useDeprecatedSynchronousErrorHandling(){return i}}},1750:(te,O,g)=>{"use strict";g.d(O,{Ds:()=>w,IY:()=>T,ft:()=>b});var i=g(1042),F=g(7205),B=g(6789);class T extends i.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class w extends i.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function b(S,k){if(k.closed)return;if(S instanceof F.y)return S.subscribe(k);let R;try{R=(0,B.s)(S)(k)}catch(P){k.error(P)}return R}},9097:(te,O,g)=>{"use strict";g.d(O,{N:()=>w,c:()=>E});var i=g(4248),F=g(7205),B=g(5241),T=g(2667);class E extends F.y{constructor(R,P){super(),this.source=R,this.subjectFactory=P,this._refCount=0,this._isComplete=!1}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let R=this._connection;return R||(this._isComplete=!1,R=this._connection=new B.w,R.add(this.source.subscribe(new m(this.getSubject(),this))),R.closed&&(this._connection=null,R=B.w.EMPTY)),R}refCount(){return(0,T.x)()(this)}}const w=(()=>{const k=E.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class m extends i.Yc{constructor(R,P){super(R),this.connectable=P}_error(R){this._unsubscribe(),super._error(R)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const R=this.connectable;if(R){this.connectable=null;const P=R._connection;R._refCount=0,R._subject=null,R._connection=null,P&&P.unsubscribe()}}}},3434:(te,O,g)=>{"use strict";g.d(O,{Ms:()=>b,aj:()=>m});var i=g(2006),F=g(515),B=g(6192),T=g(4444),E=g(3579);const w={};function m(...k){let R,P;return(0,i.K)(k[k.length-1])&&(P=k.pop()),"function"==typeof k[k.length-1]&&(R=k.pop()),1===k.length&&(0,F.k)(k[0])&&(k=k[0]),(0,E.n)(k,P).lift(new b(R))}class b{constructor(R){this.resultSelector=R}call(R,P){return P.subscribe(new S(R,this.resultSelector))}}class S extends B.L{constructor(R,P){super(R),this.resultSelector=P,this.active=0,this.values=[],this.observables=[]}_next(R){this.values.push(w),this.observables.push(R)}_complete(){const R=this.observables,P=R.length;if(0===P)this.destination.complete();else{this.active=P,this.toRespond=P;for(let I=0;I<P;I++)this.add((0,T.D)(this,R[I],void 0,I))}}notifyComplete(R){0==(this.active-=1)&&this.destination.complete()}notifyNext(R,P,I){const C=this.values,$=this.toRespond?C[I]===w?--this.toRespond:this.toRespond:0;C[I]=P,0===$&&(this.resultSelector?this._tryResultSelector(C):this.destination.next(C.slice()))}_tryResultSelector(R){let P;try{P=this.resultSelector.apply(this,R)}catch(I){return void this.destination.error(I)}this.destination.next(P)}}},5967:(te,O,g)=>{"use strict";g.d(O,{z:()=>B});var i=g(8774),F=g(408);function B(...T){return(0,F.u)()((0,i.of)(...T))}},3589:(te,O,g)=>{"use strict";g.d(O,{P:()=>T});var i=g(7205),F=g(7070),B=g(5417);function T(E){return new i.y(w=>{let m;try{m=E()}catch(S){return void w.error(S)}return(m?(0,F.D)(m):(0,B.c)()).subscribe(w)})}},5417:(te,O,g)=>{"use strict";g.d(O,{E:()=>F,c:()=>B});var i=g(7205);const F=new i.y(E=>E.complete());function B(E){return E?function T(E){return new i.y(w=>E.schedule(()=>w.complete()))}(E):F}},2481:(te,O,g)=>{"use strict";g.d(O,{D:()=>w});var i=g(7205),F=g(515),B=g(9745),T=g(9365),E=g(7070);function w(...b){if(1===b.length){const S=b[0];if((0,F.k)(S))return m(S,null);if((0,T.K)(S)&&Object.getPrototypeOf(S)===Object.prototype){const k=Object.keys(S);return m(k.map(R=>S[R]),k)}}if("function"==typeof b[b.length-1]){const S=b.pop();return m(b=1===b.length&&(0,F.k)(b[0])?b[0]:b,null).pipe((0,B.U)(k=>S(...k)))}return m(b,null)}function m(b,S){return new i.y(k=>{const R=b.length;if(0===R)return void k.complete();const P=new Array(R);let I=0,C=0;for(let U=0;U<R;U++){const $=(0,E.D)(b[U]);let K=!1;k.add($.subscribe({next:z=>{K||(K=!0,C++),P[U]=z},error:z=>k.error(z),complete:()=>{I++,(I===R||!K)&&(C===R&&k.next(S?S.reduce((z,ae,pe)=>(z[ae]=P[pe],z),{}):P),k.complete())}}))}})}},7070:(te,O,g)=>{"use strict";g.d(O,{D:()=>T});var i=g(7205),F=g(6789),B=g(5894);function T(E,w){return w?(0,B.x)(E,w):E instanceof i.y?E:new i.y((0,F.s)(E))}},3579:(te,O,g)=>{"use strict";g.d(O,{n:()=>T});var i=g(7205),F=g(2342),B=g(6916);function T(E,w){return w?(0,B.r)(E,w):new i.y((0,F.V)(E))}},1557:(te,O,g)=>{"use strict";g.d(O,{R:()=>w});var i=g(7205),F=g(515),B=g(6775),T=g(9745);function w(R,P,I,C){return(0,B.m)(I)&&(C=I,I=void 0),C?w(R,P,I).pipe((0,T.U)(U=>(0,F.k)(U)?C(...U):C(U))):new i.y(U=>{m(R,P,function $(K){U.next(arguments.length>1?Array.prototype.slice.call(arguments):K)},U,I)})}function m(R,P,I,C,U){let $;if(function k(R){return R&&"function"==typeof R.addEventListener&&"function"==typeof R.removeEventListener}(R)){const K=R;R.addEventListener(P,I,U),$=()=>K.removeEventListener(P,I,U)}else if(function S(R){return R&&"function"==typeof R.on&&"function"==typeof R.off}(R)){const K=R;R.on(P,I),$=()=>K.off(P,I)}else if(function b(R){return R&&"function"==typeof R.addListener&&"function"==typeof R.removeListener}(R)){const K=R;R.addListener(P,I),$=()=>K.removeListener(P,I)}else{if(!R||!R.length)throw new TypeError("Invalid event target");for(let K=0,z=R.length;K<z;K++)m(R[K],P,I,C,U)}C.add($)}},8869:(te,O,g)=>{"use strict";g.d(O,{T:()=>E});var i=g(7205),F=g(2006),B=g(8690),T=g(3579);function E(...w){let m=Number.POSITIVE_INFINITY,b=null,S=w[w.length-1];return(0,F.K)(S)?(b=w.pop(),w.length>1&&"number"==typeof w[w.length-1]&&(m=w.pop())):"number"==typeof S&&(m=w.pop()),null===b&&1===w.length&&w[0]instanceof i.y?w[0]:(0,B.J)(m)((0,T.n)(w,b))}},8774:(te,O,g)=>{"use strict";g.d(O,{of:()=>T});var i=g(2006),F=g(3579),B=g(6916);function T(...E){let w=E[E.length-1];return(0,i.K)(w)?(E.pop(),(0,B.r)(E,w)):(0,F.n)(E)}},228:(te,O,g)=>{"use strict";g.d(O,{S3:()=>E});var i=g(515),F=g(3579),B=g(6192),T=g(4444);function E(...b){if(1===b.length){if(!(0,i.k)(b[0]))return b[0];b=b[0]}return(0,F.n)(b,void 0).lift(new w)}class w{call(S,k){return k.subscribe(new m(S))}}class m extends B.L{constructor(S){super(S),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(S){this.observables.push(S)}_complete(){const S=this.observables,k=S.length;if(0===k)this.destination.complete();else{for(let R=0;R<k&&!this.hasFirst;R++){const I=(0,T.D)(this,S[R],void 0,R);this.subscriptions&&this.subscriptions.push(I),this.add(I)}this.observables=null}}notifyNext(S,k,R){if(!this.hasFirst){this.hasFirst=!0;for(let P=0;P<this.subscriptions.length;P++)if(P!==R){let I=this.subscriptions[P];I.unsubscribe(),this.remove(I)}this.subscriptions=null}this.destination.next(k)}}},8286:(te,O,g)=>{"use strict";g.d(O,{_:()=>F});var i=g(7205);function F(T,E){return new i.y(E?w=>E.schedule(B,0,{error:T,subscriber:w}):w=>w.error(T))}function B({error:T,subscriber:E}){E.error(T)}},4372:(te,O,g)=>{"use strict";g.d(O,{H:()=>E});var i=g(7205),F=g(891),B=g(597),T=g(2006);function E(m=0,b,S){let k=-1;return(0,B.k)(b)?k=Number(b)<1?1:Number(b):(0,T.K)(b)&&(S=b),(0,T.K)(S)||(S=F.P),new i.y(R=>{const P=(0,B.k)(m)?m:+m-S.now();return S.schedule(w,P,{index:0,period:k,subscriber:R})})}function w(m){const{index:b,period:S,subscriber:k}=m;if(k.next(b),!k.closed){if(-1===S)return k.complete();m.index=b+1,this.schedule(m,S)}}},8531:(te,O,g)=>{"use strict";g.d(O,{$R:()=>w,mx:()=>m});var i=g(3579),F=g(515),B=g(1042),T=g(6909),E=g(1750);function w(...P){const I=P[P.length-1];return"function"==typeof I&&P.pop(),(0,i.n)(P,void 0).lift(new m(I))}class m{constructor(I){this.resultSelector=I}call(I,C){return C.subscribe(new b(I,this.resultSelector))}}class b extends B.L{constructor(I,C,U=Object.create(null)){super(I),this.resultSelector=C,this.iterators=[],this.active=0,this.resultSelector="function"==typeof C?C:void 0}_next(I){const C=this.iterators;(0,F.k)(I)?C.push(new k(I)):C.push("function"==typeof I[T.hZ]?new S(I[T.hZ]()):new R(this.destination,this,I))}_complete(){const I=this.iterators,C=I.length;if(this.unsubscribe(),0!==C){this.active=C;for(let U=0;U<C;U++){let $=I[U];$.stillUnsubscribed?this.destination.add($.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const I=this.iterators,C=I.length,U=this.destination;for(let z=0;z<C;z++){let ae=I[z];if("function"==typeof ae.hasValue&&!ae.hasValue())return}let $=!1;const K=[];for(let z=0;z<C;z++){let ae=I[z],pe=ae.next();if(ae.hasCompleted()&&($=!0),pe.done)return void U.complete();K.push(pe.value)}this.resultSelector?this._tryresultSelector(K):U.next(K),$&&U.complete()}_tryresultSelector(I){let C;try{C=this.resultSelector.apply(this,I)}catch(U){return void this.destination.error(U)}this.destination.next(C)}}class S{constructor(I){this.iterator=I,this.nextResult=I.next()}hasValue(){return!0}next(){const I=this.nextResult;return this.nextResult=this.iterator.next(),I}hasCompleted(){const I=this.nextResult;return Boolean(I&&I.done)}}class k{constructor(I){this.array=I,this.index=0,this.length=0,this.length=I.length}[T.hZ](){return this}next(I){const C=this.index++;return C<this.length?{value:this.array[C],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class R extends E.Ds{constructor(I,C,U){super(I),this.parent=C,this.observable=U,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[T.hZ](){return this}next(){const I=this.buffer;return 0===I.length&&this.isComplete?{value:null,done:!0}:{value:I.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(I){this.buffer.push(I),this.parent.checkIterators()}subscribe(){return(0,E.ft)(this.observable,new E.IY(this))}}},9982:(te,O,g)=>{"use strict";g.d(O,{U:()=>F});var i=g(1750);function F(E){return function(m){return m.lift(new B(E))}}class B{constructor(w){this.durationSelector=w}call(w,m){return m.subscribe(new T(w,this.durationSelector))}}class T extends i.Ds{constructor(w,m){super(w),this.durationSelector=m,this.hasValue=!1}_next(w){if(this.value=w,this.hasValue=!0,!this.throttled){let m;try{const{durationSelector:S}=this;m=S(w)}catch(S){return this.destination.error(S)}const b=(0,i.ft)(m,new i.IY(this));!b||b.closed?this.clearThrottle():this.add(this.throttled=b)}}clearThrottle(){const{value:w,hasValue:m,throttled:b}=this;b&&(this.remove(b),this.throttled=void 0,b.unsubscribe()),m&&(this.value=void 0,this.hasValue=!1,this.destination.next(w))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},1724:(te,O,g)=>{"use strict";g.d(O,{e:()=>T});var i=g(891),F=g(9982),B=g(4372);function T(E,w=i.P){return(0,F.U)(()=>(0,B.H)(E,w))}},6837:(te,O,g)=>{"use strict";g.d(O,{K:()=>F});var i=g(1750);function F(E){return function(m){const b=new B(E),S=m.lift(b);return b.caught=S}}class B{constructor(w){this.selector=w}call(w,m){return m.subscribe(new T(w,this.selector,this.caught))}}class T extends i.Ds{constructor(w,m,b){super(w),this.selector=m,this.caught=b}error(w){if(!this.isStopped){let m;try{m=this.selector(w,this.caught)}catch(k){return void super.error(k)}this._unsubscribeAndRecycle();const b=new i.IY(this);this.add(b);const S=(0,i.ft)(m,b);S!==b&&this.add(S)}}}},408:(te,O,g)=>{"use strict";g.d(O,{u:()=>F});var i=g(8690);function F(){return(0,i.J)(1)}},8201:(te,O,g)=>{"use strict";g.d(O,{b:()=>F});var i=g(6015);function F(B,T){return(0,i.zg)(B,T,1)}},7065:(te,O,g)=>{"use strict";g.d(O,{b:()=>B});var i=g(1042),F=g(891);function B(m,b=F.P){return S=>S.lift(new T(m,b))}class T{constructor(b,S){this.dueTime=b,this.scheduler=S}call(b,S){return S.subscribe(new E(b,this.dueTime,this.scheduler))}}class E extends i.L{constructor(b,S,k){super(b),this.dueTime=S,this.scheduler=k,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(b){this.clearDebounce(),this.lastValue=b,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:b}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(b)}}clearDebounce(){const b=this.debouncedSubscription;null!==b&&(this.remove(b),b.unsubscribe(),this.debouncedSubscription=null)}}function w(m){m.debouncedNext()}},1329:(te,O,g)=>{"use strict";g.d(O,{d:()=>F});var i=g(1042);function F(E=null){return w=>w.lift(new B(E))}class B{constructor(w){this.defaultValue=w}call(w,m){return m.subscribe(new T(w,this.defaultValue))}}class T extends i.L{constructor(w,m){super(w),this.defaultValue=m,this.isEmpty=!0}_next(w){this.isEmpty=!1,this.destination.next(w)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},1049:(te,O,g)=>{"use strict";g.d(O,{g:()=>E});var i=g(891),F=g(3171),B=g(1042),T=g(6118);function E(S,k=i.P){const P=(0,F.J)(S)?+S-k.now():Math.abs(S);return I=>I.lift(new w(P,k))}class w{constructor(k,R){this.delay=k,this.scheduler=R}call(k,R){return R.subscribe(new m(k,this.delay,this.scheduler))}}class m extends B.L{constructor(k,R,P){super(k),this.delay=R,this.scheduler=P,this.queue=[],this.active=!1,this.errored=!1}static dispatch(k){const R=k.source,P=R.queue,I=k.scheduler,C=k.destination;for(;P.length>0&&P[0].time-I.now()<=0;)P.shift().notification.observe(C);if(P.length>0){const U=Math.max(0,P[0].time-I.now());this.schedule(k,U)}else this.unsubscribe(),R.active=!1}_schedule(k){this.active=!0,this.destination.add(k.schedule(m.dispatch,this.delay,{source:this,destination:this.destination,scheduler:k}))}scheduleNotification(k){if(!0===this.errored)return;const R=this.scheduler,P=new b(R.now()+this.delay,k);this.queue.push(P),!1===this.active&&this._schedule(R)}_next(k){this.scheduleNotification(T.P.createNext(k))}_error(k){this.errored=!0,this.queue=[],this.destination.error(k),this.unsubscribe()}_complete(){this.scheduleNotification(T.P.createComplete()),this.unsubscribe()}}class b{constructor(k,R){this.time=k,this.notification=R}}},4339:(te,O,g)=>{"use strict";g.d(O,{D:()=>F});var i=g(1042);function F(){return function(w){return w.lift(new B)}}class B{call(w,m){return m.subscribe(new T(w))}}class T extends i.L{constructor(w){super(w)}_next(w){w.observe(this.destination)}}},3971:(te,O,g)=>{"use strict";g.d(O,{x:()=>F});var i=g(1042);function F(E,w){return m=>m.lift(new B(E,w))}class B{constructor(w,m){this.compare=w,this.keySelector=m}call(w,m){return m.subscribe(new T(w,this.compare,this.keySelector))}}class T extends i.L{constructor(w,m,b){super(w),this.keySelector=b,this.hasKey=!1,"function"==typeof m&&(this.compare=m)}compare(w,m){return w===m}_next(w){let m;try{const{keySelector:S}=this;m=S?S(w):w}catch(S){return this.destination.error(S)}let b=!1;if(this.hasKey)try{const{compare:S}=this;b=S(this.key,m)}catch(S){return this.destination.error(S)}else this.hasKey=!0;b||(this.key=m,this.destination.next(w))}}},7368:(te,O,g)=>{"use strict";g.d(O,{z:()=>T});var i=g(9745),F=g(7070),B=g(1750);function T(m,b){return b?S=>S.pipe(T((k,R)=>(0,F.D)(m(k,R)).pipe((0,i.U)((P,I)=>b(k,P,R,I))))):S=>S.lift(new E(m))}class E{constructor(b){this.project=b}call(b,S){return S.subscribe(new w(b,this.project))}}class w extends B.Ds{constructor(b,S){super(b),this.project=S,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(b){this.hasSubscription||this.tryNext(b)}tryNext(b){let S;const k=this.index++;try{S=this.project(b,k)}catch(R){return void this.destination.error(R)}this.hasSubscription=!0,this._innerSub(S)}_innerSub(b){const S=new B.IY(this),k=this.destination;k.add(S);const R=(0,B.ft)(b,S);R!==S&&k.add(R)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(b){this.destination.next(b)}notifyError(b){this.destination.error(b)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},1763:(te,O,g)=>{"use strict";g.d(O,{h:()=>F});var i=g(1042);function F(E,w){return function(b){return b.lift(new B(E,w))}}class B{constructor(w,m){this.predicate=w,this.thisArg=m}call(w,m){return m.subscribe(new T(w,this.predicate,this.thisArg))}}class T extends i.L{constructor(w,m,b){super(w),this.predicate=m,this.thisArg=b,this.count=0}_next(w){let m;try{m=this.predicate.call(this.thisArg,w,this.count++)}catch(b){return void this.destination.error(b)}m&&this.destination.next(w)}}},6226:(te,O,g)=>{"use strict";g.d(O,{x:()=>B});var i=g(1042),F=g(5241);function B(w){return m=>m.lift(new T(w))}class T{constructor(m){this.callback=m}call(m,b){return b.subscribe(new E(m,this.callback))}}class E extends i.L{constructor(m,b){super(m),this.add(new F.w(b))}}},8927:(te,O,g)=>{"use strict";g.d(O,{P:()=>m});var i=g(7028),F=g(1763),B=g(7250),T=g(1329),E=g(5211),w=g(4724);function m(b,S){const k=arguments.length>=2;return R=>R.pipe(b?(0,F.h)((P,I)=>b(P,I,R)):w.y,(0,B.q)(1),k?(0,T.d)(S):(0,E.T)(()=>new i.K))}},6007:(te,O,g)=>{"use strict";g.d(O,{T:()=>S,v:()=>E});var i=g(1042),F=g(5241),B=g(7205),T=g(4248);function E(R,P,I,C){return U=>U.lift(new w(R,P,I,C))}class w{constructor(P,I,C,U){this.keySelector=P,this.elementSelector=I,this.durationSelector=C,this.subjectSelector=U}call(P,I){return I.subscribe(new m(P,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class m extends i.L{constructor(P,I,C,U,$){super(P),this.keySelector=I,this.elementSelector=C,this.durationSelector=U,this.subjectSelector=$,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(P){let I;try{I=this.keySelector(P)}catch(C){return void this.error(C)}this._group(P,I)}_group(P,I){let C=this.groups;C||(C=this.groups=new Map);let $,U=C.get(I);if(this.elementSelector)try{$=this.elementSelector(P)}catch(K){this.error(K)}else $=P;if(!U){U=this.subjectSelector?this.subjectSelector():new T.xQ,C.set(I,U);const K=new S(I,U,this);if(this.destination.next(K),this.durationSelector){let z;try{z=this.durationSelector(new S(I,U))}catch(ae){return void this.error(ae)}this.add(z.subscribe(new b(I,U,this)))}}U.closed||U.next($)}_error(P){const I=this.groups;I&&(I.forEach((C,U)=>{C.error(P)}),I.clear()),this.destination.error(P)}_complete(){const P=this.groups;P&&(P.forEach((I,C)=>{I.complete()}),P.clear()),this.destination.complete()}removeGroup(P){this.groups.delete(P)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class b extends i.L{constructor(P,I,C){super(I),this.key=P,this.group=I,this.parent=C}_next(P){this.complete()}_unsubscribe(){const{parent:P,key:I}=this;this.key=this.parent=null,P&&P.removeGroup(I)}}class S extends B.y{constructor(P,I,C){super(),this.key=P,this.groupSubject=I,this.refCountSubscription=C}_subscribe(P){const I=new F.w,{refCountSubscription:C,groupSubject:U}=this;return C&&!C.closed&&I.add(new k(C)),I.add(U.subscribe(P)),I}}class k extends F.w{constructor(P){super(),this.parent=P,P.count++}unsubscribe(){const P=this.parent;!P.closed&&!this.closed&&(super.unsubscribe(),P.count-=1,0===P.count&&P.attemptedToUnsubscribe&&P.unsubscribe())}}},7823:(te,O,g)=>{"use strict";g.d(O,{l:()=>F});var i=g(1042);function F(){return function(w){return w.lift(new B)}}class B{call(w,m){return m.subscribe(new T(w))}}class T extends i.L{_next(w){}}},9442:(te,O,g)=>{"use strict";g.d(O,{Z:()=>m});var i=g(7028),F=g(1763),B=g(6111),T=g(5211),E=g(1329),w=g(4724);function m(b,S){const k=arguments.length>=2;return R=>R.pipe(b?(0,F.h)((P,I)=>b(P,I,R)):w.y,(0,B.h)(1),k?(0,E.d)(S):(0,T.T)(()=>new i.K))}},9745:(te,O,g)=>{"use strict";g.d(O,{U:()=>F});var i=g(1042);function F(E,w){return function(b){if("function"!=typeof E)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return b.lift(new B(E,w))}}class B{constructor(w,m){this.project=w,this.thisArg=m}call(w,m){return m.subscribe(new T(w,this.project,this.thisArg))}}class T extends i.L{constructor(w,m,b){super(w),this.project=m,this.count=0,this.thisArg=b||this}_next(w){let m;try{m=this.project.call(this.thisArg,w,this.count++)}catch(b){return void this.destination.error(b)}this.destination.next(m)}}},2453:(te,O,g)=>{"use strict";g.d(O,{h:()=>F});var i=g(1042);function F(E){return w=>w.lift(new B(E))}class B{constructor(w){this.value=w}call(w,m){return m.subscribe(new T(w,this.value))}}class T extends i.L{constructor(w,m){super(w),this.value=m}_next(w){this.destination.next(this.value)}}},1136:(te,O,g)=>{"use strict";g.d(O,{i:()=>B});var i=g(1042),F=g(6118);function B(){return function(m){return m.lift(new T)}}class T{call(m,b){return b.subscribe(new E(m))}}class E extends i.L{constructor(m){super(m)}_next(m){this.destination.next(F.P.createNext(m))}_error(m){const b=this.destination;b.next(F.P.createError(m)),b.complete()}_complete(){const m=this.destination;m.next(F.P.createComplete()),m.complete()}}},8690:(te,O,g)=>{"use strict";g.d(O,{J:()=>B});var i=g(6015),F=g(4724);function B(T=Number.POSITIVE_INFINITY){return(0,i.zg)(F.y,T)}},6015:(te,O,g)=>{"use strict";g.d(O,{VS:()=>m,zg:()=>T});var i=g(9745),F=g(7070),B=g(1750);function T(b,S,k=Number.POSITIVE_INFINITY){return"function"==typeof S?R=>R.pipe(T((P,I)=>(0,F.D)(b(P,I)).pipe((0,i.U)((C,U)=>S(P,C,I,U))),k)):("number"==typeof S&&(k=S),R=>R.lift(new E(b,k)))}class E{constructor(S,k=Number.POSITIVE_INFINITY){this.project=S,this.concurrent=k}call(S,k){return k.subscribe(new w(S,this.project,this.concurrent))}}class w extends B.Ds{constructor(S,k,R=Number.POSITIVE_INFINITY){super(S),this.project=k,this.concurrent=R,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(S){this.active<this.concurrent?this._tryNext(S):this.buffer.push(S)}_tryNext(S){let k;const R=this.index++;try{k=this.project(S,R)}catch(P){return void this.destination.error(P)}this.active++,this._innerSub(k)}_innerSub(S){const k=new B.IY(this),R=this.destination;R.add(k);const P=(0,B.ft)(S,k);P!==k&&R.add(P)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(S){this.destination.next(S)}notifyComplete(){const S=this.buffer;this.active--,S.length>0?this._next(S.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const m=T},1060:(te,O,g)=>{"use strict";g.d(O,{O:()=>F});var i=g(9097);function F(T,E){return function(m){let b;if(b="function"==typeof T?T:function(){return T},"function"==typeof E)return m.lift(new B(b,E));const S=Object.create(m,i.N);return S.source=m,S.subjectFactory=b,S}}class B{constructor(E,w){this.subjectFactory=E,this.selector=w}call(E,w){const{selector:m}=this,b=this.subjectFactory(),S=m(b).subscribe(E);return S.add(w.subscribe(b)),S}}},7366:(te,O,g)=>{"use strict";g.d(O,{QV:()=>B,ht:()=>E});var i=g(1042),F=g(6118);function B(m,b=0){return function(k){return k.lift(new T(m,b))}}class T{constructor(b,S=0){this.scheduler=b,this.delay=S}call(b,S){return S.subscribe(new E(b,this.scheduler,this.delay))}}class E extends i.L{constructor(b,S,k=0){super(b),this.scheduler=S,this.delay=k}static dispatch(b){const{notification:S,destination:k}=b;S.observe(k),this.unsubscribe()}scheduleMessage(b){this.destination.add(this.scheduler.schedule(E.dispatch,this.delay,new w(b,this.destination)))}_next(b){this.scheduleMessage(F.P.createNext(b))}_error(b){this.scheduleMessage(F.P.createError(b)),this.unsubscribe()}_complete(){this.scheduleMessage(F.P.createComplete()),this.unsubscribe()}}class w{constructor(b,S){this.notification=b,this.destination=S}}},6002:(te,O,g)=>{"use strict";g.d(O,{G:()=>F});var i=g(1042);function F(){return E=>E.lift(new B)}class B{call(w,m){return m.subscribe(new T(w))}}class T extends i.L{constructor(w){super(w),this.hasPrev=!1}_next(w){let m;this.hasPrev?m=[this.prev,w]:this.hasPrev=!0,this.prev=w,m&&this.destination.next(m)}}},3607:(te,O,g)=>{"use strict";g.d(O,{j:()=>F});var i=g(9745);function F(...T){const E=T.length;if(0===E)throw new Error("list of properties cannot be empty.");return w=>(0,i.U)(function B(T,E){return m=>{let b=m;for(let S=0;S<E;S++){const k=null!=b?b[T[S]]:void 0;if(void 0===k)return;b=k}return b}}(T,E))(w)}},2667:(te,O,g)=>{"use strict";g.d(O,{x:()=>F});var i=g(1042);function F(){return function(w){return w.lift(new B(w))}}class B{constructor(w){this.connectable=w}call(w,m){const{connectable:b}=this;b._refCount++;const S=new T(w,b),k=m.subscribe(S);return S.closed||(S.connection=b.connect()),k}}class T extends i.L{constructor(w,m){super(w),this.connectable=m}_unsubscribe(){const{connectable:w}=this;if(!w)return void(this.connection=null);this.connectable=null;const m=w._refCount;if(m<=0)return void(this.connection=null);if(w._refCount=m-1,m>1)return void(this.connection=null);const{connection:b}=this,S=w._connection;this.connection=null,S&&(!b||S===b)&&S.unsubscribe()}}},6741:(te,O,g)=>{"use strict";g.d(O,{R:()=>F});var i=g(1042);function F(E,w){let m=!1;return arguments.length>=2&&(m=!0),function(S){return S.lift(new B(E,w,m))}}class B{constructor(w,m,b=!1){this.accumulator=w,this.seed=m,this.hasSeed=b}call(w,m){return m.subscribe(new T(w,this.accumulator,this.seed,this.hasSeed))}}class T extends i.L{constructor(w,m,b,S){super(w),this.accumulator=m,this._seed=b,this.hasSeed=S,this.index=0}get seed(){return this._seed}set seed(w){this.hasSeed=!0,this._seed=w}_next(w){if(this.hasSeed)return this._tryNext(w);this.seed=w,this.destination.next(w)}_tryNext(w){const m=this.index++;let b;try{b=this.accumulator(this.seed,w,m)}catch(S){this.destination.error(S)}this.seed=b,this.destination.next(b)}}},4835:(te,O,g)=>{"use strict";g.d(O,{B:()=>E});var i=g(1060),F=g(2667),B=g(4248);function T(){return new B.xQ}function E(){return w=>(0,F.x)()((0,i.O)(T)(w))}},3255:(te,O,g)=>{"use strict";g.d(O,{d:()=>F});var i=g(2646);function F(T,E,w){let m;return m=T&&"object"==typeof T?T:{bufferSize:T,windowTime:E,refCount:!1,scheduler:w},b=>b.lift(function B({bufferSize:T=Number.POSITIVE_INFINITY,windowTime:E=Number.POSITIVE_INFINITY,refCount:w,scheduler:m}){let b,k,S=0,R=!1,P=!1;return function(C){let U;S++,!b||R?(R=!1,b=new i.t(T,E,m),U=b.subscribe(this),k=C.subscribe({next($){b.next($)},error($){R=!0,b.error($)},complete(){P=!0,k=void 0,b.complete()}}),P&&(k=void 0)):U=b.subscribe(this),this.add(()=>{S--,U.unsubscribe(),U=void 0,k&&!P&&w&&0===S&&(k.unsubscribe(),k=void 0,b=void 0)})}}(m))}},3392:(te,O,g)=>{"use strict";g.d(O,{T:()=>F});var i=g(1042);function F(E){return w=>w.lift(new B(E))}class B{constructor(w){this.total=w}call(w,m){return m.subscribe(new T(w,this.total))}}class T extends i.L{constructor(w,m){super(w),this.total=m,this.count=0}_next(w){++this.count>this.total&&this.destination.next(w)}}},2195:(te,O,g)=>{"use strict";g.d(O,{O:()=>B});var i=g(5967),F=g(2006);function B(...T){const E=T[T.length-1];return(0,F.K)(E)?(T.pop(),w=>(0,i.z)(T,w,E)):w=>(0,i.z)(T,w)}},724:(te,O,g)=>{"use strict";g.d(O,{w:()=>T});var i=g(9745),F=g(7070),B=g(1750);function T(m,b){return"function"==typeof b?S=>S.pipe(T((k,R)=>(0,F.D)(m(k,R)).pipe((0,i.U)((P,I)=>b(k,P,R,I))))):S=>S.lift(new E(m))}class E{constructor(b){this.project=b}call(b,S){return S.subscribe(new w(b,this.project))}}class w extends B.Ds{constructor(b,S){super(b),this.project=S,this.index=0}_next(b){let S;const k=this.index++;try{S=this.project(b,k)}catch(R){return void this.destination.error(R)}this._innerSub(S)}_innerSub(b){const S=this.innerSubscription;S&&S.unsubscribe();const k=new B.IY(this),R=this.destination;R.add(k),this.innerSubscription=(0,B.ft)(b,k),this.innerSubscription!==k&&R.add(this.innerSubscription)}_complete(){const{innerSubscription:b}=this;(!b||b.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(b){this.destination.next(b)}}},7250:(te,O,g)=>{"use strict";g.d(O,{q:()=>T});var i=g(1042),F=g(7944),B=g(5417);function T(m){return b=>0===m?(0,B.c)():b.lift(new E(m))}class E{constructor(b){if(this.total=b,this.total<0)throw new F.W}call(b,S){return S.subscribe(new w(b,this.total))}}class w extends i.L{constructor(b,S){super(b),this.total=S,this.count=0}_next(b){const S=this.total,k=++this.count;k<=S&&(this.destination.next(b),k===S&&(this.destination.complete(),this.unsubscribe()))}}},6111:(te,O,g)=>{"use strict";g.d(O,{h:()=>T});var i=g(1042),F=g(7944),B=g(5417);function T(m){return function(S){return 0===m?(0,B.c)():S.lift(new E(m))}}class E{constructor(b){if(this.total=b,this.total<0)throw new F.W}call(b,S){return S.subscribe(new w(b,this.total))}}class w extends i.L{constructor(b,S){super(b),this.total=S,this.ring=new Array,this.count=0}_next(b){const S=this.ring,k=this.total,R=this.count++;S.length<k?S.push(b):S[R%k]=b}_complete(){const b=this.destination;let S=this.count;if(S>0){const k=this.count>=this.total?this.total:this.count,R=this.ring;for(let P=0;P<k;P++){const I=S++%k;b.next(R[I])}}b.complete()}}},9954:(te,O,g)=>{"use strict";g.d(O,{R:()=>F});var i=g(1750);function F(E){return w=>w.lift(new B(E))}class B{constructor(w){this.notifier=w}call(w,m){const b=new T(w),S=(0,i.ft)(this.notifier,new i.IY(b));return S&&!b.seenValue?(b.add(S),m.subscribe(b)):b}}class T extends i.Ds{constructor(w){super(w),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4551:(te,O,g)=>{"use strict";g.d(O,{o:()=>F});var i=g(1042);function F(E,w=!1){return m=>m.lift(new B(E,w))}class B{constructor(w,m){this.predicate=w,this.inclusive=m}call(w,m){return m.subscribe(new T(w,this.predicate,this.inclusive))}}class T extends i.L{constructor(w,m,b){super(w),this.predicate=m,this.inclusive=b,this.index=0}_next(w){const m=this.destination;let b;try{b=this.predicate(w,this.index++)}catch(S){return void m.error(S)}this.nextOrComplete(w,b)}nextOrComplete(w,m){const b=this.destination;Boolean(m)?b.next(w):(this.inclusive&&b.next(w),b.complete())}}},9899:(te,O,g)=>{"use strict";g.d(O,{b:()=>T});var i=g(1042),F=g(9209),B=g(6775);function T(m,b,S){return function(R){return R.lift(new E(m,b,S))}}class E{constructor(b,S,k){this.nextOrObserver=b,this.error=S,this.complete=k}call(b,S){return S.subscribe(new w(b,this.nextOrObserver,this.error,this.complete))}}class w extends i.L{constructor(b,S,k,R){super(b),this._tapNext=F.Z,this._tapError=F.Z,this._tapComplete=F.Z,this._tapError=k||F.Z,this._tapComplete=R||F.Z,(0,B.m)(S)?(this._context=this,this._tapNext=S):S&&(this._context=S,this._tapNext=S.next||F.Z,this._tapError=S.error||F.Z,this._tapComplete=S.complete||F.Z)}_next(b){try{this._tapNext.call(this._context,b)}catch(S){return void this.destination.error(S)}this.destination.next(b)}_error(b){try{this._tapError.call(this._context,b)}catch(S){return void this.destination.error(S)}this.destination.error(b)}_complete(){try{this._tapComplete.call(this._context)}catch(b){return void this.destination.error(b)}return this.destination.complete()}}},9270:(te,O,g)=>{"use strict";g.d(O,{P:()=>B,d:()=>F});var i=g(1750);const F={leading:!0,trailing:!1};function B(w,m=F){return b=>b.lift(new T(w,!!m.leading,!!m.trailing))}class T{constructor(m,b,S){this.durationSelector=m,this.leading=b,this.trailing=S}call(m,b){return b.subscribe(new E(m,this.durationSelector,this.leading,this.trailing))}}class E extends i.Ds{constructor(m,b,S,k){super(m),this.destination=m,this.durationSelector=b,this._leading=S,this._trailing=k,this._hasValue=!1}_next(m){this._hasValue=!0,this._sendValue=m,this._throttled||(this._leading?this.send():this.throttle(m))}send(){const{_hasValue:m,_sendValue:b}=this;m&&(this.destination.next(b),this.throttle(b)),this._hasValue=!1,this._sendValue=void 0}throttle(m){const b=this.tryDurationSelector(m);b&&this.add(this._throttled=(0,i.ft)(b,new i.IY(this)))}tryDurationSelector(m){try{return this.durationSelector(m)}catch(b){return this.destination.error(b),null}}throttlingDone(){const{_throttled:m,_trailing:b}=this;m&&m.unsubscribe(),this._throttled=void 0,b&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}},7398:(te,O,g)=>{"use strict";g.d(O,{p:()=>T});var i=g(1042),F=g(891),B=g(9270);function T(b,S=F.P,k=B.d){return R=>R.lift(new E(b,S,k.leading,k.trailing))}class E{constructor(S,k,R,P){this.duration=S,this.scheduler=k,this.leading=R,this.trailing=P}call(S,k){return k.subscribe(new w(S,this.duration,this.scheduler,this.leading,this.trailing))}}class w extends i.L{constructor(S,k,R,P,I){super(S),this.duration=k,this.scheduler=R,this.leading=P,this.trailing=I,this._hasTrailingValue=!1,this._trailingValue=null}_next(S){this.throttled?this.trailing&&(this._trailingValue=S,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(m,this.duration,{subscriber:this})),this.leading?this.destination.next(S):this.trailing&&(this._trailingValue=S,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const S=this.throttled;S&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),S.unsubscribe(),this.remove(S),this.throttled=null)}}function m(b){const{subscriber:S}=b;S.clearThrottle()}},5211:(te,O,g)=>{"use strict";g.d(O,{T:()=>B});var i=g(7028),F=g(1042);function B(m=w){return b=>b.lift(new T(m))}class T{constructor(b){this.errorFactory=b}call(b,S){return S.subscribe(new E(b,this.errorFactory))}}class E extends F.L{constructor(b,S){super(b),this.errorFactory=S,this.hasValue=!1}_next(b){this.hasValue=!0,this.destination.next(b)}_complete(){if(this.hasValue)return this.destination.complete();{let b;try{b=this.errorFactory()}catch(S){b=S}this.destination.error(b)}}}function w(){return new i.K}},6597:(te,O,g)=>{"use strict";g.d(O,{V:()=>E});var i=g(891),F=g(5744),B=g(4865),T=g(8286);function E(w,m=i.P){return(0,B.L)(w,(0,T._)(new F.W),m)}},4865:(te,O,g)=>{"use strict";g.d(O,{L:()=>T});var i=g(891),F=g(3171),B=g(1750);function T(m,b,S=i.P){return k=>{let R=(0,F.J)(m),P=R?+m-S.now():Math.abs(m);return k.lift(new E(P,R,b,S))}}class E{constructor(b,S,k,R){this.waitFor=b,this.absoluteTimeout=S,this.withObservable=k,this.scheduler=R}call(b,S){return S.subscribe(new w(b,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class w extends B.Ds{constructor(b,S,k,R,P){super(b),this.absoluteTimeout=S,this.waitFor=k,this.withObservable=R,this.scheduler=P,this.scheduleTimeout()}static dispatchTimeout(b){const{withObservable:S}=b;b._unsubscribeAndRecycle(),b.add((0,B.ft)(S,new B.IY(b)))}scheduleTimeout(){const{action:b}=this;b?this.action=b.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(w.dispatchTimeout,this.waitFor,this))}_next(b){this.absoluteTimeout||this.scheduleTimeout(),super._next(b)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}},6366:(te,O,g)=>{"use strict";g.d(O,{M:()=>B});var i=g(6192),F=g(4444);function B(...w){return m=>{let b;return"function"==typeof w[w.length-1]&&(b=w.pop()),m.lift(new T(w,b))}}class T{constructor(m,b){this.observables=m,this.project=b}call(m,b){return b.subscribe(new E(m,this.observables,this.project))}}class E extends i.L{constructor(m,b,S){super(m),this.observables=b,this.project=S,this.toRespond=[];const k=b.length;this.values=new Array(k);for(let R=0;R<k;R++)this.toRespond.push(R);for(let R=0;R<k;R++)this.add((0,F.D)(this,b[R],void 0,R))}notifyNext(m,b,S){this.values[S]=b;const k=this.toRespond;if(k.length>0){const R=k.indexOf(S);-1!==R&&k.splice(R,1)}}notifyComplete(){}_next(m){if(0===this.toRespond.length){const b=[m,...this.values];this.project?this._tryProject(b):this.destination.next(b)}}_tryProject(m){let b;try{b=this.project.apply(this,m)}catch(S){return void this.destination.error(S)}this.destination.next(b)}}},6916:(te,O,g)=>{"use strict";g.d(O,{r:()=>B});var i=g(7205),F=g(5241);function B(T,E){return new i.y(w=>{const m=new F.w;let b=0;return m.add(E.schedule(function(){b!==T.length?(w.next(T[b++]),w.closed||m.add(this.schedule())):w.complete()})),m})}},5894:(te,O,g)=>{"use strict";g.d(O,{x:()=>I});var i=g(7205),F=g(5241),B=g(8651),w=g(6916),m=g(6909),k=g(1495),R=g(9574);function I(C,U){if(null!=C){if(function S(C){return C&&"function"==typeof C[B.L]}(C))return function T(C,U){return new i.y($=>{const K=new F.w;return K.add(U.schedule(()=>{const z=C[B.L]();K.add(z.subscribe({next(ae){K.add(U.schedule(()=>$.next(ae)))},error(ae){K.add(U.schedule(()=>$.error(ae)))},complete(){K.add(U.schedule(()=>$.complete()))}}))})),K})}(C,U);if((0,k.t)(C))return function E(C,U){return new i.y($=>{const K=new F.w;return K.add(U.schedule(()=>C.then(z=>{K.add(U.schedule(()=>{$.next(z),K.add(U.schedule(()=>$.complete()))}))},z=>{K.add(U.schedule(()=>$.error(z)))}))),K})}(C,U);if((0,R.z)(C))return(0,w.r)(C,U);if(function P(C){return C&&"function"==typeof C[m.hZ]}(C)||"string"==typeof C)return function b(C,U){if(!C)throw new Error("Iterable cannot be null");return new i.y($=>{const K=new F.w;let z;return K.add(()=>{z&&"function"==typeof z.return&&z.return()}),K.add(U.schedule(()=>{z=C[m.hZ](),K.add(U.schedule(function(){if($.closed)return;let ae,pe;try{const ue=z.next();ae=ue.value,pe=ue.done}catch(ue){return void $.error(ue)}pe?$.complete():($.next(ae),this.schedule())}))})),K})}(C,U)}throw new TypeError((null!==C&&typeof C||C)+" is not observable")}},2749:(te,O,g)=>{"use strict";g.d(O,{o:()=>B});var i=g(5241);class F extends i.w{constructor(E,w){super()}schedule(E,w=0){return this}}class B extends F{constructor(E,w){super(E,w),this.scheduler=E,this.work=w,this.pending=!1}schedule(E,w=0){if(this.closed)return this;this.state=E;const m=this.id,b=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(b,m,w)),this.pending=!0,this.delay=w,this.id=this.id||this.requestAsyncId(b,this.id,w),this}requestAsyncId(E,w,m=0){return setInterval(E.flush.bind(E,this),m)}recycleAsyncId(E,w,m=0){if(null!==m&&this.delay===m&&!1===this.pending)return w;clearInterval(w)}execute(E,w){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const m=this._execute(E,w);if(m)return m;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,w){let b,m=!1;try{this.work(E)}catch(S){m=!0,b=!!S&&S||new Error(S)}if(m)return this.unsubscribe(),b}_unsubscribe(){const E=this.id,w=this.scheduler,m=w.actions,b=m.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==b&&m.splice(b,1),null!=E&&(this.id=this.recycleAsyncId(w,E,null)),this.delay=null}}},3511:(te,O,g)=>{"use strict";g.d(O,{v:()=>F});var i=g(5229);class F extends i.b{constructor(T,E=i.b.now){super(T,()=>F.delegate&&F.delegate!==this?F.delegate.now():E()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(T,E=0,w){return F.delegate&&F.delegate!==this?F.delegate.schedule(T,E,w):super.schedule(T,E,w)}flush(T){const{actions:E}=this;if(this.active)return void E.push(T);let w;this.active=!0;do{if(w=T.execute(T.state,T.delay))break}while(T=E.shift());if(this.active=!1,w){for(;T=E.shift();)T.unsubscribe();throw w}}}},1888:(te,O,g)=>{"use strict";g.d(O,{r:()=>w,Z:()=>E});var i=g(2749),B=g(3511);const E=new class T extends B.v{flush(b){this.active=!0,this.scheduled=void 0;const{actions:S}=this;let k,R=-1,P=S.length;b=b||S.shift();do{if(k=b.execute(b.state,b.delay))break}while(++R<P&&(b=S.shift()));if(this.active=!1,k){for(;++R<P&&(b=S.shift());)b.unsubscribe();throw k}}}(class F extends i.o{constructor(b,S){super(b,S),this.scheduler=b,this.work=S}requestAsyncId(b,S,k=0){return null!==k&&k>0?super.requestAsyncId(b,S,k):(b.actions.push(this),b.scheduled||(b.scheduled=requestAnimationFrame(()=>b.flush(null))))}recycleAsyncId(b,S,k=0){if(null!==k&&k>0||null===k&&this.delay>0)return super.recycleAsyncId(b,S,k);0===b.actions.length&&(cancelAnimationFrame(S),b.scheduled=void 0)}}),w=E},5674:(te,O,g)=>{"use strict";g.d(O,{e:()=>P,E:()=>R});let i=1;const F=Promise.resolve(),B={};function T(I){return I in B&&(delete B[I],!0)}const E={setImmediate(I){const C=i++;return B[C]=!0,F.then(()=>T(C)&&I()),C},clearImmediate(I){T(I)}};var m=g(2749),S=g(3511);const R=new class k extends S.v{flush(C){this.active=!0,this.scheduled=void 0;const{actions:U}=this;let $,K=-1,z=U.length;C=C||U.shift();do{if($=C.execute(C.state,C.delay))break}while(++K<z&&(C=U.shift()));if(this.active=!1,$){for(;++K<z&&(C=U.shift());)C.unsubscribe();throw $}}}(class b extends m.o{constructor(C,U){super(C,U),this.scheduler=C,this.work=U}requestAsyncId(C,U,$=0){return null!==$&&$>0?super.requestAsyncId(C,U,$):(C.actions.push(this),C.scheduled||(C.scheduled=E.setImmediate(C.flush.bind(C,null))))}recycleAsyncId(C,U,$=0){if(null!==$&&$>0||null===$&&this.delay>0)return super.recycleAsyncId(C,U,$);0===C.actions.length&&(E.clearImmediate(U),C.scheduled=void 0)}}),P=R},891:(te,O,g)=>{"use strict";g.d(O,{P:()=>T,z:()=>B});var i=g(2749);const B=new(g(3511).v)(i.o),T=B},7382:(te,O,g)=>{"use strict";g.d(O,{c:()=>w,N:()=>E});var i=g(2749),B=g(3511);const E=new class T extends B.v{}(class F extends i.o{constructor(b,S){super(b,S),this.scheduler=b,this.work=S}schedule(b,S=0){return S>0?super.schedule(b,S):(this.delay=S,this.state=b,this.scheduler.flush(this),this)}execute(b,S){return S>0||this.closed?super.execute(b,S):this._execute(b,S)}requestAsyncId(b,S,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(b,S,k):b.flush(this)}}),w=E},6909:(te,O,g)=>{"use strict";g.d(O,{hZ:()=>F});const F=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8651:(te,O,g)=>{"use strict";g.d(O,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7232:(te,O,g)=>{"use strict";g.d(O,{b:()=>i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7944:(te,O,g)=>{"use strict";g.d(O,{W:()=>F});const F=(()=>{function B(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return B.prototype=Object.create(Error.prototype),B})()},7028:(te,O,g)=>{"use strict";g.d(O,{K:()=>F});const F=(()=>{function B(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return B.prototype=Object.create(Error.prototype),B})()},3246:(te,O,g)=>{"use strict";g.d(O,{N:()=>F});const F=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},5744:(te,O,g)=>{"use strict";g.d(O,{W:()=>F});const F=(()=>{function B(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return B.prototype=Object.create(Error.prototype),B})()},6713:(te,O,g)=>{"use strict";g.d(O,{B:()=>F});const F=(()=>{function B(T){return Error.call(this),this.message=T?`${T.length} errors occurred during unsubscription:\n${T.map((E,w)=>`${w+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=T,this}return B.prototype=Object.create(Error.prototype),B})()},7033:(te,O,g)=>{"use strict";g.d(O,{_:()=>F});var i=g(1042);function F(B){for(;B;){const{closed:T,destination:E,isStopped:w}=B;if(T||w)return!1;B=E&&E instanceof i.L?E:null}return!0}},8247:(te,O,g)=>{"use strict";function i(F){setTimeout(()=>{throw F},0)}g.d(O,{z:()=>i})},4724:(te,O,g)=>{"use strict";function i(F){return F}g.d(O,{y:()=>i})},515:(te,O,g)=>{"use strict";g.d(O,{k:()=>i});const i=Array.isArray||(F=>F&&"number"==typeof F.length)},9574:(te,O,g)=>{"use strict";g.d(O,{z:()=>i});const i=F=>F&&"number"==typeof F.length&&"function"!=typeof F},3171:(te,O,g)=>{"use strict";function i(F){return F instanceof Date&&!isNaN(+F)}g.d(O,{J:()=>i})},6775:(te,O,g)=>{"use strict";function i(F){return"function"==typeof F}g.d(O,{m:()=>i})},597:(te,O,g)=>{"use strict";g.d(O,{k:()=>F});var i=g(515);function F(B){return!(0,i.k)(B)&&B-parseFloat(B)+1>=0}},9365:(te,O,g)=>{"use strict";function i(F){return null!==F&&"object"==typeof F}g.d(O,{K:()=>i})},4557:(te,O,g)=>{"use strict";g.d(O,{b:()=>F});var i=g(7205);function F(B){return!!B&&(B instanceof i.y||"function"==typeof B.lift&&"function"==typeof B.subscribe)}},1495:(te,O,g)=>{"use strict";function i(F){return!!F&&"function"!=typeof F.subscribe&&"function"==typeof F.then}g.d(O,{t:()=>i})},2006:(te,O,g)=>{"use strict";function i(F){return F&&"function"==typeof F.schedule}g.d(O,{K:()=>i})},9209:(te,O,g)=>{"use strict";function i(){}g.d(O,{Z:()=>i})},8739:(te,O,g)=>{"use strict";function i(F,B){function T(){return!T.pred.apply(T.thisArg,arguments)}return T.pred=F,T.thisArg=B,T}g.d(O,{f:()=>i})},244:(te,O,g)=>{"use strict";g.d(O,{U:()=>B,z:()=>F});var i=g(4724);function F(...T){return B(T)}function B(T){return 0===T.length?i.y:1===T.length?T[0]:function(w){return T.reduce((m,b)=>b(m),w)}}},6789:(te,O,g)=>{"use strict";g.d(O,{s:()=>R});var i=g(2342),F=g(8247),T=g(6909),w=g(8651),b=g(9574),S=g(1495),k=g(9365);const R=P=>{if(P&&"function"==typeof P[w.L])return(P=>I=>{const C=P[w.L]();if("function"!=typeof C.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return C.subscribe(I)})(P);if((0,b.z)(P))return(0,i.V)(P);if((0,S.t)(P))return(P=>I=>(P.then(C=>{I.closed||(I.next(C),I.complete())},C=>I.error(C)).then(null,F.z),I))(P);if(P&&"function"==typeof P[T.hZ])return(P=>I=>{const C=P[T.hZ]();for(;;){let U;try{U=C.next()}catch($){return I.error($),I}if(U.done){I.complete();break}if(I.next(U.value),I.closed)break}return"function"==typeof C.return&&I.add(()=>{C.return&&C.return()}),I})(P);{const C=`You provided ${(0,k.K)(P)?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(C)}}},2342:(te,O,g)=>{"use strict";g.d(O,{V:()=>i});const i=F=>B=>{for(let T=0,E=F.length;T<E&&!B.closed;T++)B.next(F[T]);B.complete()}},4444:(te,O,g)=>{"use strict";g.d(O,{D:()=>E});var i=g(1042);class F extends i.L{constructor(m,b,S){super(),this.parent=m,this.outerValue=b,this.outerIndex=S,this.index=0}_next(m){this.parent.notifyNext(this.outerValue,m,this.outerIndex,this.index++,this)}_error(m){this.parent.notifyError(m,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var B=g(6789),T=g(7205);function E(w,m,b,S,k=new F(w,b,S)){if(!k.closed)return m instanceof T.y?m.subscribe(k):(0,B.s)(m)(k)}},272:(te,O,g)=>{"use strict";g.r(O),g.d(O,{audit:()=>i.U,auditTime:()=>F.e,buffer:()=>T,bufferCount:()=>b,bufferTime:()=>C,bufferToggle:()=>De,bufferWhen:()=>nt,catchError:()=>ne.K,combineAll:()=>Ue,combineLatest:()=>Te,concat:()=>ht,concatAll:()=>Ke.u,concatMap:()=>tt.b,concatMapTo:()=>qe,count:()=>Qe,debounce:()=>$e,debounceTime:()=>Xe.b,defaultIfEmpty:()=>vt.d,delay:()=>Fe.g,delayWhen:()=>be,dematerialize:()=>Ut.D,distinct:()=>Yt,distinctUntilChanged:()=>It.x,distinctUntilKeyChanged:()=>qt,elementAt:()=>Fn,endWith:()=>Nt,every:()=>on,exhaust:()=>Bt,exhaustMap:()=>kn.z,expand:()=>ee,filter:()=>Wt.h,finalize:()=>Pe.x,find:()=>ct,findIndex:()=>Jt,first:()=>hn.P,flatMap:()=>vo.VS,groupBy:()=>pn.v,ignoreElements:()=>Wn.l,isEmpty:()=>$n,last:()=>qr.Z,map:()=>Xr.U,mapTo:()=>Qi.h,materialize:()=>Qo.i,max:()=>bn,merge:()=>Zr,mergeAll:()=>zi.J,mergeMap:()=>vo.zg,mergeMapTo:()=>ui,mergeScan:()=>as,min:()=>bs,multicast:()=>Gn.O,observeOn:()=>Bs.QV,onErrorResumeNext:()=>Us,pairwise:()=>js.G,partition:()=>_o,pluck:()=>Oi.j,publish:()=>Ur,publishBehavior:()=>yc,publishLast:()=>Zi,publishReplay:()=>cs,race:()=>Xo,reduce:()=>Ir,refCount:()=>bc.x,repeat:()=>Zt,repeatWhen:()=>wn,retry:()=>di,retryWhen:()=>br,sample:()=>Eo,sampleTime:()=>Rm,scan:()=>xr.R,sequenceEqual:()=>Nn,share:()=>wc.B,shareReplay:()=>su.d,single:()=>xc,skip:()=>Yr.T,skipLast:()=>Fl,skipUntil:()=>mi,skipWhile:()=>Lh,startWith:()=>Nd.O,subscribeOn:()=>Nh,switchAll:()=>Bh,switchMap:()=>zs.w,switchMapTo:()=>Ta,take:()=>Cn.q,takeLast:()=>_r.h,takeUntil:()=>Uh.R,takeWhile:()=>Zs.o,tap:()=>cu.b,throttle:()=>Jo.P,throttleTime:()=>tr.p,throwIfEmpty:()=>un.T,timeInterval:()=>Fm,timeout:()=>jd.V,timeoutWith:()=>Hd.L,timestamp:()=>il,toArray:()=>N,window:()=>Er,windowCount:()=>vi,windowTime:()=>us,windowToggle:()=>Pr,windowWhen:()=>Es,withLatestFrom:()=>Hh.M,zip:()=>Vh,zipAll:()=>Wi});var i=g(9982),F=g(1724),B=g(1750);function T(gt){return function(Ee){return Ee.lift(new E(gt))}}class E{constructor(oe){this.closingNotifier=oe}call(oe,Ee){return Ee.subscribe(new w(oe,this.closingNotifier))}}class w extends B.Ds{constructor(oe,Ee){super(oe),this.buffer=[],this.add((0,B.ft)(Ee,new B.IY(this)))}_next(oe){this.buffer.push(oe)}notifyNext(){const oe=this.buffer;this.buffer=[],this.destination.next(oe)}}var m=g(1042);function b(gt,oe=null){return function(mt){return mt.lift(new S(gt,oe))}}class S{constructor(oe,Ee){this.bufferSize=oe,this.startBufferEvery=Ee,this.subscriberClass=Ee&&oe!==Ee?R:k}call(oe,Ee){return Ee.subscribe(new this.subscriberClass(oe,this.bufferSize,this.startBufferEvery))}}class k extends m.L{constructor(oe,Ee){super(oe),this.bufferSize=Ee,this.buffer=[]}_next(oe){const Ee=this.buffer;Ee.push(oe),Ee.length==this.bufferSize&&(this.destination.next(Ee),this.buffer=[])}_complete(){const oe=this.buffer;oe.length>0&&this.destination.next(oe),super._complete()}}class R extends m.L{constructor(oe,Ee,mt){super(oe),this.bufferSize=Ee,this.startBufferEvery=mt,this.buffers=[],this.count=0}_next(oe){const{bufferSize:Ee,startBufferEvery:mt,buffers:zt,count:sn}=this;this.count++,sn%mt==0&&zt.push([]);for(let nr=zt.length;nr--;){const jr=zt[nr];jr.push(oe),jr.length===Ee&&(zt.splice(nr,1),this.destination.next(jr))}}_complete(){const{buffers:oe,destination:Ee}=this;for(;oe.length>0;){let mt=oe.shift();mt.length>0&&Ee.next(mt)}super._complete()}}var P=g(891),I=g(2006);function C(gt){let oe=arguments.length,Ee=P.P;(0,I.K)(arguments[arguments.length-1])&&(Ee=arguments[arguments.length-1],oe--);let mt=null;oe>=2&&(mt=arguments[1]);let zt=Number.POSITIVE_INFINITY;return oe>=3&&(zt=arguments[2]),function(nr){return nr.lift(new U(gt,mt,zt,Ee))}}class U{constructor(oe,Ee,mt,zt){this.bufferTimeSpan=oe,this.bufferCreationInterval=Ee,this.maxBufferSize=mt,this.scheduler=zt}call(oe,Ee){return Ee.subscribe(new K(oe,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class ${constructor(){this.buffer=[]}}class K extends m.L{constructor(oe,Ee,mt,zt,sn){super(oe),this.bufferTimeSpan=Ee,this.bufferCreationInterval=mt,this.maxBufferSize=zt,this.scheduler=sn,this.contexts=[];const nr=this.openContext();if(this.timespanOnly=null==mt||mt<0,this.timespanOnly)this.add(nr.closeAction=sn.schedule(z,Ee,{subscriber:this,context:nr,bufferTimeSpan:Ee}));else{const $i={bufferTimeSpan:Ee,bufferCreationInterval:mt,subscriber:this,scheduler:sn};this.add(nr.closeAction=sn.schedule(pe,Ee,{subscriber:this,context:nr})),this.add(sn.schedule(ae,mt,$i))}}_next(oe){const Ee=this.contexts,mt=Ee.length;let zt;for(let sn=0;sn<mt;sn++){const nr=Ee[sn],jr=nr.buffer;jr.push(oe),jr.length==this.maxBufferSize&&(zt=nr)}zt&&this.onBufferFull(zt)}_error(oe){this.contexts.length=0,super._error(oe)}_complete(){const{contexts:oe,destination:Ee}=this;for(;oe.length>0;){const mt=oe.shift();Ee.next(mt.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(oe){this.closeContext(oe);const Ee=oe.closeAction;if(Ee.unsubscribe(),this.remove(Ee),!this.closed&&this.timespanOnly){oe=this.openContext();const mt=this.bufferTimeSpan;this.add(oe.closeAction=this.scheduler.schedule(z,mt,{subscriber:this,context:oe,bufferTimeSpan:mt}))}}openContext(){const oe=new $;return this.contexts.push(oe),oe}closeContext(oe){this.destination.next(oe.buffer);const Ee=this.contexts;(Ee?Ee.indexOf(oe):-1)>=0&&Ee.splice(Ee.indexOf(oe),1)}}function z(gt){const oe=gt.subscriber,Ee=gt.context;Ee&&oe.closeContext(Ee),oe.closed||(gt.context=oe.openContext(),gt.context.closeAction=this.schedule(gt,gt.bufferTimeSpan))}function ae(gt){const{bufferCreationInterval:oe,bufferTimeSpan:Ee,subscriber:mt,scheduler:zt}=gt,sn=mt.openContext();mt.closed||(mt.add(sn.closeAction=zt.schedule(pe,Ee,{subscriber:mt,context:sn})),this.schedule(gt,oe))}function pe(gt){const{subscriber:oe,context:Ee}=gt;oe.closeContext(Ee)}var ue=g(5241),fe=g(4444),Y=g(6192);function De(gt,oe){return function(mt){return mt.lift(new me(gt,oe))}}class me{constructor(oe,Ee){this.openings=oe,this.closingSelector=Ee}call(oe,Ee){return Ee.subscribe(new Me(oe,this.openings,this.closingSelector))}}class Me extends Y.L{constructor(oe,Ee,mt){super(oe),this.closingSelector=mt,this.contexts=[],this.add((0,fe.D)(this,Ee))}_next(oe){const Ee=this.contexts,mt=Ee.length;for(let zt=0;zt<mt;zt++)Ee[zt].buffer.push(oe)}_error(oe){const Ee=this.contexts;for(;Ee.length>0;){const mt=Ee.shift();mt.subscription.unsubscribe(),mt.buffer=null,mt.subscription=null}this.contexts=null,super._error(oe)}_complete(){const oe=this.contexts;for(;oe.length>0;){const Ee=oe.shift();this.destination.next(Ee.buffer),Ee.subscription.unsubscribe(),Ee.buffer=null,Ee.subscription=null}this.contexts=null,super._complete()}notifyNext(oe,Ee){oe?this.closeBuffer(oe):this.openBuffer(Ee)}notifyComplete(oe){this.closeBuffer(oe.context)}openBuffer(oe){try{const mt=this.closingSelector.call(this,oe);mt&&this.trySubscribe(mt)}catch(Ee){this._error(Ee)}}closeBuffer(oe){const Ee=this.contexts;if(Ee&&oe){const{buffer:mt,subscription:zt}=oe;this.destination.next(mt),Ee.splice(Ee.indexOf(oe),1),this.remove(zt),zt.unsubscribe()}}trySubscribe(oe){const Ee=this.contexts,zt=new ue.w,sn={buffer:[],subscription:zt};Ee.push(sn);const nr=(0,fe.D)(this,oe,sn);!nr||nr.closed?this.closeBuffer(sn):(nr.context=sn,this.add(nr),zt.add(nr))}}function nt(gt){return function(oe){return oe.lift(new et(gt))}}class et{constructor(oe){this.closingSelector=oe}call(oe,Ee){return Ee.subscribe(new de(oe,this.closingSelector))}}class de extends B.Ds{constructor(oe,Ee){super(oe),this.closingSelector=Ee,this.subscribing=!1,this.openBuffer()}_next(oe){this.buffer.push(oe)}_complete(){const oe=this.buffer;oe&&this.destination.next(oe),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let mt,{closingSubscription:oe}=this;oe&&(this.remove(oe),oe.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:zt}=this;mt=zt()}catch(zt){return this.error(zt)}oe=new ue.w,this.closingSubscription=oe,this.add(oe),this.subscribing=!0,oe.add((0,B.ft)(mt,new B.IY(this))),this.subscribing=!1}}var ne=g(6837),ve=g(3434);function Ue(gt){return oe=>oe.lift(new ve.Ms(gt))}var ke=g(515),Ie=g(7070);function Te(...gt){let oe=null;return"function"==typeof gt[gt.length-1]&&(oe=gt.pop()),1===gt.length&&(0,ke.k)(gt[0])&&(gt=gt[0].slice()),Ee=>Ee.lift.call((0,Ie.D)([Ee,...gt]),new ve.Ms(oe))}var ze=g(5967);function ht(...gt){return oe=>oe.lift.call((0,ze.z)(oe,...gt))}var Ke=g(408),tt=g(8201);function qe(gt,oe){return(0,tt.b)(()=>gt,oe)}function Qe(gt){return oe=>oe.lift(new We(gt,oe))}class We{constructor(oe,Ee){this.predicate=oe,this.source=Ee}call(oe,Ee){return Ee.subscribe(new ft(oe,this.predicate,this.source))}}class ft extends m.L{constructor(oe,Ee,mt){super(oe),this.predicate=Ee,this.source=mt,this.count=0,this.index=0}_next(oe){this.predicate?this._tryPredicate(oe):this.count++}_tryPredicate(oe){let Ee;try{Ee=this.predicate(oe,this.index++,this.source)}catch(mt){return void this.destination.error(mt)}Ee&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function $e(gt){return oe=>oe.lift(new Re(gt))}class Re{constructor(oe){this.durationSelector=oe}call(oe,Ee){return Ee.subscribe(new Ve(oe,this.durationSelector))}}class Ve extends B.Ds{constructor(oe,Ee){super(oe),this.durationSelector=Ee,this.hasValue=!1}_next(oe){try{const Ee=this.durationSelector.call(this,oe);Ee&&this._tryNext(oe,Ee)}catch(Ee){this.destination.error(Ee)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(oe,Ee){let mt=this.durationSubscription;this.value=oe,this.hasValue=!0,mt&&(mt.unsubscribe(),this.remove(mt)),mt=(0,B.ft)(Ee,new B.IY(this)),mt&&!mt.closed&&this.add(this.durationSubscription=mt)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const oe=this.value,Ee=this.durationSubscription;Ee&&(this.durationSubscription=void 0,Ee.unsubscribe(),this.remove(Ee)),this.value=void 0,this.hasValue=!1,super._next(oe)}}}var Xe=g(7065),vt=g(1329),Fe=g(1049),Ge=g(7205);function be(gt,oe){return oe?Ee=>new xe(Ee,oe).lift(new le(gt)):Ee=>Ee.lift(new le(gt))}class le{constructor(oe){this.delayDurationSelector=oe}call(oe,Ee){return Ee.subscribe(new re(oe,this.delayDurationSelector))}}class re extends Y.L{constructor(oe,Ee){super(oe),this.delayDurationSelector=Ee,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(oe,Ee,mt,zt,sn){this.destination.next(oe),this.removeSubscription(sn),this.tryComplete()}notifyError(oe,Ee){this._error(oe)}notifyComplete(oe){const Ee=this.removeSubscription(oe);Ee&&this.destination.next(Ee),this.tryComplete()}_next(oe){const Ee=this.index++;try{const mt=this.delayDurationSelector(oe,Ee);mt&&this.tryDelay(mt,oe)}catch(mt){this.destination.error(mt)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(oe){oe.unsubscribe();const Ee=this.delayNotifierSubscriptions.indexOf(oe);return-1!==Ee&&this.delayNotifierSubscriptions.splice(Ee,1),oe.outerValue}tryDelay(oe,Ee){const mt=(0,fe.D)(this,oe,Ee);mt&&!mt.closed&&(this.destination.add(mt),this.delayNotifierSubscriptions.push(mt))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class xe extends Ge.y{constructor(oe,Ee){super(),this.source=oe,this.subscriptionDelay=Ee}_subscribe(oe){this.subscriptionDelay.subscribe(new xt(oe,this.source))}}class xt extends m.L{constructor(oe,Ee){super(),this.parent=oe,this.source=Ee,this.sourceSubscribed=!1}_next(oe){this.subscribeToSource()}_error(oe){this.unsubscribe(),this.parent.error(oe)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}var Ut=g(4339);function Yt(gt,oe){return Ee=>Ee.lift(new xn(gt,oe))}class xn{constructor(oe,Ee){this.keySelector=oe,this.flushes=Ee}call(oe,Ee){return Ee.subscribe(new Ct(oe,this.keySelector,this.flushes))}}class Ct extends B.Ds{constructor(oe,Ee,mt){super(oe),this.keySelector=Ee,this.values=new Set,mt&&this.add((0,B.ft)(mt,new B.IY(this)))}notifyNext(){this.values.clear()}notifyError(oe){this._error(oe)}_next(oe){this.keySelector?this._useKeySelector(oe):this._finalizeNext(oe,oe)}_useKeySelector(oe){let Ee;const{destination:mt}=this;try{Ee=this.keySelector(oe)}catch(zt){return void mt.error(zt)}this._finalizeNext(Ee,oe)}_finalizeNext(oe,Ee){const{values:mt}=this;mt.has(oe)||(mt.add(oe),this.destination.next(Ee))}}var It=g(3971);function qt(gt,oe){return(0,It.x)((Ee,mt)=>oe?oe(Ee[gt],mt[gt]):Ee[gt]===mt[gt])}var Gt=g(7944),Wt=g(1763),un=g(5211),Cn=g(7250);function Fn(gt,oe){if(gt<0)throw new Gt.W;const Ee=arguments.length>=2;return mt=>mt.pipe((0,Wt.h)((zt,sn)=>sn===gt),(0,Cn.q)(1),Ee?(0,vt.d)(oe):(0,un.T)(()=>new Gt.W))}var Ye=g(8774);function Nt(...gt){return oe=>(0,ze.z)(oe,(0,Ye.of)(...gt))}function on(gt,oe){return Ee=>Ee.lift(new cn(gt,oe,Ee))}class cn{constructor(oe,Ee,mt){this.predicate=oe,this.thisArg=Ee,this.source=mt}call(oe,Ee){return Ee.subscribe(new Tt(oe,this.predicate,this.thisArg,this.source))}}class Tt extends m.L{constructor(oe,Ee,mt,zt){super(oe),this.predicate=Ee,this.thisArg=mt,this.source=zt,this.index=0,this.thisArg=mt||this}notifyComplete(oe){this.destination.next(oe),this.destination.complete()}_next(oe){let Ee=!1;try{Ee=this.predicate.call(this.thisArg,oe,this.index++,this.source)}catch(mt){return void this.destination.error(mt)}Ee||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Bt(){return gt=>gt.lift(new He)}class He{call(oe,Ee){return Ee.subscribe(new nn(oe))}}class nn extends B.Ds{constructor(oe){super(oe),this.hasCompleted=!1,this.hasSubscription=!1}_next(oe){this.hasSubscription||(this.hasSubscription=!0,this.add((0,B.ft)(oe,new B.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var kn=g(7368);function ee(gt,oe=Number.POSITIVE_INFINITY,Ee){return oe=(oe||0)<1?Number.POSITIVE_INFINITY:oe,mt=>mt.lift(new yt(gt,oe,Ee))}class yt{constructor(oe,Ee,mt){this.project=oe,this.concurrent=Ee,this.scheduler=mt}call(oe,Ee){return Ee.subscribe(new wt(oe,this.project,this.concurrent,this.scheduler))}}class wt extends B.Ds{constructor(oe,Ee,mt,zt){super(oe),this.project=Ee,this.concurrent=mt,this.scheduler=zt,this.index=0,this.active=0,this.hasCompleted=!1,mt<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(oe){const{subscriber:Ee,result:mt,value:zt,index:sn}=oe;Ee.subscribeToProjection(mt,zt,sn)}_next(oe){const Ee=this.destination;if(Ee.closed)return void this._complete();const mt=this.index++;if(this.active<this.concurrent){Ee.next(oe);try{const{project:zt}=this,sn=zt(oe,mt);this.scheduler?this.destination.add(this.scheduler.schedule(wt.dispatch,0,{subscriber:this,result:sn,value:oe,index:mt})):this.subscribeToProjection(sn,oe,mt)}catch(zt){Ee.error(zt)}}else this.buffer.push(oe)}subscribeToProjection(oe,Ee,mt){this.active++,this.destination.add((0,B.ft)(oe,new B.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(oe){this._next(oe)}notifyComplete(){const oe=this.buffer;this.active--,oe&&oe.length>0&&this._next(oe.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Pe=g(6226);function ct(gt,oe){if("function"!=typeof gt)throw new TypeError("predicate is not a function");return Ee=>Ee.lift(new Dt(gt,Ee,!1,oe))}class Dt{constructor(oe,Ee,mt,zt){this.predicate=oe,this.source=Ee,this.yieldIndex=mt,this.thisArg=zt}call(oe,Ee){return Ee.subscribe(new vn(oe,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class vn extends m.L{constructor(oe,Ee,mt,zt,sn){super(oe),this.predicate=Ee,this.source=mt,this.yieldIndex=zt,this.thisArg=sn,this.index=0}notifyComplete(oe){const Ee=this.destination;Ee.next(oe),Ee.complete(),this.unsubscribe()}_next(oe){const{predicate:Ee,thisArg:mt}=this,zt=this.index++;try{Ee.call(mt||this,oe,zt,this.source)&&this.notifyComplete(this.yieldIndex?zt:oe)}catch(sn){this.destination.error(sn)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Jt(gt,oe){return Ee=>Ee.lift(new Dt(gt,Ee,!0,oe))}var hn=g(8927),pn=g(6007),Wn=g(7823);function $n(){return gt=>gt.lift(new rr)}class rr{call(oe,Ee){return Ee.subscribe(new vr(oe))}}class vr extends m.L{constructor(oe){super(oe)}notifyComplete(oe){const Ee=this.destination;Ee.next(oe),Ee.complete()}_next(oe){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var qr=g(9442),Xr=g(9745),Qi=g(2453),Qo=g(1136),xr=g(6741),_r=g(6111),oi=g(244);function Ir(gt,oe){return arguments.length>=2?function(mt){return(0,oi.z)((0,xr.R)(gt,oe),(0,_r.h)(1),(0,vt.d)(oe))(mt)}:function(mt){return(0,oi.z)((0,xr.R)((zt,sn,nr)=>gt(zt,sn,nr+1)),(0,_r.h)(1))(mt)}}function bn(gt){return Ir("function"==typeof gt?(Ee,mt)=>gt(Ee,mt)>0?Ee:mt:(Ee,mt)=>Ee>mt?Ee:mt)}var Qn=g(8869);function Zr(...gt){return oe=>oe.lift.call((0,Qn.T)(oe,...gt))}var zi=g(8690),vo=g(6015);function ui(gt,oe,Ee=Number.POSITIVE_INFINITY){return"function"==typeof oe?(0,vo.zg)(()=>gt,oe,Ee):("number"==typeof oe&&(Ee=oe),(0,vo.zg)(()=>gt,Ee))}function as(gt,oe,Ee=Number.POSITIVE_INFINITY){return mt=>mt.lift(new Lr(gt,oe,Ee))}class Lr{constructor(oe,Ee,mt){this.accumulator=oe,this.seed=Ee,this.concurrent=mt}call(oe,Ee){return Ee.subscribe(new ls(oe,this.accumulator,this.seed,this.concurrent))}}class ls extends B.Ds{constructor(oe,Ee,mt,zt){super(oe),this.accumulator=Ee,this.acc=mt,this.concurrent=zt,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(oe){if(this.active<this.concurrent){const Ee=this.index++,mt=this.destination;let zt;try{const{accumulator:sn}=this;zt=sn(this.acc,oe,Ee)}catch(sn){return mt.error(sn)}this.active++,this._innerSub(zt)}else this.buffer.push(oe)}_innerSub(oe){const Ee=new B.IY(this),mt=this.destination;mt.add(Ee);const zt=(0,B.ft)(oe,Ee);zt!==Ee&&mt.add(zt)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(oe){const{destination:Ee}=this;this.acc=oe,this.hasValue=!0,Ee.next(oe)}notifyComplete(){const oe=this.buffer;this.active--,oe.length>0?this._next(oe.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function bs(gt){return Ir("function"==typeof gt?(Ee,mt)=>gt(Ee,mt)<0?Ee:mt:(Ee,mt)=>Ee<mt?Ee:mt)}var Gn=g(1060),Bs=g(7366);function Us(...gt){return 1===gt.length&&(0,ke.k)(gt[0])&&(gt=gt[0]),oe=>oe.lift(new Jr(gt))}class Jr{constructor(oe){this.nextSources=oe}call(oe,Ee){return Ee.subscribe(new Bi(oe,this.nextSources))}}class Bi extends B.Ds{constructor(oe,Ee){super(oe),this.destination=oe,this.nextSources=Ee}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(oe){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const oe=this.nextSources.shift();if(oe){const Ee=new B.IY(this),mt=this.destination;mt.add(Ee);const zt=(0,B.ft)(oe,Ee);zt!==Ee&&mt.add(zt)}else this.destination.complete()}}var js=g(6002),Hs=g(8739);function _o(gt,oe){return Ee=>[(0,Wt.h)(gt,oe)(Ee),(0,Wt.h)((0,Hs.f)(gt,oe))(Ee)]}var Oi=g(3607),ro=g(4248);function Ur(gt){return gt?(0,Gn.O)(()=>new ro.xQ,gt):(0,Gn.O)(new ro.xQ)}var Rr=g(9088);function yc(gt){return oe=>(0,Gn.O)(new Rr.X(gt))(oe)}var Ar=g(7635);function Zi(){return gt=>(0,Gn.O)(new Ar.c)(gt)}var Fo=g(2646);function cs(gt,oe,Ee,mt){Ee&&"function"!=typeof Ee&&(mt=Ee);const zt="function"==typeof Ee?Ee:void 0,sn=new Fo.t(gt,oe,mt);return nr=>(0,Gn.O)(()=>sn,zt)(nr)}var ws=g(228);function Xo(...gt){return function(Ee){return 1===gt.length&&(0,ke.k)(gt[0])&&(gt=gt[0]),Ee.lift.call((0,ws.S3)(Ee,...gt))}}var _t=g(5417);function Zt(gt=-1){return oe=>0===gt?(0,_t.c)():oe.lift(new Rt(gt<0?-1:gt-1,oe))}class Rt{constructor(oe,Ee){this.count=oe,this.source=Ee}call(oe,Ee){return Ee.subscribe(new $t(oe,this.count,this.source))}}class $t extends m.L{constructor(oe,Ee,mt){super(oe),this.count=Ee,this.source=mt}complete(){if(!this.isStopped){const{source:oe,count:Ee}=this;if(0===Ee)return super.complete();Ee>-1&&(this.count=Ee-1),oe.subscribe(this._unsubscribeAndRecycle())}}}function wn(gt){return oe=>oe.lift(new ln(gt))}class ln{constructor(oe){this.notifier=oe}call(oe,Ee){return Ee.subscribe(new yr(oe,this.notifier,Ee))}}class yr extends B.Ds{constructor(oe,Ee,mt){super(oe),this.notifier=Ee,this.source=mt,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:oe,retriesSubscription:Ee}=this;oe&&(oe.unsubscribe(),this.notifications=void 0),Ee&&(Ee.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:oe}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=oe,this}subscribeToRetries(){let oe;this.notifications=new ro.xQ;try{const{notifier:Ee}=this;oe=Ee(this.notifications)}catch(Ee){return super.complete()}this.retries=oe,this.retriesSubscription=(0,B.ft)(oe,new B.IY(this))}}function di(gt=-1){return oe=>oe.lift(new Dr(gt,oe))}class Dr{constructor(oe,Ee){this.count=oe,this.source=Ee}call(oe,Ee){return Ee.subscribe(new yo(oe,this.count,this.source))}}class yo extends m.L{constructor(oe,Ee,mt){super(oe),this.count=Ee,this.source=mt}error(oe){if(!this.isStopped){const{source:Ee,count:mt}=this;if(0===mt)return super.error(oe);mt>-1&&(this.count=mt-1),Ee.subscribe(this._unsubscribeAndRecycle())}}}function br(gt){return oe=>oe.lift(new xo(gt,oe))}class xo{constructor(oe,Ee){this.notifier=oe,this.source=Ee}call(oe,Ee){return Ee.subscribe(new iu(oe,this.notifier,this.source))}}class iu extends B.Ds{constructor(oe,Ee,mt){super(oe),this.notifier=Ee,this.source=mt}error(oe){if(!this.isStopped){let Ee=this.errors,mt=this.retries,zt=this.retriesSubscription;if(mt)this.errors=void 0,this.retriesSubscription=void 0;else{Ee=new ro.xQ;try{const{notifier:sn}=this;mt=sn(Ee)}catch(sn){return super.error(sn)}zt=(0,B.ft)(mt,new B.IY(this))}this._unsubscribeAndRecycle(),this.errors=Ee,this.retries=mt,this.retriesSubscription=zt,Ee.next(oe)}}_unsubscribe(){const{errors:oe,retriesSubscription:Ee}=this;oe&&(oe.unsubscribe(),this.errors=void 0),Ee&&(Ee.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:oe}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=oe,this.source.subscribe(this)}}var bc=g(2667);function Eo(gt){return oe=>oe.lift(new io(gt))}class io{constructor(oe){this.notifier=oe}call(oe,Ee){const mt=new Pd(oe),zt=Ee.subscribe(mt);return zt.add((0,B.ft)(this.notifier,new B.IY(mt))),zt}}class Pd extends B.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(oe){this.value=oe,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Rm(gt,oe=P.P){return Ee=>Ee.lift(new ou(gt,oe))}class ou{constructor(oe,Ee){this.period=oe,this.scheduler=Ee}call(oe,Ee){return Ee.subscribe(new Rl(oe,this.period,this.scheduler))}}class Rl extends m.L{constructor(oe,Ee,mt){super(oe),this.period=Ee,this.scheduler=mt,this.hasValue=!1,this.add(mt.schedule(Fh,Ee,{subscriber:this,period:Ee}))}_next(oe){this.lastValue=oe,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Fh(gt){let{subscriber:oe,period:Ee}=gt;oe.notifyNext(),this.schedule(gt,Ee)}function Nn(gt,oe){return Ee=>Ee.lift(new kh(gt,oe))}class kh{constructor(oe,Ee){this.compareTo=oe,this.comparator=Ee}call(oe,Ee){return Ee.subscribe(new Vs(oe,this.compareTo,this.comparator))}}class Vs extends m.L{constructor(oe,Ee,mt){super(oe),this.compareTo=Ee,this.comparator=mt,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(Ee.subscribe(new Fd(oe,this)))}_next(oe){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(oe),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:oe,_b:Ee,comparator:mt}=this;for(;oe.length>0&&Ee.length>0;){let zt=oe.shift(),sn=Ee.shift(),nr=!1;try{nr=mt?mt(zt,sn):zt===sn}catch(jr){this.destination.error(jr)}nr||this.emit(!1)}}emit(oe){const{destination:Ee}=this;Ee.next(oe),Ee.complete()}nextB(oe){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(oe),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Fd extends m.L{constructor(oe,Ee){super(oe),this.parent=Ee}_next(oe){this.parent.nextB(oe)}_error(oe){this.parent.error(oe),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var wc=g(4835),su=g(3255),Pl=g(7028);function xc(gt){return oe=>oe.lift(new au(gt,oe))}class au{constructor(oe,Ee){this.predicate=oe,this.source=Ee}call(oe,Ee){return Ee.subscribe(new kd(oe,this.predicate,this.source))}}class kd extends m.L{constructor(oe,Ee,mt){super(oe),this.predicate=Ee,this.source=mt,this.seenValue=!1,this.index=0}applySingleValue(oe){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=oe)}_next(oe){const Ee=this.index++;this.predicate?this.tryNext(oe,Ee):this.applySingleValue(oe)}tryNext(oe,Ee){try{this.predicate(oe,Ee,this.source)&&this.applySingleValue(oe)}catch(mt){this.destination.error(mt)}}_complete(){const oe=this.destination;this.index>0?(oe.next(this.seenValue?this.singleValue:void 0),oe.complete()):oe.error(new Pl.K)}}var Yr=g(3392);function Fl(gt){return oe=>oe.lift(new Ld(gt))}class Ld{constructor(oe){if(this._skipCount=oe,this._skipCount<0)throw new Gt.W}call(oe,Ee){return Ee.subscribe(0===this._skipCount?new m.L(oe):new ko(oe,this._skipCount))}}class ko extends m.L{constructor(oe,Ee){super(oe),this._skipCount=Ee,this._count=0,this._ring=new Array(Ee)}_next(oe){const Ee=this._skipCount,mt=this._count++;if(mt<Ee)this._ring[mt]=oe;else{const zt=mt%Ee,sn=this._ring,nr=sn[zt];sn[zt]=oe,this.destination.next(nr)}}}function mi(gt){return oe=>oe.lift(new da(gt))}class da{constructor(oe){this.notifier=oe}call(oe,Ee){return Ee.subscribe(new Gs(oe,this.notifier))}}class Gs extends B.Ds{constructor(oe,Ee){super(oe),this.hasValue=!1;const mt=new B.IY(this);this.add(mt),this.innerSubscription=mt;const zt=(0,B.ft)(Ee,mt);zt!==mt&&(this.add(zt),this.innerSubscription=zt)}_next(oe){this.hasValue&&super._next(oe)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function Lh(gt){return oe=>oe.lift(new Pm(gt))}class Pm{constructor(oe){this.predicate=oe}call(oe,Ee){return Ee.subscribe(new Ii(oe,this.predicate))}}class Ii extends m.L{constructor(oe,Ee){super(oe),this.predicate=Ee,this.skipping=!0,this.index=0}_next(oe){const Ee=this.destination;this.skipping&&this.tryCallPredicate(oe),this.skipping||Ee.next(oe)}tryCallPredicate(oe){try{const Ee=this.predicate(oe,this.index++);this.skipping=Boolean(Ee)}catch(Ee){this.destination.error(Ee)}}}var Nd=g(2195),lu=g(5674),fa=g(597);class Xn extends Ge.y{constructor(oe,Ee=0,mt=lu.e){super(),this.source=oe,this.delayTime=Ee,this.scheduler=mt,(!(0,fa.k)(Ee)||Ee<0)&&(this.delayTime=0),(!mt||"function"!=typeof mt.schedule)&&(this.scheduler=lu.e)}static create(oe,Ee=0,mt=lu.e){return new Xn(oe,Ee,mt)}static dispatch(oe){const{source:Ee,subscriber:mt}=oe;return this.add(Ee.subscribe(mt))}_subscribe(oe){return this.scheduler.schedule(Xn.dispatch,this.delayTime,{source:this.source,subscriber:oe})}}function Nh(gt,oe=0){return function(mt){return mt.lift(new kl(gt,oe))}}class kl{constructor(oe,Ee){this.scheduler=oe,this.delay=Ee}call(oe,Ee){return new Xn(Ee,this.delay,this.scheduler).subscribe(oe)}}var zs=g(724),Nr=g(4724);function Bh(){return(0,zs.w)(Nr.y)}function Ta(gt,oe){return oe?(0,zs.w)(()=>gt,oe):(0,zs.w)(()=>gt)}var Uh=g(9954),Zs=g(4551),cu=g(9899),Jo=g(9270),tr=g(7398),Bd=g(3589);function Fm(gt=P.P){return oe=>(0,Bd.P)(()=>oe.pipe((0,xr.R)(({current:Ee},mt)=>({value:mt,current:gt.now(),last:Ee}),{current:gt.now(),value:void 0,last:void 0}),(0,Xr.U)(({current:Ee,last:mt,value:zt})=>new Ud(zt,Ee-mt))))}class Ud{constructor(oe,Ee){this.value=oe,this.interval=Ee}}var jd=g(6597),Hd=g(4865);function il(gt=P.P){return(0,Xr.U)(oe=>new uu(oe,gt.now()))}class uu{constructor(oe,Ee){this.value=oe,this.timestamp=Ee}}function dn(gt,oe,Ee){return 0===Ee?[oe]:(gt.push(oe),gt)}function N(){return Ir(dn,[])}function Er(gt){return function(Ee){return Ee.lift(new du(gt))}}class du{constructor(oe){this.windowBoundaries=oe}call(oe,Ee){const mt=new Ec(oe),zt=Ee.subscribe(mt);return zt.closed||mt.add((0,B.ft)(this.windowBoundaries,new B.IY(mt))),zt}}class Ec extends B.Ds{constructor(oe){super(oe),this.window=new ro.xQ,oe.next(this.window)}notifyNext(){this.openWindow()}notifyError(oe){this._error(oe)}notifyComplete(){this._complete()}_next(oe){this.window.next(oe)}_error(oe){this.window.error(oe),this.destination.error(oe)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const oe=this.window;oe&&oe.complete();const Ee=this.destination,mt=this.window=new ro.xQ;Ee.next(mt)}}function vi(gt,oe=0){return function(mt){return mt.lift(new oo(gt,oe))}}class oo{constructor(oe,Ee){this.windowSize=oe,this.startWindowEvery=Ee}call(oe,Ee){return Ee.subscribe(new Ll(oe,this.windowSize,this.startWindowEvery))}}class Ll extends m.L{constructor(oe,Ee,mt){super(oe),this.destination=oe,this.windowSize=Ee,this.startWindowEvery=mt,this.windows=[new ro.xQ],this.count=0,oe.next(this.windows[0])}_next(oe){const Ee=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,mt=this.destination,zt=this.windowSize,sn=this.windows,nr=sn.length;for(let $i=0;$i<nr&&!this.closed;$i++)sn[$i].next(oe);const jr=this.count-zt+1;if(jr>=0&&jr%Ee==0&&!this.closed&&sn.shift().complete(),++this.count%Ee==0&&!this.closed){const $i=new ro.xQ;sn.push($i),mt.next($i)}}_error(oe){const Ee=this.windows;if(Ee)for(;Ee.length>0&&!this.closed;)Ee.shift().error(oe);this.destination.error(oe)}_complete(){const oe=this.windows;if(oe)for(;oe.length>0&&!this.closed;)oe.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function us(gt){let oe=P.P,Ee=null,mt=Number.POSITIVE_INFINITY;return(0,I.K)(arguments[3])&&(oe=arguments[3]),(0,I.K)(arguments[2])?oe=arguments[2]:(0,fa.k)(arguments[2])&&(mt=Number(arguments[2])),(0,I.K)(arguments[1])?oe=arguments[1]:(0,fa.k)(arguments[1])&&(Ee=Number(arguments[1])),function(sn){return sn.lift(new fu(gt,Ee,mt,oe))}}class fu{constructor(oe,Ee,mt,zt){this.windowTimeSpan=oe,this.windowCreationInterval=Ee,this.maxWindowSize=mt,this.scheduler=zt}call(oe,Ee){return Ee.subscribe(new ol(oe,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class ha extends ro.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(oe){this._numberOfNextedValues++,super.next(oe)}get numberOfNextedValues(){return this._numberOfNextedValues}}class ol extends m.L{constructor(oe,Ee,mt,zt,sn){super(oe),this.destination=oe,this.windowTimeSpan=Ee,this.windowCreationInterval=mt,this.maxWindowSize=zt,this.scheduler=sn,this.windows=[];const nr=this.openWindow();if(null!==mt&&mt>=0){const $i={windowTimeSpan:Ee,windowCreationInterval:mt,subscriber:this,scheduler:sn};this.add(sn.schedule(xs,Ee,{subscriber:this,window:nr,context:null})),this.add(sn.schedule(ei,mt,$i))}else this.add(sn.schedule(Ri,Ee,{subscriber:this,window:nr,windowTimeSpan:Ee}))}_next(oe){const Ee=this.windows,mt=Ee.length;for(let zt=0;zt<mt;zt++){const sn=Ee[zt];sn.closed||(sn.next(oe),sn.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(sn))}}_error(oe){const Ee=this.windows;for(;Ee.length>0;)Ee.shift().error(oe);this.destination.error(oe)}_complete(){const oe=this.windows;for(;oe.length>0;){const Ee=oe.shift();Ee.closed||Ee.complete()}this.destination.complete()}openWindow(){const oe=new ha;return this.windows.push(oe),this.destination.next(oe),oe}closeWindow(oe){oe.complete();const Ee=this.windows;Ee.splice(Ee.indexOf(oe),1)}}function Ri(gt){const{subscriber:oe,windowTimeSpan:Ee,window:mt}=gt;mt&&oe.closeWindow(mt),gt.window=oe.openWindow(),this.schedule(gt,Ee)}function ei(gt){const{windowTimeSpan:oe,subscriber:Ee,scheduler:mt,windowCreationInterval:zt}=gt,sn=Ee.openWindow();let jr={action:this,subscription:null};jr.subscription=mt.schedule(xs,oe,{subscriber:Ee,window:sn,context:jr}),this.add(jr.subscription),this.schedule(gt,zt)}function xs(gt){const{subscriber:oe,window:Ee,context:mt}=gt;mt&&mt.action&&mt.subscription&&mt.action.remove(mt.subscription),oe.closeWindow(Ee)}function Pr(gt,oe){return Ee=>Ee.lift(new ds(gt,oe))}class ds{constructor(oe,Ee){this.openings=oe,this.closingSelector=Ee}call(oe,Ee){return Ee.subscribe(new Cc(oe,this.openings,this.closingSelector))}}class Cc extends Y.L{constructor(oe,Ee,mt){super(oe),this.openings=Ee,this.closingSelector=mt,this.contexts=[],this.add(this.openSubscription=(0,fe.D)(this,Ee,Ee))}_next(oe){const{contexts:Ee}=this;if(Ee){const mt=Ee.length;for(let zt=0;zt<mt;zt++)Ee[zt].window.next(oe)}}_error(oe){const{contexts:Ee}=this;if(this.contexts=null,Ee){const mt=Ee.length;let zt=-1;for(;++zt<mt;){const sn=Ee[zt];sn.window.error(oe),sn.subscription.unsubscribe()}}super._error(oe)}_complete(){const{contexts:oe}=this;if(this.contexts=null,oe){const Ee=oe.length;let mt=-1;for(;++mt<Ee;){const zt=oe[mt];zt.window.complete(),zt.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:oe}=this;if(this.contexts=null,oe){const Ee=oe.length;let mt=-1;for(;++mt<Ee;){const zt=oe[mt];zt.window.unsubscribe(),zt.subscription.unsubscribe()}}}notifyNext(oe,Ee,mt,zt,sn){if(oe===this.openings){let nr;try{const{closingSelector:ga}=this;nr=ga(Ee)}catch(ga){return this.error(ga)}const jr=new ro.xQ,$i=new ue.w,sl={window:jr,subscription:$i};this.contexts.push(sl);const pa=(0,fe.D)(this,nr,sl);pa.closed?this.closeWindow(this.contexts.length-1):(pa.context=sl,$i.add(pa)),this.destination.next(jr)}else this.closeWindow(this.contexts.indexOf(oe))}notifyError(oe){this.error(oe)}notifyComplete(oe){oe!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(oe.context))}closeWindow(oe){if(-1===oe)return;const{contexts:Ee}=this,mt=Ee[oe],{window:zt,subscription:sn}=mt;Ee.splice(oe,1),zt.complete(),sn.unsubscribe()}}function Es(gt){return function(Ee){return Ee.lift(new ar(gt))}}class ar{constructor(oe){this.closingSelector=oe}call(oe,Ee){return Ee.subscribe(new jh(oe,this.closingSelector))}}class jh extends Y.L{constructor(oe,Ee){super(oe),this.destination=oe,this.closingSelector=Ee,this.openWindow()}notifyNext(oe,Ee,mt,zt,sn){this.openWindow(sn)}notifyError(oe){this._error(oe)}notifyComplete(oe){this.openWindow(oe)}_next(oe){this.window.next(oe)}_error(oe){this.window.error(oe),this.destination.error(oe),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(oe=null){oe&&(this.remove(oe),oe.unsubscribe());const Ee=this.window;Ee&&Ee.complete();const mt=this.window=new ro.xQ;let zt;this.destination.next(mt);try{const{closingSelector:sn}=this;zt=sn()}catch(sn){return this.destination.error(sn),void this.window.error(sn)}this.add(this.closingNotification=(0,fe.D)(this,zt))}}var Hh=g(6366),Vd=g(8531);function Vh(...gt){return function(Ee){return Ee.lift.call((0,Vd.$R)(Ee,...gt))}}function Wi(gt){return oe=>oe.lift(new Vd.mx(gt))}},3615:(te,O,g)=>{var i=g(7526),F=i.Buffer;function B(E,w){for(var m in E)w[m]=E[m]}function T(E,w,m){return F(E,w,m)}F.from&&F.alloc&&F.allocUnsafe&&F.allocUnsafeSlow?te.exports=i:(B(i,O),O.Buffer=T),T.prototype=Object.create(F.prototype),B(F,T),T.from=function(E,w,m){if("number"==typeof E)throw new TypeError("Argument must not be a number");return F(E,w,m)},T.alloc=function(E,w,m){if("number"!=typeof E)throw new TypeError("Argument must be a number");var b=F(E);return void 0!==w?"string"==typeof m?b.fill(w,m):b.fill(w):b.fill(0),b},T.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return F(E)},T.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return i.SlowBuffer(E)}},9624:(te,O)=>{"use strict";const{hasOwnProperty:g}=Object.prototype,i=K();i.configure=K,i.stringify=i,i.default=i,O.stringify=i,O.configure=K,te.exports=i;const F=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,B=new RegExp(F,"g"),T=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function E(z){if(2===z.length){const pe=z.charCodeAt(1);return`${z[0]}\\u${pe.toString(16)}`}const ae=z.charCodeAt(0);return T.length>ae?T[ae]:`\\u${ae.toString(16)}`}function w(z){if(z.length<5e3&&!F.test(z))return z;if(z.length>100)return z.replace(B,E);let ae="",pe=0;for(let ue=0;ue<z.length;ue++){const fe=z.charCodeAt(ue);if(34===fe||92===fe||fe<32)ae+=`${z.slice(pe,ue)}${T[fe]}`,pe=ue+1;else if(fe>=55296&&fe<=57343){if(fe<=56319&&ue+1<z.length){const Y=z.charCodeAt(ue+1);if(Y>=56320&&Y<=57343){ue++;continue}}ae+=`${z.slice(pe,ue)}\\u${fe.toString(16)}`,pe=ue+1}}return ae+=z.slice(pe),ae}function m(z){if(z.length>200)return z.sort();for(let ae=1;ae<z.length;ae++){const pe=z[ae];let ue=ae;for(;0!==ue&&z[ue-1]>pe;)z[ue]=z[ue-1],ue--;z[ue]=pe}return z}const b=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function S(z){return void 0!==b.call(z)&&0!==z.length}function k(z,ae,pe){z.length<pe&&(pe=z.length);const ue=","===ae?"":" ";let fe=`"0":${ue}${z[0]}`;for(let Y=1;Y<pe;Y++)fe+=`${ae}"${Y}":${ue}${z[Y]}`;return fe}function P(z,ae){let pe;if(g.call(z,ae)&&(pe=z[ae],"boolean"!=typeof pe))throw new TypeError(`The "${ae}" argument must be of type boolean`);return void 0===pe||pe}function I(z,ae){let pe;if(g.call(z,ae)){if(pe=z[ae],"number"!=typeof pe)throw new TypeError(`The "${ae}" argument must be of type number`);if(!Number.isInteger(pe))throw new TypeError(`The "${ae}" argument must be an integer`);if(pe<1)throw new RangeError(`The "${ae}" argument must be >= 1`)}return void 0===pe?1/0:pe}function C(z){return 1===z?"1 item":`${z} items`}function U(z){const ae=new Set;for(const pe of z)("string"==typeof pe||"number"==typeof pe)&&ae.add(String(pe));return ae}function K(z){const ae=function $(z){if(g.call(z,"strict")){const ae=z.strict;if("boolean"!=typeof ae)throw new TypeError('The "strict" argument must be of type boolean');if(ae)return pe=>{let ue="Object can not safely be stringified. Received type "+typeof pe;throw"function"!=typeof pe&&(ue+=` (${pe.toString()})`),new Error(ue)}}}(z=Ey({},z));ae&&(void 0===z.bigint&&(z.bigint=!1),"circularValue"in z||(z.circularValue=Error));const pe=function R(z){if(g.call(z,"circularValue")){const ae=z.circularValue;if("string"==typeof ae)return`"${ae}"`;if(null==ae)return ae;if(ae===Error||ae===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(z),ue=P(z,"bigint"),fe=P(z,"deterministic"),Y=I(z,"maximumDepth"),De=I(z,"maximumBreadth");function me(ne,ve,Ue,ke,Ie,Ne){let Te=ve[ne];switch("object"==typeof Te&&null!==Te&&"function"==typeof Te.toJSON&&(Te=Te.toJSON(ne)),Te=ke.call(ve,ne,Te),typeof Te){case"string":return`"${w(Te)}"`;case"object":{if(null===Te)return"null";if(-1!==Ue.indexOf(Te))return pe;let ze="",ht=",";const Ke=Ne;if(Array.isArray(Te)){if(0===Te.length)return"[]";if(Y<Ue.length+1)return'"[Array]"';Ue.push(Te),""!==Ie&&(ze+=`\n${Ne+=Ie}`,ht=`,\n${Ne}`);const $e=Math.min(Te.length,De);let Re=0;for(;Re<$e-1;Re++){const Xe=me(Re,Te,Ue,ke,Ie,Ne);ze+=void 0!==Xe?Xe:"null",ze+=ht}const Ve=me(Re,Te,Ue,ke,Ie,Ne);return ze+=void 0!==Ve?Ve:"null",Te.length-1>De&&(ze+=`${ht}"... ${C(Te.length-De-1)} not stringified"`),""!==Ie&&(ze+=`\n${Ke}`),Ue.pop(),`[${ze}]`}let tt=Object.keys(Te);const qe=tt.length;if(0===qe)return"{}";if(Y<Ue.length+1)return'"[Object]"';let Qe="",We="";""!==Ie&&(ht=`,\n${Ne+=Ie}`,Qe=" ");let ft=Math.min(qe,De);S(Te)&&(ze+=k(Te,ht,De),tt=tt.slice(Te.length),ft-=Te.length,We=ht),fe&&(tt=m(tt)),Ue.push(Te);for(let $e=0;$e<ft;$e++){const Re=tt[$e],Ve=me(Re,Te,Ue,ke,Ie,Ne);void 0!==Ve&&(ze+=`${We}"${w(Re)}":${Qe}${Ve}`,We=ht)}return qe>De&&(ze+=`${We}"...":${Qe}"${C(qe-De)} not stringified"`,We=ht),""!==Ie&&We.length>1&&(ze=`\n${Ne}${ze}\n${Ke}`),Ue.pop(),`{${ze}}`}case"number":return isFinite(Te)?String(Te):ae?ae(Te):"null";case"boolean":return!0===Te?"true":"false";case"undefined":return;case"bigint":if(ue)return String(Te);default:return ae?ae(Te):void 0}}function Me(ne,ve,Ue,ke,Ie,Ne){switch("object"==typeof ve&&null!==ve&&"function"==typeof ve.toJSON&&(ve=ve.toJSON(ne)),typeof ve){case"string":return`"${w(ve)}"`;case"object":{if(null===ve)return"null";if(-1!==Ue.indexOf(ve))return pe;const Te=Ne;let ze="",ht=",";if(Array.isArray(ve)){if(0===ve.length)return"[]";if(Y<Ue.length+1)return'"[Array]"';Ue.push(ve),""!==Ie&&(ze+=`\n${Ne+=Ie}`,ht=`,\n${Ne}`);const qe=Math.min(ve.length,De);let Qe=0;for(;Qe<qe-1;Qe++){const ft=Me(Qe,ve[Qe],Ue,ke,Ie,Ne);ze+=void 0!==ft?ft:"null",ze+=ht}const We=Me(Qe,ve[Qe],Ue,ke,Ie,Ne);return ze+=void 0!==We?We:"null",ve.length-1>De&&(ze+=`${ht}"... ${C(ve.length-De-1)} not stringified"`),""!==Ie&&(ze+=`\n${Te}`),Ue.pop(),`[${ze}]`}if(0===ke.size)return"{}";Ue.push(ve);let Ke="";""!==Ie&&(ht=`,\n${Ne+=Ie}`,Ke=" ");let tt="";for(const qe of ke){const Qe=Me(qe,ve[qe],Ue,ke,Ie,Ne);void 0!==Qe&&(ze+=`${tt}"${w(qe)}":${Ke}${Qe}`,tt=ht)}return""!==Ie&&tt.length>1&&(ze=`\n${Ne}${ze}\n${Te}`),Ue.pop(),`{${ze}}`}case"number":return isFinite(ve)?String(ve):ae?ae(ve):"null";case"boolean":return!0===ve?"true":"false";case"undefined":return;case"bigint":if(ue)return String(ve);default:return ae?ae(ve):void 0}}function nt(ne,ve,Ue,ke,Ie){switch(typeof ve){case"string":return`"${w(ve)}"`;case"object":{if(null===ve)return"null";if("function"==typeof ve.toJSON){if("object"!=typeof(ve=ve.toJSON(ne)))return nt(ne,ve,Ue,ke,Ie);if(null===ve)return"null"}if(-1!==Ue.indexOf(ve))return pe;const Ne=Ie;if(Array.isArray(ve)){if(0===ve.length)return"[]";if(Y<Ue.length+1)return'"[Array]"';Ue.push(ve);let Qe=`\n${Ie+=ke}`;const We=`,\n${Ie}`,ft=Math.min(ve.length,De);let $e=0;for(;$e<ft-1;$e++){const Ve=nt($e,ve[$e],Ue,ke,Ie);Qe+=void 0!==Ve?Ve:"null",Qe+=We}const Re=nt($e,ve[$e],Ue,ke,Ie);return Qe+=void 0!==Re?Re:"null",ve.length-1>De&&(Qe+=`${We}"... ${C(ve.length-De-1)} not stringified"`),Qe+=`\n${Ne}`,Ue.pop(),`[${Qe}]`}let Te=Object.keys(ve);const ze=Te.length;if(0===ze)return"{}";if(Y<Ue.length+1)return'"[Object]"';const ht=`,\n${Ie+=ke}`;let Ke="",tt="",qe=Math.min(ze,De);S(ve)&&(Ke+=k(ve,ht,De),Te=Te.slice(ve.length),qe-=ve.length,tt=ht),fe&&(Te=m(Te)),Ue.push(ve);for(let Qe=0;Qe<qe;Qe++){const We=Te[Qe],ft=nt(We,ve[We],Ue,ke,Ie);void 0!==ft&&(Ke+=`${tt}"${w(We)}": ${ft}`,tt=ht)}return ze>De&&(Ke+=`${tt}"...": "${C(ze-De)} not stringified"`,tt=ht),""!==tt&&(Ke=`\n${Ie}${Ke}\n${Ne}`),Ue.pop(),`{${Ke}}`}case"number":return isFinite(ve)?String(ve):ae?ae(ve):"null";case"boolean":return!0===ve?"true":"false";case"undefined":return;case"bigint":if(ue)return String(ve);default:return ae?ae(ve):void 0}}function et(ne,ve,Ue){switch(typeof ve){case"string":return`"${w(ve)}"`;case"object":{if(null===ve)return"null";if("function"==typeof ve.toJSON){if("object"!=typeof(ve=ve.toJSON(ne)))return et(ne,ve,Ue);if(null===ve)return"null"}if(-1!==Ue.indexOf(ve))return pe;let ke="";if(Array.isArray(ve)){if(0===ve.length)return"[]";if(Y<Ue.length+1)return'"[Array]"';Ue.push(ve);const ht=Math.min(ve.length,De);let Ke=0;for(;Ke<ht-1;Ke++){const qe=et(Ke,ve[Ke],Ue);ke+=void 0!==qe?qe:"null",ke+=","}const tt=et(Ke,ve[Ke],Ue);return ke+=void 0!==tt?tt:"null",ve.length-1>De&&(ke+=`,"... ${C(ve.length-De-1)} not stringified"`),Ue.pop(),`[${ke}]`}let Ie=Object.keys(ve);const Ne=Ie.length;if(0===Ne)return"{}";if(Y<Ue.length+1)return'"[Object]"';let Te="",ze=Math.min(Ne,De);S(ve)&&(ke+=k(ve,",",De),Ie=Ie.slice(ve.length),ze-=ve.length,Te=","),fe&&(Ie=m(Ie)),Ue.push(ve);for(let ht=0;ht<ze;ht++){const Ke=Ie[ht],tt=et(Ke,ve[Ke],Ue);void 0!==tt&&(ke+=`${Te}"${w(Ke)}":${tt}`,Te=",")}return Ne>De&&(ke+=`${Te}"...":"${C(Ne-De)} not stringified"`),Ue.pop(),`{${ke}}`}case"number":return isFinite(ve)?String(ve):ae?ae(ve):"null";case"boolean":return!0===ve?"true":"false";case"undefined":return;case"bigint":if(ue)return String(ve);default:return ae?ae(ve):void 0}}return function de(ne,ve,Ue){if(arguments.length>1){let ke="";if("number"==typeof Ue?ke=" ".repeat(Math.min(Ue,10)):"string"==typeof Ue&&(ke=Ue.slice(0,10)),null!=ve){if("function"==typeof ve)return me("",{"":ne},[],ve,ke,"");if(Array.isArray(ve))return Me("",ne,[],U(ve),ke,"")}if(0!==ke.length)return nt("",ne,[],ke,"")}return et("",ne,[])}}},7073:(te,O)=>{function g(B){for(var T in B)this[T]=B[T]}O.get=function(B){var T=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var E={},w=Error.prepareStackTrace;Error.prepareStackTrace=function(b,S){return S},Error.captureStackTrace(E,B||O.get);var m=E.stack;return Error.prepareStackTrace=w,Error.stackTraceLimit=T,m},O.parse=function(B){if(!B.stack)return[];var T=this;return B.stack.split("\n").slice(1).map(function(w){if(w.match(/^\s*[-]{4,}$/))return T._createParsedCallSite({fileName:w,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var m=w.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(m){var b=null,S=null,k=null,R=null,P=null,I="native"===m[5];if(m[1]){var C=(k=m[1]).lastIndexOf(".");if("."==k[C-1]&&C--,C>0){b=k.substr(0,C),S=k.substr(C+1);var U=b.indexOf(".Module");U>0&&(k=k.substr(U+1),b=b.substr(0,U))}R=null}S&&(R=b,P=S),"<anonymous>"===S&&(P=null,k=null);var $={fileName:m[2]||null,lineNumber:parseInt(m[3],10)||null,functionName:k,typeName:R,methodName:P,columnNumber:parseInt(m[4],10)||null,native:I};return T._createParsedCallSite($)}}).filter(function(w){return!!w})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(B){g.prototype[B]=null,g.prototype["get"+B[0].toUpperCase()+B.substr(1)]=function(){return this[B]}}),["topLevel","eval","native","constructor"].forEach(function(B){g.prototype[B]=!1,g.prototype["is"+B[0].toUpperCase()+B.substr(1)]=function(){return this[B]}}),O._createParsedCallSite=function(B){return new g(B)}},9393:(te,O,g)=>{te.exports=B;var i=g(9502).EventEmitter;function B(){i.call(this)}g(7326)(B,i),B.Readable=g(9039),B.Writable=g(4016),B.Duplex=g(4290),B.Transform=g(2502),B.PassThrough=g(6763),B.finished=g(913),B.pipeline=g(5060),B.Stream=B,B.prototype.pipe=function(T,E){var w=this;function m(C){T.writable&&!1===T.write(C)&&w.pause&&w.pause()}function b(){w.readable&&w.resume&&w.resume()}w.on("data",m),T.on("drain",b),!T._isStdio&&(!E||!1!==E.end)&&(w.on("end",k),w.on("close",R));var S=!1;function k(){S||(S=!0,T.end())}function R(){S||(S=!0,"function"==typeof T.destroy&&T.destroy())}function P(C){if(I(),0===i.listenerCount(this,"error"))throw C}function I(){w.removeListener("data",m),T.removeListener("drain",b),w.removeListener("end",k),w.removeListener("close",R),w.removeListener("error",P),T.removeListener("error",P),w.removeListener("end",I),w.removeListener("close",I),T.removeListener("close",I)}return w.on("error",P),T.on("error",P),w.on("end",I),w.on("close",I),T.on("close",I),T.emit("pipe",w),T}},5305:(te,O,g)=>{var i=g(906),F=g(1591),B=g(7980),T=g(8314),E=g(6549),w=O;w.request=function(m,b){m="string"==typeof m?E.parse(m):B(m);var S=-1===global.location.protocol.search(/^https?:$/)?"http:":"",k=m.protocol||S,R=m.hostname||m.host,P=m.port,I=m.path||"/";R&&-1!==R.indexOf(":")&&(R="["+R+"]"),m.url=(R?k+"//"+R:"")+(P?":"+P:"")+I,m.method=(m.method||"GET").toUpperCase(),m.headers=m.headers||{};var C=new i(m);return b&&C.on("response",b),C},w.get=function(b,S){var k=w.request(b,S);return k.end(),k},w.ClientRequest=i,w.IncomingMessage=F.IncomingMessage,w.Agent=function(){},w.Agent.defaultMaxSockets=4,w.globalAgent=new w.Agent,w.STATUS_CODES=T,w.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},1962:(te,O)=>{var g;function i(){if(void 0!==g)return g;if(global.XMLHttpRequest){g=new global.XMLHttpRequest;try{g.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(T){g=null}}else g=null;return g}function F(T){var E=i();if(!E)return!1;try{return E.responseType=T,E.responseType===T}catch(w){}return!1}function B(T){return"function"==typeof T}O.fetch=B(global.fetch)&&B(global.ReadableStream),O.writableStream=B(global.WritableStream),O.abortController=B(global.AbortController),O.arraybuffer=O.fetch||F("arraybuffer"),O.msstream=!O.fetch&&F("ms-stream"),O.mozchunkedarraybuffer=!O.fetch&&F("moz-chunked-arraybuffer"),O.overrideMimeType=O.fetch||!!i()&&B(i().overrideMimeType),g=null},906:(te,O,g)=>{var i=g(7526).Buffer,F=g(1986),B=g(1962),T=g(7326),E=g(1591),w=g(8623),m=E.IncomingMessage,b=E.readyStates,k=te.exports=function(I){var C=this;w.Writable.call(C),C._opts=I,C._body=[],C._headers={},I.auth&&C.setHeader("Authorization","Basic "+i.from(I.auth).toString("base64")),Object.keys(I.headers).forEach(function(K){C.setHeader(K,I.headers[K])});var U,$=!0;if("disable-fetch"===I.mode||"requestTimeout"in I&&!B.abortController)$=!1,U=!0;else if("prefer-streaming"===I.mode)U=!1;else if("allow-wrong-content-type"===I.mode)U=!B.overrideMimeType;else{if(I.mode&&"default"!==I.mode&&"prefer-fast"!==I.mode)throw new Error("Invalid value for opts.mode");U=!0}C._mode=function S(I,C){return B.fetch&&C?"fetch":B.mozchunkedarraybuffer?"moz-chunked-arraybuffer":B.msstream?"ms-stream":B.arraybuffer&&I?"arraybuffer":"text"}(U,$),C._fetchTimer=null,C._socketTimeout=null,C._socketTimer=null,C.on("finish",function(){C._onFinish()})};T(k,w.Writable),k.prototype.setHeader=function(I,C){var $=I.toLowerCase();-1===P.indexOf($)&&(this._headers[$]={name:I,value:C})},k.prototype.getHeader=function(I){var C=this._headers[I.toLowerCase()];return C?C.value:null},k.prototype.removeHeader=function(I){delete this._headers[I.toLowerCase()]},k.prototype._onFinish=function(){var I=this;if(!I._destroyed){var C=I._opts;"timeout"in C&&0!==C.timeout&&I.setTimeout(C.timeout);var U=I._headers,$=null;"GET"!==C.method&&"HEAD"!==C.method&&($=new Blob(I._body,{type:(U["content-type"]||{}).value||""}));var K=[];if(Object.keys(U).forEach(function(ue){var fe=U[ue].name,Y=U[ue].value;Array.isArray(Y)?Y.forEach(function(De){K.push([fe,De])}):K.push([fe,Y])}),"fetch"===I._mode){var z=null;if(B.abortController){var ae=new AbortController;z=ae.signal,I._fetchAbortController=ae,"requestTimeout"in C&&0!==C.requestTimeout&&(I._fetchTimer=global.setTimeout(function(){I.emit("requestTimeout"),I._fetchAbortController&&I._fetchAbortController.abort()},C.requestTimeout))}global.fetch(I._opts.url,{method:I._opts.method,headers:K,body:$||void 0,mode:"cors",credentials:C.withCredentials?"include":"same-origin",signal:z}).then(function(ue){I._fetchResponse=ue,I._resetTimers(!1),I._connect()},function(ue){I._resetTimers(!0),I._destroyed||I.emit("error",ue)})}else{var pe=I._xhr=new global.XMLHttpRequest;try{pe.open(I._opts.method,I._opts.url,!0)}catch(ue){return void F.nextTick(function(){I.emit("error",ue)})}"responseType"in pe&&(pe.responseType=I._mode),"withCredentials"in pe&&(pe.withCredentials=!!C.withCredentials),"text"===I._mode&&"overrideMimeType"in pe&&pe.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in C&&(pe.timeout=C.requestTimeout,pe.ontimeout=function(){I.emit("requestTimeout")}),K.forEach(function(ue){pe.setRequestHeader(ue[0],ue[1])}),I._response=null,pe.onreadystatechange=function(){switch(pe.readyState){case b.LOADING:case b.DONE:I._onXHRProgress()}},"moz-chunked-arraybuffer"===I._mode&&(pe.onprogress=function(){I._onXHRProgress()}),pe.onerror=function(){I._destroyed||(I._resetTimers(!0),I.emit("error",new Error("XHR error")))};try{pe.send($)}catch(ue){return void F.nextTick(function(){I.emit("error",ue)})}}}},k.prototype._onXHRProgress=function(){var I=this;I._resetTimers(!1),function R(I){try{var C=I.status;return null!==C&&0!==C}catch(U){return!1}}(I._xhr)&&!I._destroyed&&(I._response||I._connect(),I._response._onXHRProgress(I._resetTimers.bind(I)))},k.prototype._connect=function(){var I=this;I._destroyed||(I._response=new m(I._xhr,I._fetchResponse,I._mode,I._resetTimers.bind(I)),I._response.on("error",function(C){I.emit("error",C)}),I.emit("response",I._response))},k.prototype._write=function(I,C,U){this._body.push(I),U()},k.prototype._resetTimers=function(I){var C=this;global.clearTimeout(C._socketTimer),C._socketTimer=null,I?(global.clearTimeout(C._fetchTimer),C._fetchTimer=null):C._socketTimeout&&(C._socketTimer=global.setTimeout(function(){C.emit("timeout")},C._socketTimeout))},k.prototype.abort=k.prototype.destroy=function(I){var C=this;C._destroyed=!0,C._resetTimers(!0),C._response&&(C._response._destroyed=!0),C._xhr?C._xhr.abort():C._fetchAbortController&&C._fetchAbortController.abort(),I&&C.emit("error",I)},k.prototype.end=function(I,C,U){"function"==typeof I&&(U=I,I=void 0),w.Writable.prototype.end.call(this,I,C,U)},k.prototype.setTimeout=function(I,C){var U=this;C&&U.once("timeout",C),U._socketTimeout=I,U._resetTimers(!1)},k.prototype.flushHeaders=function(){},k.prototype.setNoDelay=function(){},k.prototype.setSocketKeepAlive=function(){};var P=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},1591:(te,O,g)=>{var i=g(1986),F=g(7526).Buffer,B=g(1962),T=g(7326),E=g(8623),w=O.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},m=O.IncomingMessage=function(b,S,k,R){var P=this;if(E.Readable.call(P),P._mode=k,P.headers={},P.rawHeaders=[],P.trailers={},P.rawTrailers=[],P.on("end",function(){i.nextTick(function(){P.emit("close")})}),"fetch"===k){let ae=function(){C.read().then(function(pe){if(!P._destroyed){if(R(pe.done),pe.done)return void P.push(null);P.push(F.from(pe.value)),ae()}}).catch(function(pe){R(!0),P._destroyed||P.emit("error",pe)})};if(P._fetchResponse=S,P.url=S.url,P.statusCode=S.status,P.statusMessage=S.statusText,S.headers.forEach(function(pe,ue){P.headers[ue.toLowerCase()]=pe,P.rawHeaders.push(ue,pe)}),B.writableStream){var I=new WritableStream({write:function(pe){return R(!1),new Promise(function(ue,fe){P._destroyed?fe():P.push(F.from(pe))?ue():P._resumeFetch=ue})},close:function(){R(!0),P._destroyed||P.push(null)},abort:function(pe){R(!0),P._destroyed||P.emit("error",pe)}});try{return void S.body.pipeTo(I).catch(function(pe){R(!0),P._destroyed||P.emit("error",pe)})}catch(pe){}}var C=S.body.getReader();ae()}else if(P._xhr=b,P._pos=0,P.url=b.responseURL,P.statusCode=b.status,P.statusMessage=b.statusText,b.getAllResponseHeaders().split(/\r?\n/).forEach(function(ae){var pe=ae.match(/^([^:]+):\s*(.*)/);if(pe){var ue=pe[1].toLowerCase();"set-cookie"===ue?(void 0===P.headers[ue]&&(P.headers[ue]=[]),P.headers[ue].push(pe[2])):void 0!==P.headers[ue]?P.headers[ue]+=", "+pe[2]:P.headers[ue]=pe[2],P.rawHeaders.push(pe[1],pe[2])}}),P._charset="x-user-defined",!B.overrideMimeType){var $=P.rawHeaders["mime-type"];if($){var K=$.match(/;\s*charset=([^;])(;|$)/);K&&(P._charset=K[1].toLowerCase())}P._charset||(P._charset="utf-8")}};T(m,E.Readable),m.prototype._read=function(){var S=this._resumeFetch;S&&(this._resumeFetch=null,S())},m.prototype._onXHRProgress=function(b){var S=this,k=S._xhr,R=null;switch(S._mode){case"text":if((R=k.responseText).length>S._pos){var P=R.substr(S._pos);if("x-user-defined"===S._charset){for(var I=F.alloc(P.length),C=0;C<P.length;C++)I[C]=255&P.charCodeAt(C);S.push(I)}else S.push(P,S._charset);S._pos=R.length}break;case"arraybuffer":if(k.readyState!==w.DONE||!k.response)break;R=k.response,S.push(F.from(new Uint8Array(R)));break;case"moz-chunked-arraybuffer":if(R=k.response,k.readyState!==w.LOADING||!R)break;S.push(F.from(new Uint8Array(R)));break;case"ms-stream":if(R=k.response,k.readyState!==w.LOADING)break;var U=new global.MSStreamReader;U.onprogress=function(){U.result.byteLength>S._pos&&(S.push(F.from(new Uint8Array(U.result.slice(S._pos)))),S._pos=U.result.byteLength)},U.onload=function(){b(!0),S.push(null)},U.readAsArrayBuffer(R)}S._xhr.readyState===w.DONE&&"ms-stream"!==S._mode&&(b(!0),S.push(null))}},7087:te=>{te.exports=function O(i){var F=i._readableState;return F?F.objectMode||"number"==typeof i._duplexState?i.read():i.read(function g(i){return i.buffer.length?i.buffer.head?i.buffer.head.data.length:i.buffer[0].length:i.length}(F)):null}},1015:(te,O,g)=>{"use strict";var i=g(3615).Buffer,F=i.isEncoding||function(z){switch((z=""+z)&&z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function E(z){var ae;switch(this.encoding=function T(z){var ae=function B(z){if(!z)return"utf8";for(var ae;;)switch(z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return z;default:if(ae)return;z=(""+z).toLowerCase(),ae=!0}}(z);if("string"!=typeof ae&&(i.isEncoding===F||!F(z)))throw new Error("Unknown encoding: "+z);return ae||z}(z),this.encoding){case"utf16le":this.text=P,this.end=I,ae=4;break;case"utf8":this.fillLast=S,ae=4;break;case"base64":this.text=C,this.end=U,ae=3;break;default:return this.write=$,void(this.end=K)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(ae)}function w(z){return z<=127?0:z>>5==6?2:z>>4==14?3:z>>3==30?4:z>>6==2?-1:-2}function S(z){var ae=this.lastTotal-this.lastNeed,pe=function b(z,ae,pe){if(128!=(192&ae[0]))return z.lastNeed=0,"\ufffd";if(z.lastNeed>1&&ae.length>1){if(128!=(192&ae[1]))return z.lastNeed=1,"\ufffd";if(z.lastNeed>2&&ae.length>2&&128!=(192&ae[2]))return z.lastNeed=2,"\ufffd"}}(this,z);return void 0!==pe?pe:this.lastNeed<=z.length?(z.copy(this.lastChar,ae,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(z.copy(this.lastChar,ae,0,z.length),void(this.lastNeed-=z.length))}function P(z,ae){if((z.length-ae)%2==0){var pe=z.toString("utf16le",ae);if(pe){var ue=pe.charCodeAt(pe.length-1);if(ue>=55296&&ue<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=z[z.length-2],this.lastChar[1]=z[z.length-1],pe.slice(0,-1)}return pe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=z[z.length-1],z.toString("utf16le",ae,z.length-1)}function I(z){var ae=z&&z.length?this.write(z):"";return this.lastNeed?ae+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ae}function C(z,ae){var pe=(z.length-ae)%3;return 0===pe?z.toString("base64",ae):(this.lastNeed=3-pe,this.lastTotal=3,1===pe?this.lastChar[0]=z[z.length-1]:(this.lastChar[0]=z[z.length-2],this.lastChar[1]=z[z.length-1]),z.toString("base64",ae,z.length-pe))}function U(z){var ae=z&&z.length?this.write(z):"";return this.lastNeed?ae+this.lastChar.toString("base64",0,3-this.lastNeed):ae}function $(z){return z.toString(this.encoding)}function K(z){return z&&z.length?this.write(z):""}O.StringDecoder=E,E.prototype.write=function(z){if(0===z.length)return"";var ae,pe;if(this.lastNeed){if(void 0===(ae=this.fillLast(z)))return"";pe=this.lastNeed,this.lastNeed=0}else pe=0;return pe<z.length?ae?ae+this.text(z,pe):this.text(z,pe):ae||""},E.prototype.end=function R(z){var ae=z&&z.length?this.write(z):"";return this.lastNeed?ae+"\ufffd":ae},E.prototype.text=function k(z,ae){var pe=function m(z,ae,pe){var ue=ae.length-1;if(ue<pe)return 0;var fe=w(ae[ue]);return fe>=0?(fe>0&&(z.lastNeed=fe-1),fe):--ue<pe||-2===fe?0:(fe=w(ae[ue]))>=0?(fe>0&&(z.lastNeed=fe-2),fe):--ue<pe||-2===fe?0:(fe=w(ae[ue]))>=0?(fe>0&&(2===fe?fe=0:z.lastNeed=fe-3),fe):0}(this,z,ae);if(!this.lastNeed)return z.toString("utf8",ae);this.lastTotal=pe;var ue=z.length-(pe-this.lastNeed);return z.copy(this.lastChar,0,ue),z.toString("utf8",ae,ue)},E.prototype.fillLast=function(z){if(this.lastNeed<=z.length)return z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,z.length),this.lastNeed-=z.length}},6229:(te,O)=>{"use strict";O.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},O.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},4052:(te,O,g)=>{"use strict";Object.defineProperty(O,"cli",{value:g(6229)}),Object.defineProperty(O,"npm",{value:g(5004)}),Object.defineProperty(O,"syslog",{value:g(2786)})},5004:(te,O)=>{"use strict";O.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},O.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},2786:(te,O)=>{"use strict";O.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},O.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},3337:(te,O,g)=>{"use strict";Object.defineProperty(O,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(O,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(O,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(O,"configs",{value:g(4052)})},7907:function(te,O,g){var i;te=g.nmd(te),function(F){"object"==typeof global&&global;var w,m=2147483647,b=36,$=/^xn--/,K=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,ae={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=Math.floor,fe=String.fromCharCode;function De(Te){throw RangeError(ae[Te])}function me(Te,ze){for(var ht=Te.length,Ke=[];ht--;)Ke[ht]=ze(Te[ht]);return Ke}function Me(Te,ze){var ht=Te.split("@"),Ke="";return ht.length>1&&(Ke=ht[0]+"@",Te=ht[1]),Ke+me((Te=Te.replace(z,".")).split("."),ze).join(".")}function nt(Te){for(var tt,qe,ze=[],ht=0,Ke=Te.length;ht<Ke;)(tt=Te.charCodeAt(ht++))>=55296&&tt<=56319&&ht<Ke?56320==(64512&(qe=Te.charCodeAt(ht++)))?ze.push(((1023&tt)<<10)+(1023&qe)+65536):(ze.push(tt),ht--):ze.push(tt);return ze}function et(Te){return me(Te,function(ze){var ht="";return ze>65535&&(ht+=fe((ze-=65536)>>>10&1023|55296),ze=56320|1023&ze),ht+fe(ze)}).join("")}function de(Te){return Te-48<10?Te-22:Te-65<26?Te-65:Te-97<26?Te-97:b}function ne(Te,ze){return Te+22+75*(Te<26)-((0!=ze)<<5)}function ve(Te,ze,ht){var Ke=0;for(Te=ht?ue(Te/700):Te>>1,Te+=ue(Te/ze);Te>455;Ke+=b)Te=ue(Te/35);return ue(Ke+36*Te/(Te+38))}function Ue(Te){var Ke,We,ft,$e,Re,Ve,Xe,vt,Fe,Ge,ze=[],ht=Te.length,tt=0,qe=128,Qe=72;for((We=Te.lastIndexOf("-"))<0&&(We=0),ft=0;ft<We;++ft)Te.charCodeAt(ft)>=128&&De("not-basic"),ze.push(Te.charCodeAt(ft));for($e=We>0?We+1:0;$e<ht;){for(Re=tt,Ve=1,Xe=b;$e>=ht&&De("invalid-input"),((vt=de(Te.charCodeAt($e++)))>=b||vt>ue((m-tt)/Ve))&&De("overflow"),tt+=vt*Ve,!(vt<(Fe=Xe<=Qe?1:Xe>=Qe+26?26:Xe-Qe));Xe+=b)Ve>ue(m/(Ge=b-Fe))&&De("overflow"),Ve*=Ge;Qe=ve(tt-Re,Ke=ze.length+1,0==Re),ue(tt/Ke)>m-qe&&De("overflow"),qe+=ue(tt/Ke),tt%=Ke,ze.splice(tt++,0,qe)}return et(ze)}function ke(Te){var ze,ht,Ke,tt,qe,Qe,We,ft,$e,Re,Ve,vt,Fe,Ge,be,Xe=[];for(vt=(Te=nt(Te)).length,ze=128,ht=0,qe=72,Qe=0;Qe<vt;++Qe)(Ve=Te[Qe])<128&&Xe.push(fe(Ve));for(Ke=tt=Xe.length,tt&&Xe.push("-");Ke<vt;){for(We=m,Qe=0;Qe<vt;++Qe)(Ve=Te[Qe])>=ze&&Ve<We&&(We=Ve);for(We-ze>ue((m-ht)/(Fe=Ke+1))&&De("overflow"),ht+=(We-ze)*Fe,ze=We,Qe=0;Qe<vt;++Qe)if((Ve=Te[Qe])<ze&&++ht>m&&De("overflow"),Ve==ze){for(ft=ht,$e=b;!(ft<(Re=$e<=qe?1:$e>=qe+26?26:$e-qe));$e+=b)Xe.push(fe(ne(Re+(be=ft-Re)%(Ge=b-Re),0))),ft=ue(be/Ge);Xe.push(fe(ne(ft,0))),qe=ve(ht,Fe,Ke==tt),ht=0,++Ke}++ht,++ze}return Xe.join("")}w={version:"1.3.2",ucs2:{decode:nt,encode:et},decode:Ue,encode:ke,toASCII:function Ne(Te){return Me(Te,function(ze){return K.test(ze)?"xn--"+ke(ze):ze})},toUnicode:function Ie(Te){return Me(Te,function(ze){return $.test(ze)?Ue(ze.slice(4).toLowerCase()):ze})}},void 0!==(i=function(){return w}.call(O,g,O,te))&&(te.exports=i)}()},6549:(te,O,g)=>{"use strict";var i=g(7907),F=g(4955);function B(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}O.parse=ae,O.resolve=function ue(Y,De){return ae(Y,!1,!0).resolve(De)},O.resolveObject=function fe(Y,De){return Y?ae(Y,!1,!0).resolveObject(De):De},O.format=function pe(Y){return F.isString(Y)&&(Y=ae(Y)),Y instanceof B?Y.format():B.prototype.format.call(Y)},O.Url=B;var T=/^([a-z0-9.+-]+:)/i,E=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,b=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),S=["'"].concat(b),k=["%","/","?",";","#"].concat(S),R=["/","?","#"],I=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,U={javascript:!0,"javascript:":!0},$={javascript:!0,"javascript:":!0},K={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=g(7805);function ae(Y,De,me){if(Y&&F.isObject(Y)&&Y instanceof B)return Y;var Me=new B;return Me.parse(Y,De,me),Me}B.prototype.parse=function(Y,De,me){if(!F.isString(Y))throw new TypeError("Parameter 'url' must be a string, not "+typeof Y);var Me=Y.indexOf("?"),nt=-1!==Me&&Me<Y.indexOf("#")?"?":"#",et=Y.split(nt);et[0]=et[0].replace(/\\/g,"/");var ne=Y=et.join(nt);if(ne=ne.trim(),!me&&1===Y.split("#").length){var ve=w.exec(ne);if(ve)return this.path=ne,this.href=ne,this.pathname=ve[1],ve[2]?(this.search=ve[2],this.query=De?z.parse(this.search.substr(1)):this.search.substr(1)):De&&(this.search="",this.query={}),this}var Ue=T.exec(ne);if(Ue){var ke=(Ue=Ue[0]).toLowerCase();this.protocol=ke,ne=ne.substr(Ue.length)}if(me||Ue||ne.match(/^\/\/[^@\/]+@[^@\/]+/)){var Ie="//"===ne.substr(0,2);Ie&&(!Ue||!$[Ue])&&(ne=ne.substr(2),this.slashes=!0)}if(!$[Ue]&&(Ie||Ue&&!K[Ue])){for(var Ne=-1,Te=0;Te<R.length;Te++)-1!==(ze=ne.indexOf(R[Te]))&&(-1===Ne||ze<Ne)&&(Ne=ze);var ht,Ke;for(-1!==(Ke=-1===Ne?ne.lastIndexOf("@"):ne.lastIndexOf("@",Ne))&&(ht=ne.slice(0,Ke),ne=ne.slice(Ke+1),this.auth=decodeURIComponent(ht)),Ne=-1,Te=0;Te<k.length;Te++){var ze;-1!==(ze=ne.indexOf(k[Te]))&&(-1===Ne||ze<Ne)&&(Ne=ze)}-1===Ne&&(Ne=ne.length),this.host=ne.slice(0,Ne),ne=ne.slice(Ne),this.parseHost(),this.hostname=this.hostname||"";var tt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!tt)for(var qe=this.hostname.split(/\./),Qe=(Te=0,qe.length);Te<Qe;Te++){var We=qe[Te];if(We&&!We.match(I)){for(var ft="",$e=0,Re=We.length;$e<Re;$e++)We.charCodeAt($e)>127?ft+="x":ft+=We[$e];if(!ft.match(I)){var Ve=qe.slice(0,Te),Xe=qe.slice(Te+1),vt=We.match(C);vt&&(Ve.push(vt[1]),Xe.unshift(vt[2])),Xe.length&&(ne="/"+Xe.join(".")+ne),this.hostname=Ve.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),tt||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,tt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ne[0]&&(ne="/"+ne))}if(!U[ke])for(Te=0,Qe=S.length;Te<Qe;Te++){var be=S[Te];if(-1!==ne.indexOf(be)){var le=encodeURIComponent(be);le===be&&(le=escape(be)),ne=ne.split(be).join(le)}}var re=ne.indexOf("#");-1!==re&&(this.hash=ne.substr(re),ne=ne.slice(0,re));var xe=ne.indexOf("?");return-1!==xe?(this.search=ne.substr(xe),this.query=ne.substr(xe+1),De&&(this.query=z.parse(this.query)),ne=ne.slice(0,xe)):De&&(this.search="",this.query={}),ne&&(this.pathname=ne),K[ke]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},B.prototype.format=function(){var Y=this.auth||"";Y&&(Y=(Y=encodeURIComponent(Y)).replace(/%3A/i,":"),Y+="@");var De=this.protocol||"",me=this.pathname||"",Me=this.hash||"",nt=!1,et="";this.host?nt=Y+this.host:this.hostname&&(nt=Y+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(nt+=":"+this.port)),this.query&&F.isObject(this.query)&&Object.keys(this.query).length&&(et=z.stringify(this.query));var de=this.search||et&&"?"+et||"";return De&&":"!==De.substr(-1)&&(De+=":"),this.slashes||(!De||K[De])&&!1!==nt?(nt="//"+(nt||""),me&&"/"!==me.charAt(0)&&(me="/"+me)):nt||(nt=""),Me&&"#"!==Me.charAt(0)&&(Me="#"+Me),de&&"?"!==de.charAt(0)&&(de="?"+de),De+nt+(me=me.replace(/[?#]/g,function(ne){return encodeURIComponent(ne)}))+(de=de.replace("#","%23"))+Me},B.prototype.resolve=function(Y){return this.resolveObject(ae(Y,!1,!0)).format()},B.prototype.resolveObject=function(Y){if(F.isString(Y)){var De=new B;De.parse(Y,!1,!0),Y=De}for(var me=new B,Me=Object.keys(this),nt=0;nt<Me.length;nt++){var et=Me[nt];me[et]=this[et]}if(me.hash=Y.hash,""===Y.href)return me.href=me.format(),me;if(Y.slashes&&!Y.protocol){for(var de=Object.keys(Y),ne=0;ne<de.length;ne++){var ve=de[ne];"protocol"!==ve&&(me[ve]=Y[ve])}return K[me.protocol]&&me.hostname&&!me.pathname&&(me.path=me.pathname="/"),me.href=me.format(),me}if(Y.protocol&&Y.protocol!==me.protocol){if(!K[Y.protocol]){for(var Ue=Object.keys(Y),ke=0;ke<Ue.length;ke++){var Ie=Ue[ke];me[Ie]=Y[Ie]}return me.href=me.format(),me}if(me.protocol=Y.protocol,Y.host||$[Y.protocol])me.pathname=Y.pathname;else{for(var Qe=(Y.pathname||"").split("/");Qe.length&&!(Y.host=Qe.shift()););Y.host||(Y.host=""),Y.hostname||(Y.hostname=""),""!==Qe[0]&&Qe.unshift(""),Qe.length<2&&Qe.unshift(""),me.pathname=Qe.join("/")}return me.search=Y.search,me.query=Y.query,me.host=Y.host||"",me.auth=Y.auth,me.hostname=Y.hostname||Y.host,me.port=Y.port,(me.pathname||me.search)&&(me.path=(me.pathname||"")+(me.search||"")),me.slashes=me.slashes||Y.slashes,me.href=me.format(),me}var ze=me.pathname&&"/"===me.pathname.charAt(0),ht=Y.host||Y.pathname&&"/"===Y.pathname.charAt(0),Ke=ht||ze||me.host&&Y.pathname,tt=Ke,qe=me.pathname&&me.pathname.split("/")||[],We=(Qe=Y.pathname&&Y.pathname.split("/")||[],me.protocol&&!K[me.protocol]);if(We&&(me.hostname="",me.port=null,me.host&&(""===qe[0]?qe[0]=me.host:qe.unshift(me.host)),me.host="",Y.protocol&&(Y.hostname=null,Y.port=null,Y.host&&(""===Qe[0]?Qe[0]=Y.host:Qe.unshift(Y.host)),Y.host=null),Ke=Ke&&(""===Qe[0]||""===qe[0])),ht)me.host=Y.host||""===Y.host?Y.host:me.host,me.hostname=Y.hostname||""===Y.hostname?Y.hostname:me.hostname,me.search=Y.search,me.query=Y.query,qe=Qe;else if(Qe.length)qe||(qe=[]),qe.pop(),qe=qe.concat(Qe),me.search=Y.search,me.query=Y.query;else if(!F.isNullOrUndefined(Y.search))return We&&(me.hostname=me.host=qe.shift(),(ft=!!(me.host&&me.host.indexOf("@")>0)&&me.host.split("@"))&&(me.auth=ft.shift(),me.host=me.hostname=ft.shift())),me.search=Y.search,me.query=Y.query,(!F.isNull(me.pathname)||!F.isNull(me.search))&&(me.path=(me.pathname?me.pathname:"")+(me.search?me.search:"")),me.href=me.format(),me;if(!qe.length)return me.pathname=null,me.path=me.search?"/"+me.search:null,me.href=me.format(),me;for(var $e=qe.slice(-1)[0],Re=(me.host||Y.host||qe.length>1)&&("."===$e||".."===$e)||""===$e,Ve=0,Xe=qe.length;Xe>=0;Xe--)"."===($e=qe[Xe])?qe.splice(Xe,1):".."===$e?(qe.splice(Xe,1),Ve++):Ve&&(qe.splice(Xe,1),Ve--);if(!Ke&&!tt)for(;Ve--;Ve)qe.unshift("..");Ke&&""!==qe[0]&&(!qe[0]||"/"!==qe[0].charAt(0))&&qe.unshift(""),Re&&"/"!==qe.join("/").substr(-1)&&qe.push("");var ft,vt=""===qe[0]||qe[0]&&"/"===qe[0].charAt(0);return We&&(me.hostname=me.host=vt?"":qe.length?qe.shift():"",(ft=!!(me.host&&me.host.indexOf("@")>0)&&me.host.split("@"))&&(me.auth=ft.shift(),me.host=me.hostname=ft.shift())),(Ke=Ke||me.host&&qe.length)&&!vt&&qe.unshift(""),qe.length?me.pathname=qe.join("/"):(me.pathname=null,me.path=null),(!F.isNull(me.pathname)||!F.isNull(me.search))&&(me.path=(me.pathname?me.pathname:"")+(me.search?me.search:"")),me.auth=Y.auth||me.auth,me.slashes=me.slashes||Y.slashes,me.href=me.format(),me},B.prototype.parseHost=function(){var Y=this.host,De=E.exec(Y);De&&(":"!==(De=De[0])&&(this.port=De.substr(1)),Y=Y.substr(0,Y.length-De.length)),Y&&(this.hostname=Y)}},4955:te=>{"use strict";te.exports={isString:function(O){return"string"==typeof O},isObject:function(O){return"object"==typeof O&&null!==O},isNull:function(O){return null===O},isNullOrUndefined:function(O){return null==O}}},9220:te=>{function g(i){try{if(!global.localStorage)return!1}catch(B){return!1}var F=global.localStorage[i];return null!=F&&"true"===String(F).toLowerCase()}te.exports=function O(i,F){if(g("noDeprecation"))return i;var B=!1;return function T(){if(!B){if(g("throwDeprecation"))throw new Error(F);g("traceDeprecation")?console.trace(F):console.warn(F),B=!0}return i.apply(this,arguments)}}},9548:te=>{te.exports=function(g){return g&&"object"==typeof g&&"function"==typeof g.copy&&"function"==typeof g.fill&&"function"==typeof g.readUInt8}},9715:(te,O,g)=>{"use strict";var i=g(9563),F=g(2004),B=g(7997),T=g(3769);function E(xe){return xe.call.bind(xe)}var w="undefined"!=typeof BigInt,m="undefined"!=typeof Symbol,b=E(Object.prototype.toString),S=E(Number.prototype.valueOf),k=E(String.prototype.valueOf),R=E(Boolean.prototype.valueOf);if(w)var P=E(BigInt.prototype.valueOf);if(m)var I=E(Symbol.prototype.valueOf);function C(xe,xt){if("object"!=typeof xe)return!1;try{return xt(xe),!0}catch(Ut){return!1}}function et(xe){return"[object Map]"===b(xe)}function ne(xe){return"[object Set]"===b(xe)}function Ue(xe){return"[object WeakMap]"===b(xe)}function Ie(xe){return"[object WeakSet]"===b(xe)}function Te(xe){return"[object ArrayBuffer]"===b(xe)}function ze(xe){return"undefined"!=typeof ArrayBuffer&&(Te.working?Te(xe):xe instanceof ArrayBuffer)}function ht(xe){return"[object DataView]"===b(xe)}function Ke(xe){return"undefined"!=typeof DataView&&(ht.working?ht(xe):xe instanceof DataView)}O.isArgumentsObject=i,O.isGeneratorFunction=F,O.isTypedArray=T,O.isPromise=function U(xe){return"undefined"!=typeof Promise&&xe instanceof Promise||null!==xe&&"object"==typeof xe&&"function"==typeof xe.then&&"function"==typeof xe.catch},O.isArrayBufferView=function $(xe){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(xe):T(xe)||Ke(xe)},O.isUint8Array=function K(xe){return"Uint8Array"===B(xe)},O.isUint8ClampedArray=function z(xe){return"Uint8ClampedArray"===B(xe)},O.isUint16Array=function ae(xe){return"Uint16Array"===B(xe)},O.isUint32Array=function pe(xe){return"Uint32Array"===B(xe)},O.isInt8Array=function ue(xe){return"Int8Array"===B(xe)},O.isInt16Array=function fe(xe){return"Int16Array"===B(xe)},O.isInt32Array=function Y(xe){return"Int32Array"===B(xe)},O.isFloat32Array=function De(xe){return"Float32Array"===B(xe)},O.isFloat64Array=function me(xe){return"Float64Array"===B(xe)},O.isBigInt64Array=function Me(xe){return"BigInt64Array"===B(xe)},O.isBigUint64Array=function nt(xe){return"BigUint64Array"===B(xe)},et.working="undefined"!=typeof Map&&et(new Map),O.isMap=function de(xe){return"undefined"!=typeof Map&&(et.working?et(xe):xe instanceof Map)},ne.working="undefined"!=typeof Set&&ne(new Set),O.isSet=function ve(xe){return"undefined"!=typeof Set&&(ne.working?ne(xe):xe instanceof Set)},Ue.working="undefined"!=typeof WeakMap&&Ue(new WeakMap),O.isWeakMap=function ke(xe){return"undefined"!=typeof WeakMap&&(Ue.working?Ue(xe):xe instanceof WeakMap)},Ie.working="undefined"!=typeof WeakSet&&Ie(new WeakSet),O.isWeakSet=function Ne(xe){return Ie(xe)},Te.working="undefined"!=typeof ArrayBuffer&&Te(new ArrayBuffer),O.isArrayBuffer=ze,ht.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&ht(new DataView(new ArrayBuffer(1),0,1)),O.isDataView=Ke;var tt="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function qe(xe){return"[object SharedArrayBuffer]"===b(xe)}function Qe(xe){return void 0!==tt&&(void 0===qe.working&&(qe.working=qe(new tt)),qe.working?qe(xe):xe instanceof tt)}function Xe(xe){return C(xe,S)}function vt(xe){return C(xe,k)}function Fe(xe){return C(xe,R)}function Ge(xe){return w&&C(xe,P)}function be(xe){return m&&C(xe,I)}O.isSharedArrayBuffer=Qe,O.isAsyncFunction=function We(xe){return"[object AsyncFunction]"===b(xe)},O.isMapIterator=function ft(xe){return"[object Map Iterator]"===b(xe)},O.isSetIterator=function $e(xe){return"[object Set Iterator]"===b(xe)},O.isGeneratorObject=function Re(xe){return"[object Generator]"===b(xe)},O.isWebAssemblyCompiledModule=function Ve(xe){return"[object WebAssembly.Module]"===b(xe)},O.isNumberObject=Xe,O.isStringObject=vt,O.isBooleanObject=Fe,O.isBigIntObject=Ge,O.isSymbolObject=be,O.isBoxedPrimitive=function le(xe){return Xe(xe)||vt(xe)||Fe(xe)||Ge(xe)||be(xe)},O.isAnyArrayBuffer=function re(xe){return"undefined"!=typeof Uint8Array&&(ze(xe)||Qe(xe))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xe){Object.defineProperty(O,xe,{enumerable:!1,value:function(){throw new Error(xe+" is not supported in userland")}})})},8901:(te,O,g)=>{var i=g(1986),F=Object.getOwnPropertyDescriptors||function(tt){for(var qe=Object.keys(tt),Qe={},We=0;We<qe.length;We++)Qe[qe[We]]=Object.getOwnPropertyDescriptor(tt,qe[We]);return Qe},B=/%[sdj%]/g;O.format=function(Ke){if(!fe(Ke)){for(var tt=[],qe=0;qe<arguments.length;qe++)tt.push(m(arguments[qe]));return tt.join(" ")}qe=1;for(var Qe=arguments,We=Qe.length,ft=String(Ke).replace(B,function(Re){if("%%"===Re)return"%";if(qe>=We)return Re;switch(Re){case"%s":return String(Qe[qe++]);case"%d":return Number(Qe[qe++]);case"%j":try{return JSON.stringify(Qe[qe++])}catch(Ve){return"[Circular]"}default:return Re}}),$e=Qe[qe];qe<We;$e=Qe[++qe])ae($e)||!Me($e)?ft+=" "+$e:ft+=" "+m($e);return ft},O.deprecate=function(Ke,tt){if(void 0!==i&&!0===i.noDeprecation)return Ke;if(void 0===i)return function(){return O.deprecate(Ke,tt).apply(this,arguments)};var qe=!1;return function Qe(){if(!qe){if(i.throwDeprecation)throw new Error(tt);i.traceDeprecation?console.trace(tt):console.error(tt),qe=!0}return Ke.apply(this,arguments)}};var T={},E=/^$/;if(i.env.NODE_DEBUG){var w=i.env.NODE_DEBUG;w=w.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),E=new RegExp("^"+w+"$","i")}function m(Ke,tt){var qe={seen:[],stylize:S};return arguments.length>=3&&(qe.depth=arguments[2]),arguments.length>=4&&(qe.colors=arguments[3]),z(tt)?qe.showHidden=tt:tt&&O._extend(qe,tt),De(qe.showHidden)&&(qe.showHidden=!1),De(qe.depth)&&(qe.depth=2),De(qe.colors)&&(qe.colors=!1),De(qe.customInspect)&&(qe.customInspect=!0),qe.colors&&(qe.stylize=b),R(qe,Ke,qe.depth)}function b(Ke,tt){var qe=m.styles[tt];return qe?"\x1b["+m.colors[qe][0]+"m"+Ke+"\x1b["+m.colors[qe][1]+"m":Ke}function S(Ke,tt){return Ke}function R(Ke,tt,qe){if(Ke.customInspect&&tt&&de(tt.inspect)&&tt.inspect!==O.inspect&&(!tt.constructor||tt.constructor.prototype!==tt)){var Qe=tt.inspect(qe,Ke);return fe(Qe)||(Qe=R(Ke,Qe,qe)),Qe}var We=function P(Ke,tt){if(De(tt))return Ke.stylize("undefined","undefined");if(fe(tt)){var qe="'"+JSON.stringify(tt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ke.stylize(qe,"string")}return ue(tt)?Ke.stylize(""+tt,"number"):z(tt)?Ke.stylize(""+tt,"boolean"):ae(tt)?Ke.stylize("null","null"):void 0}(Ke,tt);if(We)return We;var ft=Object.keys(tt),$e=function k(Ke){var tt={};return Ke.forEach(function(qe,Qe){tt[qe]=!0}),tt}(ft);if(Ke.showHidden&&(ft=Object.getOwnPropertyNames(tt)),et(tt)&&(ft.indexOf("message")>=0||ft.indexOf("description")>=0))return I(tt);if(0===ft.length){if(de(tt))return Ke.stylize("[Function"+(tt.name?": "+tt.name:"")+"]","special");if(me(tt))return Ke.stylize(RegExp.prototype.toString.call(tt),"regexp");if(nt(tt))return Ke.stylize(Date.prototype.toString.call(tt),"date");if(et(tt))return I(tt)}var Ge,Ve="",Xe=!1,vt=["{","}"];return K(tt)&&(Xe=!0,vt=["[","]"]),de(tt)&&(Ve=" [Function"+(tt.name?": "+tt.name:"")+"]"),me(tt)&&(Ve=" "+RegExp.prototype.toString.call(tt)),nt(tt)&&(Ve=" "+Date.prototype.toUTCString.call(tt)),et(tt)&&(Ve=" "+I(tt)),0!==ft.length||Xe&&0!=tt.length?qe<0?me(tt)?Ke.stylize(RegExp.prototype.toString.call(tt),"regexp"):Ke.stylize("[Object]","special"):(Ke.seen.push(tt),Ge=Xe?function C(Ke,tt,qe,Qe,We){for(var ft=[],$e=0,Re=tt.length;$e<Re;++$e)Ne(tt,String($e))?ft.push(U(Ke,tt,qe,Qe,String($e),!0)):ft.push("");return We.forEach(function(Ve){Ve.match(/^\d+$/)||ft.push(U(Ke,tt,qe,Qe,Ve,!0))}),ft}(Ke,tt,qe,$e,ft):ft.map(function(be){return U(Ke,tt,qe,$e,be,Xe)}),Ke.seen.pop(),function $(Ke,tt,qe){var We=Ke.reduce(function(ft,$e){return $e.indexOf("\n"),ft+$e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return We>60?qe[0]+(""===tt?"":tt+"\n ")+" "+Ke.join(",\n  ")+" "+qe[1]:qe[0]+tt+" "+Ke.join(", ")+" "+qe[1]}(Ge,Ve,vt)):vt[0]+Ve+vt[1]}function I(Ke){return"["+Error.prototype.toString.call(Ke)+"]"}function U(Ke,tt,qe,Qe,We,ft){var $e,Re,Ve;if((Ve=Object.getOwnPropertyDescriptor(tt,We)||{value:tt[We]}).get?Re=Ke.stylize(Ve.set?"[Getter/Setter]":"[Getter]","special"):Ve.set&&(Re=Ke.stylize("[Setter]","special")),Ne(Qe,We)||($e="["+We+"]"),Re||(Ke.seen.indexOf(Ve.value)<0?(Re=ae(qe)?R(Ke,Ve.value,null):R(Ke,Ve.value,qe-1)).indexOf("\n")>-1&&(Re=ft?Re.split("\n").map(function(Xe){return"  "+Xe}).join("\n").slice(2):"\n"+Re.split("\n").map(function(Xe){return"   "+Xe}).join("\n")):Re=Ke.stylize("[Circular]","special")),De($e)){if(ft&&We.match(/^\d+$/))return Re;($e=JSON.stringify(""+We)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($e=$e.slice(1,-1),$e=Ke.stylize($e,"name")):($e=$e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$e=Ke.stylize($e,"string"))}return $e+": "+Re}function K(Ke){return Array.isArray(Ke)}function z(Ke){return"boolean"==typeof Ke}function ae(Ke){return null===Ke}function ue(Ke){return"number"==typeof Ke}function fe(Ke){return"string"==typeof Ke}function De(Ke){return void 0===Ke}function me(Ke){return Me(Ke)&&"[object RegExp]"===ve(Ke)}function Me(Ke){return"object"==typeof Ke&&null!==Ke}function nt(Ke){return Me(Ke)&&"[object Date]"===ve(Ke)}function et(Ke){return Me(Ke)&&("[object Error]"===ve(Ke)||Ke instanceof Error)}function de(Ke){return"function"==typeof Ke}function ve(Ke){return Object.prototype.toString.call(Ke)}function Ue(Ke){return Ke<10?"0"+Ke.toString(10):Ke.toString(10)}O.debuglog=function(Ke){if(Ke=Ke.toUpperCase(),!T[Ke])if(E.test(Ke)){var tt=i.pid;T[Ke]=function(){var qe=O.format.apply(O,arguments);console.error("%s %d: %s",Ke,tt,qe)}}else T[Ke]=function(){};return T[Ke]},O.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},O.types=g(9715),O.isArray=K,O.isBoolean=z,O.isNull=ae,O.isNullOrUndefined=function pe(Ke){return null==Ke},O.isNumber=ue,O.isString=fe,O.isSymbol=function Y(Ke){return"symbol"==typeof Ke},O.isUndefined=De,O.isRegExp=me,O.types.isRegExp=me,O.isObject=Me,O.isDate=nt,O.types.isDate=nt,O.isError=et,O.types.isNativeError=et,O.isFunction=de,O.isPrimitive=function ne(Ke){return null===Ke||"boolean"==typeof Ke||"number"==typeof Ke||"string"==typeof Ke||"symbol"==typeof Ke||void 0===Ke},O.isBuffer=g(9548);var ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ie(){var Ke=new Date,tt=[Ue(Ke.getHours()),Ue(Ke.getMinutes()),Ue(Ke.getSeconds())].join(":");return[Ke.getDate(),ke[Ke.getMonth()],tt].join(" ")}function Ne(Ke,tt){return Object.prototype.hasOwnProperty.call(Ke,tt)}O.log=function(){console.log("%s - %s",Ie(),O.format.apply(O,arguments))},O.inherits=g(7326),O._extend=function(Ke,tt){if(!tt||!Me(tt))return Ke;for(var qe=Object.keys(tt),Qe=qe.length;Qe--;)Ke[qe[Qe]]=tt[qe[Qe]];return Ke};var Te="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function ze(Ke,tt){if(!Ke){var qe=new Error("Promise was rejected with a falsy value");qe.reason=Ke,Ke=qe}return tt(Ke)}O.promisify=function(tt){if("function"!=typeof tt)throw new TypeError('The "original" argument must be of type Function');if(Te&&tt[Te]){var qe;if("function"!=typeof(qe=tt[Te]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(qe,Te,{value:qe,enumerable:!1,writable:!1,configurable:!0}),qe}function qe(){for(var Qe,We,ft=new Promise(function(Ve,Xe){Qe=Ve,We=Xe}),$e=[],Re=0;Re<arguments.length;Re++)$e.push(arguments[Re]);$e.push(function(Ve,Xe){Ve?We(Ve):Qe(Xe)});try{tt.apply(this,$e)}catch(Ve){We(Ve)}return ft}return Object.setPrototypeOf(qe,Object.getPrototypeOf(tt)),Te&&Object.defineProperty(qe,Te,{value:qe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(qe,F(tt))},O.promisify.custom=Te,O.callbackify=function ht(Ke){if("function"!=typeof Ke)throw new TypeError('The "original" argument must be of type Function');function tt(){for(var qe=[],Qe=0;Qe<arguments.length;Qe++)qe.push(arguments[Qe]);var We=qe.pop();if("function"!=typeof We)throw new TypeError("The last argument must be of type Function");var ft=this,$e=function(){return We.apply(ft,arguments)};Ke.apply(this,qe).then(function(Re){i.nextTick($e.bind(null,null,Re))},function(Re){i.nextTick(ze.bind(null,Re,$e))})}return Object.setPrototypeOf(tt,Object.getPrototypeOf(Ke)),Object.defineProperties(tt,F(Ke)),tt}},7997:(te,O,g)=>{"use strict";var i=g(8879),F=g(790),B=g(6354),T=g(7608),E=B("Object.prototype.toString"),w=g(3153)(),m="undefined"==typeof globalThis?global:globalThis,b=F(),S=B("String.prototype.slice"),k={},R=Object.getPrototypeOf;w&&T&&R&&i(b,function(C){if("function"==typeof m[C]){var U=new m[C];if(Symbol.toStringTag in U){var $=R(U),K=T($,Symbol.toStringTag);if(!K){var z=R($);K=T(z,Symbol.toStringTag)}k[C]=K.get}}});var I=g(3769);te.exports=function(U){return!!I(U)&&(w&&Symbol.toStringTag in U?function(U){var $=!1;return i(k,function(K,z){if(!$)try{var ae=K.call(U);ae===z&&($=ae)}catch(pe){}}),$}(U):S(E(U),8,-1))}},1716:(te,O,g)=>{"use strict";var i=g(8901),F=g(4016),T=g(3337).LEVEL,E=te.exports=function(){var m=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F.call(this,{objectMode:!0,highWaterMark:b.highWaterMark}),this.format=b.format,this.level=b.level,this.handleExceptions=b.handleExceptions,this.handleRejections=b.handleRejections,this.silent=b.silent,b.log&&(this.log=b.log),b.logv&&(this.logv=b.logv),b.close&&(this.close=b.close),this.once("pipe",function(S){m.levels=S.levels,m.parent=S}),this.once("unpipe",function(S){S===m.parent&&(m.parent=null,m.close&&m.close())})};i.inherits(E,F),E.prototype._write=function(m,b,S){if(this.silent||!0===m.exception&&!this.handleExceptions)return S(null);var k=this.level||this.parent&&this.parent.level;if(!k||this.levels[k]>=this.levels[m[T]]){if(m&&!this.format)return this.log(m,S);var R=void 0,P=void 0;try{P=this.format.transform(Object.assign({},m),this.format.options)}catch(I){R=I}if(R||!P){if(S(),R)throw R;return}return this.log(P,S)}return this._writableState.sync=!1,S(null)},E.prototype._writev=function(m,b){if(this.logv){var S=m.filter(this._accept,this);return S.length?this.logv(S,b):b(null)}for(var k=0;k<m.length;k++)if(this._accept(m[k])){if(m[k].chunk&&!this.format){this.log(m[k].chunk,m[k].callback);continue}var R=void 0,P=void 0;try{P=this.format.transform(Object.assign({},m[k].chunk),this.format.options)}catch(I){R=I}if(R||!P){if(m[k].callback(),R)throw b(null),R}else this.log(P,m[k].callback)}return b(null)},E.prototype._accept=function(m){var b=m.chunk;if(this.silent)return!1;var S=this.level||this.parent&&this.parent.level;return!(!0!==b.exception&&S&&!(this.levels[S]>=this.levels[b[T]])||!this.handleExceptions&&!0===b.exception)},E.prototype._nop=function(){},te.exports.LegacyTransportStream=g(8973)},8973:(te,O,g)=>{"use strict";var i=g(8901),B=g(3337).LEVEL,T=g(1716),E=te.exports=function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(T.call(this,m),!m.transport||"function"!=typeof m.transport.log)throw new Error("Invalid transport, must be an object with a log method.");function b(S){this.emit("error",S,this.transport)}this.transport=m.transport,this.level=this.level||m.transport.level,this.handleExceptions=this.handleExceptions||m.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=b.bind(this),this.transport.on("error",this.transport.__winstonError))};i.inherits(E,T),E.prototype._write=function(m,b,S){if(this.silent||!0===m.exception&&!this.handleExceptions)return S(null);(!this.level||this.levels[this.level]>=this.levels[m[B]])&&this.transport.log(m[B],m.message,m,this._nop),S(null)},E.prototype._writev=function(m,b){for(var S=0;S<m.length;S++)this._accept(m[S])&&(this.transport.log(m[S].chunk[B],m[S].chunk.message,m[S].chunk,this._nop),m[S].callback());return b(null)},E.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},E.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},9314:(te,O,g)=>{"use strict";const i=g(8901),{LEVEL:F}=g(3337),B=g(1716),T=te.exports=function(w={}){if(B.call(this,w),!w.transport||"function"!=typeof w.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=w.transport,this.level=this.level||w.transport.level,this.handleExceptions=this.handleExceptions||w.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function m(b){this.emit("error",b,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};i.inherits(T,B),T.prototype._write=function(w,m,b){if(this.silent||!0===w.exception&&!this.handleExceptions)return b(null);(!this.level||this.levels[this.level]>=this.levels[w[F]])&&this.transport.log(w[F],w.message,w,this._nop),b(null)},T.prototype._writev=function(w,m){for(let b=0;b<w.length;b++)this._accept(w[b])&&(this.transport.log(w[b].chunk[F],w[b].chunk.message,w[b].chunk,this._nop),w[b].callback());return m(null)},T.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},T.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},3730:(te,O,g)=>{"use strict";var i=g(8260),B=g(4634).warn;O.version=g(5278).version,O.transports=g(1496),O.config=g(4702),O.addColors=i.levels,O.format=i.format,O.createLogger=g(9391),O.ExceptionHandler=g(4118),O.RejectionHandler=g(851),O.Container=g(7309),O.Transport=g(1716),O.loggers=new O.Container;var T=O.createLogger();Object.keys(O.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(E){return O[E]=function(){return T[E].apply(T,arguments)}}),Object.defineProperty(O,"level",{get:function(){return T.level},set:function(w){T.level=w}}),Object.defineProperty(O,"exceptions",{get:function(){return T.exceptions}}),["exitOnError"].forEach(function(E){Object.defineProperty(O,E,{get:function(){return T[E]},set:function(m){T[E]=m}})}),Object.defineProperty(O,"default",{get:function(){return{exceptionHandlers:T.exceptionHandlers,rejectionHandlers:T.rejectionHandlers,transports:T.transports}}}),B.deprecated(O,"setLevels"),B.forFunctions(O,"useFormat",["cli"]),B.forProperties(O,"useFormat",["padLevels","stripColors"]),B.forFunctions(O,"deprecated",["addRewriter","addFilter","clone","extend"]),B.forProperties(O,"deprecated",["emitErrs","levelLength"]),B.moved(O,"createLogger","Logger")},4634:(te,O,g)=>{"use strict";var F=g(8901).format;O.warn={deprecated:function(T){return function(){throw new Error(F("{ %s } was removed in winston@3.0.0.",T))}},useFormat:function(T){return function(){throw new Error([F("{ %s } was removed in winston@3.0.0.",T),"Use a custom winston.format = winston.format(function) instead."].join("\n"))}},forFunctions:function(T,E,w){w.forEach(function(m){T[m]=O.warn[E](m)})},moved:function(T,E,w){function m(){return function(){throw new Error([F("winston.%s was moved in winston@3.0.0.",w),F("Use a winston.%s instead.",E)].join("\n"))}}Object.defineProperty(T,w,{get:m,set:m})},forProperties:function(T,E,w){w.forEach(function(m){var b=O.warn[E](m);Object.defineProperty(T,m,{get:b,set:b})})}}},4702:(te,O,g)=>{"use strict";var i=g(8260),B=g(3337).configs;O.cli=i.levels(B.cli),O.npm=i.levels(B.npm),O.syslog=i.levels(B.syslog),O.addColors=i.levels},7309:(te,O,g)=>{"use strict";function i(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function F(E,w){for(var m=0;m<w.length;m++){var b=w[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}var T=g(9391);te.exports=function(){function E(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,E),this.loggers=new Map,this.options=w}return function B(E,w,m){w&&F(E.prototype,w),m&&F(E,m),Object.defineProperty(E,"prototype",{writable:!1})}(E,[{key:"add",value:function(m,b){var S=this;if(!this.loggers.has(m)){var k=(b=Object.assign({},b||this.options)).transports||this.options.transports;b.transports=k?k.slice():[];var R=T(b);R.on("close",function(){return S._delete(m)}),this.loggers.set(m,R)}return this.loggers.get(m)}},{key:"get",value:function(m,b){return this.add(m,b)}},{key:"has",value:function(m){return!!this.loggers.has(m)}},{key:"close",value:function(m){var b=this;if(m)return this._removeLogger(m);this.loggers.forEach(function(S,k){return b._removeLogger(k)})}},{key:"_removeLogger",value:function(m){this.loggers.has(m)&&(this.loggers.get(m).close(),this._delete(m))}},{key:"_delete",value:function(m){this.loggers.delete(m)}}]),E}()},9391:(te,O,g)=>{"use strict";function i(z){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(z)}function F(z,ae){for(var pe=0;pe<ae.length;pe++){var ue=ae[pe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(z,ue.key,ue)}}function B(z,ae,pe){return ae&&F(z.prototype,ae),pe&&F(z,pe),Object.defineProperty(z,"prototype",{writable:!1}),z}function T(z,ae){if(!(z instanceof ae))throw new TypeError("Cannot call a class as a function")}function E(z,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ae&&ae.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),ae&&w(z,ae)}function w(z,ae){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ue,fe){return ue.__proto__=fe,ue})(z,ae)}function m(z){var ae=function k(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}();return function(){var fe,ue=R(z);if(ae){var Y=R(this).constructor;fe=Reflect.construct(ue,arguments,Y)}else fe=ue.apply(this,arguments);return b(this,fe)}}function b(z,ae){if(ae&&("object"===i(ae)||"function"==typeof ae))return ae;if(void 0!==ae)throw new TypeError("Derived constructors may only return object or undefined");return function S(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z)}function R(z){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(z)}var I=g(3337).LEVEL,C=g(4702),U=g(6591),$=g(9937)("winston:create-logger");function K(z){return"is"+z.charAt(0).toUpperCase()+z.slice(1)+"Enabled"}te.exports=function(){var z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z.levels=z.levels||C.npm.levels;var ae=function(ue){E(Y,ue);var fe=m(Y);function Y(De){return T(this,Y),fe.call(this,De)}return B(Y)}(U),pe=new ae(z);return Object.keys(z.levels).forEach(function(ue){$('Define prototype method for "%s"',ue),"log"!==ue?(ae.prototype[ue]=function(){for(var fe=this||pe,Y=arguments.length,De=new Array(Y),me=0;me<Y;me++)De[me]=arguments[me];if(1===De.length){var Me=De[0],nt=Me&&Me.message&&Me||{message:Me};return nt.level=nt[I]=ue,fe._addDefaultMeta(nt),fe.write(nt),this||pe}return 0===De.length?(fe.log(ue,""),fe):fe.log.apply(fe,[ue].concat(De))},ae.prototype[K(ue)]=function(){return(this||pe).isLevelEnabled(ue)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),pe}},4118:(te,O,g)=>{"use strict";var i=g(1986);function B(R,P){for(var I=0;I<P.length;I++){var C=P[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,C.key,C)}}var E=g(2470),w=g(9997),m=g(9937)("winston:exception"),b=g(6466),S=g(7073),k=g(3590);te.exports=function(){function R(P){if(function F(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}(this,R),!P)throw new Error("Logger is required to handle exceptions");this.logger=P,this.handlers=new Map}return function T(R,P,I){P&&B(R.prototype,P),I&&B(R,I),Object.defineProperty(R,"prototype",{writable:!1})}(R,[{key:"handle",value:function(){for(var I=this,C=arguments.length,U=new Array(C),$=0;$<C;$++)U[$]=arguments[$];U.forEach(function(K){if(Array.isArray(K))return K.forEach(function(z){return I._addHandler(z)});I._addHandler(K)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),i.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var I=this;this.catcher&&(i.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(C){return I.logger.unpipe(C)}))}},{key:"getAllInfo",value:function(I){var C=I.message;return!C&&"string"==typeof I&&(C=I),{error:I,level:"error",message:["uncaughtException: ".concat(C||"(no error message)"),I.stack||"  No stack trace"].join("\n"),stack:I.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(I)}}},{key:"getProcessInfo",value:function(){return{pid:i.pid,uid:i.getuid?i.getuid():null,gid:i.getgid?i.getgid():null,cwd:i.cwd(),execPath:i.execPath,version:i.version,argv:i.argv,memoryUsage:i.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:E.loadavg(),uptime:E.uptime()}}},{key:"getTrace",value:function(I){return(I?S.parse(I):S.get()).map(function(U){return{column:U.getColumnNumber(),file:U.getFileName(),function:U.getFunctionName(),line:U.getLineNumber(),method:U.getMethodName(),native:U.isNative()}})}},{key:"_addHandler",value:function(I){if(!this.handlers.has(I)){I.handleExceptions=!0;var C=new k(I);this.handlers.set(I,C),this.logger.pipe(C)}}},{key:"_uncaughtException",value:function(I){var K,C=this.getAllInfo(I),U=this._getExceptionHandlers(),$="function"==typeof this.logger.exitOnError?this.logger.exitOnError(I):this.logger.exitOnError;function z(){m("doExit",$),m("process._exiting",i._exiting),$&&!i._exiting&&(K&&clearTimeout(K),i.exit(1))}if(!U.length&&$&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),$=!1),!U||0===U.length)return i.nextTick(z);w(U,function(ae,pe){var ue=b(pe),fe=ae.transport||ae;function Y(De){return function(){m(De),ue()}}fe._ending=!0,fe.once("finish",Y("finished")),fe.once("error",Y("error"))},function(){return $&&z()}),this.logger.log(C),$&&(K=setTimeout(z,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(I){return(I.transport||I).handleExceptions})}}]),R}()},3590:(te,O,g)=>{"use strict";function i(C){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(C)}function B(C,U){for(var $=0;$<U.length;$++){var K=U[$];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(C,K.key,K)}}function w(C,U){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,z){return K.__proto__=z,K})(C,U)}function b(C,U){if(U&&("object"===i(U)||"function"==typeof U))return U;if(void 0!==U)throw new TypeError("Derived constructors may only return object or undefined");return function S(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}function R(C){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)})(C)}var P=g(8623);te.exports=function(C){!function E(C,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(U&&U.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),U&&w(C,U)}($,C);var U=function m(C){var U=function k(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var z,K=R(C);if(U){var ae=R(this).constructor;z=Reflect.construct(K,arguments,ae)}else z=K.apply(this,arguments);return b(this,z)}}($);function $(K){var z;if(function F(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}(this,$),z=U.call(this,{objectMode:!0}),!K)throw new Error("ExceptionStream requires a TransportStream instance.");return z.handleExceptions=!0,z.transport=K,z}return function T(C,U,$){U&&B(C.prototype,U),$&&B(C,$),Object.defineProperty(C,"prototype",{writable:!1})}($,[{key:"_write",value:function(z,ae,pe){return z.exception?this.transport.log(z,pe):(pe(),!0)}}]),$}(P.Writable)},6591:(te,O,g)=>{"use strict";function i(ve,Ue,ke){return Ue in ve?Object.defineProperty(ve,Ue,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ve[Ue]=ke,ve}function F(ve){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ue){return typeof Ue}:function(Ue){return Ue&&"function"==typeof Symbol&&Ue.constructor===Symbol&&Ue!==Symbol.prototype?"symbol":typeof Ue})(ve)}function T(ve,Ue){for(var ke=0;ke<Ue.length;ke++){var Ie=Ue[ke];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(ve,Ie.key,Ie)}}function m(ve,Ue){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,Ne){return Ie.__proto__=Ne,Ie})(ve,Ue)}function S(ve,Ue){if(Ue&&("object"===F(Ue)||"function"==typeof Ue))return Ue;if(void 0!==Ue)throw new TypeError("Derived constructors may only return object or undefined");return function k(ve){if(void 0===ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}(ve)}function P(ve){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ke){return ke.__proto__||Object.getPrototypeOf(ke)})(ve)}var I=g(8623),C=I.Stream,U=I.Transform,$=g(9997),K=g(3337),z=K.LEVEL,ae=K.SPLAT,pe=g(1263),ue=g(4118),fe=g(851),Y=g(9314),De=g(5700),Me=g(4634).warn,nt=g(4702),et=/%[scdjifoO%]/g,de=function(ve){!function w(ve,Ue){if("function"!=typeof Ue&&null!==Ue)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(Ue&&Ue.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),Object.defineProperty(ve,"prototype",{writable:!1}),Ue&&m(ve,Ue)}(ke,ve);var Ue=function b(ve){var Ue=function R(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ve){return!1}}();return function(){var Ne,Ie=P(ve);if(Ue){var Te=P(this).constructor;Ne=Reflect.construct(Ie,arguments,Te)}else Ne=Ie.apply(this,arguments);return S(this,Ne)}}(ke);function ke(Ie){var Ne;return function B(ve,Ue){if(!(ve instanceof Ue))throw new TypeError("Cannot call a class as a function")}(this,ke),(Ne=Ue.call(this,{objectMode:!0})).configure(Ie),Ne}return function E(ve,Ue,ke){Ue&&T(ve.prototype,Ue),ke&&T(ve,ke),Object.defineProperty(ve,"prototype",{writable:!1})}(ke,[{key:"child",value:function(Ne){var Te=this;return Object.create(Te,{write:{value:function(ht){var Ke=Object.assign({},Ne,ht);ht instanceof Error&&(Ke.stack=ht.stack,Ke.message=ht.message),Te.write(Ke)}}})}},{key:"configure",value:function(){var Ne=this,Te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ze=Te.silent,ht=Te.format,Ke=Te.defaultMeta,tt=Te.levels,qe=Te.level,Qe=void 0===qe?"info":qe,We=Te.exitOnError,ft=void 0===We||We,$e=Te.transports,Re=Te.colors,Ve=Te.emitErrs,Xe=Te.formatters,vt=Te.padLevels,Fe=Te.rewriters,Ge=Te.stripColors,be=Te.exceptionHandlers,le=Te.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=ze,this.format=ht||this.format||g(2078)(),this.defaultMeta=Ke||null,this.levels=tt||this.levels||nt.npm.levels,this.level=Qe,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new ue(this),this.rejections=new fe(this),this.profilers={},this.exitOnError=ft,$e&&($e=Array.isArray($e)?$e:[$e]).forEach(function(re){return Ne.add(re)}),Re||Ve||Xe||vt||Fe||Ge)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));be&&this.exceptions.handle(be),le&&this.rejections.handle(le)}},{key:"isLevelEnabled",value:function(Ne){var Te=this,ze=ne(this.levels,Ne);if(null===ze)return!1;var ht=ne(this.levels,this.level);return null!==ht&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(function(tt){var qe=ne(Te.levels,tt.level);return null===qe&&(qe=ht),qe>=ze}):ht>=ze)}},{key:"log",value:function(Ne,Te){for(var ze,ht=arguments.length,Ke=new Array(ht>2?ht-2:0),tt=2;tt<ht;tt++)Ke[tt-2]=arguments[tt];if(1===arguments.length)return Ne[z]=Ne.level,this._addDefaultMeta(Ne),this.write(Ne),this;var qe;if(2===arguments.length)return Te&&"object"===F(Te)?(Te[z]=Te.level=Ne,this._addDefaultMeta(Te),this.write(Te),this):(i(qe={},z,Ne),i(qe,"level",Ne),i(qe,"message",Te),this._addDefaultMeta(Te=qe),this.write(Te),this);var Qe=Ke[0];if("object"===F(Qe)&&null!==Qe){var We=Te&&Te.match&&Te.match(et);if(!We){var ft,$e=Object.assign({},this.defaultMeta,Qe,(i(ft={},z,Ne),i(ft,ae,Ke),i(ft,"level",Ne),i(ft,"message",Te),ft));return Qe.message&&($e.message="".concat($e.message," ").concat(Qe.message)),Qe.stack&&($e.stack=Qe.stack),this.write($e),this}}return this.write(Object.assign({},this.defaultMeta,(i(ze={},z,Ne),i(ze,ae,Ke),i(ze,"level",Ne),i(ze,"message",Te),ze))),this}},{key:"_transform",value:function(Ne,Te,ze){if(this.silent)return ze();Ne[z]||(Ne[z]=Ne.level),!this.levels[Ne[z]]&&0!==this.levels[Ne[z]]&&console.error("[winston] Unknown logger level: %s",Ne[z]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",Ne);try{this.push(this.format.transform(Ne,this.format.options))}finally{this._writableState.sync=!1,ze()}}},{key:"_final",value:function(Ne){var Te=this.transports.slice();$(Te,function(ze,ht){if(!ze||ze.finished)return setImmediate(ht);ze.once("finish",ht),ze.end()},Ne)}},{key:"add",value:function(Ne){var Te=!pe(Ne)||Ne.log.length>2?new Y({transport:Ne}):Ne;if(!Te._writableState||!Te._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Te),this._onEvent("warn",Te),this.pipe(Te),Ne.handleExceptions&&this.exceptions.handle(),Ne.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Ne){if(!Ne)return this;var Te=Ne;return(!pe(Ne)||Ne.log.length>2)&&(Te=this.transports.filter(function(ze){return ze.transport===Ne})[0]),Te&&this.unpipe(Te),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){Me.deprecated("setLevels")}},{key:"query",value:function(Ne,Te){"function"==typeof Ne&&(Te=Ne,Ne={}),Ne=Ne||{};var ze={},ht=Object.assign({},Ne.query||{});$(this.transports.filter(function(qe){return!!qe.query}),function tt(qe,Qe){!function Ke(qe,Qe){Ne.query&&"function"==typeof qe.formatQuery&&(Ne.query=qe.formatQuery(ht)),qe.query(Ne,function(We,ft){if(We)return Qe(We);"function"==typeof qe.formatResults&&(ft=qe.formatResults(ft,Ne.format)),Qe(null,ft)})}(qe,function(We,ft){Qe&&((ft=We||ft)&&(ze[qe.name]=ft),Qe()),Qe=null})},function(){return Te(null,ze)})}},{key:"stream",value:function(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Te=new C,ze=[];return Te._streams=ze,Te.destroy=function(){for(var ht=ze.length;ht--;)ze[ht].destroy()},this.transports.filter(function(ht){return!!ht.stream}).forEach(function(ht){var Ke=ht.stream(Ne);!Ke||(ze.push(Ke),Ke.on("log",function(tt){tt.transport=tt.transport||[],tt.transport.push(ht.name),Te.emit("log",tt)}),Ke.on("error",function(tt){tt.transport=tt.transport||[],tt.transport.push(ht.name),Te.emit("error",tt)}))}),Te}},{key:"startTimer",value:function(){return new De(this)}},{key:"profile",value:function(Ne){var Te=Date.now();if(this.profilers[Ne]){var ze=this.profilers[Ne];delete this.profilers[Ne];for(var ht=arguments.length,Ke=new Array(ht>1?ht-1:0),tt=1;tt<ht;tt++)Ke[tt-1]=arguments[tt];"function"==typeof Ke[Ke.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Ke.pop());var qe="object"===F(Ke[Ke.length-1])?Ke.pop():{};return qe.level=qe.level||"info",qe.durationMs=Te-ze,qe.message=qe.message||Ne,this.write(qe)}return this.profilers[Ne]=Te,this}},{key:"handleExceptions",value:function(){var Ne;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Ne=this.exceptions).handle.apply(Ne,arguments)}},{key:"unhandleExceptions",value:function(){var Ne;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Ne=this.exceptions).unhandle.apply(Ne,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}},{key:"_onEvent",value:function(Ne,Te){Te["__winston"+Ne]||(Te["__winston"+Ne]=function ze(ht){"error"===Ne&&!this.transports.includes(Te)&&this.add(Te),this.emit(Ne,ht,Te)}.bind(this),Te.on(Ne,Te["__winston"+Ne]))}},{key:"_addDefaultMeta",value:function(Ne){this.defaultMeta&&Object.assign(Ne,this.defaultMeta)}}]),ke}(U);function ne(ve,Ue){var ke=ve[Ue];return ke||0===ke?ke:null}Object.defineProperty(de.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Ue=this._readableState.pipes;return Array.isArray(Ue)?Ue:[Ue].filter(Boolean)}}),te.exports=de},5700:te=>{"use strict";function O(B){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(B)}function i(B,T){for(var E=0;E<T.length;E++){var w=T[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}te.exports=function(){function B(T){if(function g(B,T){if(!(B instanceof T))throw new TypeError("Cannot call a class as a function")}(this,B),!T)throw new Error("Logger is required for profiling.");this.logger=T,this.start=Date.now()}return function F(B,T,E){T&&i(B.prototype,T),E&&i(B,E),Object.defineProperty(B,"prototype",{writable:!1})}(B,[{key:"done",value:function(){for(var E=arguments.length,w=new Array(E),m=0;m<E;m++)w[m]=arguments[m];"function"==typeof w[w.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),w.pop());var b="object"===O(w[w.length-1])?w.pop():{};return b.level=b.level||"info",b.durationMs=Date.now()-this.start,this.logger.write(b)}}]),B}()},851:(te,O,g)=>{"use strict";var i=g(1986);function B(R,P){for(var I=0;I<P.length;I++){var C=P[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,C.key,C)}}var E=g(2470),w=g(9997),m=g(9937)("winston:rejection"),b=g(6466),S=g(7073),k=g(3590);te.exports=function(){function R(P){if(function F(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}(this,R),!P)throw new Error("Logger is required to handle rejections");this.logger=P,this.handlers=new Map}return function T(R,P,I){P&&B(R.prototype,P),I&&B(R,I),Object.defineProperty(R,"prototype",{writable:!1})}(R,[{key:"handle",value:function(){for(var I=this,C=arguments.length,U=new Array(C),$=0;$<C;$++)U[$]=arguments[$];U.forEach(function(K){if(Array.isArray(K))return K.forEach(function(z){return I._addHandler(z)});I._addHandler(K)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),i.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var I=this;this.catcher&&(i.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(C){return I.logger.unpipe(C)}))}},{key:"getAllInfo",value:function(I){var C=null;return I&&(C="string"==typeof I?I:I.message),{error:I,level:"error",message:["unhandledRejection: ".concat(C||"(no error message)"),I&&I.stack||"  No stack trace"].join("\n"),stack:I&&I.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(I)}}},{key:"getProcessInfo",value:function(){return{pid:i.pid,uid:i.getuid?i.getuid():null,gid:i.getgid?i.getgid():null,cwd:i.cwd(),execPath:i.execPath,version:i.version,argv:i.argv,memoryUsage:i.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:E.loadavg(),uptime:E.uptime()}}},{key:"getTrace",value:function(I){return(I?S.parse(I):S.get()).map(function(U){return{column:U.getColumnNumber(),file:U.getFileName(),function:U.getFunctionName(),line:U.getLineNumber(),method:U.getMethodName(),native:U.isNative()}})}},{key:"_addHandler",value:function(I){if(!this.handlers.has(I)){I.handleRejections=!0;var C=new k(I);this.handlers.set(I,C),this.logger.pipe(C)}}},{key:"_unhandledRejection",value:function(I){var K,C=this.getAllInfo(I),U=this._getRejectionHandlers(),$="function"==typeof this.logger.exitOnError?this.logger.exitOnError(I):this.logger.exitOnError;function z(){m("doExit",$),m("process._exiting",i._exiting),$&&!i._exiting&&(K&&clearTimeout(K),i.exit(1))}if(!U.length&&$&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),$=!1),!U||0===U.length)return i.nextTick(z);w(U,function(ae,pe){var ue=b(pe),fe=ae.transport||ae;function Y(De){return function(){m(De),ue()}}fe._ending=!0,fe.once("finish",Y("finished")),fe.once("error",Y("error"))},function(){return $&&z()}),this.logger.log(C),$&&(K=setTimeout(z,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(I){return(I.transport||I).handleRejections})}}]),R}()},6777:(te,O,g)=>{"use strict";var i=g(7526).Buffer,F=g(3291),T=g(1015).StringDecoder,w=g(8623).Stream;function m(){}te.exports=function(b,S){var k=i.alloc(65536),R=new T("utf8"),P=new w,I="",C=0,U=0;return-1===b.start&&delete b.start,P.readable=!0,P.destroy=function(){P.destroyed=!0,P.emit("end"),P.emit("close")},F.open(b.file,"a+","0644",function($,K){if($)return S?S($):P.emit("error",$),void P.destroy();!function z(){if(!P.destroyed)return F.read(K,k,0,k.length,C,function(ae,pe){if(ae)return S?S(ae):P.emit("error",ae),void P.destroy();if(!pe)return I&&((null==b.start||U>b.start)&&(S?S(null,I):P.emit("line",I)),U++,I=""),setTimeout(z,1e3);var ue=R.write(k.slice(0,pe));S||P.emit("data",ue);for(var fe=(ue=(I+ue).split(/\n+/)).length-1,Y=0;Y<fe;Y++)(null==b.start||U>b.start)&&(S?S(null,ue[Y]):P.emit("line",ue[Y])),U++;return I=ue[fe],C+=pe,z()});F.close(K,m)}()}),S?P.destroy:P}},8040:(te,O,g)=>{"use strict";function i(K){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(K)}function F(K,z){if(!(K instanceof z))throw new TypeError("Cannot call a class as a function")}function B(K,z){for(var ae=0;ae<z.length;ae++){var pe=z[ae];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(K,pe.key,pe)}}function w(K,z){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ue){return pe.__proto__=ue,pe})(K,z)}function b(K,z){if(z&&("object"===i(z)||"function"==typeof z))return z;if(void 0!==z)throw new TypeError("Derived constructors may only return object or undefined");return function S(K){if(void 0===K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}(K)}function R(K){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(K)}var P=g(2470),I=g(3337),C=I.LEVEL,U=I.MESSAGE,$=g(1716);te.exports=function(K){!function E(K,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(z&&z.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),z&&w(K,z)}(ae,K);var z=function m(K){var z=function k(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(K){return!1}}();return function(){var ue,pe=R(K);if(z){var fe=R(this).constructor;ue=Reflect.construct(pe,arguments,fe)}else ue=pe.apply(this,arguments);return b(this,ue)}}(ae);function ae(){var pe,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F(this,ae),(pe=z.call(this,ue)).name=ue.name||"console",pe.stderrLevels=pe._stringArrayToSet(ue.stderrLevels),pe.consoleWarnLevels=pe._stringArrayToSet(ue.consoleWarnLevels),pe.eol="string"==typeof ue.eol?ue.eol:P.EOL,pe.setMaxListeners(30),pe}return function T(K,z,ae){z&&B(K.prototype,z),ae&&B(K,ae),Object.defineProperty(K,"prototype",{writable:!1})}(ae,[{key:"log",value:function(ue,fe){var Y=this;return setImmediate(function(){return Y.emit("logged",ue)}),this.stderrLevels[ue[C]]?(console._stderr?console._stderr.write("".concat(ue[U]).concat(this.eol)):console.error(ue[U]),void(fe&&fe())):this.consoleWarnLevels[ue[C]]?(console._stderr?console._stderr.write("".concat(ue[U]).concat(this.eol)):console.warn(ue[U]),void(fe&&fe())):(console._stdout?console._stdout.write("".concat(ue[U]).concat(this.eol)):console.log(ue[U]),void(fe&&fe()))}},{key:"_stringArrayToSet",value:function(ue,fe){if(!ue)return{};if(fe=fe||"Cannot make set from type other than Array of string elements",!Array.isArray(ue))throw new Error(fe);return ue.reduce(function(Y,De){if("string"!=typeof De)throw new Error(fe);return Y[De]=!0,Y},{})}}]),ae}($)},1339:(te,O,g)=>{"use strict";var i=g(7526).Buffer;function F(Me){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(nt){return typeof nt}:function(nt){return nt&&"function"==typeof Symbol&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt})(Me)}function B(Me,nt){if(!(Me instanceof nt))throw new TypeError("Cannot call a class as a function")}function T(Me,nt){for(var et=0;et<nt.length;et++){var de=nt[et];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(Me,de.key,de)}}function m(Me,nt){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,ne){return de.__proto__=ne,de})(Me,nt)}function S(Me,nt){if(nt&&("object"===F(nt)||"function"==typeof nt))return nt;if(void 0!==nt)throw new TypeError("Derived constructors may only return object or undefined");return k(Me)}function k(Me){if(void 0===Me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me}function P(Me){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)})(Me)}var I=g(9951),C=g(3407),U=g(4430),$=g(4338),z=g(3337).MESSAGE,ae=g(8623),pe=ae.Stream,ue=ae.PassThrough,fe=g(1716),Y=g(9937)("winston:file"),De=g(2470),me=g(6777);te.exports=function(Me){!function w(Me,nt){if("function"!=typeof nt&&null!==nt)throw new TypeError("Super expression must either be null or a function");Me.prototype=Object.create(nt&&nt.prototype,{constructor:{value:Me,writable:!0,configurable:!0}}),Object.defineProperty(Me,"prototype",{writable:!1}),nt&&m(Me,nt)}(et,Me);var nt=function b(Me){var nt=function R(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Me){return!1}}();return function(){var ne,de=P(Me);if(nt){var ve=P(this).constructor;ne=Reflect.construct(de,arguments,ve)}else ne=de.apply(this,arguments);return S(this,ne)}}(et);function et(){var de,ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function ve(Ue){for(var ke=arguments.length,Ie=new Array(ke>1?ke-1:0),Ne=1;Ne<ke;Ne++)Ie[Ne-1]=arguments[Ne];Ie.slice(1).forEach(function(Te){if(ne[Te])throw new Error("Cannot set ".concat(Te," and ").concat(Ue," together"))})}if(B(this,et),(de=nt.call(this,ne)).name=ne.name||"file",de._stream=new ue,de._stream.setMaxListeners(30),de._onError=de._onError.bind(k(de)),ne.filename||ne.dirname)ve("filename or dirname","stream"),de._basename=de.filename=ne.filename?C.basename(ne.filename):"winston.log",de.dirname=ne.dirname||C.dirname(ne.filename),de.options=ne.options||{flags:"a"};else{if(!ne.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),ve("stream","filename","maxsize"),de._dest=de._stream.pipe(de._setupStream(ne.stream)),de.dirname=C.dirname(de._dest.path)}return de.maxsize=ne.maxsize||null,de.rotationFormat=ne.rotationFormat||!1,de.zippedArchive=ne.zippedArchive||!1,de.maxFiles=ne.maxFiles||null,de.eol="string"==typeof ne.eol?ne.eol:De.EOL,de.tailable=ne.tailable||!1,de._size=0,de._pendingSize=0,de._created=0,de._drain=!1,de._opening=!1,de._ending=!1,de.dirname&&de._createLogDirIfNotExist(de.dirname),de.open(),de}return function E(Me,nt,et){nt&&T(Me.prototype,nt),et&&T(Me,et),Object.defineProperty(Me,"prototype",{writable:!1})}(et,[{key:"finishIfEnding",value:function(){var ne=this;this._ending&&(this._opening?this.once("open",function(){ne._stream.once("finish",function(){return ne.emit("finish")}),setImmediate(function(){return ne._stream.end()})}):(this._stream.once("finish",function(){return ne.emit("finish")}),setImmediate(function(){return ne._stream.end()})))}},{key:"log",value:function(ne){var ve=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.silent)return Ue(),!0;if(this._drain)this._stream.once("drain",function(){ve._drain=!1,ve.log(ne,Ue)});else{if(!this._rotate){var ke="".concat(ne[z]).concat(this.eol),Ie=i.byteLength(ke);this._pendingSize+=Ie,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var Te=this._stream.write(ke,Ne.bind(this));return Te?Ue():(this._drain=!0,this._stream.once("drain",function(){ve._drain=!1,Ue()})),Y("written",Te,this._drain),this.finishIfEnding(),Te}this._stream.once("rotate",function(){ve._rotate=!1,ve.log(ne,Ue)})}function Ne(){var ze=this;this._size+=Ie,this._pendingSize-=Ie,Y("logged %s %s",this._size,ke),this.emit("logged",ne),!this._opening&&(!this._needsNewFile()||(this._rotate=!0,this._endStream(function(){return ze._rotateFile()})))}}},{key:"query",value:function(ne,ve){"function"==typeof ne&&(ve=ne,ne={}),ne=function tt(qe){return(qe=qe||{}).rows=qe.rows||qe.limit||10,qe.start=qe.start||0,qe.until=qe.until||new Date,"object"!==F(qe.until)&&(qe.until=new Date(qe.until)),qe.from=qe.from||qe.until-864e5,"object"!==F(qe.from)&&(qe.from=new Date(qe.from)),qe.order=qe.order||"desc",qe}(ne);var Ue=C.join(this.dirname,this.filename),ke="",Ie=[],Ne=0,Te=I.createReadStream(Ue,{encoding:"utf8"});function ze(qe,Qe){try{var We=JSON.parse(qe);(function Ke(qe){if(qe&&"object"===F(qe)){var Qe=new Date(qe.timestamp);if(!(ne.from&&Qe<ne.from||ne.until&&Qe>ne.until||ne.level&&ne.level!==qe.level))return!0}})(We)&&function ht(qe){ne.rows&&Ie.length>=ne.rows&&"desc"!==ne.order?Te.readable&&Te.destroy():(ne.fields&&(qe=ne.fields.reduce(function(Qe,We){return Qe[We]=qe[We],Qe},{})),"desc"===ne.order&&Ie.length>=ne.rows&&Ie.shift(),Ie.push(qe))}(We)}catch(ft){Qe||Te.emit("error",ft)}}Te.on("error",function(qe){if(Te.readable&&Te.destroy(),ve)return"ENOENT"!==qe.code?ve(qe):ve(null,Ie)}),Te.on("data",function(qe){for(var Qe=(qe=(ke+qe).split(/\n+/)).length-1,We=0;We<Qe;We++)(!ne.start||Ne>=ne.start)&&ze(qe[We]),Ne++;ke=qe[Qe]}),Te.on("close",function(){ke&&ze(ke,!0),"desc"===ne.order&&(Ie=Ie.reverse()),ve&&ve(null,Ie)})}},{key:"stream",value:function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ve=C.join(this.dirname,this.filename),Ue=new pe,ke={file:ve,start:ne.start};return Ue.destroy=me(ke,function(Ie,Ne){if(Ie)return Ue.emit("error",Ie);try{Ue.emit("data",Ne),Ne=JSON.parse(Ne),Ue.emit("log",Ne)}catch(Te){Ue.emit("error",Te)}}),Ue}},{key:"open",value:function(){var ne=this;!this.filename||this._opening||(this._opening=!0,this.stat(function(ve,Ue){if(ve)return ne.emit("error",ve);Y("stat done: %s { size: %s }",ne.filename,Ue),ne._size=Ue,ne._dest=ne._createStream(ne._stream),ne._opening=!1,ne.once("open",function(){ne._stream.eventNames().includes("rotate")?ne._stream.emit("rotate"):ne._rotate=!1})}))}},{key:"stat",value:function(ne){var ve=this,Ue=this._getFile(),ke=C.join(this.dirname,Ue);I.stat(ke,function(Ie,Ne){return Ie&&"ENOENT"===Ie.code?(Y("ENOENT\xa0ok",ke),ve.filename=Ue,ne(null,0)):Ie?(Y("err ".concat(Ie.code," ").concat(ke)),ne(Ie)):!Ne||ve._needsNewFile(Ne.size)?ve._incFile(function(){return ve.stat(ne)}):(ve.filename=Ue,void ne(null,Ne.size))})}},{key:"close",value:function(ne){var ve=this;!this._stream||this._stream.end(function(){ne&&ne(),ve.emit("flush"),ve.emit("closed")})}},{key:"_needsNewFile",value:function(ne){return ne=ne||this._size,this.maxsize&&ne>=this.maxsize}},{key:"_onError",value:function(ne){this.emit("error",ne)}},{key:"_setupStream",value:function(ne){return ne.on("error",this._onError),ne}},{key:"_cleanupStream",value:function(ne){return ne.removeListener("error",this._onError),ne}},{key:"_rotateFile",value:function(){var ne=this;this._incFile(function(){return ne.open()})}},{key:"_endStream",value:function(){var ne=this,ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){ne._cleanupStream(ne._dest),ve()})):ve()}},{key:"_createStream",value:function(ne){var ve=this,Ue=C.join(this.dirname,this.filename);Y("create stream start",Ue,this.options);var ke=I.createWriteStream(Ue,this.options).on("error",function(Ne){return Y(Ne)}).on("close",function(){return Y("close",ke.path,ke.bytesWritten)}).on("open",function(){Y("file open ok",Ue),ve.emit("open",Ue),ne.pipe(ke),ve.rotatedWhileOpening&&(ve._stream=new ue,ve._stream.setMaxListeners(30),ve._rotateFile(),ve.rotatedWhileOpening=!1,ve._cleanupStream(ke),ne.end())});if(Y("create stream ok",Ue),this.zippedArchive){var Ie=$.createGzip();return Ie.pipe(ke),Ie}return ke}},{key:"_incFile",value:function(ne){Y("_incFile",this.filename);var ve=C.extname(this._basename),Ue=C.basename(this._basename,ve);this.tailable?this._checkMaxFilesTailable(ve,Ue,ne):(this._created+=1,this._checkMaxFilesIncrementing(ve,Ue,ne))}},{key:"_getFile",value:function(){var ne=C.extname(this._basename),ve=C.basename(this._basename,ne),Ue=this.rotationFormat?this.rotationFormat():this._created,ke=!this.tailable&&this._created?"".concat(ve).concat(Ue).concat(ne):"".concat(ve).concat(ne);return this.zippedArchive&&!this.tailable?"".concat(ke,".gz"):ke}},{key:"_checkMaxFilesIncrementing",value:function(ne,ve,Ue){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(Ue);var ke=this._created-this.maxFiles,Ie=0!==ke?ke:"",Ne=this.zippedArchive?".gz":"",Te="".concat(ve).concat(Ie).concat(ne).concat(Ne),ze=C.join(this.dirname,Te);I.unlink(ze,Ue)}},{key:"_checkMaxFilesTailable",value:function(ne,ve,Ue){var ke=this,Ie=[];if(this.maxFiles){for(var Ne=this.zippedArchive?".gz":"",Te=this.maxFiles-1;Te>1;Te--)Ie.push(function(ze,ht){var Ke=this,tt="".concat(ve).concat(ze-1).concat(ne).concat(Ne),qe=C.join(this.dirname,tt);I.exists(qe,function(Qe){if(!Qe)return ht(null);tt="".concat(ve).concat(ze).concat(ne).concat(Ne),I.rename(qe,C.join(Ke.dirname,tt),ht)})}.bind(this,Te));U(Ie,function(){I.rename(C.join(ke.dirname,"".concat(ve).concat(ne)),C.join(ke.dirname,"".concat(ve,"1").concat(ne).concat(Ne)),Ue)})}}},{key:"_createLogDirIfNotExist",value:function(ne){I.existsSync(ne)||I.mkdirSync(ne,{recursive:!0})}}]),et}(fe)},8652:(te,O,g)=>{"use strict";var i=g(7526).Buffer;function F(fe){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(fe)}function B(fe,Y){var De=Object.keys(fe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(fe);Y&&(me=me.filter(function(Me){return Object.getOwnPropertyDescriptor(fe,Me).enumerable})),De.push.apply(De,me)}return De}function T(fe){for(var Y=1;Y<arguments.length;Y++){var De=null!=arguments[Y]?arguments[Y]:{};Y%2?B(Object(De),!0).forEach(function(me){E(fe,me,De[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(De)):B(Object(De)).forEach(function(me){Object.defineProperty(fe,me,Object.getOwnPropertyDescriptor(De,me))})}return fe}function E(fe,Y,De){return Y in fe?Object.defineProperty(fe,Y,{value:De,enumerable:!0,configurable:!0,writable:!0}):fe[Y]=De,fe}function w(fe,Y){if(!(fe instanceof Y))throw new TypeError("Cannot call a class as a function")}function m(fe,Y){for(var De=0;De<Y.length;De++){var me=Y[De];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(fe,me.key,me)}}function k(fe,Y){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(me,Me){return me.__proto__=Me,me})(fe,Y)}function P(fe,Y){if(Y&&("object"===F(Y)||"function"==typeof Y))return Y;if(void 0!==Y)throw new TypeError("Derived constructors may only return object or undefined");return function I(fe){if(void 0===fe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}(fe)}function U(fe){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(De){return De.__proto__||Object.getPrototypeOf(De)})(fe)}var $=g(5305),K=g(2137),ae=g(8623).Stream,pe=g(1716),ue=g(9624);te.exports=function(fe){!function S(fe,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(Y&&Y.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),Y&&k(fe,Y)}(De,fe);var Y=function R(fe){var Y=function C(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var Me,me=U(fe);if(Y){var nt=U(this).constructor;Me=Reflect.construct(me,arguments,nt)}else Me=me.apply(this,arguments);return P(this,Me)}}(De);function De(){var me,Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(this,De),(me=Y.call(this,Me)).options=Me,me.name=Me.name||"http",me.ssl=!!Me.ssl,me.host=Me.host||"localhost",me.port=Me.port,me.auth=Me.auth,me.path=Me.path||"",me.agent=Me.agent,me.headers=Me.headers||{},me.headers["content-type"]="application/json",me.batch=Me.batch||!1,me.batchInterval=Me.batchInterval||5e3,me.batchCount=Me.batchCount||10,me.batchOptions=[],me.batchTimeoutID=-1,me.batchCallback={},me.port||(me.port=me.ssl?443:80),me}return function b(fe,Y,De){Y&&m(fe.prototype,Y),De&&m(fe,De),Object.defineProperty(fe,"prototype",{writable:!1})}(De,[{key:"log",value:function(Me,nt){var et=this;this._request(Me,function(de,ne){ne&&200!==ne.statusCode&&(de=new Error("Invalid HTTP Status Code: ".concat(ne.statusCode))),de?et.emit("warn",de):et.emit("logged",Me)}),nt&&setImmediate(nt)}},{key:"query",value:function(Me,nt){"function"==typeof Me&&(nt=Me,Me={}),(Me={method:"query",params:this.normalizeQuery(Me)}).params.path&&(Me.path=Me.params.path,delete Me.params.path),Me.params.auth&&(Me.auth=Me.params.auth,delete Me.params.auth),this._request(Me,function(et,de,ne){if(de&&200!==de.statusCode&&(et=new Error("Invalid HTTP Status Code: ".concat(de.statusCode))),et)return nt(et);if("string"==typeof ne)try{ne=JSON.parse(ne)}catch(ve){return nt(ve)}nt(null,ne)})}},{key:"stream",value:function(){var Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nt=new ae;(Me={method:"stream",params:Me}).params.path&&(Me.path=Me.params.path,delete Me.params.path),Me.params.auth&&(Me.auth=Me.params.auth,delete Me.params.auth);var et="",de=this._request(Me);return nt.destroy=function(){return de.destroy()},de.on("data",function(ne){for(var ve=(ne=(et+ne).split(/\n+/)).length-1,Ue=0;Ue<ve;Ue++)try{nt.emit("log",JSON.parse(ne[Ue]))}catch(ke){nt.emit("error",ke)}et=ne[ve]}),de.on("error",function(ne){return nt.emit("error",ne)}),nt}},{key:"_request",value:function(Me,nt){var et=(Me=Me||{}).auth||this.auth,de=Me.path||this.path||"";delete Me.auth,delete Me.path,this.batch?this._doBatch(Me,nt,et,de):this._doRequest(Me,nt,et,de)}},{key:"_doBatch",value:function(Me,nt,et,de){if(this.batchOptions.push(Me),1===this.batchOptions.length){var ne=this;this.batchCallback=nt,this.batchTimeoutID=setTimeout(function(){ne.batchTimeoutID=-1,ne._doBatchRequest(ne.batchCallback,et,de)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,et,de)}},{key:"_doBatchRequest",value:function(Me,nt,et){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var de=this.batchOptions.slice();this.batchOptions=[],this._doRequest(de,Me,nt,et)}},{key:"_doRequest",value:function(Me,nt,et,de){var ne=Object.assign({},this.headers);et&&et.bearer&&(ne.Authorization="Bearer ".concat(et.bearer));var ve=(this.ssl?K:$).request(T(T({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(de.replace(/^\//,"")),headers:ne,auth:et&&et.username&&et.password?"".concat(et.username,":").concat(et.password):"",agent:this.agent}));ve.on("error",nt),ve.on("response",function(Ue){return Ue.on("end",function(){return nt(null,Ue)}).resume()}),ve.end(i.from(ue(Me,this.options.replacer),"utf8"))}}]),De}(pe)},1496:(te,O,g)=>{"use strict";Object.defineProperty(O,"Console",{configurable:!0,enumerable:!0,get:function(){return g(8040)}}),Object.defineProperty(O,"File",{configurable:!0,enumerable:!0,get:function(){return g(1339)}}),Object.defineProperty(O,"Http",{configurable:!0,enumerable:!0,get:function(){return g(8652)}}),Object.defineProperty(O,"Stream",{configurable:!0,enumerable:!0,get:function(){return g(9920)}})},9920:(te,O,g)=>{"use strict";function i(K){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(K)}function F(K,z){if(!(K instanceof z))throw new TypeError("Cannot call a class as a function")}function B(K,z){for(var ae=0;ae<z.length;ae++){var pe=z[ae];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(K,pe.key,pe)}}function w(K,z){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ue){return pe.__proto__=ue,pe})(K,z)}function b(K,z){if(z&&("object"===i(z)||"function"==typeof z))return z;if(void 0!==z)throw new TypeError("Derived constructors may only return object or undefined");return function S(K){if(void 0===K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}(K)}function R(K){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(K)}var P=g(1263),C=g(3337).MESSAGE,U=g(2470),$=g(1716);te.exports=function(K){!function E(K,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(z&&z.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),z&&w(K,z)}(ae,K);var z=function m(K){var z=function k(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(K){return!1}}();return function(){var ue,pe=R(K);if(z){var fe=R(this).constructor;ue=Reflect.construct(pe,arguments,fe)}else ue=pe.apply(this,arguments);return b(this,ue)}}(ae);function ae(){var pe,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(F(this,ae),pe=z.call(this,ue),!ue.stream||!P(ue.stream))throw new Error("options.stream is required.");return pe._stream=ue.stream,pe._stream.setMaxListeners(1/0),pe.isObjectMode=ue.stream._writableState.objectMode,pe.eol="string"==typeof ue.eol?ue.eol:U.EOL,pe}return function T(K,z,ae){z&&B(K.prototype,z),ae&&B(K,ae),Object.defineProperty(K,"prototype",{writable:!1})}(ae,[{key:"log",value:function(ue,fe){var Y=this;if(setImmediate(function(){return Y.emit("logged",ue)}),this.isObjectMode)return this._stream.write(ue),void(fe&&fe());this._stream.write("".concat(ue[C]).concat(this.eol)),fe&&fe()}}]),ae}($)},6750:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function m(k){return(0,E.isAsync)(k)?function(...R){const P=R.pop();return b(k.apply(this,R),P)}:(0,F.default)(function(R,P){var I;try{I=k.apply(this,R)}catch(C){return P(C)}if(I&&"function"==typeof I.then)return b(I,P);P(null,I)})};var F=w(g(9570)),T=w(g(6855)),E=g(4453);function w(k){return k&&k.__esModule?k:{default:k}}function b(k,R){return k.then(P=>{S(R,null,P)},P=>{S(R,P&&P.message?P:new Error(P))})}function S(k,R,P){try{k(R,P)}catch(I){(0,T.default)(C=>{throw C},I)}}te.exports=O.default},3957:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var F=U(g(8583)),T=U(g(3113)),w=U(g(5011)),b=U(g(4270)),k=U(g(8439)),P=U(g(4453)),C=U(g(9439));function U(ae){return ae&&ae.__esModule?ae:{default:ae}}function $(ae,pe,ue){ue=(0,b.default)(ue);var fe=0,Y=0,{length:De}=ae,me=!1;function Me(nt,et){!1===nt&&(me=!0),!0!==me&&(nt?ue(nt):(++Y===De||et===T.default)&&ue(null))}for(0===De&&ue(null);fe<De;fe++)pe(ae[fe],fe,(0,k.default)(Me))}function K(ae,pe,ue){return(0,w.default)(ae,1/0,pe,ue)}O.default=(0,C.default)(function z(ae,pe,ue){return((0,F.default)(ae)?$:K)(ae,(0,P.default)(pe),ue)},3),te.exports=O.default},5011:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var F=m(g(3994)),T=m(g(4453)),w=m(g(9439));function m(S){return S&&S.__esModule?S:{default:S}}O.default=(0,w.default)(function b(S,k,R,P){return(0,F.default)(k)(S,(0,T.default)(R),P)},4),te.exports=O.default},8741:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var F=E(g(5011)),T=E(g(9439));function E(m){return m&&m.__esModule?m:{default:m}}O.default=(0,T.default)(function w(m,b,S){return(0,F.default)(m,1,b,S)},3),te.exports=O.default},9997:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var F=S(g(3957)),T=S(g(4303)),w=S(g(4453)),b=S(g(9439));function S(R){return R&&R.__esModule?R:{default:R}}O.default=(0,b.default)(function k(R,P,I){return(0,F.default)(R,(0,T.default)((0,w.default)(P)),I)},3),te.exports=O.default},7522:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function T(E,w,m,b){let S=!1,k=!1,R=!1,P=0,I=0;function C(){P>=w||R||S||(R=!0,E.next().then(({value:K,done:z})=>{if(!k&&!S){if(R=!1,z)return S=!0,void(P<=0&&b(null));P++,m(K,I,U),I++,C()}}).catch($))}function U(K,z){if(P-=1,!k){if(K)return $(K);if(!1===K)return S=!0,void(k=!0);if(z===F.default||S&&P<=0)return S=!0,b(null);C()}}function $(K){k||(R=!1,S=!0,b(K))}C()};var F=function B(E){return E&&E.__esModule?E:{default:E}}(g(3113));te.exports=O.default},9439:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function g(i,F=i.length){if(!F)throw new Error("arity is undefined");return function B(...T){return"function"==typeof T[F-1]?i.apply(this,T):new Promise((E,w)=>{T[F-1]=(m,...b)=>{if(m)return w(m);E(b.length>1?b:b[0])},i.apply(this,T)})}},te.exports=O.default},3113:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default={},te.exports=O.default},3994:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var F=P(g(4270)),T=P(g(6101)),w=P(g(8439)),m=g(4453),S=P(g(7522)),R=P(g(3113));function P(I){return I&&I.__esModule?I:{default:I}}O.default=I=>(C,U,$)=>{if($=(0,F.default)($),I<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!C)return $(null);if((0,m.isAsyncGenerator)(C))return(0,S.default)(C,I,U,$);if((0,m.isAsyncIterable)(C))return(0,S.default)(C[Symbol.asyncIterator](),I,U,$);var K=(0,T.default)(C),z=!1,ae=!1,pe=0,ue=!1;function fe(De,me){if(!ae)if(pe-=1,De)z=!0,$(De);else if(!1===De)z=!0,ae=!0;else{if(me===R.default||z&&pe<=0)return z=!0,$(null);ue||Y()}}function Y(){for(ue=!0;pe<I&&!z;){var De=K();if(null===De)return z=!0,void(pe<=0&&$(null));pe+=1,U(De.value,De.key,(0,w.default)(fe))}ue=!1}Y()},te.exports=O.default},7670:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(g){return g[Symbol.iterator]&&g[Symbol.iterator]()},te.exports=O.default},9570:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(g){return function(...i){var F=i.pop();return g.call(this,i,F)}},te.exports=O.default},8583:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function g(i){return i&&"number"==typeof i.length&&i.length>=0&&i.length%1==0},te.exports=O.default},6101:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function S(k){if((0,F.default)(k))return function w(k){var R=-1,P=k.length;return function(){return++R<P?{value:k[R],key:R}:null}}(k);var R=(0,T.default)(k);return R?function m(k){var R=-1;return function(){var I=k.next();return I.done?null:(R++,{value:I.value,key:R})}}(R):function b(k){var R=k?Object.keys(k):[],P=-1,I=R.length;return function C(){var U=R[++P];return"__proto__"===U?C():P<I?{value:k[U],key:U}:null}}(k)};var F=E(g(8583)),T=E(g(7670));function E(k){return k&&k.__esModule?k:{default:k}}te.exports=O.default},4270:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function g(i){function F(...B){if(null!==i){var T=i;i=null,T.apply(this,B)}}return Object.assign(F,i),F},te.exports=O.default},8439:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function g(i){return function(...F){if(null===i)throw new Error("Callback was already called.");var B=i;i=null,B.apply(this,F)}},te.exports=O.default},9980:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var F=m(g(8583)),T=m(g(4453)),w=m(g(9439));function m(b){return b&&b.__esModule?b:{default:b}}O.default=(0,w.default)((b,S,k)=>{var R=(0,F.default)(S)?[]:{};b(S,(P,I,C)=>{(0,T.default)(P)((U,...$)=>{$.length<2&&([$]=$),R[I]=$,C(U)})},P=>k(P,R))},3),te.exports=O.default},6855:(te,O,g)=>{"use strict";var i=g(1986);Object.defineProperty(O,"__esModule",{value:!0}),O.fallback=E,O.wrap=w;var m,F=O.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,B=O.hasSetImmediate="function"==typeof setImmediate&&setImmediate,T=O.hasNextTick="object"==typeof i&&"function"==typeof i.nextTick;function E(b){setTimeout(b,0)}function w(b){return(S,...k)=>b(()=>S(...k))}m=F?queueMicrotask:B?setImmediate:T?i.nextTick:E,O.default=w(m)},4303:(te,O)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function g(i){return(F,B,T)=>i(F,T)},te.exports=O.default},4453:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.isAsyncIterable=O.isAsyncGenerator=O.isAsync=void 0;var F=function B(b){return b&&b.__esModule?b:{default:b}}(g(6750));function T(b){return"AsyncFunction"===b[Symbol.toStringTag]}O.default=function m(b){if("function"!=typeof b)throw new Error("expected a function");return T(b)?(0,F.default)(b):b},O.isAsync=T,O.isAsyncGenerator=function E(b){return"AsyncGenerator"===b[Symbol.toStringTag]},O.isAsyncIterable=function w(b){return"function"==typeof b[Symbol.asyncIterator]}},4430:(te,O,g)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=function w(m,b){return(0,F.default)(T.default,m,b)};var F=E(g(9980)),T=E(g(8741));function E(m){return m&&m.__esModule?m:{default:m}}te.exports=O.default},4577:te=>{te.exports=function O(g,i){if(g&&i)return O(g)(i);if("function"!=typeof g)throw new TypeError("need wrapper function");return Object.keys(g).forEach(function(B){F[B]=g[B]}),F;function F(){for(var B=new Array(arguments.length),T=0;T<B.length;T++)B[T]=arguments[T];var E=g.apply(this,B),w=B[B.length-1];return"function"==typeof E&&E!==w&&Object.keys(w).forEach(function(m){E[m]=w[m]}),E}}},3930:te=>{"use strict";te.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},7980:te=>{te.exports=function g(){for(var i={},F=0;F<arguments.length;F++){var B=arguments[F];for(var T in B)O.call(B,T)&&(i[T]=B[T])}return i};var O=Object.prototype.hasOwnProperty},5664:te=>{"use strict";te.exports=function(O){O.prototype[Symbol.iterator]=function*(){for(let g=this.head;g;g=g.next)yield g.value}}},5950:(te,O,g)=>{"use strict";function i(w){var m=this;if(m instanceof i||(m=new i),m.tail=null,m.head=null,m.length=0,w&&"function"==typeof w.forEach)w.forEach(function(k){m.push(k)});else if(arguments.length>0)for(var b=0,S=arguments.length;b<S;b++)m.push(arguments[b]);return m}function F(w,m,b){var S=m===w.head?new E(b,null,m,w):new E(b,m,m.next,w);return null===S.next&&(w.tail=S),null===S.prev&&(w.head=S),w.length++,S}function B(w,m){w.tail=new E(m,w.tail,null,w),w.head||(w.head=w.tail),w.length++}function T(w,m){w.head=new E(m,null,w.head,w),w.tail||(w.tail=w.head),w.length++}function E(w,m,b,S){if(!(this instanceof E))return new E(w,m,b,S);this.list=S,this.value=w,m?(m.next=this,this.prev=m):this.prev=null,b?(b.prev=this,this.next=b):this.next=null}te.exports=i,i.Node=E,i.create=i,i.prototype.removeNode=function(w){if(w.list!==this)throw new Error("removing node which does not belong to this list");var m=w.next,b=w.prev;return m&&(m.prev=b),b&&(b.next=m),w===this.head&&(this.head=m),w===this.tail&&(this.tail=b),w.list.length--,w.next=null,w.prev=null,w.list=null,m},i.prototype.unshiftNode=function(w){if(w!==this.head){w.list&&w.list.removeNode(w);var m=this.head;w.list=this,w.next=m,m&&(m.prev=w),this.head=w,this.tail||(this.tail=w),this.length++}},i.prototype.pushNode=function(w){if(w!==this.tail){w.list&&w.list.removeNode(w);var m=this.tail;w.list=this,w.prev=m,m&&(m.next=w),this.tail=w,this.head||(this.head=w),this.length++}},i.prototype.push=function(){for(var w=0,m=arguments.length;w<m;w++)B(this,arguments[w]);return this.length},i.prototype.unshift=function(){for(var w=0,m=arguments.length;w<m;w++)T(this,arguments[w]);return this.length},i.prototype.pop=function(){if(this.tail){var w=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,w}},i.prototype.shift=function(){if(this.head){var w=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,w}},i.prototype.forEach=function(w,m){m=m||this;for(var b=this.head,S=0;null!==b;S++)w.call(m,b.value,S,this),b=b.next},i.prototype.forEachReverse=function(w,m){m=m||this;for(var b=this.tail,S=this.length-1;null!==b;S--)w.call(m,b.value,S,this),b=b.prev},i.prototype.get=function(w){for(var m=0,b=this.head;null!==b&&m<w;m++)b=b.next;if(m===w&&null!==b)return b.value},i.prototype.getReverse=function(w){for(var m=0,b=this.tail;null!==b&&m<w;m++)b=b.prev;if(m===w&&null!==b)return b.value},i.prototype.map=function(w,m){m=m||this;for(var b=new i,S=this.head;null!==S;)b.push(w.call(m,S.value,this)),S=S.next;return b},i.prototype.mapReverse=function(w,m){m=m||this;for(var b=new i,S=this.tail;null!==S;)b.push(w.call(m,S.value,this)),S=S.prev;return b},i.prototype.reduce=function(w,m){var b,S=this.head;if(arguments.length>1)b=m;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");S=this.head.next,b=this.head.value}for(var k=0;null!==S;k++)b=w(b,S.value,k),S=S.next;return b},i.prototype.reduceReverse=function(w,m){var b,S=this.tail;if(arguments.length>1)b=m;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");S=this.tail.prev,b=this.tail.value}for(var k=this.length-1;null!==S;k--)b=w(b,S.value,k),S=S.prev;return b},i.prototype.toArray=function(){for(var w=new Array(this.length),m=0,b=this.head;null!==b;m++)w[m]=b.value,b=b.next;return w},i.prototype.toArrayReverse=function(){for(var w=new Array(this.length),m=0,b=this.tail;null!==b;m++)w[m]=b.value,b=b.prev;return w},i.prototype.slice=function(w,m){(m=m||this.length)<0&&(m+=this.length),(w=w||0)<0&&(w+=this.length);var b=new i;if(m<w||m<0)return b;w<0&&(w=0),m>this.length&&(m=this.length);for(var S=0,k=this.head;null!==k&&S<w;S++)k=k.next;for(;null!==k&&S<m;S++,k=k.next)b.push(k.value);return b},i.prototype.sliceReverse=function(w,m){(m=m||this.length)<0&&(m+=this.length),(w=w||0)<0&&(w+=this.length);var b=new i;if(m<w||m<0)return b;w<0&&(w=0),m>this.length&&(m=this.length);for(var S=this.length,k=this.tail;null!==k&&S>m;S--)k=k.prev;for(;null!==k&&S>w;S--,k=k.prev)b.push(k.value);return b},i.prototype.splice=function(w,m,...b){w>this.length&&(w=this.length-1),w<0&&(w=this.length+w);for(var S=0,k=this.head;null!==k&&S<w;S++)k=k.next;var R=[];for(S=0;k&&S<m;S++)R.push(k.value),k=this.removeNode(k);for(null===k&&(k=this.tail),k!==this.head&&k!==this.tail&&(k=k.prev),S=0;S<b.length;S++)k=F(this,k,b[S]);return R},i.prototype.reverse=function(){for(var w=this.head,m=this.tail,b=w;null!==b;b=b.prev){var S=b.prev;b.prev=b.next,b.next=S}return this.head=m,this.tail=w,this};try{g(5664)(i)}catch(w){}},5556:()=>{},6784:()=>{},4854:()=>{},6602:()=>{},9951:()=>{},3291:()=>{},3170:te=>{function O(i,F,B,T,E,w,m){try{var b=i[w](m),S=b.value}catch(k){return void B(k)}b.done?F(S):Promise.resolve(S).then(T,E)}te.exports=function g(i){return function(){var F=this,B=arguments;return new Promise(function(T,E){var w=i.apply(F,B);function m(S){O(w,T,E,m,b,"next",S)}function b(S){O(w,T,E,m,b,"throw",S)}m(void 0)})}},te.exports.__esModule=!0,te.exports.default=te.exports},790:te=>{"use strict";var O=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g="undefined"==typeof globalThis?global:globalThis;te.exports=function(){for(var F=[],B=0;B<O.length;B++)"function"==typeof g[O[B]]&&(F[F.length]=O[B]);return F}},3198:(te,O,g)=>{"use strict";g.d(O,{$8M:()=>Ft,$Z:()=>xf,AFp:()=>ch,ALo:()=>n_,AaK:()=>b,Akn:()=>xa,AsE:()=>Zf,BQk:()=>Ju,CHM:()=>du,CRH:()=>ms,CZH:()=>gd,CqO:()=>ed,D6c:()=>Jg,DdM:()=>Rg,EJc:()=>E_,EiD:()=>f1,EpF:()=>db,F$t:()=>dv,F4k:()=>fb,FYo:()=>E1,FiY:()=>wu,G48:()=>$a,Gf:()=>c_,GfV:()=>C1,GkF:()=>ub,Gpc:()=>R,Gre:()=>Ab,Hsn:()=>gb,Ikx:()=>nd,JOm:()=>Ia,JVY:()=>KE,KtG:()=>Ec,L6k:()=>Sp,LAX:()=>hl,LFG:()=>so,LSH:()=>Mp,Lbi:()=>N2,Lck:()=>lw,MAs:()=>cb,MGl:()=>Xl,MMx:()=>Og,NdJ:()=>Gc,O4$:()=>Sc,OlP:()=>Dn,Oqu:()=>Av,PXZ:()=>Q2,PiD:()=>Um,Q6J:()=>sv,QGY:()=>lv,QP$:()=>rr,QbO:()=>Bw,Qsj:()=>gC,R0b:()=>vs,RDi:()=>$E,Rgc:()=>ic,SBq:()=>mf,Sil:()=>G2,Suo:()=>hd,TTD:()=>wc,TgZ:()=>sg,Tol:()=>vv,Udp:()=>ug,VKq:()=>Pg,W1O:()=>f_,WFA:()=>Ql,WLB:()=>ki,X6Q:()=>tA,XFs:()=>re,Xpm:()=>ee,Xts:()=>Bc,Y36:()=>wf,YKP:()=>aw,YNc:()=>lb,Yjl:()=>hn,Yz7:()=>qe,Z0I:()=>$e,ZZ4:()=>L_,_Bn:()=>sw,_UZ:()=>Xu,_Vd:()=>gf,_c5:()=>sx,_uU:()=>zf,aQg:()=>Xg,c2e:()=>U2,cJS:()=>We,cg1:()=>Mv,d8E:()=>ec,dDg:()=>S_,dqk:()=>un,dwT:()=>HS,eBb:()=>QE,eFA:()=>J2,ekj:()=>dg,eoX:()=>Zo,f3M:()=>ME,g9A:()=>Nw,h0i:()=>ld,hGG:()=>NM,hYB:()=>fv,hij:()=>pg,iGM:()=>Hg,ifc:()=>Wt,ip1:()=>Lw,jDz:()=>rh,kL8:()=>Lb,kcU:()=>pu,l5B:()=>hw,lG2:()=>Jt,lcZ:()=>r_,lqb:()=>Mu,lri:()=>Vw,mCW:()=>Zl,n5z:()=>je,n_E:()=>Fg,oAB:()=>ct,oJD:()=>l0,oxw:()=>pb,pB0:()=>XE,q3G:()=>Yi,qLn:()=>vf,qOj:()=>ur,qZA:()=>Qu,qzn:()=>Lc,rWj:()=>Gw,s9C:()=>Bf,sBO:()=>qa,sIi:()=>Xs,s_b:()=>Lg,soG:()=>$g,tBr:()=>bu,tb:()=>B2,tp0:()=>Pc,uIk:()=>Wu,uOi:()=>c0,vHH:()=>U,vpe:()=>Za,wAp:()=>qn,xi3:()=>i_,xp6:()=>E0,ynx:()=>ja,z2F:()=>hh,z3N:()=>fl,zSh:()=>Op,zs3:()=>ns});var i=g(4248),F=g(5241),B=g(7205),T=g(8869),E=g(4835);function w(l){for(let c in l)if(l[c]===w)return c;throw Error("Could not find renamed property on target object.")}function m(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function b(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(b).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function S(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const k=w({__forward_ref__:w});function R(l){return l.__forward_ref__=R,l.toString=function(){return b(this())},l}function P(l){return I(l)?l():l}function I(l){return"function"==typeof l&&l.hasOwnProperty(k)&&l.__forward_ref__===R}class U extends Error{constructor(c,d){super(function $(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function K(l){return"string"==typeof l?l:null==l?"":String(l)}function fe(l,c){throw new U(-201,!1)}function Te(l,c){null==l&&function ze(l,c,d,p){throw new Error(`ASSERTION ERROR: ${l}`+(null==p?"":` [Expected=> ${d} ${p} ${c} <=Actual]`))}(c,l,null,"!=")}function qe(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function We(l){return{providers:l.providers||[],imports:l.imports||[]}}function ft(l){return Re(l,Fe)||Re(l,be)}function $e(l){return null!==ft(l)}function Re(l,c){return l.hasOwnProperty(c)?l[c]:null}function vt(l){return l&&(l.hasOwnProperty(Ge)||l.hasOwnProperty(le))?l[Ge]:null}const Fe=w({\u0275prov:w}),Ge=w({\u0275inj:w}),be=w({ngInjectableDef:w}),le=w({ngInjectorDef:w});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let xe;function Ut(l){const c=xe;return xe=l,c}function Yt(l,c,d){const p=ft(l);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&re.Optional?null:void 0!==c?c:void fe(b(l))}function Ct(l){return{toString:l}.toString()}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),Wt=(()=>{return(l=Wt||(Wt={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Wt;var l})();const un=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Ye={},Nt=[],on=w({\u0275cmp:w}),cn=w({\u0275dir:w}),Tt=w({\u0275pipe:w}),Bt=w({\u0275mod:w}),He=w({\u0275fac:w}),nn=w({__NG_ELEMENT_ID__:w});let kn=0;function ee(l){return Ct(()=>{const d=!0===l.standalone,p={},y={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||Nt,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Wt.Emulated,id:"c"+kn++,styles:l.styles||Nt,_:null,setInput:null,schemas:l.schemas||null,tView:null},D=l.dependencies,H=l.features;return y.inputs=vn(l.inputs,p),y.outputs=vn(l.outputs),H&&H.forEach(Q=>Q(y)),y.directiveDefs=D?()=>("function"==typeof D?D():D).map(wt).filter(Pe):null,y.pipeDefs=D?()=>("function"==typeof D?D():D).map($n).filter(Pe):null,y})}function wt(l){return pn(l)||Wn(l)}function Pe(l){return null!==l}function ct(l){return Ct(()=>({type:l.type,bootstrap:l.bootstrap||Nt,declarations:l.declarations||Nt,imports:l.imports||Nt,exports:l.exports||Nt,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function vn(l,c){if(null==l)return Ye;const d={};for(const p in l)if(l.hasOwnProperty(p)){let y=l[p],D=y;Array.isArray(y)&&(D=y[1],y=y[0]),d[y]=p,c&&(c[y]=D)}return d}const Jt=ee;function hn(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function pn(l){return l[on]||null}function Wn(l){return l[cn]||null}function $n(l){return l[Tt]||null}function rr(l){const c=pn(l)||Wn(l)||$n(l);return null!==c&&c.standalone}function vr(l,c){const d=l[Bt]||null;if(!d&&!0===c)throw new Error(`Type ${b(l)} does not have '\u0275mod' property.`);return d}function Ar(l){return Array.isArray(l)&&"object"==typeof l[1]}function Zi(l){return Array.isArray(l)&&!0===l[1]}function Fo(l){return 0!=(8&l.flags)}function cs(l){return 2==(2&l.flags)}function ws(l){return 1==(1&l.flags)}function Xo(l){return null!==l.template}function _t(l){return 0!=(256&l[2])}function Vs(l,c){return l.hasOwnProperty(He)?l[He]:null}class Fd{constructor(c,d,p){this.previousValue=c,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function wc(){return su}function su(l){return l.type.prototype.ngOnChanges&&(l.setInput=xc),Pl}function Pl(){const l=kd(this),c=null==l?void 0:l.current;if(c){const d=l.previous;if(d===Ye)l.previous=c;else for(let p in c)d[p]=c[p];l.current=null,this.ngOnChanges(c)}}function xc(l,c,d,p){const y=kd(l)||function Yr(l,c){return l[au]=c}(l,{previous:Ye,current:null}),D=y.current||(y.current={}),H=y.previous,Q=this.declaredInputs[d],ce=H[Q];D[Q]=new Fd(ce&&ce.currentValue,c,H===Ye),l[p]=c}wc.ngInherit=!0;const au="__ngSimpleChanges__";function kd(l){return l[au]||null}function Ii(l){for(;Array.isArray(l);)l=l[0];return l}function fa(l,c){return Ii(c[l])}function Xn(l,c){return Ii(c[l.index])}function kl(l,c){return l.data[c]}function zs(l,c){return l[c]}function Nr(l,c){const d=c[l];return Ar(d)?d:d[0]}function Ta(l){return 64==(64&l[2])}function Zs(l,c){return null==c?null:l[c]}function cu(l){l[18]=0}function Jo(l,c){l[5]+=c;let d=l,p=l[3];for(;null!==p&&(1===c&&1===d[5]||-1===c&&0===d[5]);)p[5]+=c,d=p,p=p[3]}const tr={lFrame:jr(null),bindingsEnabled:!0};function il(){return tr.bindingsEnabled}function N(){return tr.lFrame.lView}function Er(){return tr.lFrame.tView}function du(l){return tr.lFrame.contextLView=l,l[8]}function Ec(l){return tr.lFrame.contextLView=null,l}function vi(){let l=oo();for(;null!==l&&64===l.type;)l=l.parent;return l}function oo(){return tr.lFrame.currentTNode}function us(l,c){const d=tr.lFrame;d.currentTNode=l,d.isParent=c}function fu(){return tr.lFrame.isParent}function ha(){tr.lFrame.isParent=!1}function Pr(){const l=tr.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function Es(){return tr.lFrame.bindingIndex++}function ar(l){const c=tr.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function Vd(l,c){const d=tr.lFrame;d.bindingIndex=d.bindingRootIndex=l,Wi(c)}function Wi(l){tr.lFrame.currentDirectiveIndex=l}function gt(l){const c=tr.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function oe(){return tr.lFrame.currentQueryIndex}function Ee(l){tr.lFrame.currentQueryIndex=l}function mt(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function zt(l,c,d){if(d&re.SkipSelf){let y=c,D=l;for(;!(y=y.parent,null!==y||d&re.Host||(y=mt(D),null===y||(D=D[15],10&y.type))););if(null===y)return!1;c=y,l=D}const p=tr.lFrame=nr();return p.currentTNode=c,p.lView=l,!0}function sn(l){const c=nr(),d=l[1];tr.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function nr(){const l=tr.lFrame,c=null===l?null:l.child;return null===c?jr(l):c}function jr(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function $i(){const l=tr.lFrame;return tr.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const sl=$i;function pa(){const l=$i();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Pi(){return tr.lFrame.selectedIndex}function Ws(l){tr.lFrame.selectedIndex=l}function ti(){const l=tr.lFrame;return kl(l.tView,l.selectedIndex)}function Sc(){tr.lFrame.currentNamespace="svg"}function pu(){!function zh(){tr.lFrame.currentNamespace=null}()}function Ac(l,c){for(let d=c.directiveStart,p=c.directiveEnd;d<p;d++){const D=l.data[d].type.prototype,{ngAfterContentInit:H,ngAfterContentChecked:Q,ngAfterViewInit:ce,ngAfterViewChecked:we,ngOnDestroy:Ze}=D;H&&(l.contentHooks||(l.contentHooks=[])).push(-d,H),Q&&((l.contentHooks||(l.contentHooks=[])).push(d,Q),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,Q)),ce&&(l.viewHooks||(l.viewHooks=[])).push(-d,ce),we&&((l.viewHooks||(l.viewHooks=[])).push(d,we),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,we)),null!=Ze&&(l.destroyHooks||(l.destroyHooks=[])).push(d,Ze)}}function Dc(l,c,d){Ul(l,c,3,d)}function ma(l,c,d,p){(3&l[2])===d&&Ul(l,c,d,p)}function Bl(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function Ul(l,c,d,p){const D=null!=p?p:-1,H=c.length-1;let Q=0;for(let ce=void 0!==p?65535&l[18]:0;ce<H;ce++)if("number"==typeof c[ce+1]){if(Q=c[ce],null!=p&&Q>=p)break}else c[ce]<0&&(l[18]+=65536),(Q<D||-1==D)&&(Gd(l,d,c,ce),l[18]=(4294901760&l[18])+ce+2),ce++}function Gd(l,c,d,p){const y=d[p]<0,D=d[p+1],Q=l[y?-d[p]:d[p]];if(y){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{D.call(Q)}finally{}}}else try{D.call(Q)}finally{}}class ll{constructor(c,d,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function fr(l,c,d){let p=0;for(;p<d.length;){const y=d[p];if("number"==typeof y){if(0!==y)break;p++;const D=d[p++],H=d[p++],Q=d[p++];l.setAttribute(c,H,Q,D)}else{const D=y,H=d[++p];$h(D)?l.setProperty(c,D,H):l.setAttribute(c,D,H),p++}}return p}function km(l){return 3===l||4===l||6===l}function $h(l){return 64===l.charCodeAt(0)}function Hl(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let p=0;p<c.length;p++){const y=c[p];"number"==typeof y?d=y:0===d||zd(l,d,y,null,-1===d||2===d?c[++p]:null)}}return l}function zd(l,c,d,p,y){let D=0,H=l.length;if(-1===c)H=-1;else for(;D<l.length;){const Q=l[D++];if("number"==typeof Q){if(Q===c){H=-1;break}if(Q>c){H=D-1;break}}}for(;D<l.length;){const Q=l[D];if("number"==typeof Q)break;if(Q===d){if(null===p)return void(null!==y&&(l[D+1]=y));if(p===l[D+1])return void(l[D+2]=y)}D++,null!==p&&D++,null!==y&&D++}-1!==H&&(l.splice(H,0,c),D=H+1),l.splice(D++,0,d),null!==p&&l.splice(D++,0,p),null!==y&&l.splice(D++,0,y)}function qh(l){return-1!==l}function Mc(l){return 32767&l}function Hn(l,c){let d=function Zd(l){return l>>16}(l),p=c;for(;d>0;)p=p[15],d--;return p}let Wd=!0;function f(l){const c=Wd;return Wd=l,c}let j=0;const V={};function Z(l,c){const d=he(l,c);if(-1!==d)return d;const p=c[1];p.firstCreatePass&&(l.injectorIndex=c.length,ie(p.data,l),ie(c,null),ie(p.blueprint,null));const y=Se(l,c),D=l.injectorIndex;if(qh(y)){const H=Mc(y),Q=Hn(y,c),ce=Q[1].data;for(let we=0;we<8;we++)c[D+we]=Q[H+we]|ce[H+we]}return c[D+8]=y,D}function ie(l,c){l.push(0,0,0,0,0,0,0,0,c)}function he(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Se(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,p=null,y=c;for(;null!==y;){if(p=Et(y),null===p)return-1;if(d++,y=y[15],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return-1}function Ce(l,c,d){!function G(l,c,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(nn)&&(p=d[nn]),null==p&&(p=d[nn]=j++);const y=255&p;c.data[l+(y>>5)]|=1<<y}(l,c,d)}function X(l,c,d){if(d&re.Optional||void 0!==l)return l;fe()}function _e(l,c,d,p){if(d&re.Optional&&void 0===p&&(p=null),0==(d&(re.Self|re.Host))){const y=l[9],D=Ut(void 0);try{return y?y.get(c,p,d&re.Optional):Yt(c,p,d&re.Optional)}finally{Ut(D)}}return X(p,0,d)}function se(l,c,d,p=re.Default,y){if(null!==l){if(1024&c[2]){const H=function pt(l,c,d,p,y){let D=l,H=c;for(;null!==D&&null!==H&&1024&H[2]&&!(256&H[2]);){const Q=Ae(D,H,d,p|re.Self,V);if(Q!==V)return Q;let ce=D.parent;if(!ce){const we=H[21];if(we){const Ze=we.get(d,V,p);if(Ze!==V)return Ze}ce=Et(H),H=H[15]}D=ce}return y}(l,c,d,p,V);if(H!==V)return H}const D=Ae(l,c,d,p,V);if(D!==V)return D}return _e(c,d,p,y)}function Ae(l,c,d,p,y){const D=function at(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(nn)?l[nn]:void 0;return"number"==typeof c?c>=0?255&c:Oe:c}(d);if("function"==typeof D){if(!zt(c,l,p))return p&re.Host?X(y,0,p):_e(c,d,p,y);try{const H=D(p);if(null!=H||p&re.Optional)return H;fe()}finally{sl()}}else if("number"==typeof D){let H=null,Q=he(l,c),ce=-1,we=p&re.Host?c[16][6]:null;for((-1===Q||p&re.SkipSelf)&&(ce=-1===Q?Se(l,c):c[Q+8],-1!==ce&&kt(p,!1)?(H=c[1],Q=Mc(ce),c=Hn(ce,c)):Q=-1);-1!==Q;){const Ze=c[1];if(st(D,Q,Ze.data)){const ot=ge(Q,c,d,H,p,we);if(ot!==V)return ot}ce=c[Q+8],-1!==ce&&kt(p,c[1].data[Q+8]===we)&&st(D,Q,c)?(H=Ze,Q=Mc(ce),c=Hn(ce,c)):Q=-1}}return y}function ge(l,c,d,p,y,D){const H=c[1],Q=H.data[l+8],Ze=Be(Q,H,d,null==p?cs(Q)&&Wd:p!=H&&0!=(3&Q.type),y&re.Host&&D===Q);return null!==Ze?Je(c,H,Ze,Q):V}function Be(l,c,d,p,y){const D=l.providerIndexes,H=c.data,Q=1048575&D,ce=l.directiveStart,Ze=D>>20,At=y?Q+Ze:l.directiveEnd;for(let Lt=p?Q:Q+Ze;Lt<At;Lt++){const Xt=H[Lt];if(Lt<ce&&d===Xt||Lt>=ce&&Xt.type===d)return Lt}if(y){const Lt=H[ce];if(Lt&&Xo(Lt)&&Lt.type===d)return ce}return null}function Je(l,c,d,p){let y=l[d];const D=c.data;if(function gu(l){return l instanceof ll}(y)){const H=y;H.resolving&&function ae(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new U(-200,`Circular dependency in DI detected for ${l}${d}`)}(function z(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():K(l)}(D[d]));const Q=f(H.canSeeViewProviders);H.resolving=!0;const ce=H.injectImpl?Ut(H.injectImpl):null;zt(l,p,re.Default);try{y=l[d]=H.factory(void 0,D,l,p),c.firstCreatePass&&d>=p.directiveStart&&function al(l,c,d){const{ngOnChanges:p,ngOnInit:y,ngDoCheck:D}=c.type.prototype;if(p){const H=su(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,H),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,H)}y&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,y),D&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,D),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,D))}(d,D[d],c)}finally{null!==ce&&Ut(ce),f(Q),H.resolving=!1,sl()}}return y}function st(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function kt(l,c){return!(l&re.Self||l&re.Host&&c)}class jt{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,p){return se(this._tNode,this._lView,c,p,d)}}function Oe(){return new jt(vi(),N())}function je(l){return Ct(()=>{const c=l.prototype.constructor,d=c[He]||ut(c),p=Object.prototype;let y=Object.getPrototypeOf(l.prototype).constructor;for(;y&&y!==p;){const D=y[He]||ut(y);if(D&&D!==d)return D;y=Object.getPrototypeOf(y)}return D=>new D})}function ut(l){return I(l)?()=>{const c=ut(P(l));return c&&c()}:Vs(l)}function Et(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function Ft(l){return function J(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const p=d.length;let y=0;for(;y<p;){const D=d[y];if(km(D))break;if(0===D)y+=2;else if("number"==typeof D)for(y++;y<p&&"string"==typeof d[y];)y++;else{if(D===c)return d[y+1];y+=2}}}return null}(vi(),l)}const St="__parameters__";function Rn(l,c,d){return Ct(()=>{const p=function Mn(l){return function(...d){if(l){const p=l(...d);for(const y in p)this[y]=p[y]}}}(c);function y(...D){if(this instanceof y)return p.apply(this,D),this;const H=new y(...D);return Q.annotation=H,Q;function Q(ce,we,Ze){const ot=ce.hasOwnProperty(St)?ce[St]:Object.defineProperty(ce,St,{value:[]})[St];for(;ot.length<=Ze;)ot.push(null);return(ot[Ze]=ot[Ze]||[]).push(H),ce}}return d&&(y.prototype=Object.create(d.prototype)),y.prototype.ngMetadataName=l,y.annotationCls=y,y})}class Dn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=qe({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function en(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let p=l[d];Array.isArray(p)?(c===l&&(c=l.slice(0,d)),en(p,c)):c!==l&&c.push(p)}return c}function $s(l,c){l.forEach(d=>Array.isArray(d)?$s(d,c):c(d))}function hs(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function Fr(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function _u(l,c){const d=[];for(let p=0;p<l;p++)d.push(c);return d}function _i(l,c,d){let p=yu(l,c);return p>=0?l[1|p]=d:(p=~p,function qs(l,c,d,p){let y=l.length;if(y==c)l.push(d,p);else if(1===y)l.push(p,l[0]),l[0]=d;else{for(y--,l.push(l[y-1],l[y]);y>c;)l[y]=l[y-2],y--;l[c]=d,l[c+1]=p}}(l,p,c,d)),p}function Cy(l,c){const d=yu(l,c);if(d>=0)return l[1|d]}function yu(l,c){return function Lm(l,c,d){let p=0,y=l.length>>d;for(;y!==p;){const D=p+(y-p>>1),H=l[D<<d];if(c===H)return D<<d;H>c?y=D:p=D+1}return~(y<<d)}(l,c,1)}const Rc={},Ss="__NG_DI_FLAG__",Kd="ngTempTokenPath",AE=/\n/gm,DE="__source";let Kh;function Qd(l){const c=Kh;return Kh=l,c}function hT(l,c=re.Default){if(void 0===Kh)throw new U(-203,!1);return null===Kh?Yt(l,void 0,c):Kh.get(l,c&re.Optional?null:void 0,c)}function so(l,c=re.Default){return(function xt(){return xe}()||hT)(P(l),c)}function ME(l,c=re.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),so(l,c)}function Dy(l){const c=[];for(let d=0;d<l.length;d++){const p=P(l[d]);if(Array.isArray(p)){if(0===p.length)throw new U(900,!1);let y,D=re.Default;for(let H=0;H<p.length;H++){const Q=p[H],ce=OE(Q);"number"==typeof ce?-1===ce?y=Q.token:D|=ce:y=Q}c.push(so(y,D))}else c.push(so(p))}return c}function Xd(l,c){return l[Ss]=c,l.prototype[Ss]=c,l}function OE(l){return l[Ss]}const bu=Xd(Rn("Inject",l=>({token:l})),-1),wu=Xd(Rn("Optional"),8),Um=Xd(Rn("Self"),2),Pc=Xd(Rn("SkipSelf"),4);var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();const tf=new Map;let ky=0;const Ao="__ngContext__";function Do(l,c){Ar(c)?(l[Ao]=c[20],function Ny(l){tf.set(l[20],l)}(c)):l[Ao]=c}function Vy(l,c){return undefined(l,c)}function rf(l){const c=l[3];return Zi(c)?c[3]:c}function $m(l){return up(l[13])}function qm(l){return up(l[4])}function up(l){for(;null!==l&&!Zi(l);)l=l[4];return l}function ul(l,c,d,p,y){if(null!=p){let D,H=!1;Zi(p)?D=p:Ar(p)&&(H=!0,p=p[0]);const Q=Ii(p);0===l&&null!==d?null==y?qy(c,d,Q):Ra(c,d,Q,y||null,!0):1===l&&null!==d?Ra(c,d,Q,y||null,!0):2===l?function wp(l,c,d){const p=yp(l,c);p&&function _p(l,c,d,p){l.removeChild(c,d,p)}(l,p,c,d)}(c,Q,H):3===l&&c.destroyNode(Q),null!=D&&function uf(l,c,d,p,y){const D=d[7];D!==Ii(d)&&ul(c,l,p,D,y);for(let Q=10;Q<d.length;Q++){const ce=d[Q];cf(ce[1],ce,l,c,p,D)}}(c,l,D,d,y)}}function fp(l,c,d){return l.createElement(c,d)}function Cu(l,c){const d=l[9],p=d.indexOf(c),y=c[3];512&c[2]&&(c[2]&=-513,Jo(y,-1)),d.splice(p,1)}function $y(l,c){if(l.length<=10)return;const d=10+c,p=l[d];if(p){const y=p[17];null!==y&&y!==l&&Cu(y,p),c>0&&(l[d-1][4]=p[4]);const D=Fr(l,10+c);!function Km(l,c){cf(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(p[1],p);const H=D[19];null!==H&&H.detachView(D[1]),p[3]=null,p[4]=null,p[2]&=-65}return p}function WE(l,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&cf(l,c,d,3,null,null),function Zy(l){let c=l[13];if(!c)return gp(l[1],l);for(;c;){let d=null;if(Ar(c))d=c[13];else{const p=c[10];p&&(d=p)}if(!d){for(;c&&!c[4]&&c!==l;)Ar(c)&&gp(c[1],c),c=c[3];null===c&&(c=l),Ar(c)&&gp(c[1],c),d=c&&c[4]}c=d}}(c)}}function gp(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function mp(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let p=0;p<d.length;p+=2){const y=c[d[p]];if(!(y instanceof ll)){const D=d[p+1];if(Array.isArray(D))for(let H=0;H<D.length;H+=2){const Q=y[D[H]],ce=D[H+1];try{ce.call(Q)}finally{}}else try{D.call(y)}finally{}}}}(l,c),function wT(l,c){const d=l.cleanup,p=c[7];let y=-1;if(null!==d)for(let D=0;D<d.length-1;D+=2)if("string"==typeof d[D]){const H=d[D+1],Q="function"==typeof H?H(c):Ii(c[H]),ce=p[y=d[D+2]],we=d[D+3];"boolean"==typeof we?Q.removeEventListener(d[D],ce,we):we>=0?p[y=we]():p[y=-we].unsubscribe(),D+=2}else{const H=p[y=d[D+1]];d[D].call(H)}if(null!==p){for(let D=y+1;D<p.length;D++)(0,p[D])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Zi(c[3])){d!==c[3]&&Cu(d,c);const p=c[19];null!==p&&p.detachView(l)}!function op(l){tf.delete(l[20])}(c)}}function Su(l,c,d){return function sf(l,c,d){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return d[0];if(2&p.flags){const y=l.data[p.directiveStart].encapsulation;if(y===Wt.None||y===Wt.Emulated)return null}return Xn(p,d)}(l,c.parent,d)}function Ra(l,c,d,p,y){l.insertBefore(c,d,p,y)}function qy(l,c,d){l.appendChild(c,d)}function vp(l,c,d,p,y){null!==p?Ra(l,c,d,p,y):qy(l,c,d)}function yp(l,c){return l.parentNode(c)}function Ky(l,c,d){return Qy(l,c,d)}let dl,n1,Ep,Qy=function Qm(l,c,d){return 40&l.type?Xn(l,d):null};function af(l,c,d,p){const y=Su(l,p,c),D=c[11],Q=Ky(p.parent||c[6],p,c);if(null!=y)if(Array.isArray(d))for(let ce=0;ce<d.length;ce++)vp(D,y,d[ce],Q,!1);else vp(D,y,d,Q,!1)}function Xm(l,c){if(null!==c){const d=c.type;if(3&d)return Xn(c,l);if(4&d)return Jm(-1,l[c.index]);if(8&d){const p=c.child;if(null!==p)return Xm(l,p);{const y=l[c.index];return Zi(y)?Jm(-1,y):Ii(y)}}if(32&d)return Vy(c,l)()||Ii(l[c.index]);{const p=bp(l,c);return null!==p?Array.isArray(p)?p[0]:Xm(rf(l[16]),p):Xm(l,c.next)}}return null}function bp(l,c){return null!==c?l[16][6].projection[c.projection]:null}function Jm(l,c){const d=10+l+1;if(d<c.length){const p=c[d],y=p[1].firstChild;if(null!==y)return Xm(p,y)}return c[7]}function lf(l,c,d,p,y,D,H){for(;null!=d;){const Q=p[d.index],ce=d.type;if(H&&0===c&&(Q&&Do(Ii(Q),p),d.flags|=4),64!=(64&d.flags))if(8&ce)lf(l,c,d.child,p,y,D,!1),ul(c,l,y,Q,D);else if(32&ce){const we=Vy(d,p);let Ze;for(;Ze=we();)ul(c,l,y,Ze,D);ul(c,l,y,Q,D)}else 16&ce?e1(l,c,p,d,y,D):ul(c,l,y,Q,D);d=H?d.projectionNext:d.next}}function cf(l,c,d,p,y,D){lf(d,p,l.firstChild,c,y,D,!1)}function e1(l,c,d,p,y,D){const H=d[16],ce=H[6].projection[p.projection];if(Array.isArray(ce))for(let we=0;we<ce.length;we++)ul(c,l,y,ce[we],D);else lf(l,c,ce,H[3],y,D,!0)}function e0(l,c,d){l.setAttribute(c,"style",d)}function xp(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function kc(l){var c;return(null===(c=function Uo(){if(void 0===dl&&(dl=null,un.trustedTypes))try{dl=un.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return dl}())||void 0===c?void 0:c.createHTML(l))||l}function $E(l){n1=l}function Cp(){if(void 0===Ep&&(Ep=null,un.trustedTypes))try{Ep=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return Ep}function ff(l){var c;return(null===(c=Cp())||void 0===c?void 0:c.createHTML(l))||l}function r1(l){var c;return(null===(c=Cp())||void 0===c?void 0:c.createScriptURL(l))||l}class zl{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qE extends zl{getTypeName(){return"HTML"}}class AT extends zl{getTypeName(){return"Style"}}class o1 extends zl{getTypeName(){return"Script"}}class YE extends zl{getTypeName(){return"URL"}}class s1 extends zl{getTypeName(){return"ResourceURL"}}function fl(l){return l instanceof zl?l.changingThisBreaksApplicationSecurity:l}function Lc(l,c){const d=function n0(l){return l instanceof zl&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function KE(l){return new qE(l)}function Sp(l){return new AT(l)}function QE(l){return new o1(l)}function hl(l){return new YE(l)}function XE(l){return new s1(l)}class JE{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(kc(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class r0{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const p=this.inertDocument.createElement("body");d.appendChild(p)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=kc(c),d;const p=this.inertDocument.createElement("body");return p.innerHTML=kc(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(c){const d=c.attributes;for(let y=d.length-1;0<y;y--){const H=d.item(y).name;("xmlns:ns1"===H||0===H.indexOf("ns1:"))&&c.removeAttribute(H)}let p=c.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const eC=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Zl(l){return(l=String(l)).match(eC)?l:"unsafe:"+l}function pl(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function Du(...l){const c={};for(const d of l)for(const p in d)d.hasOwnProperty(p)&&(c[p]=!0);return c}const l1=pl("area,br,col,hr,img,wbr"),Dp=pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c1=pl("rp,rt"),u1=Du(l1,Du(Dp,pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Du(c1,pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Du(c1,Dp)),hf=pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),o0=Du(hf,pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nc=pl("script,style,template");class rC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let y=this.checkClobberedElement(d,d.nextSibling);if(y){d=y;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!u1.hasOwnProperty(d))return this.sanitizedSomething=!0,!Nc.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=c.attributes;for(let y=0;y<p.length;y++){const D=p.item(y),H=D.name,Q=H.toLowerCase();if(!o0.hasOwnProperty(Q)){this.sanitizedSomething=!0;continue}let ce=D.value;hf[Q]&&(ce=Zl(ce)),this.buf.push(" ",H,'="',s0(ce),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();u1.hasOwnProperty(d)&&!l1.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(s0(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const d1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iC=/([^\#-~ |!])/g;function s0(l){return l.replace(/&/g,"&amp;").replace(d1,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(iC,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tp;function f1(l,c){let d=null;try{Tp=Tp||function Ap(l){const c=new r0(l);return function a1(){try{return!!(new window.DOMParser).parseFromString(kc(""),"text/html")}catch(l){return!1}}()?new JE(c):c}(l);let p=c?String(c):"";d=Tp.getInertBodyElement(p);let y=5,D=p;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,p=D,D=d.innerHTML,d=Tp.getInertBodyElement(p)}while(p!==D);return kc((new rC).sanitizeChildren(pf(d)||d))}finally{if(d){const p=pf(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function pf(l){return"content"in l&&function a0(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function l0(l){const c=Wl();return c?ff(c.sanitize(Yi.HTML,l)||""):Lc(l,"HTML")?ff(fl(l)):f1(function t0(){return void 0!==n1?n1:"undefined"!=typeof document?document:void 0}(),K(l))}function Mp(l){const c=Wl();return c?c.sanitize(Yi.URL,l)||"":Lc(l,"URL")?fl(l):Zl(K(l))}function c0(l){const c=Wl();if(c)return r1(c.sanitize(Yi.RESOURCE_URL,l)||"");if(Lc(l,"ResourceURL"))return r1(fl(l));throw new U(904,!1)}function Wl(){const l=N();return l&&l[12]}const Bc=new Dn("ENVIRONMENT_INITIALIZER"),d0=new Dn("INJECTOR",-1),lC=new Dn("INJECTOR_DEF_TYPES");class cC{get(c,d=Rc){if(d===Rc){const p=new Error(`NullInjectorError: No provider for ${b(c)}!`);throw p.name="NullInjectorError",p}return d}}function p1(...l){return{\u0275providers:g1(0,l)}}function g1(l,...c){const d=[],p=new Set;let y;return $s(c,D=>{const H=D;Tu(H,d,[],p)&&(y||(y=[]),y.push(H))}),void 0!==y&&uC(y,d),d}function uC(l,c){for(let d=0;d<l.length;d++){const{providers:y}=l[d];$s(y,D=>{c.push(D)})}}function Tu(l,c,d,p){if(!(l=P(l)))return!1;let y=null,D=vt(l);const H=!D&&pn(l);if(D||H){if(H&&!H.standalone)return!1;y=l}else{const ce=l.ngModule;if(D=vt(ce),!D)return!1;y=ce}const Q=p.has(y);if(H){if(Q)return!1;if(p.add(y),H.dependencies){const ce="function"==typeof H.dependencies?H.dependencies():H.dependencies;for(const we of ce)Tu(we,c,d,p)}}else{if(!D)return!1;{if(null!=D.imports&&!Q){let we;p.add(y);try{$s(D.imports,Ze=>{Tu(Ze,c,d,p)&&(we||(we=[]),we.push(Ze))})}finally{}void 0!==we&&uC(we,c)}if(!Q){const we=Vs(y)||(()=>new y);c.push({provide:y,useFactory:we,deps:Nt},{provide:lC,useValue:y,multi:!0},{provide:Bc,useValue:()=>so(y),multi:!0})}const ce=D.providers;null==ce||Q||$s(ce,Ze=>{c.push(Ze)})}}return y!==l&&void 0!==l.providers}const m1=w({provide:String,useValue:w});function f0(l){return null!==l&&"object"==typeof l&&m1 in l}function pi(l){return"function"==typeof l}const Op=new Dn("Set Injector scope."),gr={},lo={};let Ip;function xi(){return void 0===Ip&&(Ip=new cC),Ip}class Mu{}class Rp extends Mu{constructor(c,d,p,y){super(),this.parent=d,this.source=p,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pp(c,H=>this.processProvider(H)),this.records.set(d0,Fa(void 0,this)),y.has("environment")&&this.records.set(Mu,Fa(void 0,this));const D=this.records.get(Op);null!=D&&"string"==typeof D.value&&this.scopes.add(D.value),this.injectorDefTypes=new Set(this.get(lC.multi,Nt,re.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=Qd(this),p=Ut(void 0);try{return c()}finally{Qd(d),Ut(p)}}get(c,d=Rc,p=re.Default){this.assertNotDestroyed();const y=Qd(this),D=Ut(void 0);try{if(!(p&re.SkipSelf)){let Q=this.records.get(c);if(void 0===Q){const ce=function b1(l){return"function"==typeof l||"object"==typeof l&&l instanceof Dn}(c)&&ft(c);Q=ce&&this.injectableDefInScope(ce)?Fa(_1(c),gr):null,this.records.set(c,Q)}if(null!=Q)return this.hydrate(c,Q)}return(p&re.Self?xi():this.parent).get(c,d=p&re.Optional&&d===Rc?null:d)}catch(H){if("NullInjectorError"===H.name){if((H[Kd]=H[Kd]||[]).unshift(b(c)),y)throw H;return function Ty(l,c,d,p){const y=l[Kd];throw c[DE]&&y.unshift(c[DE]),l.message=function Bm(l,c,d,p=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let y=b(c);if(Array.isArray(c))y=c.map(b).join(" -> ");else if("object"==typeof c){let D=[];for(let H in c)if(c.hasOwnProperty(H)){let Q=c[H];D.push(H+":"+("string"==typeof Q?JSON.stringify(Q):b(Q)))}y=`{${D.join(", ")}}`}return`${d}${p?"("+p+")":""}[${y}]: ${l.replace(AE,"\n  ")}`}("\n"+l.message,y,d,p),l.ngTokenPath=y,l[Kd]=null,l}(H,c,"R3InjectorError",this.source)}throw H}finally{Ut(D),Qd(y)}}resolveInjectorInitializers(){const c=Qd(this),d=Ut(void 0);try{const p=this.get(Bc.multi,Nt,re.Self);for(const y of p)y()}finally{Qd(c),Ut(d)}}toString(){const c=[],d=this.records;for(const p of d.keys())c.push(b(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(c){let d=pi(c=P(c))?c:P(c&&c.provide);const p=function RT(l){return f0(l)?Fa(void 0,l.useValue):Fa(p0(l),gr)}(c);if(pi(c)||!0!==c.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Fa(void 0,gr,!0),y.factory=()=>Dy(y.multi),this.records.set(d,y)),d=c,y.multi.push(c)}this.records.set(d,p)}hydrate(c,d){return d.value===gr&&(d.value=lo,d.value=d.factory()),"object"==typeof d.value&&d.value&&function g0(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=P(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function _1(l){const c=ft(l),d=null!==c?c.factory:Vs(l);if(null!==d)return d;if(l instanceof Dn)throw new U(204,!1);if(l instanceof Function)return function h0(l){const c=l.length;if(c>0)throw _u(c,"?"),new U(204,!1);const d=function Ve(l){const c=l&&(l[Fe]||l[be]);if(c){const d=function Xe(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new U(204,!1)}function p0(l,c,d){let p;if(pi(l)){const y=P(l);return Vs(y)||_1(y)}if(f0(l))p=()=>P(l.useValue);else if(function ts(l){return!(!l||!l.useFactory)}(l))p=()=>l.useFactory(...Dy(l.deps||[]));else if(function Pa(l){return!(!l||!l.useExisting)}(l))p=()=>so(P(l.useExisting));else{const y=P(l&&(l.useClass||l.provide));if(!function y1(l){return!!l.deps}(l))return Vs(y)||_1(y);p=()=>new y(...Dy(l.deps))}return p}function Fa(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function PT(l){return!!l.\u0275providers}function Pp(l,c){for(const d of l)Array.isArray(d)?Pp(d,c):PT(d)?Pp(d.\u0275providers,c):c(d)}class w1{}class hC{resolveComponentFactory(c){throw function fC(l){const c=Error(`No component factory found for ${b(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let gf=(()=>{class l{}return l.NULL=new hC,l})();function pC(){return Ou(vi(),N())}function Ou(l,c){return new mf(Xn(l,c))}let mf=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=pC,l})();function kT(l){return l instanceof mf?l.nativeElement:l}class E1{}let gC=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function mC(){const l=N(),d=Nr(vi().index,l);return(Ar(d)?d:l)[11]}(),l})(),vC=(()=>{class l{}return l.\u0275prov=qe({token:l,providedIn:"root",factory:()=>null}),l})();class C1{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const _C=new C1("14.2.12"),m0={};function _0(l){return l.ngOriginalError}class vf{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&_0(c);for(;d&&_0(d);)d=_0(d);return d||null}}function gl(l){return l instanceof Function?l():l}function ml(l,c,d){let p=l.length;for(;;){const y=l.indexOf(c,d);if(-1===y)return y;if(0===y||l.charCodeAt(y-1)<=32){const D=c.length;if(y+D===p||l.charCodeAt(y+D)<=32)return y}d=y+1}}const Fp="ng-template";function y0(l,c,d){let p=0;for(;p<l.length;){let y=l[p++];if(d&&"class"===y){if(y=l[p],-1!==ml(y.toLowerCase(),c,0))return!0}else if(1===y){for(;p<l.length&&"string"==typeof(y=l[p++]);)if(y.toLowerCase()===c)return!0;return!1}}return!1}function kp(l){return 4===l.type&&l.value!==Fp}function As(l,c,d){return c===(4!==l.type||d?l.value:Fp)}function D1(l,c,d){let p=4;const y=l.attrs||[],D=function jT(l){for(let c=0;c<l.length;c++)if(km(l[c]))return c;return l.length}(y);let H=!1;for(let Q=0;Q<c.length;Q++){const ce=c[Q];if("number"!=typeof ce){if(!H)if(4&p){if(p=2|1&p,""!==ce&&!As(l,ce,d)||""===ce&&1===c.length){if(Ds(p))return!1;H=!0}}else{const we=8&p?ce:c[++Q];if(8&p&&null!==l.attrs){if(!y0(l.attrs,we,d)){if(Ds(p))return!1;H=!0}continue}const ot=T1(8&p?"class":ce,y,kp(l),d);if(-1===ot){if(Ds(p))return!1;H=!0;continue}if(""!==we){let At;At=ot>D?"":y[ot+1].toLowerCase();const Lt=8&p?At:null;if(Lt&&-1!==ml(Lt,we,0)||2&p&&we!==At){if(Ds(p))return!1;H=!0}}}}else{if(!H&&!Ds(p)&&!Ds(ce))return!1;if(H&&Ds(ce))continue;H=!1,p=ce|1&p}}return Ds(p)||H}function Ds(l){return 0==(1&l)}function T1(l,c,d,p){if(null===c)return-1;let y=0;if(p||!d){let D=!1;for(;y<c.length;){const H=c[y];if(H===l)return y;if(3===H||6===H)D=!0;else{if(1===H||2===H){let Q=c[++y];for(;"string"==typeof Q;)Q=c[++y];continue}if(4===H)break;if(0===H){y+=4;continue}}y+=D?1:2}return-1}return function MC(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const p=l[d];if("number"==typeof p)return-1;if(p===c)return d;d++}return-1}(c,l)}function b0(l,c,d=!1){for(let p=0;p<c.length;p++)if(D1(l,c[p],d))return!0;return!1}function Uc(l,c){e:for(let d=0;d<c.length;d++){const p=c[d];if(l.length===p.length){for(let y=0;y<l.length;y++)if(l[y]!==p[y])continue e;return!0}}return!1}function x0(l,c){return l?":not("+c.trim()+")":c}function OC(l){let c=l[0],d=1,p=2,y="",D=!1;for(;d<l.length;){let H=l[d];if("string"==typeof H)if(2&p){const Q=l[++d];y+="["+H+(Q.length>0?'="'+Q+'"':"")+"]"}else 8&p?y+="."+H:4&p&&(y+=" "+H);else""!==y&&!Ds(H)&&(c+=x0(D,y),y=""),p=H,D=D||!Ds(p);d++}return""!==y&&(c+=x0(D,y)),c}const ir={};function E0(l){RC(Er(),N(),Pi()+l,!1)}function RC(l,c,d,p){if(!p)if(3==(3&c[2])){const D=l.preOrderCheckHooks;null!==D&&Dc(c,D,d)}else{const D=l.preOrderHooks;null!==D&&ma(c,D,0,d)}Ws(d)}function T0(l,c=null,d=null,p){const y=Up(l,c,d,p);return y.resolveInjectorInitializers(),y}function Up(l,c=null,d=null,p,y=new Set){const D=[d||Nt,p1(l)];return p=p||("object"==typeof l?void 0:b(l)),new Rp(D,c||xi(),p||null,y)}let ns=(()=>{class l{static create(d,p){var y;if(Array.isArray(d))return T0({name:""},p,d,"");{const D=null!==(y=d.name)&&void 0!==y?y:"";return T0({name:D},d.parent,d.providers,D)}}}return l.THROW_IF_NOT_FOUND=Rc,l.NULL=new cC,l.\u0275prov=qe({token:l,providedIn:"any",factory:()=>so(d0)}),l.__NG_ELEMENT_ID__=-1,l})();function wf(l,c=re.Default){const d=N();return null===d?so(l,c):se(vi(),d,P(l),c)}function xf(){throw new Error("invalid")}function Hp(l,c){return l<<17|c<<2}function ya(l){return l>>17&32767}function Gp(l){return 2|l}function La(l){return(131068&l)>>2}function k0(l,c){return-131069&l|c<<2}function Zp(l){return 1|l}function Qp(l,c){const d=l.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const y=d[p],D=d[p+1];if(-1!==D){const H=l.data[D];Ee(y),H.contentQueries(2,c[D],D)}}}function Xp(l,c,d,p,y,D,H,Q,ce,we,Ze){const ot=c.blueprint.slice();return ot[0]=y,ot[2]=76|p,(null!==Ze||l&&1024&l[2])&&(ot[2]|=1024),cu(ot),ot[3]=ot[15]=l,ot[8]=d,ot[10]=H||l&&l[10],ot[11]=Q||l&&l[11],ot[12]=ce||l&&l[12]||null,ot[9]=we||l&&l[9]||null,ot[6]=D,ot[20]=function Ly(){return ky++}(),ot[21]=Ze,ot[16]=2==c.type?l[16]:ot,ot}function Lu(l,c,d,p,y){let D=l.data[c];if(null===D)D=function Jp(l,c,d,p,y){const D=oo(),H=fu(),ce=l.data[c]=function G1(l,c,d,p,y,D){return{type:d,index:p,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,H?D:D&&D.parent,d,c,p,y);return null===l.firstChild&&(l.firstChild=ce),null!==D&&(H?null==D.child&&null!==ce.parent&&(D.child=ce):null===D.next&&(D.next=ce)),ce}(l,c,d,p,y),function jh(){return tr.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=d,D.value=p,D.attrs=y;const H=function Ll(){const l=tr.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();D.injectorIndex=null===H?-1:H.injectorIndex}return us(D,!0),D}function Nu(l,c,d,p){if(0===d)return-1;const y=c.length;for(let D=0;D<d;D++)c.push(p),l.blueprint.push(p),l.data.push(null);return y}function ps(l,c,d){sn(c);try{const p=l.viewQuery;null!==p&&J0(1,p,d);const y=l.template;null!==y&&Uu(l,c,y,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Qp(l,c),l.staticViewQueries&&J0(2,l.viewQuery,d);const D=l.components;null!==D&&function QC(l,c){for(let d=0;d<c.length;d++)X1(l,c[d])}(c,D)}catch(p){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),p}finally{c[2]&=-5,pa()}}function Bu(l,c,d,p){const y=c[2];if(128!=(128&y)){sn(c);try{cu(c),function Cc(l){return tr.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&Uu(l,c,d,2,p);const H=3==(3&y);if(H){const we=l.preOrderCheckHooks;null!==we&&Dc(c,we,null)}else{const we=l.preOrderHooks;null!==we&&ma(c,we,0,null),Bl(c,0)}if(function lS(l){for(let c=$m(l);null!==c;c=qm(c)){if(!c[2])continue;const d=c[9];for(let p=0;p<d.length;p++){const y=d[p],D=y[3];0==(512&y[2])&&Jo(D,1),y[2]|=512}}}(c),function aS(l){for(let c=$m(l);null!==c;c=qm(c))for(let d=10;d<c.length;d++){const p=c[d],y=p[1];Ta(p)&&Bu(y,p,y.template,p[8])}}(c),null!==l.contentQueries&&Qp(l,c),H){const we=l.contentCheckHooks;null!==we&&Dc(c,we)}else{const we=l.contentHooks;null!==we&&ma(c,we,1),Bl(c,1)}!function YC(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let p=0;p<d.length;p++){const y=d[p];if(y<0)Ws(~y);else{const D=y,H=d[++p],Q=d[++p];Vd(H,D),Q(2,c[D])}}}finally{Ws(-1)}}(l,c);const Q=l.components;null!==Q&&function KC(l,c){for(let d=0;d<c.length;d++)Q1(l,c[d])}(c,Q);const ce=l.viewQuery;if(null!==ce&&J0(2,ce,p),H){const we=l.viewCheckHooks;null!==we&&Dc(c,we)}else{const we=l.viewHooks;null!==we&&ma(c,we,2),Bl(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Jo(c[3],-1))}finally{pa()}}}function Uu(l,c,d,p,y){const D=Pi(),H=2&p;try{Ws(-1),H&&c.length>22&&RC(l,c,22,!1),d(p,y)}finally{Ws(D)}}function eg(l,c,d){if(Fo(c)){const y=c.directiveEnd;for(let D=c.directiveStart;D<y;D++){const H=l.data[D];H.contentQueries&&H.contentQueries(1,d[D],D)}}}function V0(l,c,d){!il()||(function q0(l,c,d,p){const y=d.directiveStart,D=d.directiveEnd;l.firstCreatePass||Z(d,c),Do(p,c);const H=d.initialInputs;for(let Q=y;Q<D;Q++){const ce=l.data[Q],we=Xo(ce);we&&Y1(c,d,ce);const Ze=Je(c,l,Q,d);Do(Ze,c),null!==H&&oS(0,Q-y,Ze,ce,0,H),we&&(Nr(d.index,c)[8]=Ze)}}(l,c,d,Xn(d,c)),128==(128&d.flags)&&function tS(l,c,d){const p=d.directiveStart,y=d.directiveEnd,D=d.index,H=function Vh(){return tr.lFrame.currentDirectiveIndex}();try{Ws(D);for(let Q=p;Q<y;Q++){const ce=l.data[Q],we=c[Q];Wi(Q),(null!==ce.hostBindings||0!==ce.hostVars||null!==ce.hostAttrs)&&Y0(ce,we)}}finally{Ws(-1),Wi(H)}}(l,c,d))}function G0(l,c,d=Xn){const p=c.localNames;if(null!==p){let y=c.index+1;for(let D=0;D<p.length;D+=2){const H=p[D+1],Q=-1===H?d(c,l):l[H];l[y++]=Q}}}function tg(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=z0(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function z0(l,c,d,p,y,D,H,Q,ce,we){const Ze=22+p,ot=Ze+y,At=function XC(l,c){const d=[];for(let p=0;p<c;p++)d.push(p<l?null:ir);return d}(Ze,ot),Lt="function"==typeof we?we():we;return At[1]={type:l,blueprint:At,template:d,queries:null,viewQuery:Q,declTNode:c,data:At.slice().fill(null,Ze),bindingStartIndex:Ze,expandoStartIndex:ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof H?H():H,firstChild:null,schemas:ce,consts:Lt,incompleteFirstPass:!1}}function W0(l,c,d,p){const y=Tf(c);null===d?y.push(p):(y.push(d),l.firstCreatePass&&Yl(l).push(p,y.length-1))}function $0(l,c,d){for(let p in l)if(l.hasOwnProperty(p)){const y=l[p];(d=null===d?{}:d).hasOwnProperty(p)?d[p].push(c,y):d[p]=[c,y]}return d}function Ms(l,c){const p=c.directiveEnd,y=l.data,D=c.attrs,H=[];let Q=null,ce=null;for(let we=c.directiveStart;we<p;we++){const Ze=y[we],ot=Ze.inputs,At=null===D||kp(c)?null:sS(ot,D);H.push(At),Q=$0(ot,we,Q),ce=$0(Ze.outputs,we,ce)}null!==Q&&(Q.hasOwnProperty("class")&&(c.flags|=16),Q.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=H,c.inputs=Q,c.outputs=ce}function Os(l,c,d,p,y,D,H,Q){const ce=Xn(c,d);let Ze,we=c.inputs;!Q&&null!=we&&(Ze=we[p])?(jo(l,d,Ze,p,y),cs(c)&&z1(d,c.index)):3&c.type&&(p=function ju(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(p),y=null!=H?H(y,c.value||"",p):y,D.setProperty(ce,p,y))}function z1(l,c){const d=Nr(c,l);16&d[2]||(d[2]|=32)}function Hu(l,c,d,p){let y=!1;if(il()){const D=function nS(l,c,d){const p=l.directiveRegistry;let y=null;if(p)for(let D=0;D<p.length;D++){const H=p[D];b0(d,H.selectors,!1)&&(y||(y=[]),Ce(Z(d,c),l,H.type),Xo(H)?(q1(l,d),y.unshift(H)):y.push(H))}return y}(l,c,d),H=null===p?null:{"":-1};if(null!==D){y=!0,K0(d,l.data.length,D.length);for(let Ze=0;Ze<D.length;Ze++){const ot=D[Ze];ot.providersResolver&&ot.providersResolver(ot)}let Q=!1,ce=!1,we=Nu(l,c,D.length,null);for(let Ze=0;Ze<D.length;Ze++){const ot=D[Ze];d.mergedAttrs=Hl(d.mergedAttrs,ot.hostAttrs),Af(l,d,c,we,ot),iS(we,ot,H),null!==ot.contentQueries&&(d.flags|=8),(null!==ot.hostBindings||null!==ot.hostAttrs||0!==ot.hostVars)&&(d.flags|=128);const At=ot.type.prototype;!Q&&(At.ngOnChanges||At.ngOnInit||At.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),Q=!0),!ce&&(At.ngOnChanges||At.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),ce=!0),we++}Ms(l,d)}H&&function rS(l,c,d){if(c){const p=l.localNames=[];for(let y=0;y<c.length;y+=2){const D=d[c[y+1]];if(null==D)throw new U(-301,!1);p.push(c[y],D)}}}(d,p,H)}return d.mergedAttrs=Hl(d.mergedAttrs,d.attrs),y}function $1(l,c,d,p,y,D){const H=D.hostBindings;if(H){let Q=l.hostBindingOpCodes;null===Q&&(Q=l.hostBindingOpCodes=[]);const ce=~c.index;(function eS(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(Q)!=ce&&Q.push(ce),Q.push(p,y,H)}}function Y0(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function q1(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function iS(l,c,d){if(d){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)d[c.exportAs[p]]=l;Xo(c)&&(d[""]=l)}}function K0(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function Af(l,c,d,p,y){l.data[p]=y;const D=y.factory||(y.factory=Vs(y.type)),H=new ll(D,Xo(y),wf);l.blueprint[p]=H,d[p]=H,$1(l,c,0,p,Nu(l,d,y.hostVars,ir),y)}function Y1(l,c,d){const p=Xn(c,l),y=tg(d),D=l[10],H=Q0(l,Xp(l,y,null,d.onPush?32:16,p,c,D,D.createRenderer(p,d),null,null,null));l[c.index]=H}function Na(l,c,d,p,y,D){const H=Xn(l,c);!function ng(l,c,d,p,y,D,H){if(null==D)l.removeAttribute(c,y,d);else{const Q=null==H?K(D):H(D,p||"",y);l.setAttribute(c,y,Q,d)}}(c[11],H,D,l.value,d,p,y)}function oS(l,c,d,p,y,D){const H=D[c];if(null!==H){const Q=p.setInput;for(let ce=0;ce<H.length;){const we=H[ce++],Ze=H[ce++],ot=H[ce++];null!==Q?p.setInput(d,ot,we,Ze):d[Ze]=ot}}}function sS(l,c){let d=null,p=0;for(;p<c.length;){const y=c[p];if(0!==y)if(5!==y){if("number"==typeof y)break;l.hasOwnProperty(y)&&(null===d&&(d=[]),d.push(y,l[y],c[p+1])),p+=2}else p+=2;else p+=4}return d}function K1(l,c,d,p){return new Array(l,!0,!1,c,null,0,p,d,null,null)}function Q1(l,c){const d=Nr(c,l);if(Ta(d)){const p=d[1];48&d[2]?Bu(p,d,p.template,d[8]):d[5]>0&&Df(d)}}function Df(l){for(let p=$m(l);null!==p;p=qm(p))for(let y=10;y<p.length;y++){const D=p[y];if(Ta(D))if(512&D[2]){const H=D[1];Bu(H,D,H.template,D[8])}else D[5]>0&&Df(D)}const d=l[1].components;if(null!==d)for(let p=0;p<d.length;p++){const y=Nr(d[p],l);Ta(y)&&y[5]>0&&Df(y)}}function X1(l,c){const d=Nr(c,l),p=d[1];(function cS(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(p,d),ps(p,d,d[8])}function Q0(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function J1(l){for(;l;){l[2]|=32;const c=rf(l);if(_t(l)&&!c)return l;l=c}return null}function X0(l,c,d,p=!0){const y=c[10];y.begin&&y.begin();try{Bu(l,c,l.template,d)}catch(H){throw p&&Qs(c,H),H}finally{y.end&&y.end()}}function J0(l,c,d){Ee(0),c(l,d)}function Tf(l){return l[7]||(l[7]=[])}function Yl(l){return l.cleanup||(l.cleanup=[])}function eb(l,c,d){return(null===l||Xo(l))&&(d=function Nd(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function Qs(l,c){const d=l[9],p=d?d.get(vf,null):null;p&&p.handleError(c)}function jo(l,c,d,p,y){for(let D=0;D<d.length;){const H=d[D++],Q=d[D++],ce=c[H],we=l.data[H];null!==we.setInput?we.setInput(ce,y,p,Q):ce[Q]=y}}function ba(l,c,d){const p=fa(c,l);!function Eu(l,c,d){l.setValue(c,d)}(l[11],p,d)}function yn(l,c,d){let p=d?l.styles:null,y=d?l.classes:null,D=0;if(null!==c)for(let H=0;H<c.length;H++){const Q=c[H];"number"==typeof Q?D=Q:1==D?y=S(y,Q):2==D&&(p=S(p,Q+": "+c[++H]+";"))}d?l.styles=p:l.stylesWithoutHost=p,d?l.classes=y:l.classesWithoutHost=y}function ai(l,c,d,p,y=!1){for(;null!==d;){const D=c[d.index];if(null!==D&&p.push(Ii(D)),Zi(D))for(let Q=10;Q<D.length;Q++){const ce=D[Q],we=ce[1].firstChild;null!==we&&ai(ce[1],ce,we,p)}const H=d.type;if(8&H)ai(l,c,d.child,p);else if(32&H){const Q=Vy(d,c);let ce;for(;ce=Q();)p.push(ce)}else if(16&H){const Q=bp(c,d);if(Array.isArray(Q))p.push(...Q);else{const ce=rf(c[16]);ai(ce[1],ce,Q,p,!0)}}d=y?d.projectionNext:d.next}return p}class Cr{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return ai(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Zi(c)){const d=c[8],p=d?d.indexOf(this):-1;p>-1&&($y(c,p),Fr(d,p))}this._attachedToViewContainer=!1}WE(this._lView[1],this._lView)}onDestroy(c){W0(this._lView[1],this._lView,null,c)}markForCheck(){J1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){X0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hp(l,c){cf(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=c}}class co extends Cr{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;X0(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class wr extends gf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=pn(c);return new Gu(d,this.ngModule)}}function ji(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class Vr{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,p){const y=this.injector.get(c,m0,p);return y!==m0||d===m0?y:this.parentInjector.get(c,d,p)}}class Gu extends w1{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function HT(l){return l.map(OC).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return ji(this.componentDef.inputs)}get outputs(){return ji(this.componentDef.outputs)}create(c,d,p,y){let D=(y=y||this.ngModule)instanceof Mu?y:null==y?void 0:y.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const H=D?new Vr(c,D):c,Q=H.get(E1,null);if(null===Q)throw new U(407,!1);const ce=H.get(vC,null),we=Q.createRenderer(null,this.componentDef),Ze=this.componentDef.selectors[0][0]||"div",ot=p?function JC(l,c,d){return l.selectRootElement(c,d===Wt.ShadowDom)}(we,p,this.componentDef.encapsulation):fp(we,Ze,function Hr(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(Ze)),At=this.componentDef.onPush?288:272,Lt=z0(0,null,null,1,0,null,null,null,null,null),Xt=Xp(null,Lt,null,At,null,null,Q,we,ce,H,null);let _n,En;sn(Xt);try{const On=function Mf(l,c,d,p,y,D){const H=d[1];d[22]=l;const ce=Lu(H,22,2,"#host",null),we=ce.mergedAttrs=c.hostAttrs;null!==we&&(yn(ce,we,!0),null!==l&&(fr(y,l,we),null!==ce.classes&&xp(y,l,ce.classes),null!==ce.styles&&e0(y,l,ce.styles)));const Ze=p.createRenderer(l,c),ot=Xp(d,tg(c),null,c.onPush?32:16,d[22],ce,p,Ze,D||null,null,null);return H.firstCreatePass&&(Ce(Z(ce,d),H,c.type),q1(H,ce),K0(ce,d.length,1)),Q0(d,ot),d[22]=ot}(ot,this.componentDef,Xt,Q,we);if(ot)if(p)fr(we,ot,["ng-version",_C.full]);else{const{attrs:Vn,classes:an}=function IC(l){const c=[],d=[];let p=1,y=2;for(;p<l.length;){let D=l[p];if("string"==typeof D)2===y?""!==D&&c.push(D,l[++p]):8===y&&d.push(D);else{if(!Ds(y))break;y=D}p++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);Vn&&fr(we,ot,Vn),an&&an.length>0&&xp(we,ot,an.join(" "))}if(En=kl(Lt,22),void 0!==d){const Vn=En.projection=[];for(let an=0;an<this.ngContentSelectors.length;an++){const er=d[an];Vn.push(null!=er?Array.from(er):null)}}_n=function rg(l,c,d,p){const y=d[1],D=function W1(l,c,d){const p=vi();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),Af(l,p,c,Nu(l,c,1,null),d),Ms(l,p));const y=Je(c,l,p.directiveStart,p);Do(y,c);const D=Xn(p,c);return D&&Do(D,c),y}(y,d,c);if(l[8]=d[8]=D,null!==p)for(const Q of p)Q(D,c);if(c.contentQueries){const Q=vi();c.contentQueries(1,D,Q.directiveStart)}const H=vi();return!y.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Ws(H.index),$1(d[1],H,0,H.directiveStart,H.directiveEnd,c),Y0(c,D)),D}(On,this.componentDef,Xt,[rb]),ps(Lt,Xt,null)}finally{pa()}return new nb(this.componentType,_n,Ou(En,Xt),Xt,En)}}class nb extends class dC{}{constructor(c,d,p,y,D){super(),this.location=p,this._rootLView=y,this._tNode=D,this.instance=d,this.hostView=this.changeDetectorRef=new co(y),this.componentType=c}setInput(c,d){const p=this._tNode.inputs;let y;if(null!==p&&(y=p[c])){const D=this._rootLView;jo(D[1],D,y,c,d),z1(D,this._tNode.index)}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function rb(){const l=vi();Ac(N()[1],l)}function ur(l){let c=function Of(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const p=[l];for(;c;){let y;if(Xo(l))y=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new U(903,!1);y=c.\u0275dir}if(y){if(d){p.push(y);const H=l;H.inputs=ev(l.inputs),H.declaredInputs=ev(l.declaredInputs),H.outputs=ev(l.outputs);const Q=y.hostBindings;Q&&hS(l,Q);const ce=y.viewQuery,we=y.contentQueries;if(ce&&zu(l,ce),we&&fS(l,we),m(l.inputs,y.inputs),m(l.declaredInputs,y.declaredInputs),m(l.outputs,y.outputs),Xo(y)&&y.data.animation){const Ze=l.data;Ze.animation=(Ze.animation||[]).concat(y.data.animation)}}const D=y.features;if(D)for(let H=0;H<D.length;H++){const Q=D[H];Q&&Q.ngInherit&&Q(l),Q===ur&&(d=!1)}}c=Object.getPrototypeOf(c)}!function If(l){let c=0,d=null;for(let p=l.length-1;p>=0;p--){const y=l[p];y.hostVars=c+=y.hostVars,y.hostAttrs=Hl(y.hostAttrs,d=Hl(d,y.hostAttrs))}}(p)}function ev(l){return l===Ye?{}:l===Nt?[]:l}function zu(l,c){const d=l.viewQuery;l.viewQuery=d?(p,y)=>{c(p,y),d(p,y)}:c}function fS(l,c){const d=l.contentQueries;l.contentQueries=d?(p,y,D)=>{c(p,y,D),d(p,y,D)}:c}function hS(l,c){const d=l.hostBindings;l.hostBindings=d?(p,y)=>{c(p,y),d(p,y)}:c}let Rf=null;function Zu(){if(!Rf){const l=un.Symbol;if(l&&l.iterator)Rf=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const p=c[d];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(Rf=p)}}}return Rf}function Xs(l){return!!nv(l)&&(Array.isArray(l)||!(l instanceof Map)&&Zu()in l)}function nv(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function wa(l,c,d){return l[c]=d}function To(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Hc(l,c,d,p){const y=To(l,c,d);return To(l,c+1,p)||y}function Wu(l,c,d,p){const y=N();return To(y,Es(),c)&&(Er(),Na(ti(),y,l,c,d,p)),Wu}function sr(l,c,d,p){return To(l,Es(),d)?c+K(d)+p:ir}function Ua(l,c,d,p,y,D){const Q=Hc(l,function ds(){return tr.lFrame.bindingIndex}(),d,y);return ar(2),Q?c+K(d)+p+K(y)+D:ir}function lb(l,c,d,p,y,D,H,Q){const ce=N(),we=Er(),Ze=l+22,ot=we.firstCreatePass?function mS(l,c,d,p,y,D,H,Q,ce){const we=c.consts,Ze=Lu(c,l,4,H||null,Zs(we,Q));Hu(c,d,Ze,Zs(we,ce)),Ac(c,Ze);const ot=Ze.tViews=z0(2,Ze,p,y,D,c.directiveRegistry,c.pipeRegistry,null,c.schemas,we);return null!==c.queries&&(c.queries.template(c,Ze),ot.queries=c.queries.embeddedTView(Ze)),Ze}(Ze,we,ce,c,d,p,y,D,H):we.data[Ze];us(ot,!1);const At=ce[11].createComment("");af(we,ce,At,ot),Do(At,ce),Q0(ce,ce[Ze]=K1(At,ce,At,ot)),ws(ot)&&V0(we,ce,ot),null!=H&&G0(ce,ot,Q)}function cb(l){return zs(function Ri(){return tr.lFrame.contextLView}(),22+l)}function sv(l,c,d){const p=N();return To(p,Es(),c)&&Os(Er(),ti(),p,l,c,p[11],d,!1),sv}function av(l,c,d,p,y){const H=y?"class":"style";jo(l,d,c.inputs[H],H,p)}function sg(l,c,d,p){const y=N(),D=Er(),H=22+l,Q=y[11],ce=y[H]=fp(Q,c,function Nl(){return tr.lFrame.currentNamespace}()),we=D.firstCreatePass?function vS(l,c,d,p,y,D,H){const Q=c.consts,we=Lu(c,l,2,y,Zs(Q,D));return Hu(c,d,we,Zs(Q,H)),null!==we.attrs&&yn(we,we.attrs,!1),null!==we.mergedAttrs&&yn(we,we.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,we),we}(H,D,y,0,c,d,p):D.data[H];us(we,!0);const Ze=we.mergedAttrs;null!==Ze&&fr(Q,ce,Ze);const ot=we.classes;null!==ot&&xp(Q,ce,ot);const At=we.styles;return null!==At&&e0(Q,ce,At),64!=(64&we.flags)&&af(D,y,ce,we),0===function Ud(){return tr.lFrame.elementDepthCount}()&&Do(ce,y),function jd(){tr.lFrame.elementDepthCount++}(),ws(we)&&(V0(D,y,we),eg(D,we,y)),null!==p&&G0(y,we),sg}function Qu(){let l=vi();fu()?ha():(l=l.parent,us(l,!1));const c=l;!function Hd(){tr.lFrame.elementDepthCount--}();const d=Er();return d.firstCreatePass&&(Ac(d,l),Fo(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Tc(l){return 0!=(16&l.flags)}(c)&&av(d,c,N(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Zh(l){return 0!=(32&l.flags)}(c)&&av(d,c,N(),c.stylesWithoutHost,!1),Qu}function Xu(l,c,d,p){return sg(l,c,d,p),Qu(),Xu}function ja(l,c,d){const p=N(),y=Er(),D=l+22,H=y.firstCreatePass?function _S(l,c,d,p,y){const D=c.consts,H=Zs(D,p),Q=Lu(c,l,8,"ng-container",H);return null!==H&&yn(Q,H,!0),Hu(c,d,Q,Zs(D,y)),null!==c.queries&&c.queries.elementStart(c,Q),Q}(D,y,p,c,d):y.data[D];us(H,!0);const Q=p[D]=p[11].createComment("");return af(y,p,Q,H),Do(Q,p),ws(H)&&(V0(y,p,H),eg(y,H,p)),null!=d&&G0(p,H),ja}function Ju(){let l=vi();const c=Er();return fu()?ha():(l=l.parent,us(l,!1)),c.firstCreatePass&&(Ac(c,l),Fo(l)&&c.queries.elementEnd(l)),Ju}function ub(l,c,d){return ja(l,c,d),Ju(),ub}function db(){return N()}function lv(l){return!!l&&"function"==typeof l.then}function fb(l){return!!l&&"function"==typeof l.subscribe}const ed=fb;function Gc(l,c,d,p){const y=N(),D=Er(),H=vi();return cv(D,y,y[11],H,l,c,0,p),Gc}function Ql(l,c){const d=vi(),p=N(),y=Er();return cv(y,p,eb(gt(y.data),d,p),d,l,c),Ql}function cv(l,c,d,p,y,D,H,Q){const ce=ws(p),Ze=l.firstCreatePass&&Yl(l),ot=c[8],At=Tf(c);let Lt=!0;if(3&p.type||Q){const En=Xn(p,c),On=Q?Q(En):En,Vn=At.length,an=Q?Mr=>Q(Ii(Mr[p.index])):p.index;let er=null;if(!Q&&ce&&(er=function hb(l,c,d,p){const y=l.cleanup;if(null!=y)for(let D=0;D<y.length-1;D+=2){const H=y[D];if(H===d&&y[D+1]===p){const Q=c[7],ce=y[D+2];return Q.length>ce?Q[ce]:null}"string"==typeof H&&(D+=2)}return null}(l,c,y,p.index)),null!==er)(er.__ngLastListenerFn__||er).__ngNextListenerFn__=D,er.__ngLastListenerFn__=D,Lt=!1;else{D=zc(p,c,ot,D,!1);const Mr=d.listen(On,y,D);At.push(D,Mr),Ze&&Ze.push(y,an,Vn,Vn+1)}}else D=zc(p,c,ot,D,!1);const Xt=p.outputs;let _n;if(Lt&&null!==Xt&&(_n=Xt[y])){const En=_n.length;if(En)for(let On=0;On<En;On+=2){const Ai=c[_n[On]][_n[On+1]].subscribe(D),vd=At.length;At.push(D,Ai),Ze&&Ze.push(y,p.index,vd,-(vd+1))}}}function uv(l,c,d,p){try{return!1!==d(p)}catch(y){return Qs(l,y),!1}}function zc(l,c,d,p,y){return function D(H){if(H===Function)return p;J1(2&l.flags?Nr(l.index,c):c);let ce=uv(c,0,p,H),we=D.__ngNextListenerFn__;for(;we;)ce=uv(c,0,we,H)&&ce,we=we.__ngNextListenerFn__;return y&&!1===ce&&(H.preventDefault(),H.returnValue=!1),ce}}function pb(l=1){return function ga(l){return(tr.lFrame.contextLView=function hu(l,c){for(;l>0;)c=c[15],l--;return c}(l,tr.lFrame.contextLView))[8]}(l)}function yS(l,c){let d=null;const p=function w0(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let y=0;y<c.length;y++){const D=c[y];if("*"!==D){if(null===p?b0(l,D,!0):Uc(p,D))return y}else d=y}return d}function dv(l){const c=N()[16][6];if(!c.projection){const p=c.projection=_u(l?l.length:1,null),y=p.slice();let D=c.child;for(;null!==D;){const H=l?yS(D,l):0;null!==H&&(y[H]?y[H].projectionNext=D:p[H]=D,y[H]=D),D=D.next}}}function gb(l,c=0,d){const p=N(),y=Er(),D=Lu(y,22+l,16,null,d||null);null===D.projection&&(D.projection=c),ha(),64!=(64&D.flags)&&function ET(l,c,d){e1(c[11],0,c,d,Su(l,d,c),Ky(d.parent||c[6],d,c))}(y,p,D)}function Bf(l,c,d){return Xl(l,"",c,"",d),Bf}function Xl(l,c,d,p,y){const D=N(),H=sr(D,c,d,p);return H!==ir&&Os(Er(),ti(),D,l,H,D[11],y,!1),Xl}function fv(l,c,d,p,y,D,H){const Q=N(),ce=Ua(Q,c,d,p,y,D);return ce!==ir&&Os(Er(),ti(),Q,l,ce,Q[11],H,!1),fv}function _b(l,c,d,p,y){const D=l[d+1],H=null===c;let Q=p?ya(D):La(D),ce=!1;for(;0!==Q&&(!1===ce||H);){const Ze=l[Q+1];wS(l[Q],c)&&(ce=!0,l[Q+1]=p?Zp(Ze):Gp(Ze)),Q=p?ya(Ze):La(Ze)}ce&&(l[d+1]=p?Gp(D):Zp(D))}function wS(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&yu(l,c)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yb(l){return l.substring(uo.key,uo.keyEnd)}function xS(l){return l.substring(uo.value,uo.valueEnd)}function bb(l,c){const d=uo.textEnd;return d===c?-1:(c=uo.keyEnd=function SS(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,uo.key=c,d),Zc(l,c,d))}function wb(l,c){const d=uo.textEnd;let p=uo.key=Zc(l,c,d);return d===p?-1:(p=uo.keyEnd=function Eb(l,c,d){let p;for(;c<d&&(45===(p=l.charCodeAt(c))||95===p||(-33&p)>=65&&(-33&p)<=90||p>=48&&p<=57);)c++;return c}(l,p,d),p=cg(l,p,d),p=uo.value=Zc(l,p,d),p=uo.valueEnd=function mv(l,c,d){let p=-1,y=-1,D=-1,H=c,Q=H;for(;H<d;){const ce=l.charCodeAt(H++);if(59===ce)return Q;34===ce||39===ce?Q=H=Va(l,ce,H,d):c===H-4&&85===D&&82===y&&76===p&&40===ce?Q=H=Va(l,41,H,d):ce>32&&(Q=H),D=y,y=p,p=-33&ce}return Q}(l,p,d),cg(l,p,d))}function xb(l){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=l.length}function Zc(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function cg(l,c,d,p){return(c=Zc(l,c,d))<d&&c++,c}function Va(l,c,d,p){let y=-1,D=d;for(;D<p;){const H=l.charCodeAt(D++);if(H==c&&92!==y)return D;y=92==H&&92===y?0:H}throw new Error}function ug(l,c,d){return gs(l,c,d,!1),ug}function dg(l,c){return gs(l,c,null,!0),dg}function xa(l){ta(Ev,Jl,l,!1)}function Jl(l,c){for(let d=function CS(l){return xb(l),wb(l,Zc(l,0,uo.textEnd))}(c);d>=0;d=wb(c,d))Ev(l,yb(c),xS(c))}function vv(l){ta(_i,Ga,l,!0)}function Ga(l,c){for(let d=function ES(l){return xb(l),bb(l,Zc(l,0,uo.textEnd))}(c);d>=0;d=bb(c,d))_i(l,yb(c),!0)}function gs(l,c,d,p){const y=N(),D=Er(),H=ar(2);D.firstUpdatePass&&_v(D,l,H,p),c!==ir&&To(y,H,c)&&Cv(D,D.data[Pi()],y,y[11],l,y[H+1]=function Vf(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=b(fl(l)))),l}(c,d),p,H)}function ta(l,c,d,p){const y=Er(),D=ar(2);y.firstUpdatePass&&_v(y,null,D,p);const H=N();if(d!==ir&&To(H,D,d)){const Q=y.data[Pi()];if(Gf(Q,p)&&!fg(y,D)){let ce=p?Q.classesWithoutHost:Q.stylesWithoutHost;null!==ce&&(d=S(ce,d||"")),av(y,Q,H,d,p)}else!function Cb(l,c,d,p,y,D,H,Q){y===ir&&(y=Nt);let ce=0,we=0,Ze=0<y.length?y[0]:null,ot=0<D.length?D[0]:null;for(;null!==Ze||null!==ot;){const At=ce<y.length?y[ce+1]:void 0,Lt=we<D.length?D[we+1]:void 0;let _n,Xt=null;Ze===ot?(ce+=2,we+=2,At!==Lt&&(Xt=ot,_n=Lt)):null===ot||null!==Ze&&Ze<ot?(ce+=2,Xt=Ze):(we+=2,Xt=ot,_n=Lt),null!==Xt&&Cv(l,c,d,p,Xt,_n,H,Q),Ze=ce<y.length?y[ce]:null,ot=we<D.length?D[we]:null}}(y,Q,H,H[11],H[D+1],H[D+1]=function xv(l,c,d){if(null==d||""===d)return Nt;const p=[],y=fl(d);if(Array.isArray(y))for(let D=0;D<y.length;D++)l(p,y[D],!0);else if("object"==typeof y)for(const D in y)y.hasOwnProperty(D)&&l(p,D,y[D]);else"string"==typeof y&&c(p,y);return p}(l,c,d),p,D)}}function fg(l,c){return c>=l.expandoStartIndex}function _v(l,c,d,p){const y=l.data;if(null===y[d+1]){const D=y[Pi()],H=fg(l,d);Gf(D,p)&&null===c&&!H&&(c=!1),c=function yv(l,c,d,p){const y=gt(l);let D=p?c.residualClasses:c.residualStyles;if(null===y)0===(p?c.classBindings:c.styleBindings)&&(d=Hf(d=wv(null,l,c,d,p),c.attrs,p),D=null);else{const H=c.directiveStylingLast;if(-1===H||l[H]!==y)if(d=wv(y,l,c,d,p),null===D){let ce=function bv(l,c,d){const p=d?c.classBindings:c.styleBindings;if(0!==La(p))return l[ya(p)]}(l,c,p);void 0!==ce&&Array.isArray(ce)&&(ce=wv(null,l,c,ce[1],p),ce=Hf(ce,c.attrs,p),function AS(l,c,d,p){l[ya(d?c.classBindings:c.styleBindings)]=p}(l,c,p,ce))}else D=function jf(l,c,d){let p;const y=c.directiveEnd;for(let D=1+c.directiveStylingLast;D<y;D++)p=Hf(p,l[D].hostAttrs,d);return Hf(p,c.attrs,d)}(l,c,p)}return void 0!==D&&(p?c.residualClasses=D:c.residualStyles=D),d}(y,D,c,p),function vb(l,c,d,p,y,D){let H=D?c.classBindings:c.styleBindings,Q=ya(H),ce=La(H);l[p]=d;let Ze,we=!1;if(Array.isArray(d)){const ot=d;Ze=ot[1],(null===Ze||yu(ot,Ze)>0)&&(we=!0)}else Ze=d;if(y)if(0!==ce){const At=ya(l[Q+1]);l[p+1]=Hp(At,Q),0!==At&&(l[At+1]=k0(l[At+1],p)),l[Q+1]=function Vp(l,c){return 131071&l|c<<17}(l[Q+1],p)}else l[p+1]=Hp(Q,0),0!==Q&&(l[Q+1]=k0(l[Q+1],p)),Q=p;else l[p+1]=Hp(ce,0),0===Q?Q=p:l[ce+1]=k0(l[ce+1],p),ce=p;we&&(l[p+1]=Gp(l[p+1])),_b(l,Ze,p,!0),_b(l,Ze,p,!1),function bS(l,c,d,p,y){const D=y?l.residualClasses:l.residualStyles;null!=D&&"string"==typeof c&&yu(D,c)>=0&&(d[p+1]=Zp(d[p+1]))}(c,Ze,l,p,D),H=Hp(Q,ce),D?c.classBindings=H:c.styleBindings=H}(y,D,c,d,H,p)}}function wv(l,c,d,p,y){let D=null;const H=d.directiveEnd;let Q=d.directiveStylingLast;for(-1===Q?Q=d.directiveStart:Q++;Q<H&&(D=c[Q],p=Hf(p,D.hostAttrs,y),D!==l);)Q++;return null!==l&&(d.directiveStylingLast=Q),p}function Hf(l,c,d){const p=d?1:2;let y=-1;if(null!==c)for(let D=0;D<c.length;D++){const H=c[D];"number"==typeof H?y=H:y===p&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),_i(l,H,!!d||c[++D]))}return void 0===l?null:l}function Ev(l,c,d){_i(l,c,fl(d))}function Cv(l,c,d,p,y,D,H,Q){if(!(3&c.type))return;const ce=l.data,we=ce[Q+1];hg(function zp(l){return 1==(1&l)}(we)?Sv(ce,c,d,y,La(we),H):void 0)||(hg(D)||function Ef(l){return 2==(2&l)}(we)&&(D=Sv(ce,null,d,y,Q,H)),function df(l,c,d,p,y){if(c)y?l.addClass(d,p):l.removeClass(d,p);else{let D=-1===p.indexOf("-")?void 0:Ia.DashCase;null==y?l.removeStyle(d,p,D):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),D|=Ia.Important),l.setStyle(d,p,y,D))}}(p,H,fa(Pi(),d),y,D))}function Sv(l,c,d,p,y,D){const H=null===c;let Q;for(;y>0;){const ce=l[y],we=Array.isArray(ce),Ze=we?ce[1]:ce,ot=null===Ze;let At=d[y+1];At===ir&&(At=ot?Nt:void 0);let Lt=ot?Cy(At,p):Ze===p?At:void 0;if(we&&!hg(Lt)&&(Lt=Cy(ce,p)),hg(Lt)&&(Q=Lt,H))return Q;const Xt=l[y+1];y=H?ya(Xt):La(Xt)}if(null!==c){let ce=D?c.residualClasses:c.residualStyles;null!=ce&&(Q=Cy(ce,p))}return Q}function hg(l){return void 0!==l}function Gf(l,c){return 0!=(l.flags&(c?16:32))}function zf(l,c=""){const d=N(),p=Er(),y=l+22,D=p.firstCreatePass?Lu(p,y,1,c,null):p.data[y],H=d[y]=function Gl(l,c){return l.createText(c)}(d[11],c);af(p,d,H,D),us(D,!1)}function Av(l){return pg("",l,""),Av}function pg(l,c,d){const p=N(),y=sr(p,l,c,d);return y!==ir&&ba(p,Pi(),y),pg}function Zf(l,c,d,p,y){const D=N(),H=Ua(D,l,c,d,p,y);return H!==ir&&ba(D,Pi(),H),Zf}function Ab(l,c,d){ta(_i,Ga,sr(N(),l,c,d),!0)}function nd(l,c,d){const p=N();return To(p,Es(),c)&&Os(Er(),ti(),p,l,c,p[11],d,!0),nd}function ec(l,c,d){const p=N();if(To(p,Es(),c)){const D=Er(),H=ti();Os(D,H,p,l,c,eb(gt(D.data),H,p),d,!0)}return ec}const Wc=void 0;var jS=["en",[["a","p"],["AM","PM"],Wc],[["AM","PM"],Wc,Wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wc,"{1} 'at' {0}",Wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function US(l){const d=Math.floor(Math.abs(l)),p=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let rd={};function HS(l,c,d){"string"!=typeof c&&(d=c,c=l[qn.LocaleId]),c=c.toLowerCase().replace(/_/g,"-"),rd[c]=l,d&&(rd[c][qn.ExtraData]=d)}function Mv(l){const c=function Ov(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=Nb(c);if(d)return d;const p=c.split("-")[0];if(d=Nb(p),d)return d;if("en"===p)return jS;throw new U(701,!1)}function Lb(l){return Mv(l)[qn.PluralCase]}function Nb(l){return l in rd||(rd[l]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[l]),rd[l]}var qn=(()=>((qn=qn||{})[qn.LocaleId=0]="LocaleId",qn[qn.DayPeriodsFormat=1]="DayPeriodsFormat",qn[qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",qn[qn.DaysFormat=3]="DaysFormat",qn[qn.DaysStandalone=4]="DaysStandalone",qn[qn.MonthsFormat=5]="MonthsFormat",qn[qn.MonthsStandalone=6]="MonthsStandalone",qn[qn.Eras=7]="Eras",qn[qn.FirstDayOfWeek=8]="FirstDayOfWeek",qn[qn.WeekendRange=9]="WeekendRange",qn[qn.DateFormat=10]="DateFormat",qn[qn.TimeFormat=11]="TimeFormat",qn[qn.DateTimeFormat=12]="DateTimeFormat",qn[qn.NumberSymbols=13]="NumberSymbols",qn[qn.NumberFormats=14]="NumberFormats",qn[qn.CurrencyCode=15]="CurrencyCode",qn[qn.CurrencySymbol=16]="CurrencySymbol",qn[qn.CurrencyName=17]="CurrencyName",qn[qn.Currencies=18]="Currencies",qn[qn.Directionality=19]="Directionality",qn[qn.PluralCase=20]="PluralCase",qn[qn.ExtraData=21]="ExtraData",qn))();const yl="en-US";let Pv=yl;function ad(l,c,d,p,y){if(l=P(l),Array.isArray(l))for(let D=0;D<l.length;D++)ad(l[D],c,d,p,y);else{const D=Er(),H=N();let Q=pi(l)?l:P(l.provide),ce=p0(l);const we=vi(),Ze=1048575&we.providerIndexes,ot=we.directiveStart,At=we.providerIndexes>>20;if(pi(l)||!l.multi){const Lt=new ll(ce,y,wf),Xt=Yv(Q,c,y?Ze:Ze+At,ot);-1===Xt?(Ce(Z(we,H),D,Q),ow(D,l,c.length),c.push(Q),we.directiveStart++,we.directiveEnd++,y&&(we.providerIndexes+=1048576),d.push(Lt),H.push(Lt)):(d[Xt]=Lt,H[Xt]=Lt)}else{const Lt=Yv(Q,c,Ze+At,ot),Xt=Yv(Q,c,Ze,Ze+At),_n=Lt>=0&&d[Lt],En=Xt>=0&&d[Xt];if(y&&!En||!y&&!_n){Ce(Z(we,H),D,Q);const On=function h2(l,c,d,p,y){const D=new ll(l,d,wf);return D.multi=[],D.index=c,D.componentProviders=0,qv(D,y,p&&!d),D}(y?Xi:f2,d.length,y,p,ce);!y&&En&&(d[Xt].providerFactory=On),ow(D,l,c.length,0),c.push(Q),we.directiveStart++,we.directiveEnd++,y&&(we.providerIndexes+=1048576),d.push(On),H.push(On)}else ow(D,l,Lt>-1?Lt:Xt,qv(d[y?Xt:Lt],ce,!y&&p));!y&&p&&En&&d[Xt].componentProviders++}}}function ow(l,c,d,p){const y=pi(c),D=function v1(l){return!!l.useClass}(c);if(y||D){const ce=(D?P(c.useClass):c).prototype.ngOnDestroy;if(ce){const we=l.destroyHooks||(l.destroyHooks=[]);if(!y&&c.multi){const Ze=we.indexOf(d);-1===Ze?we.push(d,[p,ce]):we[Ze+1].push(p,ce)}else we.push(d,ce)}}}function qv(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Yv(l,c,d,p){for(let y=d;y<p;y++)if(c[y]===l)return y;return-1}function f2(l,c,d,p){return Kv(this.multi,[])}function Xi(l,c,d,p){const y=this.multi;let D;if(this.providerFactory){const H=this.providerFactory.componentProviders,Q=Je(d,d[1],this.providerFactory.index,p);D=Q.slice(0,H),Kv(y,D);for(let ce=H;ce<Q.length;ce++)D.push(Q[ce])}else D=[],Kv(y,D);return D}function Kv(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function sw(l,c=[]){return d=>{d.providersResolver=(p,y)=>function sM(l,c,d){const p=Er();if(p.firstCreatePass){const y=Xo(l);ad(d,p.data,p.blueprint,y,!0),ad(c,p.data,p.blueprint,y,!1)}}(p,y?y(l):l,c)}}class ld{}class aw{}function lw(l,c){return new p2(l,null!=c?c:null)}class p2 extends ld{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wr(this);const p=vr(c);this._bootstrapComponents=gl(p.bootstrap),this._r3Injector=Up(c,d,[{provide:ld,useValue:this},{provide:gf,useValue:this.componentFactoryResolver}],b(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ei extends aw{constructor(c){super(),this.moduleType=c}create(c){return new p2(this.moduleType,c)}}class Mg extends ld{constructor(c,d,p){super(),this.componentFactoryResolver=new wr(this),this.instance=null;const y=new Rp([...c,{provide:ld,useValue:this},{provide:gf,useValue:this.componentFactoryResolver}],d||xi(),p,new Set(["environment"]));this.injector=y,y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Og(l,c,d=null){return new Mg(l,c,d).injector}let Qv=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const p=g1(0,d.type),y=p.length>0?Og([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,y)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=qe({token:l,providedIn:"environment",factory:()=>new l(so(Mu))}),l})();function rh(l){l.getStandaloneInjector=c=>c.get(Qv).getOrCreateStandaloneInjector(l)}function Rg(l,c,d){const p=Pr()+l,y=N();return y[p]===ir?wa(y,p,d?c.call(d):c()):function Pf(l,c){return l[c]}(y,p)}function Pg(l,c,d,p){return t_(N(),Pr(),l,c,d,p)}function ki(l,c,d,p,y){return gw(N(),Pr(),l,c,d,p,y)}function hw(l,c,d,p,y,D,H){return function vw(l,c,d,p,y,D,H,Q,ce){const we=c+d;return function Is(l,c,d,p,y,D){const H=Hc(l,c,d,p);return Hc(l,c+2,y,D)||H}(l,we,y,D,H,Q)?wa(l,we+4,ce?p.call(ce,y,D,H,Q):p(y,D,H,Q)):rc(l,we+4)}(N(),Pr(),l,c,d,p,y,D,H)}function rc(l,c){const d=l[c];return d===ir?void 0:d}function t_(l,c,d,p,y,D){const H=c+d;return To(l,H,y)?wa(l,H+1,D?p.call(D,y):p(y)):rc(l,H+1)}function gw(l,c,d,p,y,D,H){const Q=c+d;return Hc(l,Q,y,D)?wa(l,Q+2,H?p.call(H,y,D):p(y,D)):rc(l,Q+2)}function n_(l,c){const d=Er();let p;const y=l+22;d.firstCreatePass?(p=function yw(l,c){if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(l===p.name)return p}}(c,d.pipeRegistry),d.data[y]=p,p.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(y,p.onDestroy)):p=d.data[y];const D=p.factory||(p.factory=Vs(p.type)),H=Ut(wf);try{const Q=f(!1),ce=D();return f(Q),function og(l,c,d,p){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=p}(d,N(),y,ce),ce}finally{Ut(H)}}function r_(l,c,d){const p=l+22,y=N(),D=zs(y,p);return ih(y,p)?t_(y,Pr(),c,D.transform,d,D):D.transform(d)}function i_(l,c,d,p){const y=l+22,D=N(),H=zs(D,y);return ih(D,y)?gw(D,Pr(),c,H.transform,d,p,H):H.transform(d,p)}function ih(l,c){return l[1].data[c].pure}function o_(l){return c=>{setTimeout(l,void 0,c)}}const Za=class b2 extends i.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,p){var y,D,H;let Q=c,ce=d||(()=>null),we=p;if(c&&"object"==typeof c){const ot=c;Q=null===(y=ot.next)||void 0===y?void 0:y.bind(ot),ce=null===(D=ot.error)||void 0===D?void 0:D.bind(ot),we=null===(H=ot.complete)||void 0===H?void 0:H.bind(ot)}this.__isAsync&&(ce=o_(ce),Q&&(Q=o_(Q)),we&&(we=o_(we)));const Ze=super.subscribe({next:Q,error:ce,complete:we});return c instanceof F.w&&c.add(Ze),Ze}};function w2(){return this._results[Zu()]()}class Fg{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Zu(),p=Fg.prototype;p[d]||(p[d]=w2)}get changes(){return this._changes||(this._changes=new Za)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const p=this;p.dirty=!1;const y=en(c);(this._changesDetected=!function Tn(l,c,d){if(l.length!==c.length)return!1;for(let p=0;p<l.length;p++){let y=l[p],D=c[p];if(d&&(y=d(y),D=d(D)),D!==y)return!1}return!0}(p._results,y,d))&&(p._results=y,p.length=y.length,p.last=y[this.length-1],p.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ic=(()=>{class l{}return l.__NG_ELEMENT_ID__=ww,l})();const fd=ic,x2=class extends fd{constructor(c,d,p){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=p}createEmbeddedView(c,d){const p=this._declarationTContainer.tViews,y=Xp(this._declarationLView,p,c,16,null,p.declTNode,null,null,null,null,d||null);y[17]=this._declarationLView[this._declarationTContainer.index];const H=this._declarationLView[19];return null!==H&&(y[19]=H.createEmbeddedView(p)),ps(p,y,c),new Cr(y)}};function ww(){return kg(vi(),N())}function kg(l,c){return 4&l.type?new x2(c,l,Ou(l,c)):null}let Lg=(()=>{class l{}return l.__NG_ELEMENT_ID__=Ci,l})();function Ci(){return E2(vi(),N())}const xw=Lg,Si=class extends xw{constructor(c,d,p){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=p}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const c=Se(this._hostTNode,this._hostLView);if(qh(c)){const d=Hn(c,this._hostLView),p=Mc(c);return new jt(d[1].data[p+8],d)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Ew(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,p){let y,D;"number"==typeof p?y=p:null!=p&&(y=p.index,D=p.injector);const H=c.createEmbeddedView(d||{},D);return this.insert(H,y),H}createComponent(c,d,p,y,D){const H=c&&!function cr(l){return"function"==typeof l}(c);let Q;if(H)Q=d;else{const ot=d||{};Q=ot.index,p=ot.injector,y=ot.projectableNodes,D=ot.environmentInjector||ot.ngModuleRef}const ce=H?c:new Gu(pn(c)),we=p||this.parentInjector;if(!D&&null==ce.ngModule){const At=(H?we:this.parentInjector).get(Mu,null);At&&(D=At)}const Ze=ce.create(we,y,void 0,D);return this.insert(Ze.hostView,Q),Ze}insert(c,d){const p=c._lView,y=p[1];if(function Uh(l){return Zi(l[3])}(p)){const Ze=this.indexOf(c);if(-1!==Ze)this.detach(Ze);else{const ot=p[3],At=new Si(ot,ot[6],ot[3]);At.detach(At.indexOf(c))}}const D=this._adjustIndex(d),H=this._lContainer;!function Wy(l,c,d,p){const y=10+p,D=d.length;p>0&&(d[y-1][4]=c),p<D-10?(c[4]=d[y],hs(d,10+p,c)):(d.push(c),c[4]=null),c[3]=d;const H=c[17];null!==H&&d!==H&&function pp(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(H,c);const Q=c[19];null!==Q&&Q.insertView(l),c[2]|=64}(y,p,H,D);const Q=Jm(D,H),ce=p[11],we=yp(ce,H[7]);return null!==we&&function zy(l,c,d,p,y,D){p[0]=y,p[6]=c,cf(l,p,d,1,y,D)}(y,H[6],ce,p,we,Q),c.attachToViewContainerRef(),hs(s_(H),D,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Ew(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),p=$y(this._lContainer,d);p&&(Fr(s_(this._lContainer),d),WE(p[1],p))}detach(c){const d=this._adjustIndex(c,-1),p=$y(this._lContainer,d);return p&&null!=Fr(s_(this._lContainer),d)?new Cr(p):null}_adjustIndex(c,d=0){return null==c?this.length+d:c}};function Ew(l){return l[8]}function s_(l){return l[8]||(l[8]=[])}function E2(l,c){let d;const p=c[l.index];if(Zi(p))d=p;else{let y;if(8&l.type)y=Ii(p);else{const D=c[11];y=D.createComment("");const H=Xn(l,c);Ra(D,yp(D,H),y,function Yy(l,c){return l.nextSibling(c)}(D,H),!1)}c[l.index]=d=K1(p,c,y,l),Q0(c,d)}return new Si(d,l,c)}class a_{constructor(c){this.queryList=c,this.matches=null}clone(){return new a_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cw{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const p=null!==c.contentQueries?c.contentQueries[0]:d.length,y=[];for(let D=0;D<p;D++){const H=d.getByIndex(D);y.push(this.queries[H.indexInDeclarationView].clone())}return new Cw(y)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==ah(c,d).matches&&this.queries[d].setDirty()}}class l_{constructor(c,d,p=null){this.predicate=c,this.flags=d,this.read=p}}class Ng{constructor(c=[]){this.queries=c}elementStart(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let p=0;p<this.length;p++){const y=null!==d?d.length:0,D=this.getByIndex(p).embeddedTView(c,y);D&&(D.indexInDeclarationView=p,null!==d?d.push(D):d=[D])}return null!==d?new Ng(d):null}template(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Bg{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Bg(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let y=0;y<p.length;y++){const D=p[y];this.matchTNodeWithReadOption(c,d,Ug(d,D)),this.matchTNodeWithReadOption(c,d,Be(d,c,D,!1,!1))}else p===ic?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Be(d,c,p,!1,!1))}matchTNodeWithReadOption(c,d,p){if(null!==p){const y=this.metadata.read;if(null!==y)if(y===mf||y===Lg||y===ic&&4&d.type)this.addMatch(d.index,-2);else{const D=Be(d,c,y,!1,!1);null!==D&&this.addMatch(d.index,D)}else this.addMatch(d.index,p)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function Ug(l,c){const d=l.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===c)return d[p+1];return null}function xl(l,c,d,p){return-1===d?function $c(l,c){return 11&l.type?Ou(l,c):4&l.type?kg(l,c):null}(c,l):-2===d?function Sw(l,c,d){return d===mf?Ou(c,l):d===ic?kg(c,l):d===Lg?E2(c,l):void 0}(l,c,p):Je(l,l[1],d,c)}function oh(l,c,d,p){const y=c[19].queries[p];if(null===y.matches){const D=l.data,H=d.matches,Q=[];for(let ce=0;ce<H.length;ce+=2){const we=H[ce];Q.push(we<0?null:xl(c,D[we],H[ce+1],d.metadata.read))}y.matches=Q}return y.matches}function jg(l,c,d,p){const y=l.queries.getByIndex(d),D=y.matches;if(null!==D){const H=oh(l,c,y,d);for(let Q=0;Q<D.length;Q+=2){const ce=D[Q];if(ce>0)p.push(H[Q/2]);else{const we=D[Q+1],Ze=c[-ce];for(let ot=10;ot<Ze.length;ot++){const At=Ze[ot];At[17]===At[3]&&jg(At[1],At,we,p)}if(null!==Ze[9]){const ot=Ze[9];for(let At=0;At<ot.length;At++){const Lt=ot[At];jg(Lt[1],Lt,we,p)}}}}}return p}function Hg(l){const c=N(),d=Er(),p=oe();Ee(p+1);const y=ah(d,p);if(l.dirty&&function Bh(l){return 4==(4&l[2])}(c)===(2==(2&y.metadata.flags))){if(null===y.matches)l.reset([]);else{const D=y.crossesNgTemplate?jg(d,c,p,[]):oh(d,c,y,p);l.reset(D,kT),l.notifyOnChanges()}return!0}return!1}function c_(l,c,d){const p=Er();p.firstCreatePass&&(sh(p,new l_(l,c,d),-1),2==(2&c)&&(p.staticViewQueries=!0)),d_(p,N(),c)}function hd(l,c,d,p){const y=Er();if(y.firstCreatePass){const D=vi();sh(y,new l_(c,d,p),D.index),function Aw(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(y,l),2==(2&d)&&(y.staticContentQueries=!0)}d_(y,N(),d)}function ms(){return function u_(l,c){return l[19].queries[c].queryList}(N(),oe())}function d_(l,c,d){const p=new Fg(4==(4&d));W0(l,c,p,p.destroy),null===c[19]&&(c[19]=new Cw),c[19].queries.push(new a_(p))}function sh(l,c,d){null===l.queries&&(l.queries=new Ng),l.queries.track(new Bg(c,d))}function ah(l,c){return l.queries.getByIndex(c)}function f_(l,c){return kg(l,c)}function lh(...l){}const Lw=new Dn("Application Initializer");let gd=(()=>{class l{constructor(d){this.appInits=d,this.resolve=lh,this.reject=lh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,y)=>{this.resolve=p,this.reject=y})}runInitializers(){if(this.initialized)return;const d=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const D=this.appInits[y]();if(lv(D))d.push(D);else if(ed(D)){const H=new Promise((Q,ce)=>{D.subscribe({complete:Q,error:ce})});d.push(H)}}Promise.all(d).then(()=>{p()}).catch(y=>{this.reject(y)}),0===d.length&&p(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(so(Lw,8))},l.\u0275prov=qe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const ch=new Dn("AppId",{providedIn:"root",factory:function Wg(){return`${x_()}${x_()}${x_()}`}});function x_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nw=new Dn("Platform Initializer"),N2=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B2=new Dn("appBootstrapListener"),Bw=new Dn("AnimationModuleType");let U2=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=qe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const $g=new Dn("LocaleId",{providedIn:"root",factory:()=>ME($g,re.Optional|re.SkipSelf)||function j2(){return"undefined"!=typeof $localize&&$localize.locale||yl}()}),E_=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class V2{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let G2=(()=>{class l{compileModuleSync(d){return new Ei(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),D=gl(vr(d).declarations).reduce((H,Q)=>{const ce=pn(Q);return ce&&H.push(new Gu(ce)),H},[]);return new V2(p,D)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=qe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const jw=(()=>Promise.resolve(0))();function lc(l){"undefined"==typeof Zone?jw.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class vs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),"undefined"==typeof Zone)throw new U(908,!1);Zone.assertZonePatched();const y=this;if(y._nesting=0,y._outer=y._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const D=Zone.AsyncStackTaggingZoneSpec;y._inner=y._inner.fork(new D("Angular"))}Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!p&&d,y.shouldCoalesceRunChangeDetection=p,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function Ca(){let l=un.requestAnimationFrame,c=un.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function rs(l){const c=()=>{!function Cl(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(un,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,dh(l),l.isCheckStableRunning=!0,uh(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),dh(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,y,D,H,Q)=>{try{return C_(l),d.invokeTask(y,D,H,Q)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||l.shouldCoalesceRunChangeDetection)&&c(),Hw(l)}},onInvoke:(d,p,y,D,H,Q,ce)=>{try{return C_(l),d.invoke(y,D,H,Q,ce)}finally{l.shouldCoalesceRunChangeDetection&&c(),Hw(l)}},onHasTask:(d,p,y,D)=>{d.hasTask(y,D),p===y&&("microTask"==D.change?(l._hasPendingMicrotasks=D.microTask,dh(l),uh(l)):"macroTask"==D.change&&(l.hasPendingMacrotasks=D.macroTask))},onHandleError:(d,p,y,D)=>(d.handleError(y,D),l.runOutsideAngular(()=>l.onError.emit(D)),!1)})}(y)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vs.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(vs.isInAngularZone())throw new U(909,!1)}run(c,d,p){return this._inner.run(c,d,p)}runTask(c,d,p,y){const D=this._inner,H=D.scheduleEventTask("NgZoneEvent: "+y,c,dr,lh,lh);try{return D.runTask(H,d,p)}finally{D.cancelTask(H)}}runGuarded(c,d,p){return this._inner.runGuarded(c,d,p)}runOutsideAngular(c){return this._outer.run(c)}}const dr={};function uh(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function dh(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function C_(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Hw(l){l._nesting--,uh(l)}class qg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(c,d,p){return c.apply(d,p)}runGuarded(c,d,p){return c.apply(d,p)}runOutsideAngular(c){return c()}runTask(c,d,p,y){return c.apply(d,p)}}const Vw=new Dn(""),Gw=new Dn("");let md,S_=(()=>{class l{constructor(d,p,y){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,md||(function zw(l){md=l}(y),y.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vs.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,y){let D=-1;p&&p>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(H=>H.timeoutId!==D),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:D,updateCb:y})}whenStable(d,p,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,y){return[]}}return l.\u0275fac=function(d){return new(d||l)(so(vs),so(Zo),so(Gw))},l.\u0275prov=qe({token:l,factory:l.\u0275fac}),l})(),Zo=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){var y;return null!==(y=null==md?void 0:md.findTestabilityInTree(this,d,p))&&void 0!==y?y:null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=qe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Sl=null;const q2=new Dn("AllowMultipleToken"),A_=new Dn("PlatformDestroyListeners");class Q2{constructor(c,d){this.name=c,this.token=d}}function J2(l,c,d=[]){const p=`Platform: ${c}`,y=new Dn(p);return(D=[])=>{let H=D_();if(!H||H.injector.get(q2,!1)){const Q=[...d,...D,{provide:y,useValue:!0}];l?l(Q):function Wo(l){if(Sl&&!Sl.get(q2,!1))throw new U(400,!1);Sl=l;const c=l.get(Ww);(function X2(l){const c=l.get(Nw,null);c&&c.forEach(d=>d())})(l)}(function Zw(l=[],c){return ns.create({name:c,providers:[{provide:Op,useValue:"platform"},{provide:A_,useValue:new Set([()=>Sl=null])},...l]})}(Q,p))}return function eA(l){const c=D_();if(!c)throw new U(401,!1);return c}()}}function D_(){var l;return null!==(l=null==Sl?void 0:Sl.get(Ww))&&void 0!==l?l:null}let Ww=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const y=function $w(l,c){let d;return d="noop"===l?new qg:("zone.js"===l?void 0:l)||new vs(c),d}(null==p?void 0:p.ngZone,function Jn(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(p)),D=[{provide:vs,useValue:y}];return y.run(()=>{const H=ns.create({providers:D,parent:this.injector,name:d.moduleType.name}),Q=d.create(H),ce=Q.injector.get(vf,null);if(!ce)throw new U(402,!1);return y.runOutsideAngular(()=>{const we=y.onError.subscribe({next:Ze=>{ce.handleError(Ze)}});Q.onDestroy(()=>{ph(this._modules,Q),we.unsubscribe()})}),function Rs(l,c,d){try{const p=d();return lv(p)?p.catch(y=>{throw c.runOutsideAngular(()=>l.handleError(y)),y}):p}catch(p){throw c.runOutsideAngular(()=>l.handleError(p)),p}}(ce,y,()=>{const we=Q.injector.get(gd);return we.runInitializers(),we.donePromise.then(()=>(function Fv(l){Te(l,"Expected localeId to be defined"),"string"==typeof l&&(Pv=l.toLowerCase().replace(/_/g,"-"))}(Q.injector.get($g,yl)||yl),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(d,p=[]){const y=T_({},p);return function Y2(l,c,d){const p=new Ei(d);return Promise.resolve(p)}(0,0,d).then(D=>this.bootstrapModuleFactory(D,y))}_moduleDoBootstrap(d){const p=d.injector.get(hh);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(y=>p.bootstrap(y));else{if(!d.instance.ngDoBootstrap)throw new U(403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(A_,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(so(ns))},l.\u0275prov=qe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function T_(l,c){return Array.isArray(c)?c.reduce(T_,l):Object.assign(Object.assign({},l),c)}let hh=(()=>{class l{constructor(d,p,y){this._zone=d,this._injector=p,this._exceptionHandler=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new B.y(Q=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Q.next(this._stable),Q.complete()})}),H=new B.y(Q=>{let ce;this._zone.runOutsideAngular(()=>{ce=this._zone.onStable.subscribe(()=>{vs.assertNotInAngularZone(),lc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Q.next(!0))})})});const we=this._zone.onUnstable.subscribe(()=>{vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Q.next(!1)}))});return()=>{ce.unsubscribe(),we.unsubscribe()}});this.isStable=(0,T.T)(D,H.pipe((0,E.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const y=d instanceof w1;if(!this._injector.get(gd).done)throw!y&&rr(d),new U(405,false);let H;H=y?d:this._injector.get(gf).resolveComponentFactory(d),this.componentTypes.push(H.componentType);const Q=function K2(l){return l.isBoundToModule}(H)?void 0:this._injector.get(ld),we=H.create(ns.NULL,[],p||H.selector,Q),Ze=we.location.nativeElement,ot=we.injector.get(Vw,null);return null==ot||ot.registerApplication(Ze),we.onDestroy(()=>{this.detachView(we.hostView),ph(this.components,we),null==ot||ot.unregisterApplication(Ze)}),this._loadComponent(we),we}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;ph(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(B2,[]).concat(this._bootstrapListeners).forEach(y=>y(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>ph(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new U(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(so(vs),so(Mu),so(vf))},l.\u0275prov=qe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function ph(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}let _s=!0,qc=!1;function tA(){return qc=!0,_s}function $a(){if(qc)throw new Error("Cannot enable prod mode after platform setup.");_s=!1}let qa=(()=>{class l{}return l.__NG_ELEMENT_ID__=Kw,l})();function Kw(l){return function Qw(l,c,d){if(cs(l)&&!d){const p=Nr(l.index,c);return new Cr(p,p)}return 47&l.type?new Cr(c[16],c):null}(vi(),N(),16==(16&l))}class tx{constructor(){}supports(c){return Xs(c)}create(c){return new sA(c)}}const oA=(l,c)=>c;class sA{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||oA}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,p=this._removalsHead,y=0,D=null;for(;d||p;){const H=!p||d&&d.currentIndex<rx(p,y,D)?d:p,Q=rx(H,y,D),ce=H.currentIndex;if(H===p)y--,p=p._nextRemoved;else if(d=d._next,null==H.previousIndex)y++;else{D||(D=[]);const we=Q-y,Ze=ce-y;if(we!=Ze){for(let At=0;At<we;At++){const Lt=At<D.length?D[At]:D[At]=0,Xt=Lt+At;Ze<=Xt&&Xt<we&&(D[At]=Lt+1)}D[H.previousIndex]=Ze-we}}Q!==ce&&c(H,Q,ce)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Xs(c))throw new U(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let y,D,H,d=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let Q=0;Q<this.length;Q++)D=c[Q],H=this._trackByFn(Q,D),null!==d&&Object.is(d.trackById,H)?(p&&(d=this._verifyReinsertion(d,D,H,Q)),Object.is(d.item,D)||this._addIdentityChange(d,D)):(d=this._mismatch(d,D,H,Q),p=!0),d=d._next}else y=0,function pS(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[Zu()]();let p;for(;!(p=d.next()).done;)c(p.value)}}(c,Q=>{H=this._trackByFn(y,Q),null!==d&&Object.is(d.trackById,H)?(p&&(d=this._verifyReinsertion(d,Q,H,y)),Object.is(d.item,Q)||this._addIdentityChange(d,Q)):(d=this._mismatch(d,Q,H,y),p=!0),d=d._next,y++}),this.length=y;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,p,y){let D;return null===c?D=this._itTail:(D=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,D,y)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,y))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,D,y)):c=this._addAfter(new aA(d,p),D,y),c}_verifyReinsertion(c,d,p,y){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==D?c=this._reinsertAfter(D,c._prev,y):c.currentIndex!=y&&(c.currentIndex=y,this._addToMoves(c,y)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const y=c._prevRemoved,D=c._nextRemoved;return null===y?this._removalsHead=D:y._nextRemoved=D,null===D?this._removalsTail=y:D._prevRemoved=y,this._insertAfter(c,d,p),this._addToMoves(c,p),c}_moveAfter(c,d,p){return this._unlink(c),this._insertAfter(c,d,p),this._addToMoves(c,p),c}_addAfter(c,d,p){return this._insertAfter(c,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,p){const y=null===d?this._itHead:d._next;return c._next=y,c._prev=d,null===y?this._itTail=c:y._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new nx),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,p=c._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nx),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class aA{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qg{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const d=c._prevDup,p=c._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class nx{constructor(){this.map=new Map}put(c){const d=c.trackById;let p=this.map.get(d);p||(p=new Qg,this.map.set(d,p)),p.add(c)}get(c,d){const y=this.map.get(c);return y?y.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rx(l,c,d){const p=l.previousIndex;if(null===p)return p;let y=0;return d&&p<d.length&&(y=d[p]),p+c+y}class ix{constructor(){}supports(c){return c instanceof Map||nv(c)}create(){return new lA}}class lA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||nv(c)))throw new U(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,y)=>{if(d&&d.key===y)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const D=this._getOrCreateRecordForKey(y,p);d=this._insertBeforeOrAppend(d,D)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const p=c._prev;return d._next=c,d._prev=p,c._prev=d,p&&(p._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const y=this._records.get(c);this._maybeAddToChanges(y,d);const D=y._prev,H=y._next;return D&&(D._next=H),H&&(H._prev=D),y._next=null,y._prev=null,y}const p=new PM(c);return this._records.set(c,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(p=>d(c[p],p))}}class PM{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ox(){return new L_([new tx])}let L_=(()=>{class l{constructor(d){this.factories=d}static create(d,p){if(null!=p){const y=p.factories.slice();d=d.concat(y)}return new l(d)}static extend(d){return{provide:l,useFactory:p=>l.create(d,p||ox()),deps:[[l,new Pc,new wu]]}}find(d){const p=this.factories.find(y=>y.supports(d));if(null!=p)return p;throw new U(901,!1)}}return l.\u0275prov=qe({token:l,providedIn:"root",factory:ox}),l})();function Dl(){return new Xg([new ix])}let Xg=(()=>{class l{constructor(d){this.factories=d}static create(d,p){if(p){const y=p.factories.slice();d=d.concat(y)}return new l(d)}static extend(d){return{provide:l,useFactory:p=>l.create(d,p||Dl()),deps:[[l,new Pc,new wu]]}}find(d){const p=this.factories.find(y=>y.supports(d));if(p)return p;throw new U(901,!1)}}return l.\u0275prov=qe({token:l,providedIn:"root",factory:Dl}),l})();const sx=J2(null,"core",[]);let NM=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(so(hh))},l.\u0275mod=ct({type:l}),l.\u0275inj=We({}),l})();function Jg(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},2596:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3198),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4572),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5417),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7205),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(8774),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(8869),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7382),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2646),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4835),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1763),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9745),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8201),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6597),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7065),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6837),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(7250),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9954),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(724),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3392),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7366),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(6366),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6741);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(O,g){if(this.action=O,this.timestamp=g,this.type=PERFORM_ACTION,void 0===O.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(O){this.timestamp=O,this.type=RESET}}class Rollback{constructor(O){this.timestamp=O,this.type=ROLLBACK}}class Commit{constructor(O){this.timestamp=O,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(O){this.id=O,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(O,g,i=!0){this.start=O,this.end=g,this.active=i,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(O){this.index=O,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(O){this.actionId=O,this.type=JUMP_TO_ACTION}}class ImportState{constructor(O){this.nextLiftedState=O,this.type=IMPORT_STATE}}class LockChanges{constructor(O){this.status=O,this.type=LOCK_CHANGES}}class PauseRecording{constructor(O){this.status=O,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(te){const O={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},g="function"==typeof te?te():te,B=Object.assign({},O,{features:g.features||!!g.logOnly&&{pause:!0,export:!0,test:!0}||O.features},g);if(B.maxAge&&B.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${B.maxAge}`);return B}function difference(te,O){return te.filter(g=>O.indexOf(g)<0)}function unliftState(te){const{computedStates:O,currentStateIndex:g}=te;if(g>=O.length){const{state:F}=O[O.length-1];return F}const{state:i}=O[g];return i}function unliftAction(te){return te.actionsById[te.nextActionId-1]}function liftAction(te){return new PerformAction(te,+Date.now())}function sanitizeActions(te,O){return Object.keys(O).reduce((g,i)=>{const F=Number(i);return g[F]=sanitizeAction(te,O[F],F),g},{})}function sanitizeAction(te,O,g){return Object.assign(Object.assign({},O),{action:te(O.action,g)})}function sanitizeStates(te,O){return O.map((g,i)=>({state:sanitizeState(te,g.state,i),error:g.error}))}function sanitizeState(te,O,g){return te(O,g)}function shouldFilterActions(te){return te.predicate||te.actionsSafelist||te.actionsBlocklist}function filterLiftedState(te,O,g,i){const F=[],B={},T=[];return te.stagedActionIds.forEach((E,w)=>{const m=te.actionsById[E];!m||w&&isActionFiltered(te.computedStates[w],m,O,g,i)||(B[E]=m,F.push(E),T.push(te.computedStates[w]))}),Object.assign(Object.assign({},te),{stagedActionIds:F,actionsById:B,computedStates:T})}function isActionFiltered(te,O,g,i,F){const B=g&&!g(te,O.action),T=i&&!O.action.type.match(i.map(w=>escapeRegExp(w)).join("|")),E=F&&O.action.type.match(F.map(w=>escapeRegExp(w)).join("|"));return B||T||E}function escapeRegExp(te){return te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class te extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return te.\u0275fac=function(){let O;return function(i){return(O||(O=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(te)))(i||te)}}(),te.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:te,factory:te.\u0275fac}),te})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(te,O,g){this.config=O,this.dispatcher=g,this.devtoolsExtension=te,this.createActionStreams()}notify(te,O){if(this.devtoolsExtension)if(te.type===PERFORM_ACTION){if(O.isLocked||O.isPaused)return;const g=unliftState(O);if(shouldFilterActions(this.config)&&isActionFiltered(g,te,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,g,O.currentStateIndex):g,F=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,te,O.nextActionId):te;this.sendToReduxDevtools(()=>this.extensionConnection.send(F,i))}else{const g=Object.assign(Object.assign({},O),{stagedActionIds:O.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,O.actionsById):O.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,O.computedStates):O.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,g,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(te=>{const O=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=O,O.init(),O.subscribe(g=>te.next(g)),O.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const te=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),O=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(E=>E.type===ExtensionActionTypes.START)),g=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(E=>E.type===ExtensionActionTypes.STOP)),i=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(E=>E.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(E=>this.unwrapAction(E.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(E=>E.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(w=>w.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>E),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(E)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(E))),B=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(E=>E.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(E=>this.unwrapAction(E.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(g)),T=i.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(g));this.start$=O.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(g)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>B)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>T))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(te){var O;const g={name:te.name,features:te.features,serialize:te.serialize,autoPause:null!==(O=te.autoPause)&&void 0!==O&&O};return!1!==te.maxAge&&(g.maxAge=te.maxAge),g}sendToReduxDevtools(te){try{te()}catch(O){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",O)}}}return DevtoolsExtension.\u0275fac=function te(O){return new(O||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(te,O,g,i,F){if(i)return{state:g,error:"Interrupted by an error up the chain"};let T,B=g;try{B=te(g,O)}catch(E){T=E.toString(),F.handleError(E)}return{state:B,error:T}}function recomputeStates(te,O,g,i,F,B,T,E,w){if(O>=te.length&&te.length===B.length)return te;const m=te.slice(0,O),b=B.length-(w?1:0);for(let S=O;S<b;S++){const k=B[S],R=F[k].action,P=m[S-1],I=P?P.state:i,C=P?P.error:void 0,$=T.indexOf(k)>-1?P:computeNextEntry(g,R,I,C,E);m.push($)}return w&&m.push(te[te.length-1]),m}function liftInitialState(te,O){return{monitorState:O(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:te,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(te,O,g,i,F={}){return B=>(T,E)=>{let{monitorState:w,actionsById:m,nextActionId:b,stagedActionIds:S,skippedActionIds:k,committedState:R,currentStateIndex:P,computedStates:I,isLocked:C,isPaused:U}=T||O;function $(ae){let pe=ae,ue=S.slice(1,pe+1);for(let fe=0;fe<ue.length;fe++){if(I[fe+1].error){pe=fe,ue=S.slice(1,pe+1);break}delete m[ue[fe]]}k=k.filter(fe=>-1===ue.indexOf(fe)),S=[0,...S.slice(pe+1)],R=I[pe].state,I=I.slice(pe),P=P>pe?P-pe:0}function K(){m={0:liftAction(INIT_ACTION)},b=1,S=[0],k=[],R=I[P].state,P=0,I=[]}T||(m=Object.create(m));let z=0;switch(E.type){case LOCK_CHANGES:C=E.status,z=1/0;break;case PAUSE_RECORDING:U=E.status,U?(S=[...S,b],m[b]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),b++,z=S.length-1,I=I.concat(I[I.length-1]),P===S.length-2&&P++,z=1/0):K();break;case RESET:m={0:liftAction(INIT_ACTION)},b=1,S=[0],k=[],R=te,P=0,I=[];break;case COMMIT:K();break;case ROLLBACK:m={0:liftAction(INIT_ACTION)},b=1,S=[0],k=[],P=0,I=[];break;case TOGGLE_ACTION:{const{id:ae}=E;k=-1===k.indexOf(ae)?[ae,...k]:k.filter(ue=>ue!==ae),z=S.indexOf(ae);break}case SET_ACTIONS_ACTIVE:{const{start:ae,end:pe,active:ue}=E,fe=[];for(let Y=ae;Y<pe;Y++)fe.push(Y);k=ue?difference(k,fe):[...k,...fe],z=S.indexOf(ae);break}case JUMP_TO_STATE:P=E.index,z=1/0;break;case JUMP_TO_ACTION:{const ae=S.indexOf(E.actionId);-1!==ae&&(P=ae),z=1/0;break}case SWEEP:S=difference(S,k),k=[],P=Math.min(P,S.length-1);break;case PERFORM_ACTION:{if(C)return T||O;if(U||T&&isActionFiltered(T.computedStates[P],E,F.predicate,F.actionsSafelist,F.actionsBlocklist)){const pe=I[I.length-1];I=[...I.slice(0,-1),computeNextEntry(B,E.action,pe.state,pe.error,g)],z=1/0;break}F.maxAge&&S.length===F.maxAge&&$(1),P===S.length-1&&P++;const ae=b++;m[ae]=E,S=[...S,ae],z=S.length-1;break}case IMPORT_STATE:({monitorState:w,actionsById:m,nextActionId:b,stagedActionIds:S,skippedActionIds:k,committedState:R,currentStateIndex:P,computedStates:I,isLocked:C,isPaused:U}=E.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:z=0,F.maxAge&&S.length>F.maxAge&&(I=recomputeStates(I,z,B,R,m,S,k,g,U),$(S.length-F.maxAge),z=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(I.filter(pe=>pe.error).length>0)z=0,F.maxAge&&S.length>F.maxAge&&(I=recomputeStates(I,z,B,R,m,S,k,g,U),$(S.length-F.maxAge),z=1/0);else{if(!U&&!C){P===S.length-1&&P++;const pe=b++;m[pe]=new PerformAction(E,+Date.now()),S=[...S,pe],z=S.length-1,I=recomputeStates(I,z,B,R,m,S,k,g,U)}I=I.map(pe=>Object.assign(Object.assign({},pe),{state:B(pe.state,RECOMPUTE_ACTION)})),P=S.length-1,F.maxAge&&S.length>F.maxAge&&$(S.length-F.maxAge),z=1/0}break;default:z=1/0}return I=recomputeStates(I,z,B,R,m,S,k,g,U),w=i(w,E),{monitorState:w,actionsById:m,nextActionId:b,stagedActionIds:S,skippedActionIds:k,committedState:R,currentStateIndex:P,computedStates:I,isLocked:C,isPaused:U}}}let StoreDevtools=(()=>{class te{constructor(g,i,F,B,T,E,w,m){const b=liftInitialState(w,m.monitor),S=liftReducerWith(w,b,E,m.monitor,m),k=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(i.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),B.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),g,B.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),R=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(S)),P=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),I=k.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(R),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:K},[z,ae])=>{let pe=ae(K,z);return z.type!==PERFORM_ACTION&&shouldFilterActions(m)&&(pe=filterLiftedState(pe,m.predicate,m.actionsSafelist,m.actionsBlocklist)),B.notify(z,pe),{state:pe,action:z}},{state:b,action:null})).subscribe(({state:K,action:z})=>{P.next(K),z.type===PERFORM_ACTION&&T.next(z.action)}),C=B.start$.subscribe(()=>{this.refresh()}),U=P.asObservable(),$=U.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=C,this.stateSubscription=I,this.dispatcher=g,this.liftedState=U,this.state=$}dispatch(g){this.dispatcher.next(g)}next(g){this.dispatcher.next(g)}error(g){}complete(){}performAction(g){this.dispatch(new PerformAction(g,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(g){this.dispatch(new ToggleAction(g))}jumpToAction(g){this.dispatch(new JumpToAction(g))}jumpToState(g){this.dispatch(new JumpToState(g))}importState(g){this.dispatch(new ImportState(g))}lockChanges(g){this.dispatch(new LockChanges(g))}pauseRecording(g){this.dispatch(new PauseRecording(g))}}return te.\u0275fac=function(g){return new(g||te)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},te.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:te,factory:te.\u0275fac}),te})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(te,O){return Boolean(te)||O.monitor!==noMonitor}function createReduxDevtoolsExtension(){const te="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[te]?window[te]:null}function provideStoreDevtools(te={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:te},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(te){return te.state}let StoreDevtoolsModule=(()=>{class te{static instrument(g={}){return{ngModule:te,providers:[...provideStoreDevtools(g).\u0275providers]}}}return te.\u0275fac=function(g){return new(g||te)},te.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:te}),te.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),te})()},4572:(te,O,g)=>{"use strict";g.d(O,{Aw:()=>cs,CK:()=>Fo,FR:()=>It,P1:()=>$n,PH:()=>C,UO:()=>De,Y$:()=>xn,Y6:()=>et,ZF:()=>qr,cr:()=>Zi,mK:()=>xe,n$:()=>re,qC:()=>Ge,qg:()=>Y,wb:()=>xt,yh:()=>un});var i=g(3198),F=g(9088),B=g(7205),T=g(4248),E=g(7382),w=g(7366),m=g(6366),b=g(6741),S=g(3607),k=g(9745),R=g(3971);const P={};function C(_t,Zt){if(P[_t]=(P[_t]||0)+1,"function"==typeof Zt)return K(_t,(...$t)=>Object.assign(Object.assign({},Zt(...$t)),{type:_t}));switch(Zt?Zt._as:"empty"){case"empty":return K(_t,()=>({type:_t}));case"props":return K(_t,$t=>Object.assign(Object.assign({},$t),{type:_t}));default:throw new Error("Unexpected config.")}}function K(_t,Zt){return Object.defineProperty(Zt,"type",{value:_t,writable:!1})}const Y="@ngrx/store/init";let De=(()=>{class _t extends F.X{constructor(){super({type:Y})}next(Rt){if("function"==typeof Rt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Rt)throw new TypeError("Actions must be objects");if(void 0===Rt.type)throw new TypeError("Actions must have a type property");super.next(Rt)}complete(){}ngOnDestroy(){super.complete()}}return _t.\u0275fac=function(Rt){return new(Rt||_t)},_t.\u0275prov=i.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const me=[De],Me=new i.OlP("@ngrx/store Internal Root Guard"),nt=new i.OlP("@ngrx/store Internal Initial State"),et=new i.OlP("@ngrx/store Initial State"),de=new i.OlP("@ngrx/store Reducer Factory"),ne=new i.OlP("@ngrx/store Internal Reducer Factory Provider"),ve=new i.OlP("@ngrx/store Initial Reducers"),Ue=new i.OlP("@ngrx/store Internal Initial Reducers"),ke=new i.OlP("@ngrx/store Store Features"),Ie=new i.OlP("@ngrx/store Internal Store Reducers"),Ne=new i.OlP("@ngrx/store Internal Feature Reducers"),Te=new i.OlP("@ngrx/store Internal Feature Configs"),ze=new i.OlP("@ngrx/store Internal Store Features"),ht=new i.OlP("@ngrx/store Internal Feature Reducers Token"),Ke=new i.OlP("@ngrx/store Feature Reducers"),tt=new i.OlP("@ngrx/store User Provided Meta Reducers"),qe=new i.OlP("@ngrx/store Meta Reducers"),Qe=new i.OlP("@ngrx/store Internal Resolved Meta Reducers"),We=new i.OlP("@ngrx/store User Runtime Checks Config"),ft=new i.OlP("@ngrx/store Internal User Runtime Checks Config"),$e=new i.OlP("@ngrx/store Internal Runtime Checks"),Re=new i.OlP("@ngrx/store Check if Action types are unique");function vt(_t,Zt={}){const Rt=Object.keys(_t),$t={};for(let ln=0;ln<Rt.length;ln++){const yr=Rt[ln];"function"==typeof _t[yr]&&($t[yr]=_t[yr])}const wn=Object.keys($t);return function(yr,di){yr=void 0===yr?Zt:yr;let Dr=!1;const yo={};for(let br=0;br<wn.length;br++){const xo=wn[br],bc=yr[xo],Eo=(0,$t[xo])(bc,di);yo[xo]=Eo,Dr=Dr||Eo!==bc}return Dr?yo:yr}}function Ge(..._t){return function(Zt){if(0===_t.length)return Zt;const Rt=_t[_t.length-1];return _t.slice(0,-1).reduceRight((wn,ln)=>ln(wn),Rt(Zt))}}function be(_t,Zt){return Array.isArray(Zt)&&Zt.length>0&&(_t=Ge.apply(null,[...Zt,_t])),(Rt,$t)=>{const wn=_t(Rt);return(ln,yr)=>wn(ln=void 0===ln?$t:ln,yr)}}new i.OlP("@ngrx/store Root Store Provider"),new i.OlP("@ngrx/store Feature State Provider");class re extends B.y{}class xe extends De{}const xt="@ngrx/store/update-reducers";let Ut=(()=>{class _t extends F.X{constructor(Rt,$t,wn,ln){super(ln(wn,$t)),this.dispatcher=Rt,this.initialState=$t,this.reducers=wn,this.reducerFactory=ln}get currentReducers(){return this.reducers}addFeature(Rt){this.addFeatures([Rt])}addFeatures(Rt){const $t=Rt.reduce((wn,{reducers:ln,reducerFactory:yr,metaReducers:di,initialState:Dr,key:yo})=>{const br="function"==typeof ln?function le(_t){const Zt=Array.isArray(_t)&&_t.length>0?Ge(..._t):Rt=>Rt;return(Rt,$t)=>(Rt=Zt(Rt),(wn,ln)=>Rt(wn=void 0===wn?$t:wn,ln))}(di)(ln,Dr):be(yr,di)(ln,Dr);return wn[yo]=br,wn},{});this.addReducers($t)}removeFeature(Rt){this.removeFeatures([Rt])}removeFeatures(Rt){this.removeReducers(Rt.map($t=>$t.key))}addReducer(Rt,$t){this.addReducers({[Rt]:$t})}addReducers(Rt){this.reducers=Object.assign(Object.assign({},this.reducers),Rt),this.updateReducers(Object.keys(Rt))}removeReducer(Rt){this.removeReducers([Rt])}removeReducers(Rt){Rt.forEach($t=>{this.reducers=function Fe(_t,Zt){return Object.keys(_t).filter(Rt=>Rt!==Zt).reduce((Rt,$t)=>Object.assign(Rt,{[$t]:_t[$t]}),{})}(this.reducers,$t)}),this.updateReducers(Rt)}updateReducers(Rt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:xt,features:Rt})}ngOnDestroy(){this.complete()}}return _t.\u0275fac=function(Rt){return new(Rt||_t)(i.LFG(xe),i.LFG(et),i.LFG(ve),i.LFG(de))},_t.\u0275prov=i.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Yt=[Ut,{provide:re,useExisting:Ut},{provide:xe,useExisting:De}];let xn=(()=>{class _t extends T.xQ{ngOnDestroy(){this.complete()}}return _t.\u0275fac=function(){let Zt;return function($t){return(Zt||(Zt=i.n5z(_t)))($t||_t)}}(),_t.\u0275prov=i.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Ct=[xn];class It extends B.y{}let qt=(()=>{class _t extends F.X{constructor(Rt,$t,wn,ln){super(ln);const yo=Rt.pipe((0,w.QV)(E.N)).pipe((0,m.M)($t)).pipe((0,b.R)(Gt,{state:ln}));this.stateSubscription=yo.subscribe(({state:br,action:xo})=>{this.next(br),wn.next(xo)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return _t.INIT=Y,_t.\u0275fac=function(Rt){return new(Rt||_t)(i.LFG(De),i.LFG(re),i.LFG(xn),i.LFG(et))},_t.\u0275prov=i.Yz7({token:_t,factory:_t.\u0275fac}),_t})();function Gt(_t={state:void 0},[Zt,Rt]){const{state:$t}=_t;return{state:Rt($t,Zt),action:Zt}}const Wt=[qt,{provide:It,useExisting:qt}];let un=(()=>{class _t extends B.y{constructor(Rt,$t,wn){super(),this.actionsObserver=$t,this.reducerManager=wn,this.source=Rt}select(Rt,...$t){return Fn.call(null,Rt,...$t)(this)}lift(Rt){const $t=new _t(this,this.actionsObserver,this.reducerManager);return $t.operator=Rt,$t}dispatch(Rt){this.actionsObserver.next(Rt)}next(Rt){this.actionsObserver.next(Rt)}error(Rt){this.actionsObserver.error(Rt)}complete(){this.actionsObserver.complete()}addReducer(Rt,$t){this.reducerManager.addReducer(Rt,$t)}removeReducer(Rt){this.reducerManager.removeReducer(Rt)}}return _t.\u0275fac=function(Rt){return new(Rt||_t)(i.LFG(It),i.LFG(De),i.LFG(Ut))},_t.\u0275prov=i.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Cn=[un];function Fn(_t,Zt,...Rt){return function(wn){let ln;if("string"==typeof _t){const yr=[Zt,...Rt].filter(Boolean);ln=wn.pipe((0,S.j)(_t,...yr))}else{if("function"!=typeof _t)throw new TypeError(`Unexpected type '${typeof _t}' in select operator, expected 'string' or 'function'`);ln=wn.pipe((0,k.U)(yr=>_t(yr,Zt)))}return ln.pipe((0,R.x)())}}const Ye="https://ngrx.io/guide/store/configuration/runtime-checks";function Nt(_t){return void 0===_t}function on(_t){return null===_t}function cn(_t){return Array.isArray(_t)}function nn(_t){return"object"==typeof _t&&null!==_t}function yt(_t){return"function"==typeof _t}function Jt(_t,Zt){return _t===Zt}function hn(_t,Zt,Rt){for(let $t=0;$t<_t.length;$t++)if(!Rt(_t[$t],Zt[$t]))return!0;return!1}function Wn(_t,Zt=Jt,Rt=Jt){let ln,$t=null,wn=null;return{memoized:function yo(){if(void 0!==ln)return ln.result;if(!$t)return wn=_t.apply(null,arguments),$t=arguments,wn;if(!hn(arguments,$t,Zt))return wn;const br=_t.apply(null,arguments);return $t=arguments,Rt(wn,br)?wn:(wn=br,br)},reset:function yr(){$t=null,wn=null},setResult:function di(br){ln={result:br}},clearResult:function Dr(){ln=void 0}}}function $n(..._t){return function vr(_t,Zt={stateFn:rr}){return function(...Rt){let $t=Rt;if(Array.isArray($t[0])){const[br,...xo]=$t;$t=[...br,...xo]}const wn=$t.slice(0,$t.length-1),ln=$t[$t.length-1],yr=wn.filter(br=>br.release&&"function"==typeof br.release),di=_t(function(...br){return ln.apply(null,br)}),Dr=Wn(function(br,xo){return Zt.stateFn.apply(null,[br,wn,xo,di])});return Object.assign(Dr.memoized,{release:function yo(){Dr.reset(),di.reset(),yr.forEach(br=>br.release())},projector:di.memoized,setResult:Dr.setResult,clearResult:Dr.clearResult})}}(Wn)(..._t)}function rr(_t,Zt,Rt,$t){if(void 0===Rt){const ln=Zt.map(yr=>yr(_t));return $t.memoized.apply(null,ln)}const wn=Zt.map(ln=>ln(_t,Rt));return $t.memoized.apply(null,[...wn,Rt])}function qr(_t){return $n(Zt=>{const Rt=Zt[_t];return(0,i.X6Q)()&&!(_t in Zt)&&console.warn(`@ngrx/store: The feature name "${_t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${_t}', ...) or StoreModule.forFeature('${_t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Rt},Zt=>Zt)}function xr(_t,Zt){return Zt instanceof i.OlP?_t.get(Zt):Zt}function _r(_t,Zt,Rt){return Rt.map(($t,wn)=>{if(Zt[wn]instanceof i.OlP){const ln=_t.get(Zt[wn]);return{key:$t.key,reducerFactory:ln.reducerFactory?ln.reducerFactory:vt,metaReducers:ln.metaReducers?ln.metaReducers:[],initialState:ln.initialState}}return $t})}function oi(_t,Zt){return Zt.map($t=>$t instanceof i.OlP?_t.get($t):$t)}function Ir(_t){return"function"==typeof _t?_t():_t}function bn(_t,Zt){return _t.concat(Zt)}function Qn(_t){if(_t)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function zi(_t){Object.freeze(_t);const Zt=yt(_t);return Object.getOwnPropertyNames(_t).forEach(Rt=>{if(!Rt.startsWith("\u0275")&&function Pe(_t,Zt){return Object.prototype.hasOwnProperty.call(_t,Zt)}(_t,Rt)&&(!Zt||"caller"!==Rt&&"callee"!==Rt&&"arguments"!==Rt)){const $t=_t[Rt];(nn($t)||yt($t))&&!Object.isFrozen($t)&&zi($t)}}),_t}function ui(_t,Zt=[]){return(Nt(_t)||on(_t))&&0===Zt.length?{path:["root"],value:_t}:Object.keys(_t).reduce(($t,wn)=>{if($t)return $t;const ln=_t[wn];return function wt(_t){return yt(_t)&&_t.hasOwnProperty("\u0275cmp")}(ln)?$t:!(Nt(ln)||on(ln)||function He(_t){return"number"==typeof _t}(ln)||function Bt(_t){return"boolean"==typeof _t}(ln)||function Tt(_t){return"string"==typeof _t}(ln)||cn(ln))&&(function ee(_t){if(!function kn(_t){return nn(_t)&&!cn(_t)}(_t))return!1;const Zt=Object.getPrototypeOf(_t);return Zt===Object.prototype||null===Zt}(ln)?ui(ln,[...Zt,wn]):{path:[...Zt,wn],value:ln})},!1)}function as(_t,Zt){if(!1===_t)return;const Rt=_t.path.join("."),$t=new Error(`Detected unserializable ${Zt} at "${Rt}". ${Ye}#strict${Zt}serializability`);throw $t.value=_t.value,$t.unserializablePath=Rt,$t}function ls(_t){return(0,i.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},_t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function bs({strictActionSerializability:_t,strictStateSerializability:Zt}){return Rt=>_t||Zt?function vo(_t,Zt){return function(Rt,$t){Zt.action($t)&&as(ui($t),"action");const wn=_t(Rt,$t);return Zt.state()&&as(ui(wn),"state"),wn}}(Rt,{action:$t=>_t&&!Bs($t),state:()=>Zt}):Rt}function Gn({strictActionImmutability:_t,strictStateImmutability:Zt}){return Rt=>_t||Zt?function Zr(_t,Zt){return function(Rt,$t){const wn=Zt.action($t)?zi($t):$t,ln=_t(Rt,wn);return Zt.state()?zi(ln):ln}}(Rt,{action:$t=>_t&&!Bs($t),state:()=>Zt}):Rt}function Bs(_t){return _t.type.startsWith("@ngrx")}function Us({strictActionWithinNgZone:_t}){return Zt=>_t?function Lr(_t,Zt){return function(Rt,$t){if(Zt.action($t)&&!i.R0b.isInAngularZone())throw new Error(`Action '${$t.type}' running outside NgZone. ${Ye}#strictactionwithinngzone`);return _t(Rt,$t)}}(Zt,{action:Rt=>_t&&!Bs(Rt)}):Zt}function rl(_t){return[{provide:ft,useValue:_t},{provide:We,useFactory:Bi,deps:[ft]},{provide:$e,deps:[We],useFactory:ls},{provide:qe,multi:!0,deps:[$e],useFactory:Gn},{provide:qe,multi:!0,deps:[$e],useFactory:bs},{provide:qe,multi:!0,deps:[$e],useFactory:Us}]}function Jr(){return[{provide:Re,multi:!0,deps:[$e],useFactory:js}]}function Bi(_t){return _t}function js(_t){if(!_t.strictActionTypeUniqueness)return;const Zt=Object.entries(P).filter(([,Rt])=>Rt>1).map(([Rt])=>Rt);if(Zt.length)throw new Error(`Action types are registered more than once, ${Zt.map(Rt=>`"${Rt}"`).join(", ")}. ${Ye}#strictactiontypeuniqueness`)}function _o(_t,Zt){return[{provide:Me,useFactory:Qn,deps:[[un,new i.FiY,new i.tp0]]},{provide:nt,useValue:Zt.initialState},{provide:et,useFactory:Ir,deps:[nt]},{provide:Ue,useValue:_t},{provide:Ie,useExisting:_t instanceof i.OlP?_t:Ue},{provide:ve,deps:[i.zs3,Ue,[new i.tBr(Ie)]],useFactory:xr},{provide:tt,useValue:Zt.metaReducers?Zt.metaReducers:[]},{provide:Qe,deps:[qe,tt],useFactory:bn},{provide:ne,useValue:Zt.reducerFactory?Zt.reducerFactory:vt},{provide:de,deps:[ne,Qe],useFactory:be},me,Yt,Ct,Wt,Cn,rl(Zt.runtimeChecks),Jr()]}function Ar(_t,Zt,Rt={}){return[{provide:Te,multi:!0,useValue:_t instanceof Object?{}:Rt},{provide:ke,multi:!0,useValue:{key:_t instanceof Object?_t.name:_t,reducerFactory:Rt instanceof i.OlP||!Rt.reducerFactory?vt:Rt.reducerFactory,metaReducers:Rt instanceof i.OlP||!Rt.metaReducers?[]:Rt.metaReducers,initialState:Rt instanceof i.OlP||!Rt.initialState?void 0:Rt.initialState}},{provide:ze,deps:[i.zs3,Te,ke],useFactory:_r},{provide:Ne,multi:!0,useValue:_t instanceof Object?_t.reducer:Zt},{provide:ht,multi:!0,useExisting:Zt instanceof i.OlP?Zt:Ne},{provide:Ke,multi:!0,deps:[i.zs3,Ne,[new i.tBr(ht)]],useFactory:oi},Jr()]}let Zi=(()=>{class _t{constructor(Rt,$t,wn,ln,yr,di){}}return _t.\u0275fac=function(Rt){return new(Rt||_t)(i.LFG(De),i.LFG(re),i.LFG(xn),i.LFG(un),i.LFG(Me,8),i.LFG(Re,8))},_t.\u0275mod=i.oAB({type:_t}),_t.\u0275inj=i.cJS({}),_t})(),Fo=(()=>{class _t{constructor(Rt,$t,wn,ln,yr){this.features=Rt,this.featureReducers=$t,this.reducerManager=wn;const di=Rt.map((Dr,yo)=>{const xo=$t.shift()[yo];return Object.assign(Object.assign({},Dr),{reducers:xo,initialState:Ir(Dr.initialState)})});wn.addFeatures(di)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return _t.\u0275fac=function(Rt){return new(Rt||_t)(i.LFG(ze),i.LFG(Ke),i.LFG(Ut),i.LFG(Zi),i.LFG(Re,8))},_t.\u0275mod=i.oAB({type:_t}),_t.\u0275inj=i.cJS({}),_t})(),cs=(()=>{class _t{static forRoot(Rt,$t={}){return{ngModule:Zi,providers:[..._o(Rt,$t)]}}static forFeature(Rt,$t,wn={}){return{ngModule:Fo,providers:[...Ar(Rt,$t,wn)]}}}return _t.\u0275fac=function(Rt){return new(Rt||_t)},_t.\u0275mod=i.oAB({type:_t}),_t.\u0275inj=i.cJS({}),_t})()},5278:te=>{"use strict";te.exports={version:"3.8.2"}}},te=>{te(te.s=2431)}]);